(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ap={exports:{}},Wo={},Pp={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function Z$(){if(E1)return Ue;E1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=p&&M[p]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function x(M,H,oe){this.props=M,this.context=H,this.refs=w,this.updater=oe||v}x.prototype.isReactComponent={},x.prototype.setState=function(M,H){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,H,"setState")},x.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function _(){}_.prototype=x.prototype;function N(M,H,oe){this.props=M,this.context=H,this.refs=w,this.updater=oe||v}var E=N.prototype=new _;E.constructor=N,j(E,x.prototype),E.isPureReactComponent=!0;var A=Array.isArray,O=Object.prototype.hasOwnProperty,k={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function D(M,H,oe){var K,J={},ne=null,pe=null;if(H!=null)for(K in H.ref!==void 0&&(pe=H.ref),H.key!==void 0&&(ne=""+H.key),H)O.call(H,K)&&!P.hasOwnProperty(K)&&(J[K]=H[K]);var xe=arguments.length-2;if(xe===1)J.children=oe;else if(1<xe){for(var le=Array(xe),me=0;me<xe;me++)le[me]=arguments[me+2];J.children=le}if(M&&M.defaultProps)for(K in xe=M.defaultProps,xe)J[K]===void 0&&(J[K]=xe[K]);return{$$typeof:t,type:M,key:ne,ref:pe,props:J,_owner:k.current}}function $(M,H){return{$$typeof:t,type:M.type,key:H,ref:M.ref,props:M.props,_owner:M._owner}}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function C(M){var H={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return H[oe]})}var B=/\/+/g;function U(M,H){return typeof M=="object"&&M!==null&&M.key!=null?C(""+M.key):H.toString(36)}function G(M,H,oe,K,J){var ne=typeof M;(ne==="undefined"||ne==="boolean")&&(M=null);var pe=!1;if(M===null)pe=!0;else switch(ne){case"string":case"number":pe=!0;break;case"object":switch(M.$$typeof){case t:case e:pe=!0}}if(pe)return pe=M,J=J(pe),M=K===""?"."+U(pe,0):K,A(J)?(oe="",M!=null&&(oe=M.replace(B,"$&/")+"/"),G(J,H,oe,"",function(me){return me})):J!=null&&(I(J)&&(J=$(J,oe+(!J.key||pe&&pe.key===J.key?"":(""+J.key).replace(B,"$&/")+"/")+M)),H.push(J)),1;if(pe=0,K=K===""?".":K+":",A(M))for(var xe=0;xe<M.length;xe++){ne=M[xe];var le=K+U(ne,xe);pe+=G(ne,H,oe,le,J)}else if(le=g(M),typeof le=="function")for(M=le.call(M),xe=0;!(ne=M.next()).done;)ne=ne.value,le=K+U(ne,xe++),pe+=G(ne,H,oe,le,J);else if(ne==="object")throw H=String(M),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return pe}function Y(M,H,oe){if(M==null)return M;var K=[],J=0;return G(M,K,"","",function(ne){return H.call(oe,ne,J++)}),K}function Q(M){if(M._status===-1){var H=M._result;H=H(),H.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=H)}if(M._status===1)return M._result.default;throw M._result}var re={current:null},V={transition:null},ee={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:V,ReactCurrentOwner:k};function F(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:Y,forEach:function(M,H,oe){Y(M,function(){H.apply(this,arguments)},oe)},count:function(M){var H=0;return Y(M,function(){H++}),H},toArray:function(M){return Y(M,function(H){return H})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ue.Component=x,Ue.Fragment=r,Ue.Profiler=a,Ue.PureComponent=N,Ue.StrictMode=n,Ue.Suspense=d,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ue.act=F,Ue.cloneElement=function(M,H,oe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var K=j({},M.props),J=M.key,ne=M.ref,pe=M._owner;if(H!=null){if(H.ref!==void 0&&(ne=H.ref,pe=k.current),H.key!==void 0&&(J=""+H.key),M.type&&M.type.defaultProps)var xe=M.type.defaultProps;for(le in H)O.call(H,le)&&!P.hasOwnProperty(le)&&(K[le]=H[le]===void 0&&xe!==void 0?xe[le]:H[le])}var le=arguments.length-2;if(le===1)K.children=oe;else if(1<le){xe=Array(le);for(var me=0;me<le;me++)xe[me]=arguments[me+2];K.children=xe}return{$$typeof:t,type:M.type,key:J,ref:ne,props:K,_owner:pe}},Ue.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:s,_context:M},M.Consumer=M},Ue.createElement=D,Ue.createFactory=function(M){var H=D.bind(null,M);return H.type=M,H},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(M){return{$$typeof:u,render:M}},Ue.isValidElement=I,Ue.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:Q}},Ue.memo=function(M,H){return{$$typeof:h,type:M,compare:H===void 0?null:H}},Ue.startTransition=function(M){var H=V.transition;V.transition={};try{M()}finally{V.transition=H}},Ue.unstable_act=F,Ue.useCallback=function(M,H){return re.current.useCallback(M,H)},Ue.useContext=function(M){return re.current.useContext(M)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(M){return re.current.useDeferredValue(M)},Ue.useEffect=function(M,H){return re.current.useEffect(M,H)},Ue.useId=function(){return re.current.useId()},Ue.useImperativeHandle=function(M,H,oe){return re.current.useImperativeHandle(M,H,oe)},Ue.useInsertionEffect=function(M,H){return re.current.useInsertionEffect(M,H)},Ue.useLayoutEffect=function(M,H){return re.current.useLayoutEffect(M,H)},Ue.useMemo=function(M,H){return re.current.useMemo(M,H)},Ue.useReducer=function(M,H,oe){return re.current.useReducer(M,H,oe)},Ue.useRef=function(M){return re.current.useRef(M)},Ue.useState=function(M){return re.current.useState(M)},Ue.useSyncExternalStore=function(M,H,oe){return re.current.useSyncExternalStore(M,H,oe)},Ue.useTransition=function(){return re.current.useTransition()},Ue.version="18.3.1",Ue}var O1;function Ax(){return O1||(O1=1,Pp.exports=Z$()),Pp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function eD(){if(k1)return Wo;k1=1;var t=Ax(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var m,p={},g=null,v=null;h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(v=d.ref);for(m in d)n.call(d,m)&&!s.hasOwnProperty(m)&&(p[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)p[m]===void 0&&(p[m]=d[m]);return{$$typeof:e,type:u,key:g,ref:v,props:p,_owner:a.current}}return Wo.Fragment=r,Wo.jsx=l,Wo.jsxs=l,Wo}var A1;function tD(){return A1||(A1=1,Ap.exports=eD()),Ap.exports}var o=tD(),Eu={},Tp={exports:{}},pr={},Cp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function rD(){return P1||(P1=1,(function(t){function e(V,ee){var F=V.length;V.push(ee);e:for(;0<F;){var M=F-1>>>1,H=V[M];if(0<a(H,ee))V[M]=ee,V[F]=H,F=M;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var ee=V[0],F=V.pop();if(F!==ee){V[0]=F;e:for(var M=0,H=V.length,oe=H>>>1;M<oe;){var K=2*(M+1)-1,J=V[K],ne=K+1,pe=V[ne];if(0>a(J,F))ne<H&&0>a(pe,J)?(V[M]=pe,V[ne]=F,M=ne):(V[M]=J,V[K]=F,M=K);else if(ne<H&&0>a(pe,F))V[M]=pe,V[ne]=F,M=ne;else break e}}return ee}function a(V,ee){var F=V.sortIndex-ee.sortIndex;return F!==0?F:V.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,p=null,g=3,v=!1,j=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(V){for(var ee=r(h);ee!==null;){if(ee.callback===null)n(h);else if(ee.startTime<=V)n(h),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=r(h)}}function A(V){if(w=!1,E(V),!j)if(r(d)!==null)j=!0,Q(O);else{var ee=r(h);ee!==null&&re(A,ee.startTime-V)}}function O(V,ee){j=!1,w&&(w=!1,_(D),D=-1),v=!0;var F=g;try{for(E(ee),p=r(d);p!==null&&(!(p.expirationTime>ee)||V&&!C());){var M=p.callback;if(typeof M=="function"){p.callback=null,g=p.priorityLevel;var H=M(p.expirationTime<=ee);ee=t.unstable_now(),typeof H=="function"?p.callback=H:p===r(d)&&n(d),E(ee)}else n(d);p=r(d)}if(p!==null)var oe=!0;else{var K=r(h);K!==null&&re(A,K.startTime-ee),oe=!1}return oe}finally{p=null,g=F,v=!1}}var k=!1,P=null,D=-1,$=5,I=-1;function C(){return!(t.unstable_now()-I<$)}function B(){if(P!==null){var V=t.unstable_now();I=V;var ee=!0;try{ee=P(!0,V)}finally{ee?U():(k=!1,P=null)}}else k=!1}var U;if(typeof N=="function")U=function(){N(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Y=G.port2;G.port1.onmessage=B,U=function(){Y.postMessage(null)}}else U=function(){x(B,0)};function Q(V){P=V,k||(k=!0,U())}function re(V,ee){D=x(function(){V(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){j||v||(j=!0,Q(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var F=g;g=ee;try{return V()}finally{g=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var F=g;g=V;try{return ee()}finally{g=F}},t.unstable_scheduleCallback=function(V,ee,F){var M=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?M+F:M):F=M,V){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=F+H,V={id:m++,callback:ee,priorityLevel:V,startTime:F,expirationTime:H,sortIndex:-1},F>M?(V.sortIndex=F,e(h,V),r(d)===null&&V===r(h)&&(w?(_(D),D=-1):w=!0,re(A,F-M))):(V.sortIndex=H,e(d,V),j||v||(j=!0,Q(O))),V},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(V){var ee=g;return function(){var F=g;g=ee;try{return V.apply(this,arguments)}finally{g=F}}}})(Ip)),Ip}var T1;function nD(){return T1||(T1=1,Cp.exports=rD()),Cp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function aD(){if(C1)return pr;C1=1;var t=Ax(),e=nD();function r(i){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function s(i,c){l(i,c),l(i+"Capture",c)}function l(i,c){for(a[i]=c,i=0;i<c.length;i++)n.add(c[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function g(i){return d.call(p,i)?!0:d.call(m,i)?!1:h.test(i)?p[i]=!0:(m[i]=!0,!1)}function v(i,c,f,y){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function j(i,c,f,y){if(c===null||typeof c>"u"||v(i,c,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(i,c,f,y,b,S,T){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=i,this.type=c,this.sanitizeURL=S,this.removeEmptyString=T}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){x[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var c=i[0];x[c]=new w(c,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){x[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){x[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){x[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){x[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){x[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){x[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){x[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function N(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var c=i.replace(_,N);x[c]=new w(c,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var c=i.replace(_,N);x[c]=new w(c,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var c=i.replace(_,N);x[c]=new w(c,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){x[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),x.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){x[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function E(i,c,f,y){var b=x.hasOwnProperty(c)?x[c]:null;(b!==null?b.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(j(c,f,b,y)&&(f=null),y||b===null?g(c)&&(f===null?i.removeAttribute(c):i.setAttribute(c,""+f)):b.mustUseProperty?i[b.propertyName]=f===null?b.type===3?!1:"":f:(c=b.attributeName,y=b.attributeNamespace,f===null?i.removeAttribute(c):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,y?i.setAttributeNS(y,c,f):i.setAttribute(c,f))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),k=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),V=Symbol.iterator;function ee(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var F=Object.assign,M;function H(i){if(M===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);M=c&&c[1]||""}return`
`+M+i}var oe=!1;function K(i,c){if(!i||oe)return"";oe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(te){var y=te}Reflect.construct(i,[],c)}else{try{c.call()}catch(te){y=te}i.call(c.prototype)}else{try{throw Error()}catch(te){y=te}i()}}catch(te){if(te&&y&&typeof te.stack=="string"){for(var b=te.stack.split(`
`),S=y.stack.split(`
`),T=b.length-1,L=S.length-1;1<=T&&0<=L&&b[T]!==S[L];)L--;for(;1<=T&&0<=L;T--,L--)if(b[T]!==S[L]){if(T!==1||L!==1)do if(T--,L--,0>L||b[T]!==S[L]){var z=`
`+b[T].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=T&&0<=L);break}}}finally{oe=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?H(i):""}function J(i){switch(i.tag){case 5:return H(i.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return i=K(i.type,!1),i;case 11:return i=K(i.type.render,!1),i;case 1:return i=K(i.type,!0),i;default:return""}}function ne(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case k:return"Portal";case $:return"Profiler";case D:return"StrictMode";case U:return"Suspense";case G:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case C:return(i.displayName||"Context")+".Consumer";case I:return(i._context.displayName||"Context")+".Provider";case B:var c=i.render;return i=i.displayName,i||(i=c.displayName||c.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return c=i.displayName||null,c!==null?c:ne(i.type)||"Memo";case Q:c=i._payload,i=i._init;try{return ne(i(c))}catch{}}return null}function pe(i){var c=i.type;switch(i.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=c.render,i=i.displayName||i.name||"",c.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(c);case 8:return c===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function xe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function le(i){var c=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function me(i){var c=le(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,c),y=""+i[c];if(!i.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,S=f.set;return Object.defineProperty(i,c,{configurable:!0,get:function(){return b.call(this)},set:function(T){y=""+T,S.call(this,T)}}),Object.defineProperty(i,c,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(T){y=""+T},stopTracking:function(){i._valueTracker=null,delete i[c]}}}}function _e(i){i._valueTracker||(i._valueTracker=me(i))}function se(i){if(!i)return!1;var c=i._valueTracker;if(!c)return!0;var f=c.getValue(),y="";return i&&(y=le(i)?i.checked?"true":"false":i.value),i=y,i!==f?(c.setValue(i),!0):!1}function We(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Fe(i,c){var f=c.checked;return F({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function dt(i,c){var f=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;f=xe(c.value!=null?c.value:f),i._wrapperState={initialChecked:y,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function tt(i,c){c=c.checked,c!=null&&E(i,"checked",c,!1)}function mt(i,c){tt(i,c);var f=xe(c.value),y=c.type;if(f!=null)y==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(y==="submit"||y==="reset"){i.removeAttribute("value");return}c.hasOwnProperty("value")?Rr(i,c.type,f):c.hasOwnProperty("defaultValue")&&Rr(i,c.type,xe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(i.defaultChecked=!!c.defaultChecked)}function vr(i,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+i._wrapperState.initialValue,f||c===i.value||(i.value=c),i.defaultValue=c}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function Rr(i,c,f){(c!=="number"||We(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var ie=Array.isArray;function ve(i,c,f,y){if(i=i.options,c){c={};for(var b=0;b<f.length;b++)c["$"+f[b]]=!0;for(f=0;f<i.length;f++)b=c.hasOwnProperty("$"+i[f].value),i[f].selected!==b&&(i[f].selected=b),b&&y&&(i[f].defaultSelected=!0)}else{for(f=""+xe(f),c=null,b=0;b<i.length;b++){if(i[b].value===f){i[b].selected=!0,y&&(i[b].defaultSelected=!0);return}c!==null||i[b].disabled||(c=i[b])}c!==null&&(c.selected=!0)}}function qe(i,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return F({},c,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ye(i,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(r(92));if(ie(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),f=c}i._wrapperState={initialValue:xe(f)}}function ze(i,c){var f=xe(c.value),y=xe(c.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),c.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),y!=null&&(i.defaultValue=""+y)}function Le(i){var c=i.textContent;c===i._wrapperState.initialValue&&c!==""&&c!==null&&(i.value=c)}function ft(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(i,c){return i==null||i==="http://www.w3.org/1999/xhtml"?ft(c):i==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var xt,gn=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,y,b){MSApp.execUnsafeLocalFunction(function(){return i(c,f,y,b)})}:i})(function(i,c){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=c;else{for(xt=xt||document.createElement("div"),xt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=xt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;c.firstChild;)i.appendChild(c.firstChild)}});function so(i,c){if(c){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=c;return}}i.textContent=c}var oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nI=["Webkit","ms","Moz","O"];Object.keys(oo).forEach(function(i){nI.forEach(function(c){c=c+i.charAt(0).toUpperCase()+i.substring(1),oo[c]=oo[i]})});function Ub(i,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||oo.hasOwnProperty(i)&&oo[i]?(""+c).trim():c+"px"}function qb(i,c){i=i.style;for(var f in c)if(c.hasOwnProperty(f)){var y=f.indexOf("--")===0,b=Ub(f,c[f],y);f==="float"&&(f="cssFloat"),y?i.setProperty(f,b):i[f]=b}}var aI=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uf(i,c){if(c){if(aI[i]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function qf(i,c){if(i.indexOf("-")===-1)return typeof c.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zf=null;function Hf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Wf=null,ki=null,Ai=null;function zb(i){if(i=Po(i)){if(typeof Wf!="function")throw Error(r(280));var c=i.stateNode;c&&(c=Bc(c),Wf(i.stateNode,i.type,c))}}function Hb(i){ki?Ai?Ai.push(i):Ai=[i]:ki=i}function Wb(){if(ki){var i=ki,c=Ai;if(Ai=ki=null,zb(i),c)for(i=0;i<c.length;i++)zb(c[i])}}function Kb(i,c){return i(c)}function Vb(){}var Kf=!1;function Gb(i,c,f){if(Kf)return i(c,f);Kf=!0;try{return Kb(i,c,f)}finally{Kf=!1,(ki!==null||Ai!==null)&&(Vb(),Wb())}}function lo(i,c){var f=i.stateNode;if(f===null)return null;var y=Bc(f);if(y===null)return null;f=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(i=i.type,y=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!y;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var Vf=!1;if(u)try{var co={};Object.defineProperty(co,"passive",{get:function(){Vf=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{Vf=!1}function iI(i,c,f,y,b,S,T,L,z){var te=Array.prototype.slice.call(arguments,3);try{c.apply(f,te)}catch(ue){this.onError(ue)}}var uo=!1,vc=null,xc=!1,Gf=null,sI={onError:function(i){uo=!0,vc=i}};function oI(i,c,f,y,b,S,T,L,z){uo=!1,vc=null,iI.apply(sI,arguments)}function lI(i,c,f,y,b,S,T,L,z){if(oI.apply(this,arguments),uo){if(uo){var te=vc;uo=!1,vc=null}else throw Error(r(198));xc||(xc=!0,Gf=te)}}function Da(i){var c=i,f=i;if(i.alternate)for(;c.return;)c=c.return;else{i=c;do c=i,(c.flags&4098)!==0&&(f=c.return),i=c.return;while(i)}return c.tag===3?f:null}function Yb(i){if(i.tag===13){var c=i.memoizedState;if(c===null&&(i=i.alternate,i!==null&&(c=i.memoizedState)),c!==null)return c.dehydrated}return null}function Xb(i){if(Da(i)!==i)throw Error(r(188))}function cI(i){var c=i.alternate;if(!c){if(c=Da(i),c===null)throw Error(r(188));return c!==i?null:i}for(var f=i,y=c;;){var b=f.return;if(b===null)break;var S=b.alternate;if(S===null){if(y=b.return,y!==null){f=y;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===f)return Xb(b),i;if(S===y)return Xb(b),c;S=S.sibling}throw Error(r(188))}if(f.return!==y.return)f=b,y=S;else{for(var T=!1,L=b.child;L;){if(L===f){T=!0,f=b,y=S;break}if(L===y){T=!0,y=b,f=S;break}L=L.sibling}if(!T){for(L=S.child;L;){if(L===f){T=!0,f=S,y=b;break}if(L===y){T=!0,y=S,f=b;break}L=L.sibling}if(!T)throw Error(r(189))}}if(f.alternate!==y)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:c}function Jb(i){return i=cI(i),i!==null?Qb(i):null}function Qb(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var c=Qb(i);if(c!==null)return c;i=i.sibling}return null}var Zb=e.unstable_scheduleCallback,ew=e.unstable_cancelCallback,uI=e.unstable_shouldYield,dI=e.unstable_requestPaint,_t=e.unstable_now,fI=e.unstable_getCurrentPriorityLevel,Yf=e.unstable_ImmediatePriority,tw=e.unstable_UserBlockingPriority,bc=e.unstable_NormalPriority,hI=e.unstable_LowPriority,rw=e.unstable_IdlePriority,wc=null,vn=null;function pI(i){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(wc,i,void 0,(i.current.flags&128)===128)}catch{}}var Zr=Math.clz32?Math.clz32:gI,mI=Math.log,yI=Math.LN2;function gI(i){return i>>>=0,i===0?32:31-(mI(i)/yI|0)|0}var jc=64,_c=4194304;function fo(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Sc(i,c){var f=i.pendingLanes;if(f===0)return 0;var y=0,b=i.suspendedLanes,S=i.pingedLanes,T=f&268435455;if(T!==0){var L=T&~b;L!==0?y=fo(L):(S&=T,S!==0&&(y=fo(S)))}else T=f&~b,T!==0?y=fo(T):S!==0&&(y=fo(S));if(y===0)return 0;if(c!==0&&c!==y&&(c&b)===0&&(b=y&-y,S=c&-c,b>=S||b===16&&(S&4194240)!==0))return c;if((y&4)!==0&&(y|=f&16),c=i.entangledLanes,c!==0)for(i=i.entanglements,c&=y;0<c;)f=31-Zr(c),b=1<<f,y|=i[f],c&=~b;return y}function vI(i,c){switch(i){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xI(i,c){for(var f=i.suspendedLanes,y=i.pingedLanes,b=i.expirationTimes,S=i.pendingLanes;0<S;){var T=31-Zr(S),L=1<<T,z=b[T];z===-1?((L&f)===0||(L&y)!==0)&&(b[T]=vI(L,c)):z<=c&&(i.expiredLanes|=L),S&=~L}}function Xf(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function nw(){var i=jc;return jc<<=1,(jc&4194240)===0&&(jc=64),i}function Jf(i){for(var c=[],f=0;31>f;f++)c.push(i);return c}function ho(i,c,f){i.pendingLanes|=c,c!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,c=31-Zr(c),i[c]=f}function bI(i,c){var f=i.pendingLanes&~c;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=c,i.mutableReadLanes&=c,i.entangledLanes&=c,c=i.entanglements;var y=i.eventTimes;for(i=i.expirationTimes;0<f;){var b=31-Zr(f),S=1<<b;c[b]=0,y[b]=-1,i[b]=-1,f&=~S}}function Qf(i,c){var f=i.entangledLanes|=c;for(i=i.entanglements;f;){var y=31-Zr(f),b=1<<y;b&c|i[y]&c&&(i[y]|=c),f&=~b}}var Qe=0;function aw(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var iw,Zf,sw,ow,lw,eh=!1,Nc=[],na=null,aa=null,ia=null,po=new Map,mo=new Map,sa=[],wI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cw(i,c){switch(i){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":po.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(c.pointerId)}}function yo(i,c,f,y,b,S){return i===null||i.nativeEvent!==S?(i={blockedOn:c,domEventName:f,eventSystemFlags:y,nativeEvent:S,targetContainers:[b]},c!==null&&(c=Po(c),c!==null&&Zf(c)),i):(i.eventSystemFlags|=y,c=i.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),i)}function jI(i,c,f,y,b){switch(c){case"focusin":return na=yo(na,i,c,f,y,b),!0;case"dragenter":return aa=yo(aa,i,c,f,y,b),!0;case"mouseover":return ia=yo(ia,i,c,f,y,b),!0;case"pointerover":var S=b.pointerId;return po.set(S,yo(po.get(S)||null,i,c,f,y,b)),!0;case"gotpointercapture":return S=b.pointerId,mo.set(S,yo(mo.get(S)||null,i,c,f,y,b)),!0}return!1}function uw(i){var c=Ra(i.target);if(c!==null){var f=Da(c);if(f!==null){if(c=f.tag,c===13){if(c=Yb(f),c!==null){i.blockedOn=c,lw(i.priority,function(){sw(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ec(i){if(i.blockedOn!==null)return!1;for(var c=i.targetContainers;0<c.length;){var f=rh(i.domEventName,i.eventSystemFlags,c[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var y=new f.constructor(f.type,f);zf=y,f.target.dispatchEvent(y),zf=null}else return c=Po(f),c!==null&&Zf(c),i.blockedOn=f,!1;c.shift()}return!0}function dw(i,c,f){Ec(i)&&f.delete(c)}function _I(){eh=!1,na!==null&&Ec(na)&&(na=null),aa!==null&&Ec(aa)&&(aa=null),ia!==null&&Ec(ia)&&(ia=null),po.forEach(dw),mo.forEach(dw)}function go(i,c){i.blockedOn===c&&(i.blockedOn=null,eh||(eh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_I)))}function vo(i){function c(b){return go(b,i)}if(0<Nc.length){go(Nc[0],i);for(var f=1;f<Nc.length;f++){var y=Nc[f];y.blockedOn===i&&(y.blockedOn=null)}}for(na!==null&&go(na,i),aa!==null&&go(aa,i),ia!==null&&go(ia,i),po.forEach(c),mo.forEach(c),f=0;f<sa.length;f++)y=sa[f],y.blockedOn===i&&(y.blockedOn=null);for(;0<sa.length&&(f=sa[0],f.blockedOn===null);)uw(f),f.blockedOn===null&&sa.shift()}var Pi=A.ReactCurrentBatchConfig,Oc=!0;function SI(i,c,f,y){var b=Qe,S=Pi.transition;Pi.transition=null;try{Qe=1,th(i,c,f,y)}finally{Qe=b,Pi.transition=S}}function NI(i,c,f,y){var b=Qe,S=Pi.transition;Pi.transition=null;try{Qe=4,th(i,c,f,y)}finally{Qe=b,Pi.transition=S}}function th(i,c,f,y){if(Oc){var b=rh(i,c,f,y);if(b===null)xh(i,c,y,kc,f),cw(i,y);else if(jI(b,i,c,f,y))y.stopPropagation();else if(cw(i,y),c&4&&-1<wI.indexOf(i)){for(;b!==null;){var S=Po(b);if(S!==null&&iw(S),S=rh(i,c,f,y),S===null&&xh(i,c,y,kc,f),S===b)break;b=S}b!==null&&y.stopPropagation()}else xh(i,c,y,null,f)}}var kc=null;function rh(i,c,f,y){if(kc=null,i=Hf(y),i=Ra(i),i!==null)if(c=Da(i),c===null)i=null;else if(f=c.tag,f===13){if(i=Yb(c),i!==null)return i;i=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;i=null}else c!==i&&(i=null);return kc=i,null}function fw(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fI()){case Yf:return 1;case tw:return 4;case bc:case hI:return 16;case rw:return 536870912;default:return 16}default:return 16}}var oa=null,nh=null,Ac=null;function hw(){if(Ac)return Ac;var i,c=nh,f=c.length,y,b="value"in oa?oa.value:oa.textContent,S=b.length;for(i=0;i<f&&c[i]===b[i];i++);var T=f-i;for(y=1;y<=T&&c[f-y]===b[S-y];y++);return Ac=b.slice(i,1<y?1-y:void 0)}function Pc(i){var c=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&c===13&&(i=13)):i=c,i===10&&(i=13),32<=i||i===13?i:0}function Tc(){return!0}function pw(){return!1}function xr(i){function c(f,y,b,S,T){this._reactName=f,this._targetInst=b,this.type=y,this.nativeEvent=S,this.target=T,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(f=i[L],this[L]=f?f(S):S[L]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Tc:pw,this.isPropagationStopped=pw,this}return F(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Tc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Tc)},persist:function(){},isPersistent:Tc}),c}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ah=xr(Ti),xo=F({},Ti,{view:0,detail:0}),EI=xr(xo),ih,sh,bo,Cc=F({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==bo&&(bo&&i.type==="mousemove"?(ih=i.screenX-bo.screenX,sh=i.screenY-bo.screenY):sh=ih=0,bo=i),ih)},movementY:function(i){return"movementY"in i?i.movementY:sh}}),mw=xr(Cc),OI=F({},Cc,{dataTransfer:0}),kI=xr(OI),AI=F({},xo,{relatedTarget:0}),oh=xr(AI),PI=F({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),TI=xr(PI),CI=F({},Ti,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),II=xr(CI),$I=F({},Ti,{data:0}),yw=xr($I),DI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LI(i){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(i):(i=MI[i])?!!c[i]:!1}function lh(){return LI}var FI=F({},xo,{key:function(i){if(i.key){var c=DI[i.key]||i.key;if(c!=="Unidentified")return c}return i.type==="keypress"?(i=Pc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?RI[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lh,charCode:function(i){return i.type==="keypress"?Pc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Pc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),BI=xr(FI),UI=F({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gw=xr(UI),qI=F({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lh}),zI=xr(qI),HI=F({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),WI=xr(HI),KI=F({},Cc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),VI=xr(KI),GI=[9,13,27,32],ch=u&&"CompositionEvent"in window,wo=null;u&&"documentMode"in document&&(wo=document.documentMode);var YI=u&&"TextEvent"in window&&!wo,vw=u&&(!ch||wo&&8<wo&&11>=wo),xw=" ",bw=!1;function ww(i,c){switch(i){case"keyup":return GI.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ci=!1;function XI(i,c){switch(i){case"compositionend":return jw(c);case"keypress":return c.which!==32?null:(bw=!0,xw);case"textInput":return i=c.data,i===xw&&bw?null:i;default:return null}}function JI(i,c){if(Ci)return i==="compositionend"||!ch&&ww(i,c)?(i=hw(),Ac=nh=oa=null,Ci=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return vw&&c.locale!=="ko"?null:c.data;default:return null}}var QI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _w(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c==="input"?!!QI[i.type]:c==="textarea"}function Sw(i,c,f,y){Hb(y),c=Mc(c,"onChange"),0<c.length&&(f=new ah("onChange","change",null,f,y),i.push({event:f,listeners:c}))}var jo=null,_o=null;function ZI(i){qw(i,0)}function Ic(i){var c=Mi(i);if(se(c))return i}function e$(i,c){if(i==="change")return c}var Nw=!1;if(u){var uh;if(u){var dh="oninput"in document;if(!dh){var Ew=document.createElement("div");Ew.setAttribute("oninput","return;"),dh=typeof Ew.oninput=="function"}uh=dh}else uh=!1;Nw=uh&&(!document.documentMode||9<document.documentMode)}function Ow(){jo&&(jo.detachEvent("onpropertychange",kw),_o=jo=null)}function kw(i){if(i.propertyName==="value"&&Ic(_o)){var c=[];Sw(c,_o,i,Hf(i)),Gb(ZI,c)}}function t$(i,c,f){i==="focusin"?(Ow(),jo=c,_o=f,jo.attachEvent("onpropertychange",kw)):i==="focusout"&&Ow()}function r$(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ic(_o)}function n$(i,c){if(i==="click")return Ic(c)}function a$(i,c){if(i==="input"||i==="change")return Ic(c)}function i$(i,c){return i===c&&(i!==0||1/i===1/c)||i!==i&&c!==c}var en=typeof Object.is=="function"?Object.is:i$;function So(i,c){if(en(i,c))return!0;if(typeof i!="object"||i===null||typeof c!="object"||c===null)return!1;var f=Object.keys(i),y=Object.keys(c);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var b=f[y];if(!d.call(c,b)||!en(i[b],c[b]))return!1}return!0}function Aw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pw(i,c){var f=Aw(i);i=0;for(var y;f;){if(f.nodeType===3){if(y=i+f.textContent.length,i<=c&&y>=c)return{node:f,offset:c-i};i=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Aw(f)}}function Tw(i,c){return i&&c?i===c?!0:i&&i.nodeType===3?!1:c&&c.nodeType===3?Tw(i,c.parentNode):"contains"in i?i.contains(c):i.compareDocumentPosition?!!(i.compareDocumentPosition(c)&16):!1:!1}function Cw(){for(var i=window,c=We();c instanceof i.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)i=c.contentWindow;else break;c=We(i.document)}return c}function fh(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c&&(c==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||c==="textarea"||i.contentEditable==="true")}function s$(i){var c=Cw(),f=i.focusedElem,y=i.selectionRange;if(c!==f&&f&&f.ownerDocument&&Tw(f.ownerDocument.documentElement,f)){if(y!==null&&fh(f)){if(c=y.start,i=y.end,i===void 0&&(i=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(i,f.value.length);else if(i=(c=f.ownerDocument||document)&&c.defaultView||window,i.getSelection){i=i.getSelection();var b=f.textContent.length,S=Math.min(y.start,b);y=y.end===void 0?S:Math.min(y.end,b),!i.extend&&S>y&&(b=y,y=S,S=b),b=Pw(f,S);var T=Pw(f,y);b&&T&&(i.rangeCount!==1||i.anchorNode!==b.node||i.anchorOffset!==b.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(c=c.createRange(),c.setStart(b.node,b.offset),i.removeAllRanges(),S>y?(i.addRange(c),i.extend(T.node,T.offset)):(c.setEnd(T.node,T.offset),i.addRange(c)))}}for(c=[],i=f;i=i.parentNode;)i.nodeType===1&&c.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)i=c[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var o$=u&&"documentMode"in document&&11>=document.documentMode,Ii=null,hh=null,No=null,ph=!1;function Iw(i,c,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ph||Ii==null||Ii!==We(y)||(y=Ii,"selectionStart"in y&&fh(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),No&&So(No,y)||(No=y,y=Mc(hh,"onSelect"),0<y.length&&(c=new ah("onSelect","select",null,c,f),i.push({event:c,listeners:y}),c.target=Ii)))}function $c(i,c){var f={};return f[i.toLowerCase()]=c.toLowerCase(),f["Webkit"+i]="webkit"+c,f["Moz"+i]="moz"+c,f}var $i={animationend:$c("Animation","AnimationEnd"),animationiteration:$c("Animation","AnimationIteration"),animationstart:$c("Animation","AnimationStart"),transitionend:$c("Transition","TransitionEnd")},mh={},$w={};u&&($w=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Dc(i){if(mh[i])return mh[i];if(!$i[i])return i;var c=$i[i],f;for(f in c)if(c.hasOwnProperty(f)&&f in $w)return mh[i]=c[f];return i}var Dw=Dc("animationend"),Rw=Dc("animationiteration"),Mw=Dc("animationstart"),Lw=Dc("transitionend"),Fw=new Map,Bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(i,c){Fw.set(i,c),s(c,[i])}for(var yh=0;yh<Bw.length;yh++){var gh=Bw[yh],l$=gh.toLowerCase(),c$=gh[0].toUpperCase()+gh.slice(1);la(l$,"on"+c$)}la(Dw,"onAnimationEnd"),la(Rw,"onAnimationIteration"),la(Mw,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(Lw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function Uw(i,c,f){var y=i.type||"unknown-event";i.currentTarget=f,lI(y,c,void 0,i),i.currentTarget=null}function qw(i,c){c=(c&4)!==0;for(var f=0;f<i.length;f++){var y=i[f],b=y.event;y=y.listeners;e:{var S=void 0;if(c)for(var T=y.length-1;0<=T;T--){var L=y[T],z=L.instance,te=L.currentTarget;if(L=L.listener,z!==S&&b.isPropagationStopped())break e;Uw(b,L,te),S=z}else for(T=0;T<y.length;T++){if(L=y[T],z=L.instance,te=L.currentTarget,L=L.listener,z!==S&&b.isPropagationStopped())break e;Uw(b,L,te),S=z}}}if(xc)throw i=Gf,xc=!1,Gf=null,i}function lt(i,c){var f=c[Nh];f===void 0&&(f=c[Nh]=new Set);var y=i+"__bubble";f.has(y)||(zw(c,i,2,!1),f.add(y))}function vh(i,c,f){var y=0;c&&(y|=4),zw(f,i,y,c)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Oo(i){if(!i[Rc]){i[Rc]=!0,n.forEach(function(f){f!=="selectionchange"&&(u$.has(f)||vh(f,!1,i),vh(f,!0,i))});var c=i.nodeType===9?i:i.ownerDocument;c===null||c[Rc]||(c[Rc]=!0,vh("selectionchange",!1,c))}}function zw(i,c,f,y){switch(fw(c)){case 1:var b=SI;break;case 4:b=NI;break;default:b=th}f=b.bind(null,c,f,i),b=void 0,!Vf||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),y?b!==void 0?i.addEventListener(c,f,{capture:!0,passive:b}):i.addEventListener(c,f,!0):b!==void 0?i.addEventListener(c,f,{passive:b}):i.addEventListener(c,f,!1)}function xh(i,c,f,y,b){var S=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var T=y.tag;if(T===3||T===4){var L=y.stateNode.containerInfo;if(L===b||L.nodeType===8&&L.parentNode===b)break;if(T===4)for(T=y.return;T!==null;){var z=T.tag;if((z===3||z===4)&&(z=T.stateNode.containerInfo,z===b||z.nodeType===8&&z.parentNode===b))return;T=T.return}for(;L!==null;){if(T=Ra(L),T===null)return;if(z=T.tag,z===5||z===6){y=S=T;continue e}L=L.parentNode}}y=y.return}Gb(function(){var te=S,ue=Hf(f),de=[];e:{var ce=Fw.get(i);if(ce!==void 0){var ge=ah,je=i;switch(i){case"keypress":if(Pc(f)===0)break e;case"keydown":case"keyup":ge=BI;break;case"focusin":je="focus",ge=oh;break;case"focusout":je="blur",ge=oh;break;case"beforeblur":case"afterblur":ge=oh;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=mw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=kI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=zI;break;case Dw:case Rw:case Mw:ge=TI;break;case Lw:ge=WI;break;case"scroll":ge=EI;break;case"wheel":ge=VI;break;case"copy":case"cut":case"paste":ge=II;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=gw}var Se=(c&4)!==0,St=!Se&&i==="scroll",X=Se?ce!==null?ce+"Capture":null:ce;Se=[];for(var W=te,Z;W!==null;){Z=W;var fe=Z.stateNode;if(Z.tag===5&&fe!==null&&(Z=fe,X!==null&&(fe=lo(W,X),fe!=null&&Se.push(ko(W,fe,Z)))),St)break;W=W.return}0<Se.length&&(ce=new ge(ce,je,null,f,ue),de.push({event:ce,listeners:Se}))}}if((c&7)===0){e:{if(ce=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",ce&&f!==zf&&(je=f.relatedTarget||f.fromElement)&&(Ra(je)||je[Tn]))break e;if((ge||ce)&&(ce=ue.window===ue?ue:(ce=ue.ownerDocument)?ce.defaultView||ce.parentWindow:window,ge?(je=f.relatedTarget||f.toElement,ge=te,je=je?Ra(je):null,je!==null&&(St=Da(je),je!==St||je.tag!==5&&je.tag!==6)&&(je=null)):(ge=null,je=te),ge!==je)){if(Se=mw,fe="onMouseLeave",X="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Se=gw,fe="onPointerLeave",X="onPointerEnter",W="pointer"),St=ge==null?ce:Mi(ge),Z=je==null?ce:Mi(je),ce=new Se(fe,W+"leave",ge,f,ue),ce.target=St,ce.relatedTarget=Z,fe=null,Ra(ue)===te&&(Se=new Se(X,W+"enter",je,f,ue),Se.target=Z,Se.relatedTarget=St,fe=Se),St=fe,ge&&je)t:{for(Se=ge,X=je,W=0,Z=Se;Z;Z=Di(Z))W++;for(Z=0,fe=X;fe;fe=Di(fe))Z++;for(;0<W-Z;)Se=Di(Se),W--;for(;0<Z-W;)X=Di(X),Z--;for(;W--;){if(Se===X||X!==null&&Se===X.alternate)break t;Se=Di(Se),X=Di(X)}Se=null}else Se=null;ge!==null&&Hw(de,ce,ge,Se,!1),je!==null&&St!==null&&Hw(de,St,je,Se,!0)}}e:{if(ce=te?Mi(te):window,ge=ce.nodeName&&ce.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ce.type==="file")var Ne=e$;else if(_w(ce))if(Nw)Ne=a$;else{Ne=r$;var Oe=t$}else(ge=ce.nodeName)&&ge.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Ne=n$);if(Ne&&(Ne=Ne(i,te))){Sw(de,Ne,f,ue);break e}Oe&&Oe(i,ce,te),i==="focusout"&&(Oe=ce._wrapperState)&&Oe.controlled&&ce.type==="number"&&Rr(ce,"number",ce.value)}switch(Oe=te?Mi(te):window,i){case"focusin":(_w(Oe)||Oe.contentEditable==="true")&&(Ii=Oe,hh=te,No=null);break;case"focusout":No=hh=Ii=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,Iw(de,f,ue);break;case"selectionchange":if(o$)break;case"keydown":case"keyup":Iw(de,f,ue)}var ke;if(ch)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ci?ww(i,f)&&(Ie="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Ie="onCompositionStart");Ie&&(vw&&f.locale!=="ko"&&(Ci||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ci&&(ke=hw()):(oa=ue,nh="value"in oa?oa.value:oa.textContent,Ci=!0)),Oe=Mc(te,Ie),0<Oe.length&&(Ie=new yw(Ie,i,null,f,ue),de.push({event:Ie,listeners:Oe}),ke?Ie.data=ke:(ke=jw(f),ke!==null&&(Ie.data=ke)))),(ke=YI?XI(i,f):JI(i,f))&&(te=Mc(te,"onBeforeInput"),0<te.length&&(ue=new yw("onBeforeInput","beforeinput",null,f,ue),de.push({event:ue,listeners:te}),ue.data=ke))}qw(de,c)})}function ko(i,c,f){return{instance:i,listener:c,currentTarget:f}}function Mc(i,c){for(var f=c+"Capture",y=[];i!==null;){var b=i,S=b.stateNode;b.tag===5&&S!==null&&(b=S,S=lo(i,f),S!=null&&y.unshift(ko(i,S,b)),S=lo(i,c),S!=null&&y.push(ko(i,S,b))),i=i.return}return y}function Di(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Hw(i,c,f,y,b){for(var S=c._reactName,T=[];f!==null&&f!==y;){var L=f,z=L.alternate,te=L.stateNode;if(z!==null&&z===y)break;L.tag===5&&te!==null&&(L=te,b?(z=lo(f,S),z!=null&&T.unshift(ko(f,z,L))):b||(z=lo(f,S),z!=null&&T.push(ko(f,z,L)))),f=f.return}T.length!==0&&i.push({event:c,listeners:T})}var d$=/\r\n?/g,f$=/\u0000|\uFFFD/g;function Ww(i){return(typeof i=="string"?i:""+i).replace(d$,`
`).replace(f$,"")}function Lc(i,c,f){if(c=Ww(c),Ww(i)!==c&&f)throw Error(r(425))}function Fc(){}var bh=null,wh=null;function jh(i,c){return i==="textarea"||i==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var _h=typeof setTimeout=="function"?setTimeout:void 0,h$=typeof clearTimeout=="function"?clearTimeout:void 0,Kw=typeof Promise=="function"?Promise:void 0,p$=typeof queueMicrotask=="function"?queueMicrotask:typeof Kw<"u"?function(i){return Kw.resolve(null).then(i).catch(m$)}:_h;function m$(i){setTimeout(function(){throw i})}function Sh(i,c){var f=c,y=0;do{var b=f.nextSibling;if(i.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(y===0){i.removeChild(b),vo(c);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=b}while(f);vo(c)}function ca(i){for(;i!=null;i=i.nextSibling){var c=i.nodeType;if(c===1||c===3)break;if(c===8){if(c=i.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return i}function Vw(i){i=i.previousSibling;for(var c=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return i;c--}else f==="/$"&&c++}i=i.previousSibling}return null}var Ri=Math.random().toString(36).slice(2),xn="__reactFiber$"+Ri,Ao="__reactProps$"+Ri,Tn="__reactContainer$"+Ri,Nh="__reactEvents$"+Ri,y$="__reactListeners$"+Ri,g$="__reactHandles$"+Ri;function Ra(i){var c=i[xn];if(c)return c;for(var f=i.parentNode;f;){if(c=f[Tn]||f[xn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(i=Vw(i);i!==null;){if(f=i[xn])return f;i=Vw(i)}return c}i=f,f=i.parentNode}return null}function Po(i){return i=i[xn]||i[Tn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Mi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Bc(i){return i[Ao]||null}var Eh=[],Li=-1;function ua(i){return{current:i}}function ct(i){0>Li||(i.current=Eh[Li],Eh[Li]=null,Li--)}function nt(i,c){Li++,Eh[Li]=i.current,i.current=c}var da={},Yt=ua(da),cr=ua(!1),Ma=da;function Fi(i,c){var f=i.type.contextTypes;if(!f)return da;var y=i.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var b={},S;for(S in f)b[S]=c[S];return y&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=c,i.__reactInternalMemoizedMaskedChildContext=b),b}function ur(i){return i=i.childContextTypes,i!=null}function Uc(){ct(cr),ct(Yt)}function Gw(i,c,f){if(Yt.current!==da)throw Error(r(168));nt(Yt,c),nt(cr,f)}function Yw(i,c,f){var y=i.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var b in y)if(!(b in c))throw Error(r(108,pe(i)||"Unknown",b));return F({},f,y)}function qc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||da,Ma=Yt.current,nt(Yt,i),nt(cr,cr.current),!0}function Xw(i,c,f){var y=i.stateNode;if(!y)throw Error(r(169));f?(i=Yw(i,c,Ma),y.__reactInternalMemoizedMergedChildContext=i,ct(cr),ct(Yt),nt(Yt,i)):ct(cr),nt(cr,f)}var Cn=null,zc=!1,Oh=!1;function Jw(i){Cn===null?Cn=[i]:Cn.push(i)}function v$(i){zc=!0,Jw(i)}function fa(){if(!Oh&&Cn!==null){Oh=!0;var i=0,c=Qe;try{var f=Cn;for(Qe=1;i<f.length;i++){var y=f[i];do y=y(!0);while(y!==null)}Cn=null,zc=!1}catch(b){throw Cn!==null&&(Cn=Cn.slice(i+1)),Zb(Yf,fa),b}finally{Qe=c,Oh=!1}}return null}var Bi=[],Ui=0,Hc=null,Wc=0,Mr=[],Lr=0,La=null,In=1,$n="";function Fa(i,c){Bi[Ui++]=Wc,Bi[Ui++]=Hc,Hc=i,Wc=c}function Qw(i,c,f){Mr[Lr++]=In,Mr[Lr++]=$n,Mr[Lr++]=La,La=i;var y=In;i=$n;var b=32-Zr(y)-1;y&=~(1<<b),f+=1;var S=32-Zr(c)+b;if(30<S){var T=b-b%5;S=(y&(1<<T)-1).toString(32),y>>=T,b-=T,In=1<<32-Zr(c)+b|f<<b|y,$n=S+i}else In=1<<S|f<<b|y,$n=i}function kh(i){i.return!==null&&(Fa(i,1),Qw(i,1,0))}function Ah(i){for(;i===Hc;)Hc=Bi[--Ui],Bi[Ui]=null,Wc=Bi[--Ui],Bi[Ui]=null;for(;i===La;)La=Mr[--Lr],Mr[Lr]=null,$n=Mr[--Lr],Mr[Lr]=null,In=Mr[--Lr],Mr[Lr]=null}var br=null,wr=null,ht=!1,tn=null;function Zw(i,c){var f=qr(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=i,c=i.deletions,c===null?(i.deletions=[f],i.flags|=16):c.push(f)}function ej(i,c){switch(i.tag){case 5:var f=i.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(i.stateNode=c,br=i,wr=ca(c.firstChild),!0):!1;case 6:return c=i.pendingProps===""||c.nodeType!==3?null:c,c!==null?(i.stateNode=c,br=i,wr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=La!==null?{id:In,overflow:$n}:null,i.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=qr(18,null,null,0),f.stateNode=c,f.return=i,i.child=f,br=i,wr=null,!0):!1;default:return!1}}function Ph(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Th(i){if(ht){var c=wr;if(c){var f=c;if(!ej(i,c)){if(Ph(i))throw Error(r(418));c=ca(f.nextSibling);var y=br;c&&ej(i,c)?Zw(y,f):(i.flags=i.flags&-4097|2,ht=!1,br=i)}}else{if(Ph(i))throw Error(r(418));i.flags=i.flags&-4097|2,ht=!1,br=i}}}function tj(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;br=i}function Kc(i){if(i!==br)return!1;if(!ht)return tj(i),ht=!0,!1;var c;if((c=i.tag!==3)&&!(c=i.tag!==5)&&(c=i.type,c=c!=="head"&&c!=="body"&&!jh(i.type,i.memoizedProps)),c&&(c=wr)){if(Ph(i))throw rj(),Error(r(418));for(;c;)Zw(i,c),c=ca(c.nextSibling)}if(tj(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,c=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(c===0){wr=ca(i.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}i=i.nextSibling}wr=null}}else wr=br?ca(i.stateNode.nextSibling):null;return!0}function rj(){for(var i=wr;i;)i=ca(i.nextSibling)}function qi(){wr=br=null,ht=!1}function Ch(i){tn===null?tn=[i]:tn.push(i)}var x$=A.ReactCurrentBatchConfig;function To(i,c,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var y=f.stateNode}if(!y)throw Error(r(147,i));var b=y,S=""+i;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===S?c.ref:(c=function(T){var L=b.refs;T===null?delete L[S]:L[S]=T},c._stringRef=S,c)}if(typeof i!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,i))}return i}function Vc(i,c){throw i=Object.prototype.toString.call(c),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":i))}function nj(i){var c=i._init;return c(i._payload)}function aj(i){function c(X,W){if(i){var Z=X.deletions;Z===null?(X.deletions=[W],X.flags|=16):Z.push(W)}}function f(X,W){if(!i)return null;for(;W!==null;)c(X,W),W=W.sibling;return null}function y(X,W){for(X=new Map;W!==null;)W.key!==null?X.set(W.key,W):X.set(W.index,W),W=W.sibling;return X}function b(X,W){return X=ba(X,W),X.index=0,X.sibling=null,X}function S(X,W,Z){return X.index=Z,i?(Z=X.alternate,Z!==null?(Z=Z.index,Z<W?(X.flags|=2,W):Z):(X.flags|=2,W)):(X.flags|=1048576,W)}function T(X){return i&&X.alternate===null&&(X.flags|=2),X}function L(X,W,Z,fe){return W===null||W.tag!==6?(W=_p(Z,X.mode,fe),W.return=X,W):(W=b(W,Z),W.return=X,W)}function z(X,W,Z,fe){var Ne=Z.type;return Ne===P?ue(X,W,Z.props.children,fe,Z.key):W!==null&&(W.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Q&&nj(Ne)===W.type)?(fe=b(W,Z.props),fe.ref=To(X,W,Z),fe.return=X,fe):(fe=gu(Z.type,Z.key,Z.props,null,X.mode,fe),fe.ref=To(X,W,Z),fe.return=X,fe)}function te(X,W,Z,fe){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=Sp(Z,X.mode,fe),W.return=X,W):(W=b(W,Z.children||[]),W.return=X,W)}function ue(X,W,Z,fe,Ne){return W===null||W.tag!==7?(W=Va(Z,X.mode,fe,Ne),W.return=X,W):(W=b(W,Z),W.return=X,W)}function de(X,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number")return W=_p(""+W,X.mode,Z),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case O:return Z=gu(W.type,W.key,W.props,null,X.mode,Z),Z.ref=To(X,null,W),Z.return=X,Z;case k:return W=Sp(W,X.mode,Z),W.return=X,W;case Q:var fe=W._init;return de(X,fe(W._payload),Z)}if(ie(W)||ee(W))return W=Va(W,X.mode,Z,null),W.return=X,W;Vc(X,W)}return null}function ce(X,W,Z,fe){var Ne=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Ne!==null?null:L(X,W,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return Z.key===Ne?z(X,W,Z,fe):null;case k:return Z.key===Ne?te(X,W,Z,fe):null;case Q:return Ne=Z._init,ce(X,W,Ne(Z._payload),fe)}if(ie(Z)||ee(Z))return Ne!==null?null:ue(X,W,Z,fe,null);Vc(X,Z)}return null}function ge(X,W,Z,fe,Ne){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return X=X.get(Z)||null,L(W,X,""+fe,Ne);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case O:return X=X.get(fe.key===null?Z:fe.key)||null,z(W,X,fe,Ne);case k:return X=X.get(fe.key===null?Z:fe.key)||null,te(W,X,fe,Ne);case Q:var Oe=fe._init;return ge(X,W,Z,Oe(fe._payload),Ne)}if(ie(fe)||ee(fe))return X=X.get(Z)||null,ue(W,X,fe,Ne,null);Vc(W,fe)}return null}function je(X,W,Z,fe){for(var Ne=null,Oe=null,ke=W,Ie=W=0,Bt=null;ke!==null&&Ie<Z.length;Ie++){ke.index>Ie?(Bt=ke,ke=null):Bt=ke.sibling;var Ke=ce(X,ke,Z[Ie],fe);if(Ke===null){ke===null&&(ke=Bt);break}i&&ke&&Ke.alternate===null&&c(X,ke),W=S(Ke,W,Ie),Oe===null?Ne=Ke:Oe.sibling=Ke,Oe=Ke,ke=Bt}if(Ie===Z.length)return f(X,ke),ht&&Fa(X,Ie),Ne;if(ke===null){for(;Ie<Z.length;Ie++)ke=de(X,Z[Ie],fe),ke!==null&&(W=S(ke,W,Ie),Oe===null?Ne=ke:Oe.sibling=ke,Oe=ke);return ht&&Fa(X,Ie),Ne}for(ke=y(X,ke);Ie<Z.length;Ie++)Bt=ge(ke,X,Ie,Z[Ie],fe),Bt!==null&&(i&&Bt.alternate!==null&&ke.delete(Bt.key===null?Ie:Bt.key),W=S(Bt,W,Ie),Oe===null?Ne=Bt:Oe.sibling=Bt,Oe=Bt);return i&&ke.forEach(function(wa){return c(X,wa)}),ht&&Fa(X,Ie),Ne}function Se(X,W,Z,fe){var Ne=ee(Z);if(typeof Ne!="function")throw Error(r(150));if(Z=Ne.call(Z),Z==null)throw Error(r(151));for(var Oe=Ne=null,ke=W,Ie=W=0,Bt=null,Ke=Z.next();ke!==null&&!Ke.done;Ie++,Ke=Z.next()){ke.index>Ie?(Bt=ke,ke=null):Bt=ke.sibling;var wa=ce(X,ke,Ke.value,fe);if(wa===null){ke===null&&(ke=Bt);break}i&&ke&&wa.alternate===null&&c(X,ke),W=S(wa,W,Ie),Oe===null?Ne=wa:Oe.sibling=wa,Oe=wa,ke=Bt}if(Ke.done)return f(X,ke),ht&&Fa(X,Ie),Ne;if(ke===null){for(;!Ke.done;Ie++,Ke=Z.next())Ke=de(X,Ke.value,fe),Ke!==null&&(W=S(Ke,W,Ie),Oe===null?Ne=Ke:Oe.sibling=Ke,Oe=Ke);return ht&&Fa(X,Ie),Ne}for(ke=y(X,ke);!Ke.done;Ie++,Ke=Z.next())Ke=ge(ke,X,Ie,Ke.value,fe),Ke!==null&&(i&&Ke.alternate!==null&&ke.delete(Ke.key===null?Ie:Ke.key),W=S(Ke,W,Ie),Oe===null?Ne=Ke:Oe.sibling=Ke,Oe=Ke);return i&&ke.forEach(function(Q$){return c(X,Q$)}),ht&&Fa(X,Ie),Ne}function St(X,W,Z,fe){if(typeof Z=="object"&&Z!==null&&Z.type===P&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:e:{for(var Ne=Z.key,Oe=W;Oe!==null;){if(Oe.key===Ne){if(Ne=Z.type,Ne===P){if(Oe.tag===7){f(X,Oe.sibling),W=b(Oe,Z.props.children),W.return=X,X=W;break e}}else if(Oe.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Q&&nj(Ne)===Oe.type){f(X,Oe.sibling),W=b(Oe,Z.props),W.ref=To(X,Oe,Z),W.return=X,X=W;break e}f(X,Oe);break}else c(X,Oe);Oe=Oe.sibling}Z.type===P?(W=Va(Z.props.children,X.mode,fe,Z.key),W.return=X,X=W):(fe=gu(Z.type,Z.key,Z.props,null,X.mode,fe),fe.ref=To(X,W,Z),fe.return=X,X=fe)}return T(X);case k:e:{for(Oe=Z.key;W!==null;){if(W.key===Oe)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){f(X,W.sibling),W=b(W,Z.children||[]),W.return=X,X=W;break e}else{f(X,W);break}else c(X,W);W=W.sibling}W=Sp(Z,X.mode,fe),W.return=X,X=W}return T(X);case Q:return Oe=Z._init,St(X,W,Oe(Z._payload),fe)}if(ie(Z))return je(X,W,Z,fe);if(ee(Z))return Se(X,W,Z,fe);Vc(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,W!==null&&W.tag===6?(f(X,W.sibling),W=b(W,Z),W.return=X,X=W):(f(X,W),W=_p(Z,X.mode,fe),W.return=X,X=W),T(X)):f(X,W)}return St}var zi=aj(!0),ij=aj(!1),Gc=ua(null),Yc=null,Hi=null,Ih=null;function $h(){Ih=Hi=Yc=null}function Dh(i){var c=Gc.current;ct(Gc),i._currentValue=c}function Rh(i,c,f){for(;i!==null;){var y=i.alternate;if((i.childLanes&c)!==c?(i.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),i===f)break;i=i.return}}function Wi(i,c){Yc=i,Ih=Hi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&c)!==0&&(dr=!0),i.firstContext=null)}function Fr(i){var c=i._currentValue;if(Ih!==i)if(i={context:i,memoizedValue:c,next:null},Hi===null){if(Yc===null)throw Error(r(308));Hi=i,Yc.dependencies={lanes:0,firstContext:i}}else Hi=Hi.next=i;return c}var Ba=null;function Mh(i){Ba===null?Ba=[i]:Ba.push(i)}function sj(i,c,f,y){var b=c.interleaved;return b===null?(f.next=f,Mh(c)):(f.next=b.next,b.next=f),c.interleaved=f,Dn(i,y)}function Dn(i,c){i.lanes|=c;var f=i.alternate;for(f!==null&&(f.lanes|=c),f=i,i=i.return;i!==null;)i.childLanes|=c,f=i.alternate,f!==null&&(f.childLanes|=c),f=i,i=i.return;return f.tag===3?f.stateNode:null}var ha=!1;function Lh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oj(i,c){i=i.updateQueue,c.updateQueue===i&&(c.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Rn(i,c){return{eventTime:i,lane:c,tag:0,payload:null,callback:null,next:null}}function pa(i,c,f){var y=i.updateQueue;if(y===null)return null;if(y=y.shared,(He&2)!==0){var b=y.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),y.pending=c,Dn(i,f)}return b=y.interleaved,b===null?(c.next=c,Mh(y)):(c.next=b.next,b.next=c),y.interleaved=c,Dn(i,f)}function Xc(i,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var y=c.lanes;y&=i.pendingLanes,f|=y,c.lanes=f,Qf(i,f)}}function lj(i,c){var f=i.updateQueue,y=i.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var b=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var T={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?b=S=T:S=S.next=T,f=f.next}while(f!==null);S===null?b=S=c:S=S.next=c}else b=S=c;f={baseState:y.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:y.shared,effects:y.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=c:i.next=c,f.lastBaseUpdate=c}function Jc(i,c,f,y){var b=i.updateQueue;ha=!1;var S=b.firstBaseUpdate,T=b.lastBaseUpdate,L=b.shared.pending;if(L!==null){b.shared.pending=null;var z=L,te=z.next;z.next=null,T===null?S=te:T.next=te,T=z;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,L=ue.lastBaseUpdate,L!==T&&(L===null?ue.firstBaseUpdate=te:L.next=te,ue.lastBaseUpdate=z))}if(S!==null){var de=b.baseState;T=0,ue=te=z=null,L=S;do{var ce=L.lane,ge=L.eventTime;if((y&ce)===ce){ue!==null&&(ue=ue.next={eventTime:ge,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var je=i,Se=L;switch(ce=c,ge=f,Se.tag){case 1:if(je=Se.payload,typeof je=="function"){de=je.call(ge,de,ce);break e}de=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Se.payload,ce=typeof je=="function"?je.call(ge,de,ce):je,ce==null)break e;de=F({},de,ce);break e;case 2:ha=!0}}L.callback!==null&&L.lane!==0&&(i.flags|=64,ce=b.effects,ce===null?b.effects=[L]:ce.push(L))}else ge={eventTime:ge,lane:ce,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ue===null?(te=ue=ge,z=de):ue=ue.next=ge,T|=ce;if(L=L.next,L===null){if(L=b.shared.pending,L===null)break;ce=L,L=ce.next,ce.next=null,b.lastBaseUpdate=ce,b.shared.pending=null}}while(!0);if(ue===null&&(z=de),b.baseState=z,b.firstBaseUpdate=te,b.lastBaseUpdate=ue,c=b.shared.interleaved,c!==null){b=c;do T|=b.lane,b=b.next;while(b!==c)}else S===null&&(b.shared.lanes=0);za|=T,i.lanes=T,i.memoizedState=de}}function cj(i,c,f){if(i=c.effects,c.effects=null,i!==null)for(c=0;c<i.length;c++){var y=i[c],b=y.callback;if(b!==null){if(y.callback=null,y=f,typeof b!="function")throw Error(r(191,b));b.call(y)}}}var Co={},bn=ua(Co),Io=ua(Co),$o=ua(Co);function Ua(i){if(i===Co)throw Error(r(174));return i}function Fh(i,c){switch(nt($o,c),nt(Io,i),nt(bn,Co),i=c.nodeType,i){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:tr(null,"");break;default:i=i===8?c.parentNode:c,c=i.namespaceURI||null,i=i.tagName,c=tr(c,i)}ct(bn),nt(bn,c)}function Ki(){ct(bn),ct(Io),ct($o)}function uj(i){Ua($o.current);var c=Ua(bn.current),f=tr(c,i.type);c!==f&&(nt(Io,i),nt(bn,f))}function Bh(i){Io.current===i&&(ct(bn),ct(Io))}var yt=ua(0);function Qc(i){for(var c=i;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Uh=[];function qh(){for(var i=0;i<Uh.length;i++)Uh[i]._workInProgressVersionPrimary=null;Uh.length=0}var Zc=A.ReactCurrentDispatcher,zh=A.ReactCurrentBatchConfig,qa=0,gt=null,Pt=null,Lt=null,eu=!1,Do=!1,Ro=0,b$=0;function Xt(){throw Error(r(321))}function Hh(i,c){if(c===null)return!1;for(var f=0;f<c.length&&f<i.length;f++)if(!en(i[f],c[f]))return!1;return!0}function Wh(i,c,f,y,b,S){if(qa=S,gt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Zc.current=i===null||i.memoizedState===null?S$:N$,i=f(y,b),Do){S=0;do{if(Do=!1,Ro=0,25<=S)throw Error(r(301));S+=1,Lt=Pt=null,c.updateQueue=null,Zc.current=E$,i=f(y,b)}while(Do)}if(Zc.current=nu,c=Pt!==null&&Pt.next!==null,qa=0,Lt=Pt=gt=null,eu=!1,c)throw Error(r(300));return i}function Kh(){var i=Ro!==0;return Ro=0,i}function wn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?gt.memoizedState=Lt=i:Lt=Lt.next=i,Lt}function Br(){if(Pt===null){var i=gt.alternate;i=i!==null?i.memoizedState:null}else i=Pt.next;var c=Lt===null?gt.memoizedState:Lt.next;if(c!==null)Lt=c,Pt=i;else{if(i===null)throw Error(r(310));Pt=i,i={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Lt===null?gt.memoizedState=Lt=i:Lt=Lt.next=i}return Lt}function Mo(i,c){return typeof c=="function"?c(i):c}function Vh(i){var c=Br(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var y=Pt,b=y.baseQueue,S=f.pending;if(S!==null){if(b!==null){var T=b.next;b.next=S.next,S.next=T}y.baseQueue=b=S,f.pending=null}if(b!==null){S=b.next,y=y.baseState;var L=T=null,z=null,te=S;do{var ue=te.lane;if((qa&ue)===ue)z!==null&&(z=z.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),y=te.hasEagerState?te.eagerState:i(y,te.action);else{var de={lane:ue,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};z===null?(L=z=de,T=y):z=z.next=de,gt.lanes|=ue,za|=ue}te=te.next}while(te!==null&&te!==S);z===null?T=y:z.next=L,en(y,c.memoizedState)||(dr=!0),c.memoizedState=y,c.baseState=T,c.baseQueue=z,f.lastRenderedState=y}if(i=f.interleaved,i!==null){b=i;do S=b.lane,gt.lanes|=S,za|=S,b=b.next;while(b!==i)}else b===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function Gh(i){var c=Br(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var y=f.dispatch,b=f.pending,S=c.memoizedState;if(b!==null){f.pending=null;var T=b=b.next;do S=i(S,T.action),T=T.next;while(T!==b);en(S,c.memoizedState)||(dr=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),f.lastRenderedState=S}return[S,y]}function dj(){}function fj(i,c){var f=gt,y=Br(),b=c(),S=!en(y.memoizedState,b);if(S&&(y.memoizedState=b,dr=!0),y=y.queue,Yh(mj.bind(null,f,y,i),[i]),y.getSnapshot!==c||S||Lt!==null&&Lt.memoizedState.tag&1){if(f.flags|=2048,Lo(9,pj.bind(null,f,y,b,c),void 0,null),Ft===null)throw Error(r(349));(qa&30)!==0||hj(f,c,b)}return b}function hj(i,c,f){i.flags|=16384,i={getSnapshot:c,value:f},c=gt.updateQueue,c===null?(c={lastEffect:null,stores:null},gt.updateQueue=c,c.stores=[i]):(f=c.stores,f===null?c.stores=[i]:f.push(i))}function pj(i,c,f,y){c.value=f,c.getSnapshot=y,yj(c)&&gj(i)}function mj(i,c,f){return f(function(){yj(c)&&gj(i)})}function yj(i){var c=i.getSnapshot;i=i.value;try{var f=c();return!en(i,f)}catch{return!0}}function gj(i){var c=Dn(i,1);c!==null&&sn(c,i,1,-1)}function vj(i){var c=wn();return typeof i=="function"&&(i=i()),c.memoizedState=c.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:i},c.queue=i,i=i.dispatch=_$.bind(null,gt,i),[c.memoizedState,i]}function Lo(i,c,f,y){return i={tag:i,create:c,destroy:f,deps:y,next:null},c=gt.updateQueue,c===null?(c={lastEffect:null,stores:null},gt.updateQueue=c,c.lastEffect=i.next=i):(f=c.lastEffect,f===null?c.lastEffect=i.next=i:(y=f.next,f.next=i,i.next=y,c.lastEffect=i)),i}function xj(){return Br().memoizedState}function tu(i,c,f,y){var b=wn();gt.flags|=i,b.memoizedState=Lo(1|c,f,void 0,y===void 0?null:y)}function ru(i,c,f,y){var b=Br();y=y===void 0?null:y;var S=void 0;if(Pt!==null){var T=Pt.memoizedState;if(S=T.destroy,y!==null&&Hh(y,T.deps)){b.memoizedState=Lo(c,f,S,y);return}}gt.flags|=i,b.memoizedState=Lo(1|c,f,S,y)}function bj(i,c){return tu(8390656,8,i,c)}function Yh(i,c){return ru(2048,8,i,c)}function wj(i,c){return ru(4,2,i,c)}function jj(i,c){return ru(4,4,i,c)}function _j(i,c){if(typeof c=="function")return i=i(),c(i),function(){c(null)};if(c!=null)return i=i(),c.current=i,function(){c.current=null}}function Sj(i,c,f){return f=f!=null?f.concat([i]):null,ru(4,4,_j.bind(null,c,i),f)}function Xh(){}function Nj(i,c){var f=Br();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&Hh(c,y[1])?y[0]:(f.memoizedState=[i,c],i)}function Ej(i,c){var f=Br();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&Hh(c,y[1])?y[0]:(i=i(),f.memoizedState=[i,c],i)}function Oj(i,c,f){return(qa&21)===0?(i.baseState&&(i.baseState=!1,dr=!0),i.memoizedState=f):(en(f,c)||(f=nw(),gt.lanes|=f,za|=f,i.baseState=!0),c)}function w$(i,c){var f=Qe;Qe=f!==0&&4>f?f:4,i(!0);var y=zh.transition;zh.transition={};try{i(!1),c()}finally{Qe=f,zh.transition=y}}function kj(){return Br().memoizedState}function j$(i,c,f){var y=va(i);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},Aj(i))Pj(c,f);else if(f=sj(i,c,f,y),f!==null){var b=nr();sn(f,i,y,b),Tj(f,c,y)}}function _$(i,c,f){var y=va(i),b={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(Aj(i))Pj(c,b);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var T=c.lastRenderedState,L=S(T,f);if(b.hasEagerState=!0,b.eagerState=L,en(L,T)){var z=c.interleaved;z===null?(b.next=b,Mh(c)):(b.next=z.next,z.next=b),c.interleaved=b;return}}catch{}finally{}f=sj(i,c,b,y),f!==null&&(b=nr(),sn(f,i,y,b),Tj(f,c,y))}}function Aj(i){var c=i.alternate;return i===gt||c!==null&&c===gt}function Pj(i,c){Do=eu=!0;var f=i.pending;f===null?c.next=c:(c.next=f.next,f.next=c),i.pending=c}function Tj(i,c,f){if((f&4194240)!==0){var y=c.lanes;y&=i.pendingLanes,f|=y,c.lanes=f,Qf(i,f)}}var nu={readContext:Fr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},S$={readContext:Fr,useCallback:function(i,c){return wn().memoizedState=[i,c===void 0?null:c],i},useContext:Fr,useEffect:bj,useImperativeHandle:function(i,c,f){return f=f!=null?f.concat([i]):null,tu(4194308,4,_j.bind(null,c,i),f)},useLayoutEffect:function(i,c){return tu(4194308,4,i,c)},useInsertionEffect:function(i,c){return tu(4,2,i,c)},useMemo:function(i,c){var f=wn();return c=c===void 0?null:c,i=i(),f.memoizedState=[i,c],i},useReducer:function(i,c,f){var y=wn();return c=f!==void 0?f(c):c,y.memoizedState=y.baseState=c,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:c},y.queue=i,i=i.dispatch=j$.bind(null,gt,i),[y.memoizedState,i]},useRef:function(i){var c=wn();return i={current:i},c.memoizedState=i},useState:vj,useDebugValue:Xh,useDeferredValue:function(i){return wn().memoizedState=i},useTransition:function(){var i=vj(!1),c=i[0];return i=w$.bind(null,i[1]),wn().memoizedState=i,[c,i]},useMutableSource:function(){},useSyncExternalStore:function(i,c,f){var y=gt,b=wn();if(ht){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),Ft===null)throw Error(r(349));(qa&30)!==0||hj(y,c,f)}b.memoizedState=f;var S={value:f,getSnapshot:c};return b.queue=S,bj(mj.bind(null,y,S,i),[i]),y.flags|=2048,Lo(9,pj.bind(null,y,S,f,c),void 0,null),f},useId:function(){var i=wn(),c=Ft.identifierPrefix;if(ht){var f=$n,y=In;f=(y&~(1<<32-Zr(y)-1)).toString(32)+f,c=":"+c+"R"+f,f=Ro++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=b$++,c=":"+c+"r"+f.toString(32)+":";return i.memoizedState=c},unstable_isNewReconciler:!1},N$={readContext:Fr,useCallback:Nj,useContext:Fr,useEffect:Yh,useImperativeHandle:Sj,useInsertionEffect:wj,useLayoutEffect:jj,useMemo:Ej,useReducer:Vh,useRef:xj,useState:function(){return Vh(Mo)},useDebugValue:Xh,useDeferredValue:function(i){var c=Br();return Oj(c,Pt.memoizedState,i)},useTransition:function(){var i=Vh(Mo)[0],c=Br().memoizedState;return[i,c]},useMutableSource:dj,useSyncExternalStore:fj,useId:kj,unstable_isNewReconciler:!1},E$={readContext:Fr,useCallback:Nj,useContext:Fr,useEffect:Yh,useImperativeHandle:Sj,useInsertionEffect:wj,useLayoutEffect:jj,useMemo:Ej,useReducer:Gh,useRef:xj,useState:function(){return Gh(Mo)},useDebugValue:Xh,useDeferredValue:function(i){var c=Br();return Pt===null?c.memoizedState=i:Oj(c,Pt.memoizedState,i)},useTransition:function(){var i=Gh(Mo)[0],c=Br().memoizedState;return[i,c]},useMutableSource:dj,useSyncExternalStore:fj,useId:kj,unstable_isNewReconciler:!1};function rn(i,c){if(i&&i.defaultProps){c=F({},c),i=i.defaultProps;for(var f in i)c[f]===void 0&&(c[f]=i[f]);return c}return c}function Jh(i,c,f,y){c=i.memoizedState,f=f(y,c),f=f==null?c:F({},c,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var au={isMounted:function(i){return(i=i._reactInternals)?Da(i)===i:!1},enqueueSetState:function(i,c,f){i=i._reactInternals;var y=nr(),b=va(i),S=Rn(y,b);S.payload=c,f!=null&&(S.callback=f),c=pa(i,S,b),c!==null&&(sn(c,i,b,y),Xc(c,i,b))},enqueueReplaceState:function(i,c,f){i=i._reactInternals;var y=nr(),b=va(i),S=Rn(y,b);S.tag=1,S.payload=c,f!=null&&(S.callback=f),c=pa(i,S,b),c!==null&&(sn(c,i,b,y),Xc(c,i,b))},enqueueForceUpdate:function(i,c){i=i._reactInternals;var f=nr(),y=va(i),b=Rn(f,y);b.tag=2,c!=null&&(b.callback=c),c=pa(i,b,y),c!==null&&(sn(c,i,y,f),Xc(c,i,y))}};function Cj(i,c,f,y,b,S,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(y,S,T):c.prototype&&c.prototype.isPureReactComponent?!So(f,y)||!So(b,S):!0}function Ij(i,c,f){var y=!1,b=da,S=c.contextType;return typeof S=="object"&&S!==null?S=Fr(S):(b=ur(c)?Ma:Yt.current,y=c.contextTypes,S=(y=y!=null)?Fi(i,b):da),c=new c(f,S),i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=au,i.stateNode=c,c._reactInternals=i,y&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=b,i.__reactInternalMemoizedMaskedChildContext=S),c}function $j(i,c,f,y){i=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,y),c.state!==i&&au.enqueueReplaceState(c,c.state,null)}function Qh(i,c,f,y){var b=i.stateNode;b.props=f,b.state=i.memoizedState,b.refs={},Lh(i);var S=c.contextType;typeof S=="object"&&S!==null?b.context=Fr(S):(S=ur(c)?Ma:Yt.current,b.context=Fi(i,S)),b.state=i.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(Jh(i,c,S,f),b.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(c=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),c!==b.state&&au.enqueueReplaceState(b,b.state,null),Jc(i,f,b,y),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308)}function Vi(i,c){try{var f="",y=c;do f+=J(y),y=y.return;while(y);var b=f}catch(S){b=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:c,stack:b,digest:null}}function Zh(i,c,f){return{value:i,source:null,stack:f??null,digest:c??null}}function ep(i,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var O$=typeof WeakMap=="function"?WeakMap:Map;function Dj(i,c,f){f=Rn(-1,f),f.tag=3,f.payload={element:null};var y=c.value;return f.callback=function(){du||(du=!0,mp=y),ep(i,c)},f}function Rj(i,c,f){f=Rn(-1,f),f.tag=3;var y=i.type.getDerivedStateFromError;if(typeof y=="function"){var b=c.value;f.payload=function(){return y(b)},f.callback=function(){ep(i,c)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){ep(i,c),typeof y!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})}),f}function Mj(i,c,f){var y=i.pingCache;if(y===null){y=i.pingCache=new O$;var b=new Set;y.set(c,b)}else b=y.get(c),b===void 0&&(b=new Set,y.set(c,b));b.has(f)||(b.add(f),i=U$.bind(null,i,c,f),c.then(i,i))}function Lj(i){do{var c;if((c=i.tag===13)&&(c=i.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return i;i=i.return}while(i!==null);return null}function Fj(i,c,f,y,b){return(i.mode&1)===0?(i===c?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=Rn(-1,1),c.tag=2,pa(f,c,1))),f.lanes|=1),i):(i.flags|=65536,i.lanes=b,i)}var k$=A.ReactCurrentOwner,dr=!1;function rr(i,c,f,y){c.child=i===null?ij(c,null,f,y):zi(c,i.child,f,y)}function Bj(i,c,f,y,b){f=f.render;var S=c.ref;return Wi(c,b),y=Wh(i,c,f,y,S,b),f=Kh(),i!==null&&!dr?(c.updateQueue=i.updateQueue,c.flags&=-2053,i.lanes&=~b,Mn(i,c,b)):(ht&&f&&kh(c),c.flags|=1,rr(i,c,y,b),c.child)}function Uj(i,c,f,y,b){if(i===null){var S=f.type;return typeof S=="function"&&!jp(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=S,qj(i,c,S,y,b)):(i=gu(f.type,null,y,c,c.mode,b),i.ref=c.ref,i.return=c,c.child=i)}if(S=i.child,(i.lanes&b)===0){var T=S.memoizedProps;if(f=f.compare,f=f!==null?f:So,f(T,y)&&i.ref===c.ref)return Mn(i,c,b)}return c.flags|=1,i=ba(S,y),i.ref=c.ref,i.return=c,c.child=i}function qj(i,c,f,y,b){if(i!==null){var S=i.memoizedProps;if(So(S,y)&&i.ref===c.ref)if(dr=!1,c.pendingProps=y=S,(i.lanes&b)!==0)(i.flags&131072)!==0&&(dr=!0);else return c.lanes=i.lanes,Mn(i,c,b)}return tp(i,c,f,y,b)}function zj(i,c,f){var y=c.pendingProps,b=y.children,S=i!==null?i.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Yi,jr),jr|=f;else{if((f&1073741824)===0)return i=S!==null?S.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:i,cachePool:null,transitions:null},c.updateQueue=null,nt(Yi,jr),jr|=i,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=S!==null?S.baseLanes:f,nt(Yi,jr),jr|=y}else S!==null?(y=S.baseLanes|f,c.memoizedState=null):y=f,nt(Yi,jr),jr|=y;return rr(i,c,b,f),c.child}function Hj(i,c){var f=c.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function tp(i,c,f,y,b){var S=ur(f)?Ma:Yt.current;return S=Fi(c,S),Wi(c,b),f=Wh(i,c,f,y,S,b),y=Kh(),i!==null&&!dr?(c.updateQueue=i.updateQueue,c.flags&=-2053,i.lanes&=~b,Mn(i,c,b)):(ht&&y&&kh(c),c.flags|=1,rr(i,c,f,b),c.child)}function Wj(i,c,f,y,b){if(ur(f)){var S=!0;qc(c)}else S=!1;if(Wi(c,b),c.stateNode===null)su(i,c),Ij(c,f,y),Qh(c,f,y,b),y=!0;else if(i===null){var T=c.stateNode,L=c.memoizedProps;T.props=L;var z=T.context,te=f.contextType;typeof te=="object"&&te!==null?te=Fr(te):(te=ur(f)?Ma:Yt.current,te=Fi(c,te));var ue=f.getDerivedStateFromProps,de=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function";de||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==y||z!==te)&&$j(c,T,y,te),ha=!1;var ce=c.memoizedState;T.state=ce,Jc(c,y,T,b),z=c.memoizedState,L!==y||ce!==z||cr.current||ha?(typeof ue=="function"&&(Jh(c,f,ue,y),z=c.memoizedState),(L=ha||Cj(c,f,L,y,ce,z,te))?(de||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=z),T.props=y,T.state=z,T.context=te,y=L):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{T=c.stateNode,oj(i,c),L=c.memoizedProps,te=c.type===c.elementType?L:rn(c.type,L),T.props=te,de=c.pendingProps,ce=T.context,z=f.contextType,typeof z=="object"&&z!==null?z=Fr(z):(z=ur(f)?Ma:Yt.current,z=Fi(c,z));var ge=f.getDerivedStateFromProps;(ue=typeof ge=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==de||ce!==z)&&$j(c,T,y,z),ha=!1,ce=c.memoizedState,T.state=ce,Jc(c,y,T,b);var je=c.memoizedState;L!==de||ce!==je||cr.current||ha?(typeof ge=="function"&&(Jh(c,f,ge,y),je=c.memoizedState),(te=ha||Cj(c,f,te,y,ce,je,z)||!1)?(ue||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(y,je,z),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(y,je,z)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===i.memoizedProps&&ce===i.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&ce===i.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=je),T.props=y,T.state=je,T.context=z,y=te):(typeof T.componentDidUpdate!="function"||L===i.memoizedProps&&ce===i.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&ce===i.memoizedState||(c.flags|=1024),y=!1)}return rp(i,c,f,y,S,b)}function rp(i,c,f,y,b,S){Hj(i,c);var T=(c.flags&128)!==0;if(!y&&!T)return b&&Xw(c,f,!1),Mn(i,c,S);y=c.stateNode,k$.current=c;var L=T&&typeof f.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,i!==null&&T?(c.child=zi(c,i.child,null,S),c.child=zi(c,null,L,S)):rr(i,c,L,S),c.memoizedState=y.state,b&&Xw(c,f,!0),c.child}function Kj(i){var c=i.stateNode;c.pendingContext?Gw(i,c.pendingContext,c.pendingContext!==c.context):c.context&&Gw(i,c.context,!1),Fh(i,c.containerInfo)}function Vj(i,c,f,y,b){return qi(),Ch(b),c.flags|=256,rr(i,c,f,y),c.child}var np={dehydrated:null,treeContext:null,retryLane:0};function ap(i){return{baseLanes:i,cachePool:null,transitions:null}}function Gj(i,c,f){var y=c.pendingProps,b=yt.current,S=!1,T=(c.flags&128)!==0,L;if((L=T)||(L=i!==null&&i.memoizedState===null?!1:(b&2)!==0),L?(S=!0,c.flags&=-129):(i===null||i.memoizedState!==null)&&(b|=1),nt(yt,b&1),i===null)return Th(c),i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((c.mode&1)===0?c.lanes=1:i.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(T=y.children,i=y.fallback,S?(y=c.mode,S=c.child,T={mode:"hidden",children:T},(y&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=T):S=vu(T,y,0,null),i=Va(i,y,f,null),S.return=c,i.return=c,S.sibling=i,c.child=S,c.child.memoizedState=ap(f),c.memoizedState=np,i):ip(c,T));if(b=i.memoizedState,b!==null&&(L=b.dehydrated,L!==null))return A$(i,c,T,y,L,b,f);if(S){S=y.fallback,T=c.mode,b=i.child,L=b.sibling;var z={mode:"hidden",children:y.children};return(T&1)===0&&c.child!==b?(y=c.child,y.childLanes=0,y.pendingProps=z,c.deletions=null):(y=ba(b,z),y.subtreeFlags=b.subtreeFlags&14680064),L!==null?S=ba(L,S):(S=Va(S,T,f,null),S.flags|=2),S.return=c,y.return=c,y.sibling=S,c.child=y,y=S,S=c.child,T=i.child.memoizedState,T=T===null?ap(f):{baseLanes:T.baseLanes|f,cachePool:null,transitions:T.transitions},S.memoizedState=T,S.childLanes=i.childLanes&~f,c.memoizedState=np,y}return S=i.child,i=S.sibling,y=ba(S,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=f),y.return=c,y.sibling=null,i!==null&&(f=c.deletions,f===null?(c.deletions=[i],c.flags|=16):f.push(i)),c.child=y,c.memoizedState=null,y}function ip(i,c){return c=vu({mode:"visible",children:c},i.mode,0,null),c.return=i,i.child=c}function iu(i,c,f,y){return y!==null&&Ch(y),zi(c,i.child,null,f),i=ip(c,c.pendingProps.children),i.flags|=2,c.memoizedState=null,i}function A$(i,c,f,y,b,S,T){if(f)return c.flags&256?(c.flags&=-257,y=Zh(Error(r(422))),iu(i,c,T,y)):c.memoizedState!==null?(c.child=i.child,c.flags|=128,null):(S=y.fallback,b=c.mode,y=vu({mode:"visible",children:y.children},b,0,null),S=Va(S,b,T,null),S.flags|=2,y.return=c,S.return=c,y.sibling=S,c.child=y,(c.mode&1)!==0&&zi(c,i.child,null,T),c.child.memoizedState=ap(T),c.memoizedState=np,S);if((c.mode&1)===0)return iu(i,c,T,null);if(b.data==="$!"){if(y=b.nextSibling&&b.nextSibling.dataset,y)var L=y.dgst;return y=L,S=Error(r(419)),y=Zh(S,y,void 0),iu(i,c,T,y)}if(L=(T&i.childLanes)!==0,dr||L){if(y=Ft,y!==null){switch(T&-T){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(y.suspendedLanes|T))!==0?0:b,b!==0&&b!==S.retryLane&&(S.retryLane=b,Dn(i,b),sn(y,i,b,-1))}return wp(),y=Zh(Error(r(421))),iu(i,c,T,y)}return b.data==="$?"?(c.flags|=128,c.child=i.child,c=q$.bind(null,i),b._reactRetry=c,null):(i=S.treeContext,wr=ca(b.nextSibling),br=c,ht=!0,tn=null,i!==null&&(Mr[Lr++]=In,Mr[Lr++]=$n,Mr[Lr++]=La,In=i.id,$n=i.overflow,La=c),c=ip(c,y.children),c.flags|=4096,c)}function Yj(i,c,f){i.lanes|=c;var y=i.alternate;y!==null&&(y.lanes|=c),Rh(i.return,c,f)}function sp(i,c,f,y,b){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:b}:(S.isBackwards=c,S.rendering=null,S.renderingStartTime=0,S.last=y,S.tail=f,S.tailMode=b)}function Xj(i,c,f){var y=c.pendingProps,b=y.revealOrder,S=y.tail;if(rr(i,c,y.children,f),y=yt.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=c.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Yj(i,f,c);else if(i.tag===19)Yj(i,f,c);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===c)break e;for(;i.sibling===null;){if(i.return===null||i.return===c)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}y&=1}if(nt(yt,y),(c.mode&1)===0)c.memoizedState=null;else switch(b){case"forwards":for(f=c.child,b=null;f!==null;)i=f.alternate,i!==null&&Qc(i)===null&&(b=f),f=f.sibling;f=b,f===null?(b=c.child,c.child=null):(b=f.sibling,f.sibling=null),sp(c,!1,b,f,S);break;case"backwards":for(f=null,b=c.child,c.child=null;b!==null;){if(i=b.alternate,i!==null&&Qc(i)===null){c.child=b;break}i=b.sibling,b.sibling=f,f=b,b=i}sp(c,!0,f,null,S);break;case"together":sp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function su(i,c){(c.mode&1)===0&&i!==null&&(i.alternate=null,c.alternate=null,c.flags|=2)}function Mn(i,c,f){if(i!==null&&(c.dependencies=i.dependencies),za|=c.lanes,(f&c.childLanes)===0)return null;if(i!==null&&c.child!==i.child)throw Error(r(153));if(c.child!==null){for(i=c.child,f=ba(i,i.pendingProps),c.child=f,f.return=c;i.sibling!==null;)i=i.sibling,f=f.sibling=ba(i,i.pendingProps),f.return=c;f.sibling=null}return c.child}function P$(i,c,f){switch(c.tag){case 3:Kj(c),qi();break;case 5:uj(c);break;case 1:ur(c.type)&&qc(c);break;case 4:Fh(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,b=c.memoizedProps.value;nt(Gc,y._currentValue),y._currentValue=b;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(nt(yt,yt.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?Gj(i,c,f):(nt(yt,yt.current&1),i=Mn(i,c,f),i!==null?i.sibling:null);nt(yt,yt.current&1);break;case 19:if(y=(f&c.childLanes)!==0,(i.flags&128)!==0){if(y)return Xj(i,c,f);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),nt(yt,yt.current),y)break;return null;case 22:case 23:return c.lanes=0,zj(i,c,f)}return Mn(i,c,f)}var Jj,op,Qj,Zj;Jj=function(i,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},op=function(){},Qj=function(i,c,f,y){var b=i.memoizedProps;if(b!==y){i=c.stateNode,Ua(bn.current);var S=null;switch(f){case"input":b=Fe(i,b),y=Fe(i,y),S=[];break;case"select":b=F({},b,{value:void 0}),y=F({},y,{value:void 0}),S=[];break;case"textarea":b=qe(i,b),y=qe(i,y),S=[];break;default:typeof b.onClick!="function"&&typeof y.onClick=="function"&&(i.onclick=Fc)}Uf(f,y);var T;f=null;for(te in b)if(!y.hasOwnProperty(te)&&b.hasOwnProperty(te)&&b[te]!=null)if(te==="style"){var L=b[te];for(T in L)L.hasOwnProperty(T)&&(f||(f={}),f[T]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(a.hasOwnProperty(te)?S||(S=[]):(S=S||[]).push(te,null));for(te in y){var z=y[te];if(L=b?.[te],y.hasOwnProperty(te)&&z!==L&&(z!=null||L!=null))if(te==="style")if(L){for(T in L)!L.hasOwnProperty(T)||z&&z.hasOwnProperty(T)||(f||(f={}),f[T]="");for(T in z)z.hasOwnProperty(T)&&L[T]!==z[T]&&(f||(f={}),f[T]=z[T])}else f||(S||(S=[]),S.push(te,f)),f=z;else te==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,L=L?L.__html:void 0,z!=null&&L!==z&&(S=S||[]).push(te,z)):te==="children"?typeof z!="string"&&typeof z!="number"||(S=S||[]).push(te,""+z):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(a.hasOwnProperty(te)?(z!=null&&te==="onScroll"&&lt("scroll",i),S||L===z||(S=[])):(S=S||[]).push(te,z))}f&&(S=S||[]).push("style",f);var te=S;(c.updateQueue=te)&&(c.flags|=4)}},Zj=function(i,c,f,y){f!==y&&(c.flags|=4)};function Fo(i,c){if(!ht)switch(i.tailMode){case"hidden":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c||i.tail===null?i.tail=null:i.tail.sibling=null:y.sibling=null}}function Jt(i){var c=i.alternate!==null&&i.alternate.child===i.child,f=0,y=0;if(c)for(var b=i.child;b!==null;)f|=b.lanes|b.childLanes,y|=b.subtreeFlags&14680064,y|=b.flags&14680064,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)f|=b.lanes|b.childLanes,y|=b.subtreeFlags,y|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=y,i.childLanes=f,c}function T$(i,c,f){var y=c.pendingProps;switch(Ah(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(c),null;case 1:return ur(c.type)&&Uc(),Jt(c),null;case 3:return y=c.stateNode,Ki(),ct(cr),ct(Yt),qh(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(i===null||i.child===null)&&(Kc(c)?c.flags|=4:i===null||i.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,tn!==null&&(vp(tn),tn=null))),op(i,c),Jt(c),null;case 5:Bh(c);var b=Ua($o.current);if(f=c.type,i!==null&&c.stateNode!=null)Qj(i,c,f,y,b),i.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(r(166));return Jt(c),null}if(i=Ua(bn.current),Kc(c)){y=c.stateNode,f=c.type;var S=c.memoizedProps;switch(y[xn]=c,y[Ao]=S,i=(c.mode&1)!==0,f){case"dialog":lt("cancel",y),lt("close",y);break;case"iframe":case"object":case"embed":lt("load",y);break;case"video":case"audio":for(b=0;b<Eo.length;b++)lt(Eo[b],y);break;case"source":lt("error",y);break;case"img":case"image":case"link":lt("error",y),lt("load",y);break;case"details":lt("toggle",y);break;case"input":dt(y,S),lt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!S.multiple},lt("invalid",y);break;case"textarea":ye(y,S),lt("invalid",y)}Uf(f,S),b=null;for(var T in S)if(S.hasOwnProperty(T)){var L=S[T];T==="children"?typeof L=="string"?y.textContent!==L&&(S.suppressHydrationWarning!==!0&&Lc(y.textContent,L,i),b=["children",L]):typeof L=="number"&&y.textContent!==""+L&&(S.suppressHydrationWarning!==!0&&Lc(y.textContent,L,i),b=["children",""+L]):a.hasOwnProperty(T)&&L!=null&&T==="onScroll"&&lt("scroll",y)}switch(f){case"input":_e(y),vr(y,S,!0);break;case"textarea":_e(y),Le(y);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(y.onclick=Fc)}y=b,c.updateQueue=y,y!==null&&(c.flags|=4)}else{T=b.nodeType===9?b:b.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ft(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof y.is=="string"?i=T.createElement(f,{is:y.is}):(i=T.createElement(f),f==="select"&&(T=i,y.multiple?T.multiple=!0:y.size&&(T.size=y.size))):i=T.createElementNS(i,f),i[xn]=c,i[Ao]=y,Jj(i,c,!1,!1),c.stateNode=i;e:{switch(T=qf(f,y),f){case"dialog":lt("cancel",i),lt("close",i),b=y;break;case"iframe":case"object":case"embed":lt("load",i),b=y;break;case"video":case"audio":for(b=0;b<Eo.length;b++)lt(Eo[b],i);b=y;break;case"source":lt("error",i),b=y;break;case"img":case"image":case"link":lt("error",i),lt("load",i),b=y;break;case"details":lt("toggle",i),b=y;break;case"input":dt(i,y),b=Fe(i,y),lt("invalid",i);break;case"option":b=y;break;case"select":i._wrapperState={wasMultiple:!!y.multiple},b=F({},y,{value:void 0}),lt("invalid",i);break;case"textarea":ye(i,y),b=qe(i,y),lt("invalid",i);break;default:b=y}Uf(f,b),L=b;for(S in L)if(L.hasOwnProperty(S)){var z=L[S];S==="style"?qb(i,z):S==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&gn(i,z)):S==="children"?typeof z=="string"?(f!=="textarea"||z!=="")&&so(i,z):typeof z=="number"&&so(i,""+z):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(a.hasOwnProperty(S)?z!=null&&S==="onScroll"&&lt("scroll",i):z!=null&&E(i,S,z,T))}switch(f){case"input":_e(i),vr(i,y,!1);break;case"textarea":_e(i),Le(i);break;case"option":y.value!=null&&i.setAttribute("value",""+xe(y.value));break;case"select":i.multiple=!!y.multiple,S=y.value,S!=null?ve(i,!!y.multiple,S,!1):y.defaultValue!=null&&ve(i,!!y.multiple,y.defaultValue,!0);break;default:typeof b.onClick=="function"&&(i.onclick=Fc)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Jt(c),null;case 6:if(i&&c.stateNode!=null)Zj(i,c,i.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(f=Ua($o.current),Ua(bn.current),Kc(c)){if(y=c.stateNode,f=c.memoizedProps,y[xn]=c,(S=y.nodeValue!==f)&&(i=br,i!==null))switch(i.tag){case 3:Lc(y.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Lc(y.nodeValue,f,(i.mode&1)!==0)}S&&(c.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[xn]=c,c.stateNode=y}return Jt(c),null;case 13:if(ct(yt),y=c.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ht&&wr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)rj(),qi(),c.flags|=98560,S=!1;else if(S=Kc(c),y!==null&&y.dehydrated!==null){if(i===null){if(!S)throw Error(r(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[xn]=c}else qi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Jt(c),S=!1}else tn!==null&&(vp(tn),tn=null),S=!0;if(!S)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(y=y!==null,y!==(i!==null&&i.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(i===null||(yt.current&1)!==0?Tt===0&&(Tt=3):wp())),c.updateQueue!==null&&(c.flags|=4),Jt(c),null);case 4:return Ki(),op(i,c),i===null&&Oo(c.stateNode.containerInfo),Jt(c),null;case 10:return Dh(c.type._context),Jt(c),null;case 17:return ur(c.type)&&Uc(),Jt(c),null;case 19:if(ct(yt),S=c.memoizedState,S===null)return Jt(c),null;if(y=(c.flags&128)!==0,T=S.rendering,T===null)if(y)Fo(S,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=c.child;i!==null;){if(T=Qc(i),T!==null){for(c.flags|=128,Fo(S,!1),y=T.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=f,f=c.child;f!==null;)S=f,i=y,S.flags&=14680066,T=S.alternate,T===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=T.childLanes,S.lanes=T.lanes,S.child=T.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=T.memoizedProps,S.memoizedState=T.memoizedState,S.updateQueue=T.updateQueue,S.type=T.type,i=T.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return nt(yt,yt.current&1|2),c.child}i=i.sibling}S.tail!==null&&_t()>Xi&&(c.flags|=128,y=!0,Fo(S,!1),c.lanes=4194304)}else{if(!y)if(i=Qc(T),i!==null){if(c.flags|=128,y=!0,f=i.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),Fo(S,!0),S.tail===null&&S.tailMode==="hidden"&&!T.alternate&&!ht)return Jt(c),null}else 2*_t()-S.renderingStartTime>Xi&&f!==1073741824&&(c.flags|=128,y=!0,Fo(S,!1),c.lanes=4194304);S.isBackwards?(T.sibling=c.child,c.child=T):(f=S.last,f!==null?f.sibling=T:c.child=T,S.last=T)}return S.tail!==null?(c=S.tail,S.rendering=c,S.tail=c.sibling,S.renderingStartTime=_t(),c.sibling=null,f=yt.current,nt(yt,y?f&1|2:f&1),c):(Jt(c),null);case 22:case 23:return bp(),y=c.memoizedState!==null,i!==null&&i.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(jr&1073741824)!==0&&(Jt(c),c.subtreeFlags&6&&(c.flags|=8192)):Jt(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function C$(i,c){switch(Ah(c),c.tag){case 1:return ur(c.type)&&Uc(),i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 3:return Ki(),ct(cr),ct(Yt),qh(),i=c.flags,(i&65536)!==0&&(i&128)===0?(c.flags=i&-65537|128,c):null;case 5:return Bh(c),null;case 13:if(ct(yt),i=c.memoizedState,i!==null&&i.dehydrated!==null){if(c.alternate===null)throw Error(r(340));qi()}return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 19:return ct(yt),null;case 4:return Ki(),null;case 10:return Dh(c.type._context),null;case 22:case 23:return bp(),null;case 24:return null;default:return null}}var ou=!1,Qt=!1,I$=typeof WeakSet=="function"?WeakSet:Set,be=null;function Gi(i,c){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){bt(i,c,y)}else f.current=null}function lp(i,c,f){try{f()}catch(y){bt(i,c,y)}}var e1=!1;function $$(i,c){if(bh=Oc,i=Cw(),fh(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var b=y.anchorOffset,S=y.focusNode;y=y.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var T=0,L=-1,z=-1,te=0,ue=0,de=i,ce=null;t:for(;;){for(var ge;de!==f||b!==0&&de.nodeType!==3||(L=T+b),de!==S||y!==0&&de.nodeType!==3||(z=T+y),de.nodeType===3&&(T+=de.nodeValue.length),(ge=de.firstChild)!==null;)ce=de,de=ge;for(;;){if(de===i)break t;if(ce===f&&++te===b&&(L=T),ce===S&&++ue===y&&(z=T),(ge=de.nextSibling)!==null)break;de=ce,ce=de.parentNode}de=ge}f=L===-1||z===-1?null:{start:L,end:z}}else f=null}f=f||{start:0,end:0}}else f=null;for(wh={focusedElem:i,selectionRange:f},Oc=!1,be=c;be!==null;)if(c=be,i=c.child,(c.subtreeFlags&1028)!==0&&i!==null)i.return=c,be=i;else for(;be!==null;){c=be;try{var je=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Se=je.memoizedProps,St=je.memoizedState,X=c.stateNode,W=X.getSnapshotBeforeUpdate(c.elementType===c.type?Se:rn(c.type,Se),St);X.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Z=c.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(fe){bt(c,c.return,fe)}if(i=c.sibling,i!==null){i.return=c.return,be=i;break}be=c.return}return je=e1,e1=!1,je}function Bo(i,c,f){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var b=y=y.next;do{if((b.tag&i)===i){var S=b.destroy;b.destroy=void 0,S!==void 0&&lp(c,f,S)}b=b.next}while(b!==y)}}function lu(i,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&i)===i){var y=f.create;f.destroy=y()}f=f.next}while(f!==c)}}function cp(i){var c=i.ref;if(c!==null){var f=i.stateNode;switch(i.tag){case 5:i=f;break;default:i=f}typeof c=="function"?c(i):c.current=i}}function t1(i){var c=i.alternate;c!==null&&(i.alternate=null,t1(c)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(c=i.stateNode,c!==null&&(delete c[xn],delete c[Ao],delete c[Nh],delete c[y$],delete c[g$])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function r1(i){return i.tag===5||i.tag===3||i.tag===4}function n1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||r1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function up(i,c,f){var y=i.tag;if(y===5||y===6)i=i.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(i,c):f.insertBefore(i,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(i,f)):(c=f,c.appendChild(i)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Fc));else if(y!==4&&(i=i.child,i!==null))for(up(i,c,f),i=i.sibling;i!==null;)up(i,c,f),i=i.sibling}function dp(i,c,f){var y=i.tag;if(y===5||y===6)i=i.stateNode,c?f.insertBefore(i,c):f.appendChild(i);else if(y!==4&&(i=i.child,i!==null))for(dp(i,c,f),i=i.sibling;i!==null;)dp(i,c,f),i=i.sibling}var Ht=null,nn=!1;function ma(i,c,f){for(f=f.child;f!==null;)a1(i,c,f),f=f.sibling}function a1(i,c,f){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(wc,f)}catch{}switch(f.tag){case 5:Qt||Gi(f,c);case 6:var y=Ht,b=nn;Ht=null,ma(i,c,f),Ht=y,nn=b,Ht!==null&&(nn?(i=Ht,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):Ht.removeChild(f.stateNode));break;case 18:Ht!==null&&(nn?(i=Ht,f=f.stateNode,i.nodeType===8?Sh(i.parentNode,f):i.nodeType===1&&Sh(i,f),vo(i)):Sh(Ht,f.stateNode));break;case 4:y=Ht,b=nn,Ht=f.stateNode.containerInfo,nn=!0,ma(i,c,f),Ht=y,nn=b;break;case 0:case 11:case 14:case 15:if(!Qt&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){b=y=y.next;do{var S=b,T=S.destroy;S=S.tag,T!==void 0&&((S&2)!==0||(S&4)!==0)&&lp(f,c,T),b=b.next}while(b!==y)}ma(i,c,f);break;case 1:if(!Qt&&(Gi(f,c),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(L){bt(f,c,L)}ma(i,c,f);break;case 21:ma(i,c,f);break;case 22:f.mode&1?(Qt=(y=Qt)||f.memoizedState!==null,ma(i,c,f),Qt=y):ma(i,c,f);break;default:ma(i,c,f)}}function i1(i){var c=i.updateQueue;if(c!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new I$),c.forEach(function(y){var b=z$.bind(null,i,y);f.has(y)||(f.add(y),y.then(b,b))})}}function an(i,c){var f=c.deletions;if(f!==null)for(var y=0;y<f.length;y++){var b=f[y];try{var S=i,T=c,L=T;e:for(;L!==null;){switch(L.tag){case 5:Ht=L.stateNode,nn=!1;break e;case 3:Ht=L.stateNode.containerInfo,nn=!0;break e;case 4:Ht=L.stateNode.containerInfo,nn=!0;break e}L=L.return}if(Ht===null)throw Error(r(160));a1(S,T,b),Ht=null,nn=!1;var z=b.alternate;z!==null&&(z.return=null),b.return=null}catch(te){bt(b,c,te)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)s1(c,i),c=c.sibling}function s1(i,c){var f=i.alternate,y=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(an(c,i),jn(i),y&4){try{Bo(3,i,i.return),lu(3,i)}catch(Se){bt(i,i.return,Se)}try{Bo(5,i,i.return)}catch(Se){bt(i,i.return,Se)}}break;case 1:an(c,i),jn(i),y&512&&f!==null&&Gi(f,f.return);break;case 5:if(an(c,i),jn(i),y&512&&f!==null&&Gi(f,f.return),i.flags&32){var b=i.stateNode;try{so(b,"")}catch(Se){bt(i,i.return,Se)}}if(y&4&&(b=i.stateNode,b!=null)){var S=i.memoizedProps,T=f!==null?f.memoizedProps:S,L=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{L==="input"&&S.type==="radio"&&S.name!=null&&tt(b,S),qf(L,T);var te=qf(L,S);for(T=0;T<z.length;T+=2){var ue=z[T],de=z[T+1];ue==="style"?qb(b,de):ue==="dangerouslySetInnerHTML"?gn(b,de):ue==="children"?so(b,de):E(b,ue,de,te)}switch(L){case"input":mt(b,S);break;case"textarea":ze(b,S);break;case"select":var ce=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!S.multiple;var ge=S.value;ge!=null?ve(b,!!S.multiple,ge,!1):ce!==!!S.multiple&&(S.defaultValue!=null?ve(b,!!S.multiple,S.defaultValue,!0):ve(b,!!S.multiple,S.multiple?[]:"",!1))}b[Ao]=S}catch(Se){bt(i,i.return,Se)}}break;case 6:if(an(c,i),jn(i),y&4){if(i.stateNode===null)throw Error(r(162));b=i.stateNode,S=i.memoizedProps;try{b.nodeValue=S}catch(Se){bt(i,i.return,Se)}}break;case 3:if(an(c,i),jn(i),y&4&&f!==null&&f.memoizedState.isDehydrated)try{vo(c.containerInfo)}catch(Se){bt(i,i.return,Se)}break;case 4:an(c,i),jn(i);break;case 13:an(c,i),jn(i),b=i.child,b.flags&8192&&(S=b.memoizedState!==null,b.stateNode.isHidden=S,!S||b.alternate!==null&&b.alternate.memoizedState!==null||(pp=_t())),y&4&&i1(i);break;case 22:if(ue=f!==null&&f.memoizedState!==null,i.mode&1?(Qt=(te=Qt)||ue,an(c,i),Qt=te):an(c,i),jn(i),y&8192){if(te=i.memoizedState!==null,(i.stateNode.isHidden=te)&&!ue&&(i.mode&1)!==0)for(be=i,ue=i.child;ue!==null;){for(de=be=ue;be!==null;){switch(ce=be,ge=ce.child,ce.tag){case 0:case 11:case 14:case 15:Bo(4,ce,ce.return);break;case 1:Gi(ce,ce.return);var je=ce.stateNode;if(typeof je.componentWillUnmount=="function"){y=ce,f=ce.return;try{c=y,je.props=c.memoizedProps,je.state=c.memoizedState,je.componentWillUnmount()}catch(Se){bt(y,f,Se)}}break;case 5:Gi(ce,ce.return);break;case 22:if(ce.memoizedState!==null){c1(de);continue}}ge!==null?(ge.return=ce,be=ge):c1(de)}ue=ue.sibling}e:for(ue=null,de=i;;){if(de.tag===5){if(ue===null){ue=de;try{b=de.stateNode,te?(S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(L=de.stateNode,z=de.memoizedProps.style,T=z!=null&&z.hasOwnProperty("display")?z.display:null,L.style.display=Ub("display",T))}catch(Se){bt(i,i.return,Se)}}}else if(de.tag===6){if(ue===null)try{de.stateNode.nodeValue=te?"":de.memoizedProps}catch(Se){bt(i,i.return,Se)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===i)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===i)break e;for(;de.sibling===null;){if(de.return===null||de.return===i)break e;ue===de&&(ue=null),de=de.return}ue===de&&(ue=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:an(c,i),jn(i),y&4&&i1(i);break;case 21:break;default:an(c,i),jn(i)}}function jn(i){var c=i.flags;if(c&2){try{e:{for(var f=i.return;f!==null;){if(r1(f)){var y=f;break e}f=f.return}throw Error(r(160))}switch(y.tag){case 5:var b=y.stateNode;y.flags&32&&(so(b,""),y.flags&=-33);var S=n1(i);dp(i,S,b);break;case 3:case 4:var T=y.stateNode.containerInfo,L=n1(i);up(i,L,T);break;default:throw Error(r(161))}}catch(z){bt(i,i.return,z)}i.flags&=-3}c&4096&&(i.flags&=-4097)}function D$(i,c,f){be=i,o1(i)}function o1(i,c,f){for(var y=(i.mode&1)!==0;be!==null;){var b=be,S=b.child;if(b.tag===22&&y){var T=b.memoizedState!==null||ou;if(!T){var L=b.alternate,z=L!==null&&L.memoizedState!==null||Qt;L=ou;var te=Qt;if(ou=T,(Qt=z)&&!te)for(be=b;be!==null;)T=be,z=T.child,T.tag===22&&T.memoizedState!==null?u1(b):z!==null?(z.return=T,be=z):u1(b);for(;S!==null;)be=S,o1(S),S=S.sibling;be=b,ou=L,Qt=te}l1(i)}else(b.subtreeFlags&8772)!==0&&S!==null?(S.return=b,be=S):l1(i)}}function l1(i){for(;be!==null;){var c=be;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Qt||lu(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!Qt)if(f===null)y.componentDidMount();else{var b=c.elementType===c.type?f.memoizedProps:rn(c.type,f.memoizedProps);y.componentDidUpdate(b,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var S=c.updateQueue;S!==null&&cj(c,S,y);break;case 3:var T=c.updateQueue;if(T!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}cj(c,T,f)}break;case 5:var L=c.stateNode;if(f===null&&c.flags&4){f=L;var z=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&f.focus();break;case"img":z.src&&(f.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var te=c.alternate;if(te!==null){var ue=te.memoizedState;if(ue!==null){var de=ue.dehydrated;de!==null&&vo(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Qt||c.flags&512&&cp(c)}catch(ce){bt(c,c.return,ce)}}if(c===i){be=null;break}if(f=c.sibling,f!==null){f.return=c.return,be=f;break}be=c.return}}function c1(i){for(;be!==null;){var c=be;if(c===i){be=null;break}var f=c.sibling;if(f!==null){f.return=c.return,be=f;break}be=c.return}}function u1(i){for(;be!==null;){var c=be;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{lu(4,c)}catch(z){bt(c,f,z)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var b=c.return;try{y.componentDidMount()}catch(z){bt(c,b,z)}}var S=c.return;try{cp(c)}catch(z){bt(c,S,z)}break;case 5:var T=c.return;try{cp(c)}catch(z){bt(c,T,z)}}}catch(z){bt(c,c.return,z)}if(c===i){be=null;break}var L=c.sibling;if(L!==null){L.return=c.return,be=L;break}be=c.return}}var R$=Math.ceil,cu=A.ReactCurrentDispatcher,fp=A.ReactCurrentOwner,Ur=A.ReactCurrentBatchConfig,He=0,Ft=null,Nt=null,Wt=0,jr=0,Yi=ua(0),Tt=0,Uo=null,za=0,uu=0,hp=0,qo=null,fr=null,pp=0,Xi=1/0,Ln=null,du=!1,mp=null,ya=null,fu=!1,ga=null,hu=0,zo=0,yp=null,pu=-1,mu=0;function nr(){return(He&6)!==0?_t():pu!==-1?pu:pu=_t()}function va(i){return(i.mode&1)===0?1:(He&2)!==0&&Wt!==0?Wt&-Wt:x$.transition!==null?(mu===0&&(mu=nw()),mu):(i=Qe,i!==0||(i=window.event,i=i===void 0?16:fw(i.type)),i)}function sn(i,c,f,y){if(50<zo)throw zo=0,yp=null,Error(r(185));ho(i,f,y),((He&2)===0||i!==Ft)&&(i===Ft&&((He&2)===0&&(uu|=f),Tt===4&&xa(i,Wt)),hr(i,y),f===1&&He===0&&(c.mode&1)===0&&(Xi=_t()+500,zc&&fa()))}function hr(i,c){var f=i.callbackNode;xI(i,c);var y=Sc(i,i===Ft?Wt:0);if(y===0)f!==null&&ew(f),i.callbackNode=null,i.callbackPriority=0;else if(c=y&-y,i.callbackPriority!==c){if(f!=null&&ew(f),c===1)i.tag===0?v$(f1.bind(null,i)):Jw(f1.bind(null,i)),p$(function(){(He&6)===0&&fa()}),f=null;else{switch(aw(y)){case 1:f=Yf;break;case 4:f=tw;break;case 16:f=bc;break;case 536870912:f=rw;break;default:f=bc}f=b1(f,d1.bind(null,i))}i.callbackPriority=c,i.callbackNode=f}}function d1(i,c){if(pu=-1,mu=0,(He&6)!==0)throw Error(r(327));var f=i.callbackNode;if(Ji()&&i.callbackNode!==f)return null;var y=Sc(i,i===Ft?Wt:0);if(y===0)return null;if((y&30)!==0||(y&i.expiredLanes)!==0||c)c=yu(i,y);else{c=y;var b=He;He|=2;var S=p1();(Ft!==i||Wt!==c)&&(Ln=null,Xi=_t()+500,Wa(i,c));do try{F$();break}catch(L){h1(i,L)}while(!0);$h(),cu.current=S,He=b,Nt!==null?c=0:(Ft=null,Wt=0,c=Tt)}if(c!==0){if(c===2&&(b=Xf(i),b!==0&&(y=b,c=gp(i,b))),c===1)throw f=Uo,Wa(i,0),xa(i,y),hr(i,_t()),f;if(c===6)xa(i,y);else{if(b=i.current.alternate,(y&30)===0&&!M$(b)&&(c=yu(i,y),c===2&&(S=Xf(i),S!==0&&(y=S,c=gp(i,S))),c===1))throw f=Uo,Wa(i,0),xa(i,y),hr(i,_t()),f;switch(i.finishedWork=b,i.finishedLanes=y,c){case 0:case 1:throw Error(r(345));case 2:Ka(i,fr,Ln);break;case 3:if(xa(i,y),(y&130023424)===y&&(c=pp+500-_t(),10<c)){if(Sc(i,0)!==0)break;if(b=i.suspendedLanes,(b&y)!==y){nr(),i.pingedLanes|=i.suspendedLanes&b;break}i.timeoutHandle=_h(Ka.bind(null,i,fr,Ln),c);break}Ka(i,fr,Ln);break;case 4:if(xa(i,y),(y&4194240)===y)break;for(c=i.eventTimes,b=-1;0<y;){var T=31-Zr(y);S=1<<T,T=c[T],T>b&&(b=T),y&=~S}if(y=b,y=_t()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*R$(y/1960))-y,10<y){i.timeoutHandle=_h(Ka.bind(null,i,fr,Ln),y);break}Ka(i,fr,Ln);break;case 5:Ka(i,fr,Ln);break;default:throw Error(r(329))}}}return hr(i,_t()),i.callbackNode===f?d1.bind(null,i):null}function gp(i,c){var f=qo;return i.current.memoizedState.isDehydrated&&(Wa(i,c).flags|=256),i=yu(i,c),i!==2&&(c=fr,fr=f,c!==null&&vp(c)),i}function vp(i){fr===null?fr=i:fr.push.apply(fr,i)}function M$(i){for(var c=i;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var b=f[y],S=b.getSnapshot;b=b.value;try{if(!en(S(),b))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function xa(i,c){for(c&=~hp,c&=~uu,i.suspendedLanes|=c,i.pingedLanes&=~c,i=i.expirationTimes;0<c;){var f=31-Zr(c),y=1<<f;i[f]=-1,c&=~y}}function f1(i){if((He&6)!==0)throw Error(r(327));Ji();var c=Sc(i,0);if((c&1)===0)return hr(i,_t()),null;var f=yu(i,c);if(i.tag!==0&&f===2){var y=Xf(i);y!==0&&(c=y,f=gp(i,y))}if(f===1)throw f=Uo,Wa(i,0),xa(i,c),hr(i,_t()),f;if(f===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=c,Ka(i,fr,Ln),hr(i,_t()),null}function xp(i,c){var f=He;He|=1;try{return i(c)}finally{He=f,He===0&&(Xi=_t()+500,zc&&fa())}}function Ha(i){ga!==null&&ga.tag===0&&(He&6)===0&&Ji();var c=He;He|=1;var f=Ur.transition,y=Qe;try{if(Ur.transition=null,Qe=1,i)return i()}finally{Qe=y,Ur.transition=f,He=c,(He&6)===0&&fa()}}function bp(){jr=Yi.current,ct(Yi)}function Wa(i,c){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,h$(f)),Nt!==null)for(f=Nt.return;f!==null;){var y=f;switch(Ah(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Uc();break;case 3:Ki(),ct(cr),ct(Yt),qh();break;case 5:Bh(y);break;case 4:Ki();break;case 13:ct(yt);break;case 19:ct(yt);break;case 10:Dh(y.type._context);break;case 22:case 23:bp()}f=f.return}if(Ft=i,Nt=i=ba(i.current,null),Wt=jr=c,Tt=0,Uo=null,hp=uu=za=0,fr=qo=null,Ba!==null){for(c=0;c<Ba.length;c++)if(f=Ba[c],y=f.interleaved,y!==null){f.interleaved=null;var b=y.next,S=f.pending;if(S!==null){var T=S.next;S.next=b,y.next=T}f.pending=y}Ba=null}return i}function h1(i,c){do{var f=Nt;try{if($h(),Zc.current=nu,eu){for(var y=gt.memoizedState;y!==null;){var b=y.queue;b!==null&&(b.pending=null),y=y.next}eu=!1}if(qa=0,Lt=Pt=gt=null,Do=!1,Ro=0,fp.current=null,f===null||f.return===null){Tt=1,Uo=c,Nt=null;break}e:{var S=i,T=f.return,L=f,z=c;if(c=Wt,L.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var te=z,ue=L,de=ue.tag;if((ue.mode&1)===0&&(de===0||de===11||de===15)){var ce=ue.alternate;ce?(ue.updateQueue=ce.updateQueue,ue.memoizedState=ce.memoizedState,ue.lanes=ce.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var ge=Lj(T);if(ge!==null){ge.flags&=-257,Fj(ge,T,L,S,c),ge.mode&1&&Mj(S,te,c),c=ge,z=te;var je=c.updateQueue;if(je===null){var Se=new Set;Se.add(z),c.updateQueue=Se}else je.add(z);break e}else{if((c&1)===0){Mj(S,te,c),wp();break e}z=Error(r(426))}}else if(ht&&L.mode&1){var St=Lj(T);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Fj(St,T,L,S,c),Ch(Vi(z,L));break e}}S=z=Vi(z,L),Tt!==4&&(Tt=2),qo===null?qo=[S]:qo.push(S),S=T;do{switch(S.tag){case 3:S.flags|=65536,c&=-c,S.lanes|=c;var X=Dj(S,z,c);lj(S,X);break e;case 1:L=z;var W=S.type,Z=S.stateNode;if((S.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(ya===null||!ya.has(Z)))){S.flags|=65536,c&=-c,S.lanes|=c;var fe=Rj(S,L,c);lj(S,fe);break e}}S=S.return}while(S!==null)}y1(f)}catch(Ne){c=Ne,Nt===f&&f!==null&&(Nt=f=f.return);continue}break}while(!0)}function p1(){var i=cu.current;return cu.current=nu,i===null?nu:i}function wp(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Ft===null||(za&268435455)===0&&(uu&268435455)===0||xa(Ft,Wt)}function yu(i,c){var f=He;He|=2;var y=p1();(Ft!==i||Wt!==c)&&(Ln=null,Wa(i,c));do try{L$();break}catch(b){h1(i,b)}while(!0);if($h(),He=f,cu.current=y,Nt!==null)throw Error(r(261));return Ft=null,Wt=0,Tt}function L$(){for(;Nt!==null;)m1(Nt)}function F$(){for(;Nt!==null&&!uI();)m1(Nt)}function m1(i){var c=x1(i.alternate,i,jr);i.memoizedProps=i.pendingProps,c===null?y1(i):Nt=c,fp.current=null}function y1(i){var c=i;do{var f=c.alternate;if(i=c.return,(c.flags&32768)===0){if(f=T$(f,c,jr),f!==null){Nt=f;return}}else{if(f=C$(f,c),f!==null){f.flags&=32767,Nt=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tt=6,Nt=null;return}}if(c=c.sibling,c!==null){Nt=c;return}Nt=c=i}while(c!==null);Tt===0&&(Tt=5)}function Ka(i,c,f){var y=Qe,b=Ur.transition;try{Ur.transition=null,Qe=1,B$(i,c,f,y)}finally{Ur.transition=b,Qe=y}return null}function B$(i,c,f,y){do Ji();while(ga!==null);if((He&6)!==0)throw Error(r(327));f=i.finishedWork;var b=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var S=f.lanes|f.childLanes;if(bI(i,S),i===Ft&&(Nt=Ft=null,Wt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||fu||(fu=!0,b1(bc,function(){return Ji(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=Ur.transition,Ur.transition=null;var T=Qe;Qe=1;var L=He;He|=4,fp.current=null,$$(i,f),s1(f,i),s$(wh),Oc=!!bh,wh=bh=null,i.current=f,D$(f),dI(),He=L,Qe=T,Ur.transition=S}else i.current=f;if(fu&&(fu=!1,ga=i,hu=b),S=i.pendingLanes,S===0&&(ya=null),pI(f.stateNode),hr(i,_t()),c!==null)for(y=i.onRecoverableError,f=0;f<c.length;f++)b=c[f],y(b.value,{componentStack:b.stack,digest:b.digest});if(du)throw du=!1,i=mp,mp=null,i;return(hu&1)!==0&&i.tag!==0&&Ji(),S=i.pendingLanes,(S&1)!==0?i===yp?zo++:(zo=0,yp=i):zo=0,fa(),null}function Ji(){if(ga!==null){var i=aw(hu),c=Ur.transition,f=Qe;try{if(Ur.transition=null,Qe=16>i?16:i,ga===null)var y=!1;else{if(i=ga,ga=null,hu=0,(He&6)!==0)throw Error(r(331));var b=He;for(He|=4,be=i.current;be!==null;){var S=be,T=S.child;if((be.flags&16)!==0){var L=S.deletions;if(L!==null){for(var z=0;z<L.length;z++){var te=L[z];for(be=te;be!==null;){var ue=be;switch(ue.tag){case 0:case 11:case 15:Bo(8,ue,S)}var de=ue.child;if(de!==null)de.return=ue,be=de;else for(;be!==null;){ue=be;var ce=ue.sibling,ge=ue.return;if(t1(ue),ue===te){be=null;break}if(ce!==null){ce.return=ge,be=ce;break}be=ge}}}var je=S.alternate;if(je!==null){var Se=je.child;if(Se!==null){je.child=null;do{var St=Se.sibling;Se.sibling=null,Se=St}while(Se!==null)}}be=S}}if((S.subtreeFlags&2064)!==0&&T!==null)T.return=S,be=T;else e:for(;be!==null;){if(S=be,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Bo(9,S,S.return)}var X=S.sibling;if(X!==null){X.return=S.return,be=X;break e}be=S.return}}var W=i.current;for(be=W;be!==null;){T=be;var Z=T.child;if((T.subtreeFlags&2064)!==0&&Z!==null)Z.return=T,be=Z;else e:for(T=W;be!==null;){if(L=be,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:lu(9,L)}}catch(Ne){bt(L,L.return,Ne)}if(L===T){be=null;break e}var fe=L.sibling;if(fe!==null){fe.return=L.return,be=fe;break e}be=L.return}}if(He=b,fa(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(wc,i)}catch{}y=!0}return y}finally{Qe=f,Ur.transition=c}}return!1}function g1(i,c,f){c=Vi(f,c),c=Dj(i,c,1),i=pa(i,c,1),c=nr(),i!==null&&(ho(i,1,c),hr(i,c))}function bt(i,c,f){if(i.tag===3)g1(i,i,f);else for(;c!==null;){if(c.tag===3){g1(c,i,f);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ya===null||!ya.has(y))){i=Vi(f,i),i=Rj(c,i,1),c=pa(c,i,1),i=nr(),c!==null&&(ho(c,1,i),hr(c,i));break}}c=c.return}}function U$(i,c,f){var y=i.pingCache;y!==null&&y.delete(c),c=nr(),i.pingedLanes|=i.suspendedLanes&f,Ft===i&&(Wt&f)===f&&(Tt===4||Tt===3&&(Wt&130023424)===Wt&&500>_t()-pp?Wa(i,0):hp|=f),hr(i,c)}function v1(i,c){c===0&&((i.mode&1)===0?c=1:(c=_c,_c<<=1,(_c&130023424)===0&&(_c=4194304)));var f=nr();i=Dn(i,c),i!==null&&(ho(i,c,f),hr(i,f))}function q$(i){var c=i.memoizedState,f=0;c!==null&&(f=c.retryLane),v1(i,f)}function z$(i,c){var f=0;switch(i.tag){case 13:var y=i.stateNode,b=i.memoizedState;b!==null&&(f=b.retryLane);break;case 19:y=i.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(c),v1(i,f)}var x1;x1=function(i,c,f){if(i!==null)if(i.memoizedProps!==c.pendingProps||cr.current)dr=!0;else{if((i.lanes&f)===0&&(c.flags&128)===0)return dr=!1,P$(i,c,f);dr=(i.flags&131072)!==0}else dr=!1,ht&&(c.flags&1048576)!==0&&Qw(c,Wc,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;su(i,c),i=c.pendingProps;var b=Fi(c,Yt.current);Wi(c,f),b=Wh(null,c,y,i,b,f);var S=Kh();return c.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,ur(y)?(S=!0,qc(c)):S=!1,c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Lh(c),b.updater=au,c.stateNode=b,b._reactInternals=c,Qh(c,y,i,f),c=rp(null,c,y,!0,S,f)):(c.tag=0,ht&&S&&kh(c),rr(null,c,b,f),c=c.child),c;case 16:y=c.elementType;e:{switch(su(i,c),i=c.pendingProps,b=y._init,y=b(y._payload),c.type=y,b=c.tag=W$(y),i=rn(y,i),b){case 0:c=tp(null,c,y,i,f);break e;case 1:c=Wj(null,c,y,i,f);break e;case 11:c=Bj(null,c,y,i,f);break e;case 14:c=Uj(null,c,y,rn(y.type,i),f);break e}throw Error(r(306,y,""))}return c;case 0:return y=c.type,b=c.pendingProps,b=c.elementType===y?b:rn(y,b),tp(i,c,y,b,f);case 1:return y=c.type,b=c.pendingProps,b=c.elementType===y?b:rn(y,b),Wj(i,c,y,b,f);case 3:e:{if(Kj(c),i===null)throw Error(r(387));y=c.pendingProps,S=c.memoizedState,b=S.element,oj(i,c),Jc(c,y,null,f);var T=c.memoizedState;if(y=T.element,S.isDehydrated)if(S={element:y,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){b=Vi(Error(r(423)),c),c=Vj(i,c,y,f,b);break e}else if(y!==b){b=Vi(Error(r(424)),c),c=Vj(i,c,y,f,b);break e}else for(wr=ca(c.stateNode.containerInfo.firstChild),br=c,ht=!0,tn=null,f=ij(c,null,y,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(qi(),y===b){c=Mn(i,c,f);break e}rr(i,c,y,f)}c=c.child}return c;case 5:return uj(c),i===null&&Th(c),y=c.type,b=c.pendingProps,S=i!==null?i.memoizedProps:null,T=b.children,jh(y,b)?T=null:S!==null&&jh(y,S)&&(c.flags|=32),Hj(i,c),rr(i,c,T,f),c.child;case 6:return i===null&&Th(c),null;case 13:return Gj(i,c,f);case 4:return Fh(c,c.stateNode.containerInfo),y=c.pendingProps,i===null?c.child=zi(c,null,y,f):rr(i,c,y,f),c.child;case 11:return y=c.type,b=c.pendingProps,b=c.elementType===y?b:rn(y,b),Bj(i,c,y,b,f);case 7:return rr(i,c,c.pendingProps,f),c.child;case 8:return rr(i,c,c.pendingProps.children,f),c.child;case 12:return rr(i,c,c.pendingProps.children,f),c.child;case 10:e:{if(y=c.type._context,b=c.pendingProps,S=c.memoizedProps,T=b.value,nt(Gc,y._currentValue),y._currentValue=T,S!==null)if(en(S.value,T)){if(S.children===b.children&&!cr.current){c=Mn(i,c,f);break e}}else for(S=c.child,S!==null&&(S.return=c);S!==null;){var L=S.dependencies;if(L!==null){T=S.child;for(var z=L.firstContext;z!==null;){if(z.context===y){if(S.tag===1){z=Rn(-1,f&-f),z.tag=2;var te=S.updateQueue;if(te!==null){te=te.shared;var ue=te.pending;ue===null?z.next=z:(z.next=ue.next,ue.next=z),te.pending=z}}S.lanes|=f,z=S.alternate,z!==null&&(z.lanes|=f),Rh(S.return,f,c),L.lanes|=f;break}z=z.next}}else if(S.tag===10)T=S.type===c.type?null:S.child;else if(S.tag===18){if(T=S.return,T===null)throw Error(r(341));T.lanes|=f,L=T.alternate,L!==null&&(L.lanes|=f),Rh(T,f,c),T=S.sibling}else T=S.child;if(T!==null)T.return=S;else for(T=S;T!==null;){if(T===c){T=null;break}if(S=T.sibling,S!==null){S.return=T.return,T=S;break}T=T.return}S=T}rr(i,c,b.children,f),c=c.child}return c;case 9:return b=c.type,y=c.pendingProps.children,Wi(c,f),b=Fr(b),y=y(b),c.flags|=1,rr(i,c,y,f),c.child;case 14:return y=c.type,b=rn(y,c.pendingProps),b=rn(y.type,b),Uj(i,c,y,b,f);case 15:return qj(i,c,c.type,c.pendingProps,f);case 17:return y=c.type,b=c.pendingProps,b=c.elementType===y?b:rn(y,b),su(i,c),c.tag=1,ur(y)?(i=!0,qc(c)):i=!1,Wi(c,f),Ij(c,y,b),Qh(c,y,b,f),rp(null,c,y,!0,i,f);case 19:return Xj(i,c,f);case 22:return zj(i,c,f)}throw Error(r(156,c.tag))};function b1(i,c){return Zb(i,c)}function H$(i,c,f,y){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(i,c,f,y){return new H$(i,c,f,y)}function jp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function W$(i){if(typeof i=="function")return jp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===Y)return 14}return 2}function ba(i,c){var f=i.alternate;return f===null?(f=qr(i.tag,c,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=c,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,c=i.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function gu(i,c,f,y,b,S){var T=2;if(y=i,typeof i=="function")jp(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case P:return Va(f.children,b,S,c);case D:T=8,b|=8;break;case $:return i=qr(12,f,c,b|2),i.elementType=$,i.lanes=S,i;case U:return i=qr(13,f,c,b),i.elementType=U,i.lanes=S,i;case G:return i=qr(19,f,c,b),i.elementType=G,i.lanes=S,i;case re:return vu(f,b,S,c);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:T=10;break e;case C:T=9;break e;case B:T=11;break e;case Y:T=14;break e;case Q:T=16,y=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return c=qr(T,f,c,b),c.elementType=i,c.type=y,c.lanes=S,c}function Va(i,c,f,y){return i=qr(7,i,y,c),i.lanes=f,i}function vu(i,c,f,y){return i=qr(22,i,y,c),i.elementType=re,i.lanes=f,i.stateNode={isHidden:!1},i}function _p(i,c,f){return i=qr(6,i,null,c),i.lanes=f,i}function Sp(i,c,f){return c=qr(4,i.children!==null?i.children:[],i.key,c),c.lanes=f,c.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},c}function K$(i,c,f,y,b){this.tag=c,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jf(0),this.expirationTimes=Jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jf(0),this.identifierPrefix=y,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Np(i,c,f,y,b,S,T,L,z){return i=new K$(i,c,f,L,z),c===1?(c=1,S===!0&&(c|=8)):c=0,S=qr(3,null,null,c),i.current=S,S.stateNode=i,S.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lh(S),i}function V$(i,c,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:y==null?null:""+y,children:i,containerInfo:c,implementation:f}}function w1(i){if(!i)return da;i=i._reactInternals;e:{if(Da(i)!==i||i.tag!==1)throw Error(r(170));var c=i;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(ur(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(i.tag===1){var f=i.type;if(ur(f))return Yw(i,f,c)}return c}function j1(i,c,f,y,b,S,T,L,z){return i=Np(f,y,!0,i,b,S,T,L,z),i.context=w1(null),f=i.current,y=nr(),b=va(f),S=Rn(y,b),S.callback=c??null,pa(f,S,b),i.current.lanes=b,ho(i,b,y),hr(i,y),i}function xu(i,c,f,y){var b=c.current,S=nr(),T=va(b);return f=w1(f),c.context===null?c.context=f:c.pendingContext=f,c=Rn(S,T),c.payload={element:i},y=y===void 0?null:y,y!==null&&(c.callback=y),i=pa(b,c,T),i!==null&&(sn(i,b,T,S),Xc(i,b,T)),T}function bu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function _1(i,c){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<c?f:c}}function Ep(i,c){_1(i,c),(i=i.alternate)&&_1(i,c)}function G$(){return null}var S1=typeof reportError=="function"?reportError:function(i){console.error(i)};function Op(i){this._internalRoot=i}wu.prototype.render=Op.prototype.render=function(i){var c=this._internalRoot;if(c===null)throw Error(r(409));xu(i,c,null,null)},wu.prototype.unmount=Op.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var c=i.containerInfo;Ha(function(){xu(null,i,null,null)}),c[Tn]=null}};function wu(i){this._internalRoot=i}wu.prototype.unstable_scheduleHydration=function(i){if(i){var c=ow();i={blockedOn:null,target:i,priority:c};for(var f=0;f<sa.length&&c!==0&&c<sa[f].priority;f++);sa.splice(f,0,i),f===0&&uw(i)}};function kp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ju(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function N1(){}function Y$(i,c,f,y,b){if(b){if(typeof y=="function"){var S=y;y=function(){var te=bu(T);S.call(te)}}var T=j1(c,y,i,0,null,!1,!1,"",N1);return i._reactRootContainer=T,i[Tn]=T.current,Oo(i.nodeType===8?i.parentNode:i),Ha(),T}for(;b=i.lastChild;)i.removeChild(b);if(typeof y=="function"){var L=y;y=function(){var te=bu(z);L.call(te)}}var z=Np(i,0,!1,null,null,!1,!1,"",N1);return i._reactRootContainer=z,i[Tn]=z.current,Oo(i.nodeType===8?i.parentNode:i),Ha(function(){xu(c,z,f,y)}),z}function _u(i,c,f,y,b){var S=f._reactRootContainer;if(S){var T=S;if(typeof b=="function"){var L=b;b=function(){var z=bu(T);L.call(z)}}xu(c,T,i,b)}else T=Y$(f,c,i,b,y);return bu(T)}iw=function(i){switch(i.tag){case 3:var c=i.stateNode;if(c.current.memoizedState.isDehydrated){var f=fo(c.pendingLanes);f!==0&&(Qf(c,f|1),hr(c,_t()),(He&6)===0&&(Xi=_t()+500,fa()))}break;case 13:Ha(function(){var y=Dn(i,1);if(y!==null){var b=nr();sn(y,i,1,b)}}),Ep(i,1)}},Zf=function(i){if(i.tag===13){var c=Dn(i,134217728);if(c!==null){var f=nr();sn(c,i,134217728,f)}Ep(i,134217728)}},sw=function(i){if(i.tag===13){var c=va(i),f=Dn(i,c);if(f!==null){var y=nr();sn(f,i,c,y)}Ep(i,c)}},ow=function(){return Qe},lw=function(i,c){var f=Qe;try{return Qe=i,c()}finally{Qe=f}},Wf=function(i,c,f){switch(c){case"input":if(mt(i,f),c=f.name,f.type==="radio"&&c!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var y=f[c];if(y!==i&&y.form===i.form){var b=Bc(y);if(!b)throw Error(r(90));se(y),mt(y,b)}}}break;case"textarea":ze(i,f);break;case"select":c=f.value,c!=null&&ve(i,!!f.multiple,c,!1)}},Kb=xp,Vb=Ha;var X$={usingClientEntryPoint:!1,Events:[Po,Mi,Bc,Hb,Wb,xp]},Ho={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J$={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Jb(i),i===null?null:i.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||G$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{wc=Su.inject(J$),vn=Su}catch{}}return pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X$,pr.createPortal=function(i,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kp(c))throw Error(r(200));return V$(i,c,null,f)},pr.createRoot=function(i,c){if(!kp(i))throw Error(r(299));var f=!1,y="",b=S1;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),c=Np(i,1,!1,null,null,f,!1,y,b),i[Tn]=c.current,Oo(i.nodeType===8?i.parentNode:i),new Op(c)},pr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var c=i._reactInternals;if(c===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Jb(c),i=i===null?null:i.stateNode,i},pr.flushSync=function(i){return Ha(i)},pr.hydrate=function(i,c,f){if(!ju(c))throw Error(r(200));return _u(null,i,c,!0,f)},pr.hydrateRoot=function(i,c,f){if(!kp(i))throw Error(r(405));var y=f!=null&&f.hydratedSources||null,b=!1,S="",T=S1;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(T=f.onRecoverableError)),c=j1(c,null,i,1,f??null,b,!1,S,T),i[Tn]=c.current,Oo(i),y)for(i=0;i<y.length;i++)f=y[i],b=f._getVersion,b=b(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,b]:c.mutableSourceEagerHydrationData.push(f,b);return new wu(c)},pr.render=function(i,c,f){if(!ju(c))throw Error(r(200));return _u(null,i,c,!1,f)},pr.unmountComponentAtNode=function(i){if(!ju(i))throw Error(r(40));return i._reactRootContainer?(Ha(function(){_u(null,null,i,!1,function(){i._reactRootContainer=null,i[Tn]=null})}),!0):!1},pr.unstable_batchedUpdates=xp,pr.unstable_renderSubtreeIntoContainer=function(i,c,f,y){if(!ju(f))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return _u(i,c,f,!1,y)},pr.version="18.3.1-next-f1338f8080-20240426",pr}var I1;function iD(){if(I1)return Tp.exports;I1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tp.exports=aD(),Tp.exports}var $1;function sD(){if($1)return Eu;$1=1;var t=iD();return Eu.createRoot=t.createRoot,Eu.hydrateRoot=t.hydrateRoot,Eu}var oD=sD(),R=Ax();const q=Ze(R),Px={vegetables_herbs:"Vegetables & Herbs",grocery_spices:"Grocery / Spices / Sauces",dairy:"Dairy",meat:"Meat",packaging:"Packaging & Consumables",gas_utilities:"Gas / Utilities",production:"Production Ingredients",staff_misc:"Staff / Miscellaneous"},D1={vegetables_herbs:["Tomato","Capsicum","Onion","Cabbage","Gandhoraj Lemon","Lemon","Pudina","Coriander Leaves","Garlic","Green Chilli","Ginger","Red Chilli","Carrot","Potato"],grocery_spices:["Soya Sauce","Chilli Sauce","Vinegar","Oil","Salt","Sugar","Ajinomoto","Black Pepper","White Pepper","Peri Peri Masala","Baking Powder","Corn Flour","Maida"],dairy:["Butter","Cheese"],meat:["Chicken"],packaging:["Butter Paper","Carry Bag","Container","Tissue Paper"],gas_utilities:["LPG Gas"],production:["Dough","Batter","Stuffing"],staff_misc:["Labour","Cleaning","Water","Electricity"]},lD={fuel:"Fuel Cost",travel:"Travel Cost",transportation:"Transportation Cost",marketing:"Marketing Cost",service_charge:"Service Charge (Food Aggregators)",repair:"Repair Cost"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),R1=t=>{const e=uD(t);return e.charAt(0).toUpperCase()+e.slice(1)},l2=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...u},d)=>R.createElement("svg",{ref:d,...dD,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:l2("lucide",a),...u},[...l.map(([h,m])=>R.createElement(h,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const r=R.forwardRef(({className:n,...a},s)=>R.createElement(fD,{ref:s,iconNode:e,className:l2(`lucide-${cD(R1(t))}`,`lucide-${t}`,n),...a}));return r.displayName=R1(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],M1=De("bug",hD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Ku=De("building-2",pD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lr=De("calendar",mD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vv=De("check",yD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Gv=De("chevron-left",gD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ml=De("chevron-right",vD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],bD=De("circle-arrow-down",xD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Cr=De("circle-alert",wD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xr=De("circle-check-big",jD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ns=De("circle-x",_D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Or=De("clock",SD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ED=De("copy",ND);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Gr=De("dollar-sign",OD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],tl=De("download",kD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],PD=De("file-spreadsheet",AD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vs=De("file-text",TD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],ID=De("key-round",CD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],DD=De("layers",$D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],MD=De("loader",RD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],FD=De("lock",LD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],UD=De("log-in",BD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Ou=De("log-out",qD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],c2=De("mail",zD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],L1=De("menu",HD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],u2=De("network",WD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],si=De("package",KD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],oi=De("pen",VD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yl=De("plus",GD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],XD=De("receipt",YD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Gu=De("save",JD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ZD=De("search",QD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],tR=De("shopping-bag",eR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],nR=De("shopping-cart",rR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],iR=De("smartphone",aR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ds=De("square-check-big",sR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],lR=De("table",oR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],qn=De("trash-2",cR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],mr=De("trending-up",uR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$p=De("triangle-alert",dR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ku=De("upload",fR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],pR=De("user-check",hR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],Dp=De("user-cog",mR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ka=De("user-plus",yR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gl=De("user",gR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],kt=De("users",vR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ri=De("wallet",xR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pn=De("x",bR);function wR({selectedDate:t,editingItem:e,onSubmit:r,onClose:n}){const[a,s]=R.useState({category:e?.category||"vegetables_herbs",itemName:e?.itemName||"",customItem:e?!D1[e.category].includes(e.itemName):!1,quantity:e?.quantity.toString()||"",unit:e?.unit||"kg",costPerUnit:e?.costPerUnit.toString()||""}),l=d=>{d.preventDefault();const h=parseFloat(a.quantity),m=parseFloat(a.costPerUnit);r({date:t,category:a.category,itemName:a.itemName,quantity:h,unit:a.unit,costPerUnit:m,totalCost:h*m})},u=D1[a.category];return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-gray-900",children:[e?"Edit":"Add"," Inventory Item"]}),o.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:o.jsx(pn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Category"}),o.jsx("select",{value:a.category,onChange:d=>s({...a,category:d.target.value,itemName:"",customItem:!1}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:Object.entries(Px).map(([d,h])=>o.jsx("option",{value:d,children:h},d))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Item Name"}),a.customItem?o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",value:a.itemName,onChange:d=>s({...a,itemName:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Enter custom item name",required:!0}),o.jsx("button",{type:"button",onClick:()=>s({...a,customItem:!1,itemName:""}),className:"text-sm text-blue-600 hover:text-blue-700",children:" Back to list"})]}):o.jsx("div",{className:"space-y-2",children:o.jsxs("select",{value:a.itemName,onChange:d=>{d.target.value==="__custom__"?s({...a,customItem:!0,itemName:""}):s({...a,itemName:d.target.value})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:[o.jsx("option",{value:"",children:"Select an item"}),u.map(d=>o.jsx("option",{value:d,children:d},d)),o.jsx("option",{value:"__custom__",children:"+ Add Custom Item"})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Quantity"}),o.jsx("input",{type:"number",step:"0.01",value:a.quantity,onChange:d=>s({...a,quantity:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Unit"}),o.jsxs("select",{value:a.unit,onChange:d=>s({...a,unit:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:[o.jsx("option",{value:"kg",children:"kg"}),o.jsx("option",{value:"g",children:"g"}),o.jsx("option",{value:"L",children:"L"}),o.jsx("option",{value:"mL",children:"mL"}),o.jsx("option",{value:"pcs",children:"pcs"}),o.jsx("option",{value:"units",children:"units"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Cost per Unit ()"}),o.jsx("input",{type:"number",step:"0.01",value:a.costPerUnit,onChange:d=>s({...a,costPerUnit:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),a.quantity&&a.costPerUnit&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Cost"}),o.jsxs("p",{className:"text-gray-900",children:["",(parseFloat(a.quantity)*parseFloat(a.costPerUnit)).toFixed(2)]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e?"Update":"Add"," Item"]})]})]})]})})}const jR=[{value:"fuel",label:"Fuel Cost"},{value:"travel",label:"Travel Cost"},{value:"transportation",label:"Transportation Cost"},{value:"marketing",label:"Marketing Cost"},{value:"service_charge",label:"Service Charge (Food Aggregators)"},{value:"repair",label:"Repair Cost"}];function _R({selectedDate:t,onSubmit:e,onClose:r,editingItem:n}){const[a,s]=R.useState({category:n?n.category:"fuel",description:n?n.description:"",amount:n?n.amount.toString():""}),l=u=>{u.preventDefault(),e({date:t,category:a.category,description:a.description,amount:parseFloat(a.amount)})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-gray-900",children:[n?"Edit":"Add"," Overhead Cost"]}),o.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:o.jsx(pn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Category"}),o.jsx("select",{value:a.category,onChange:u=>s({...a,category:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:jR.map(u=>o.jsx("option",{value:u.value,children:u.label},u.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:a.description,onChange:u=>s({...a,description:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Amount ()"}),o.jsx("input",{type:"number",step:"0.01",value:a.amount,onChange:u=>s({...a,amount:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Add Overhead"})]})]})]})})}const SR={fuel:"Fuel Cost",travel:"Travel Cost",transportation:"Transportation Cost",marketing:"Marketing Cost",service_charge:"Service Charge",repair:"Repair Cost"};function NR({inventory:t,overheads:e,onEditInventory:r,onDeleteInventory:n,onEditOverhead:a,onDeleteOverhead:s,isManager:l=!0}){const[u,d]=R.useState(null),h=t.reduce((p,g)=>(p[g.category]||(p[g.category]=[]),p[g.category].push(g),p),{}),m=(p,g)=>{p==="inventory"?n(g):s(g),d(null)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(si,{className:"w-5 h-5 text-blue-600"}),o.jsx("h3",{className:"text-gray-900",children:"Inventory Items"})]}),t.length===0?o.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No inventory items for this date"}):o.jsx("div",{className:"space-y-6",children:Object.entries(h).map(([p,g])=>o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-700 mb-3",children:Px[p]}),o.jsx("div",{className:"space-y-2",children:g.map(v=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"text-gray-900",children:v.itemName})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"text-blue-600",children:["",v.totalCost.toLocaleString()]}),l&&o.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>r(v),className:"p-1.5 hover:bg-blue-50 rounded text-blue-600 transition-colors",title:"Edit",children:o.jsx(oi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>d({type:"inventory",id:v.id}),className:"p-1.5 hover:bg-red-50 rounded text-red-600 transition-colors",title:"Delete",children:o.jsx(qn,{className:"w-4 h-4"})})]})]})]}),o.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[o.jsxs("span",{children:[v.quantity," ",v.unit]}),o.jsxs("span",{children:["",v.costPerUnit,"/",v.unit]})]})]},v.id))})]},p))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(XD,{className:"w-5 h-5 text-orange-600"}),o.jsx("h3",{className:"text-gray-900",children:"Overhead Costs"})]}),e.length===0?o.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No overhead costs for this date"}):o.jsx("div",{className:"space-y-3",children:e.map(p=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-orange-300 transition-colors group",children:o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-900",children:SR[p.category]}),o.jsx("p",{className:"text-sm text-gray-500",children:p.description})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"text-orange-600",children:["",p.amount.toLocaleString()]}),l&&o.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>a(p),className:"p-1.5 hover:bg-orange-50 rounded text-orange-600 transition-colors",title:"Edit",children:o.jsx(oi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>d({type:"overhead",id:p.id}),className:"p-1.5 hover:bg-red-50 rounded text-red-600 transition-colors",title:"Delete",children:o.jsx(qn,{className:"w-4 h-4"})})]})]})]})},p.id))})]})]}),u&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-gray-900 mb-4",children:"Confirm Delete"}),o.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete this ",u.type==="inventory"?"inventory item":"overhead cost","? This action cannot be undone."]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>d(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:()=>m(u.type,u.id),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]})}function d2({selectedDate:t,onDateChange:e}){const[r,n]=R.useState(!1);R.useEffect(()=>{const g=()=>{n(window.innerWidth<1024)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const a=g=>{const v=[],j=new Date(g);for(let w=-3;w<=3;w++){const x=new Date(j);x.setDate(j.getDate()+w),v.push(x)}return v},s=g=>g.toLocaleDateString("en-US",{weekday:"short"}).toUpperCase(),l=g=>g.getDate().toString().padStart(2,"0"),u=g=>g.toISOString().split("T")[0],d=g=>new Date(g).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),h=g=>{const v=new Date;return g.toDateString()===v.toDateString()},m=g=>{const v=new Date(t);v.setDate(v.getDate()+g),e(v.toISOString().split("T")[0])},p=a(t);return r?o.jsx("div",{className:"bg-gradient-to-br from-white via-[#F5F3FF] to-[#FFF0F5] rounded-2xl shadow-lg p-4 sm:p-6 border border-[#E6D5FF]",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"uppercase tracking-wider text-sm text-gray-700",children:"Pick a Date:"}),o.jsx(lr,{className:"w-5 h-5 text-[#9370DB]"})]}),o.jsx("div",{className:"relative",children:o.jsx("input",{type:"date",value:t,onChange:g=>e(g.target.value),className:"w-full px-4 py-3 text-base bg-white border-2 border-[#E6D5FF] rounded-xl focus:ring-2 focus:ring-[#9370DB] focus:border-[#9370DB] transition-all shadow-sm"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>m(-1),className:"flex-1 px-4 py-2 bg-white hover:bg-[#E6D5FF] rounded-lg transition-all shadow-sm flex items-center justify-center gap-2 border border-gray-200 hover:border-[#D8BFD8] touch-manipulation",children:[o.jsx(Gv,{className:"w-4 h-4 text-gray-600"}),o.jsx("span",{className:"text-sm",children:"Previous"})]}),o.jsx("button",{onClick:()=>e(new Date().toISOString().split("T")[0]),className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#B0E0E6] to-[#ADD8E6] hover:from-[#9EC5CB] hover:to-[#9CC4CB] text-gray-800 rounded-lg transition-all shadow-sm text-sm border border-[#AEC6CF] touch-manipulation",children:"Today"}),o.jsxs("button",{onClick:()=>m(1),className:"flex-1 px-4 py-2 bg-white hover:bg-[#E6D5FF] rounded-lg transition-all shadow-sm flex items-center justify-center gap-2 border border-gray-200 hover:border-[#D8BFD8] touch-manipulation",children:[o.jsx("span",{className:"text-sm",children:"Next"}),o.jsx(ml,{className:"w-4 h-4 text-gray-600"})]})]}),o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"inline-block px-4 py-2 bg-gradient-to-r from-[#FFD4E5] to-[#FFC0D9] rounded-full shadow-md border border-[#FFB6D9]",children:o.jsx("p",{className:"text-sm text-gray-800",children:d(t)})})})]})}):o.jsxs("div",{className:"bg-gradient-to-br from-white via-[#F5F3FF] to-[#FFF0F5] rounded-2xl shadow-lg p-8 border border-[#E6D5FF]",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("p",{className:"uppercase tracking-wider text-gray-700",children:"Pick a Date:"})}),o.jsx("button",{onClick:()=>m(-1),className:"p-3 bg-white hover:bg-[#E6D5FF] rounded-xl transition-all shadow-md hover:shadow-lg flex-shrink-0 group border border-gray-200 hover:border-[#D8BFD8]",children:o.jsx(Gv,{className:"w-5 h-5 text-gray-600 group-hover:text-[#9370DB] transition-colors"})}),o.jsx("div",{className:"flex gap-3 overflow-x-auto flex-1 scrollbar-hide py-2",children:p.map(g=>{const v=u(g),j=v===t,w=h(g);return o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsxs("button",{onClick:()=>e(v),className:`relative flex flex-col items-center justify-center px-6 py-5 rounded-2xl transition-all min-w-[110px] border-2 ${j?"bg-gradient-to-br from-[#FFD4E5] to-[#FFC0D9] text-gray-800 shadow-xl shadow-[#FFB6D9]/30 scale-110 border-[#FFB6D9]":w?"bg-gradient-to-br from-[#B0E0E6] to-[#ADD8E6] text-gray-800 shadow-lg shadow-[#AEC6CF]/20 border-[#AEC6CF] hover:scale-105":"bg-white text-gray-500 hover:bg-gradient-to-br hover:from-[#F5F5F5] hover:to-[#FAFAFA] hover:text-gray-700 shadow-md hover:shadow-lg border-gray-200 hover:border-gray-300"}`,children:[o.jsx("span",{className:`text-xs tracking-wider mb-1 ${j||w?"text-gray-600":"text-gray-400"}`,children:s(g)}),o.jsx("span",{className:`text-3xl ${j||w?"text-gray-800":"text-gray-700"}`,children:l(g)}),w&&!j&&o.jsx("div",{className:"absolute -top-2 -right-2 px-2 py-0.5 bg-[#FFFACD] text-gray-700 rounded-full text-xs shadow-md border border-[#FFEAA7]",children:"Today"})]}),j&&o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#FFD4E5] to-[#FFC0D9] rounded-full flex items-center justify-center shadow-lg shadow-[#FFB6D9]/40",children:o.jsx(Vv,{className:"w-6 h-6 text-gray-700"})}),!j&&o.jsx("div",{className:"w-10 h-10"})]},v)})}),o.jsx("button",{onClick:()=>m(1),className:"p-3 bg-white hover:bg-[#E6D5FF] rounded-xl transition-all shadow-md hover:shadow-lg flex-shrink-0 group border border-gray-200 hover:border-[#D8BFD8]",children:o.jsx(ml,{className:"w-5 h-5 text-gray-600 group-hover:text-[#9370DB] transition-colors"})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("div",{className:"inline-block px-6 py-3 bg-gradient-to-r from-[#FFD4E5] to-[#FFC0D9] rounded-full shadow-lg shadow-[#FFB6D9]/30 border border-[#FFB6D9]",children:o.jsx("p",{className:"text-gray-800",children:d(t)})})})]})}function ER({context:t}){const[e,r]=R.useState(new Date().toISOString().split("T")[0]),[n,a]=R.useState(!1),[s,l]=R.useState(!1),[u,d]=R.useState(null),[h,m]=R.useState(null),p=t.inventory.filter(w=>w.date===e),g=t.overheads.filter(w=>w.date===e),v=p.reduce((w,x)=>w+x.totalCost,0),j=g.reduce((w,x)=>w+x.amount,0);return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx(d2,{selectedDate:e,onDateChange:r}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 mb-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 shadow-lg shadow-blue-500/30",children:[o.jsx("p",{className:"text-sm text-blue-100 uppercase tracking-wide",children:"Inventory Cost"}),o.jsxs("p",{className:"text-white text-2xl mt-2",children:["",v.toLocaleString()]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 shadow-lg shadow-orange-500/30",children:[o.jsx("p",{className:"text-sm text-orange-100 uppercase tracking-wide",children:"Overhead Cost"}),o.jsxs("p",{className:"text-white text-2xl mt-2",children:["",j.toLocaleString()]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 shadow-lg shadow-purple-500/30",children:[o.jsx("p",{className:"text-sm text-purple-100 uppercase tracking-wide",children:"Total Expenses"}),o.jsxs("p",{className:"text-white text-2xl mt-2",children:["",(v+j).toLocaleString()]})]})]}),o.jsxs("div",{className:"flex gap-4 mb-6",children:[o.jsxs("button",{onClick:()=>a(!0),disabled:!t.isManager,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:t.isManager?"":"Only managers can add inventory items",children:[o.jsx(yl,{className:"w-4 h-4"}),"Add Inventory Item"]}),o.jsxs("button",{onClick:()=>l(!0),disabled:!t.isManager,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:t.isManager?"":"Only managers can add overhead costs",children:[o.jsx(yl,{className:"w-4 h-4"}),"Add Overhead"]})]}),o.jsx(NR,{inventory:p,overheads:g,onEditInventory:w=>{d(w),a(!0)},onDeleteInventory:t.deleteInventoryItem,onEditOverhead:w=>{m(w),l(!0)},onDeleteOverhead:t.deleteOverheadItem,isManager:t.isManager}),n&&o.jsx(wR,{selectedDate:e,editingItem:u,onSubmit:async w=>{try{u?await t.updateInventoryItem(u.id,w):await t.addInventoryItem(w),a(!1),d(null)}catch{alert("Failed to save inventory item. Please try again.")}},onClose:()=>{a(!1),d(null)}}),s&&o.jsx(_R,{selectedDate:e,editingItem:h,onSubmit:async w=>{try{h?await t.updateOverheadItem(h.id,w):await t.addOverheadItem(w),l(!1),m(null)}catch{alert("Failed to save overhead cost. Please try again.")}},onClose:()=>{l(!1),m(null)}})]})}function f2(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=f2(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Be(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=f2(t))&&(n&&(n+=" "),n+=e);return n}var Rp,F1;function gr(){if(F1)return Rp;F1=1;var t=Array.isArray;return Rp=t,Rp}var Mp,B1;function h2(){if(B1)return Mp;B1=1;var t=typeof Nu=="object"&&Nu&&Nu.Object===Object&&Nu;return Mp=t,Mp}var Lp,U1;function kn(){if(U1)return Lp;U1=1;var t=h2(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Lp=r,Lp}var Fp,q1;function oc(){if(q1)return Fp;q1=1;var t=kn(),e=t.Symbol;return Fp=e,Fp}var Bp,z1;function OR(){if(z1)return Bp;z1=1;var t=oc(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function s(l){var u=r.call(l,a),d=l[a];try{l[a]=void 0;var h=!0}catch{}var m=n.call(l);return h&&(u?l[a]=d:delete l[a]),m}return Bp=s,Bp}var Up,H1;function kR(){if(H1)return Up;H1=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Up=r,Up}var qp,W1;function Zn(){if(W1)return qp;W1=1;var t=oc(),e=OR(),r=kR(),n="[object Null]",a="[object Undefined]",s=t?t.toStringTag:void 0;function l(u){return u==null?u===void 0?a:n:s&&s in Object(u)?e(u):r(u)}return qp=l,qp}var zp,K1;function ea(){if(K1)return zp;K1=1;function t(e){return e!=null&&typeof e=="object"}return zp=t,zp}var Hp,V1;function Js(){if(V1)return Hp;V1=1;var t=Zn(),e=ea(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return Hp=n,Hp}var Wp,G1;function Tx(){if(G1)return Wp;G1=1;var t=gr(),e=Js(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){if(t(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||l!=null&&s in Object(l)}return Wp=a,Wp}var Kp,Y1;function Ta(){if(Y1)return Kp;Y1=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Kp=t,Kp}var Vp,X1;function Cx(){if(X1)return Vp;X1=1;var t=Zn(),e=Ta(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function l(u){if(!e(u))return!1;var d=t(u);return d==n||d==a||d==r||d==s}return Vp=l,Vp}var Gp,J1;function AR(){if(J1)return Gp;J1=1;var t=kn(),e=t["__core-js_shared__"];return Gp=e,Gp}var Yp,Q1;function PR(){if(Q1)return Yp;Q1=1;var t=AR(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Yp=r,Yp}var Xp,Z1;function p2(){if(Z1)return Xp;Z1=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Xp=r,Xp}var Jp,e_;function TR(){if(e_)return Jp;e_=1;var t=Cx(),e=PR(),r=Ta(),n=p2(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,h=u.hasOwnProperty,m=RegExp("^"+d.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||e(g))return!1;var v=t(g)?m:s;return v.test(n(g))}return Jp=p,Jp}var Qp,t_;function CR(){if(t_)return Qp;t_=1;function t(e,r){return e?.[r]}return Qp=t,Qp}var Zp,r_;function _i(){if(r_)return Zp;r_=1;var t=TR(),e=CR();function r(n,a){var s=e(n,a);return t(s)?s:void 0}return Zp=r,Zp}var em,n_;function Zd(){if(n_)return em;n_=1;var t=_i(),e=t(Object,"create");return em=e,em}var tm,a_;function IR(){if(a_)return tm;a_=1;var t=Zd();function e(){this.__data__=t?t(null):{},this.size=0}return tm=e,tm}var rm,i_;function $R(){if(i_)return rm;i_=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return rm=t,rm}var nm,s_;function DR(){if(s_)return nm;s_=1;var t=Zd(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var l=this.__data__;if(t){var u=l[s];return u===e?void 0:u}return n.call(l,s)?l[s]:void 0}return nm=a,nm}var am,o_;function RR(){if(o_)return am;o_=1;var t=Zd(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var s=this.__data__;return t?s[a]!==void 0:r.call(s,a)}return am=n,am}var im,l_;function MR(){if(l_)return im;l_=1;var t=Zd(),e="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&a===void 0?e:a,this}return im=r,im}var sm,c_;function LR(){if(c_)return sm;c_=1;var t=IR(),e=$R(),r=DR(),n=RR(),a=MR();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,sm=s,sm}var om,u_;function FR(){if(u_)return om;u_=1;function t(){this.__data__=[],this.size=0}return om=t,om}var lm,d_;function Ix(){if(d_)return lm;d_=1;function t(e,r){return e===r||e!==e&&r!==r}return lm=t,lm}var cm,f_;function ef(){if(f_)return cm;f_=1;var t=Ix();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return cm=e,cm}var um,h_;function BR(){if(h_)return um;h_=1;var t=ef(),e=Array.prototype,r=e.splice;function n(a){var s=this.__data__,l=t(s,a);if(l<0)return!1;var u=s.length-1;return l==u?s.pop():r.call(s,l,1),--this.size,!0}return um=n,um}var dm,p_;function UR(){if(p_)return dm;p_=1;var t=ef();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return dm=e,dm}var fm,m_;function qR(){if(m_)return fm;m_=1;var t=ef();function e(r){return t(this.__data__,r)>-1}return fm=e,fm}var hm,y_;function zR(){if(y_)return hm;y_=1;var t=ef();function e(r,n){var a=this.__data__,s=t(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return hm=e,hm}var pm,g_;function tf(){if(g_)return pm;g_=1;var t=FR(),e=BR(),r=UR(),n=qR(),a=zR();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,pm=s,pm}var mm,v_;function $x(){if(v_)return mm;v_=1;var t=_i(),e=kn(),r=t(e,"Map");return mm=r,mm}var ym,x_;function HR(){if(x_)return ym;x_=1;var t=LR(),e=tf(),r=$x();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return ym=n,ym}var gm,b_;function WR(){if(b_)return gm;b_=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return gm=t,gm}var vm,w_;function rf(){if(w_)return vm;w_=1;var t=WR();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return vm=e,vm}var xm,j_;function KR(){if(j_)return xm;j_=1;var t=rf();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return xm=e,xm}var bm,__;function VR(){if(__)return bm;__=1;var t=rf();function e(r){return t(this,r).get(r)}return bm=e,bm}var wm,S_;function GR(){if(S_)return wm;S_=1;var t=rf();function e(r){return t(this,r).has(r)}return wm=e,wm}var jm,N_;function YR(){if(N_)return jm;N_=1;var t=rf();function e(r,n){var a=t(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return jm=e,jm}var _m,E_;function Dx(){if(E_)return _m;E_=1;var t=HR(),e=KR(),r=VR(),n=GR(),a=YR();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,_m=s,_m}var Sm,O_;function m2(){if(O_)return Sm;O_=1;var t=Dx(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var s=function(){var l=arguments,u=a?a.apply(this,l):l[0],d=s.cache;if(d.has(u))return d.get(u);var h=n.apply(this,l);return s.cache=d.set(u,h)||d,h};return s.cache=new(r.Cache||t),s}return r.Cache=t,Sm=r,Sm}var Nm,k_;function XR(){if(k_)return Nm;k_=1;var t=m2(),e=500;function r(n){var a=t(n,function(l){return s.size===e&&s.clear(),l}),s=a.cache;return a}return Nm=r,Nm}var Em,A_;function JR(){if(A_)return Em;A_=1;var t=XR(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(e,function(l,u,d,h){s.push(d?h.replace(r,"$1"):u||l)}),s});return Em=n,Em}var Om,P_;function Rx(){if(P_)return Om;P_=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}return Om=t,Om}var km,T_;function QR(){if(T_)return km;T_=1;var t=oc(),e=Rx(),r=gr(),n=Js(),a=t?t.prototype:void 0,s=a?a.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return e(u,l)+"";if(n(u))return s?s.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return km=l,km}var Am,C_;function y2(){if(C_)return Am;C_=1;var t=QR();function e(r){return r==null?"":t(r)}return Am=e,Am}var Pm,I_;function g2(){if(I_)return Pm;I_=1;var t=gr(),e=Tx(),r=JR(),n=y2();function a(s,l){return t(s)?s:e(s,l)?[s]:r(n(s))}return Pm=a,Pm}var Tm,$_;function nf(){if($_)return Tm;$_=1;var t=Js();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Tm=e,Tm}var Cm,D_;function Mx(){if(D_)return Cm;D_=1;var t=g2(),e=nf();function r(n,a){a=t(a,n);for(var s=0,l=a.length;n!=null&&s<l;)n=n[e(a[s++])];return s&&s==l?n:void 0}return Cm=r,Cm}var Im,R_;function v2(){if(R_)return Im;R_=1;var t=Mx();function e(r,n,a){var s=r==null?void 0:t(r,n);return s===void 0?a:s}return Im=e,Im}var ZR=v2();const Ir=Ze(ZR);var $m,M_;function eM(){if(M_)return $m;M_=1;function t(e){return e==null}return $m=t,$m}var tM=eM();const Re=Ze(tM);var Dm,L_;function rM(){if(L_)return Dm;L_=1;var t=Zn(),e=gr(),r=ea(),n="[object String]";function a(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return Dm=a,Dm}var nM=rM();const yi=Ze(nM);var aM=Cx();const $e=Ze(aM);var iM=Ta();const Qs=Ze(iM);var Rm={exports:{}},Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function sM(){if(F_)return Xe;F_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function w(x){if(typeof x=="object"&&x!==null){var _=x.$$typeof;switch(_){case t:switch(x=x.type,x){case r:case a:case n:case h:case m:return x;default:switch(x=x&&x.$$typeof,x){case u:case l:case d:case g:case p:case s:return x;default:return _}}case e:return _}}}return Xe.ContextConsumer=l,Xe.ContextProvider=s,Xe.Element=t,Xe.ForwardRef=d,Xe.Fragment=r,Xe.Lazy=g,Xe.Memo=p,Xe.Portal=e,Xe.Profiler=a,Xe.StrictMode=n,Xe.Suspense=h,Xe.SuspenseList=m,Xe.isAsyncMode=function(){return!1},Xe.isConcurrentMode=function(){return!1},Xe.isContextConsumer=function(x){return w(x)===l},Xe.isContextProvider=function(x){return w(x)===s},Xe.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Xe.isForwardRef=function(x){return w(x)===d},Xe.isFragment=function(x){return w(x)===r},Xe.isLazy=function(x){return w(x)===g},Xe.isMemo=function(x){return w(x)===p},Xe.isPortal=function(x){return w(x)===e},Xe.isProfiler=function(x){return w(x)===a},Xe.isStrictMode=function(x){return w(x)===n},Xe.isSuspense=function(x){return w(x)===h},Xe.isSuspenseList=function(x){return w(x)===m},Xe.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===a||x===n||x===h||x===m||x===v||typeof x=="object"&&x!==null&&(x.$$typeof===g||x.$$typeof===p||x.$$typeof===s||x.$$typeof===l||x.$$typeof===d||x.$$typeof===j||x.getModuleId!==void 0)},Xe.typeOf=w,Xe}var B_;function oM(){return B_||(B_=1,Rm.exports=sM()),Rm.exports}var lM=oM(),Mm,U_;function x2(){if(U_)return Mm;U_=1;var t=Zn(),e=ea(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return Mm=n,Mm}var Lm,q_;function cM(){if(q_)return Lm;q_=1;var t=x2();function e(r){return t(r)&&r!=+r}return Lm=e,Lm}var uM=cM();const lc=Ze(uM);var dM=x2();const fM=Ze(dM);var ir=function(e){return e===0?0:e>0?1:-1},li=function(e){return yi(e)&&e.indexOf("%")===e.length-1},he=function(e){return fM(e)&&!lc(e)},hM=function(e){return Re(e)},Rt=function(e){return he(e)||yi(e)},pM=0,Zs=function(e){var r=++pM;return"".concat(e||"").concat(r)},sr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(e)&&!yi(e))return n;var s;if(li(e)){var l=e.indexOf("%");s=r*parseFloat(e.slice(0,l))/100}else s=+e;return lc(s)&&(s=n),a&&s>r&&(s=r),s},Sa=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},mM=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},kr=function(e,r){return he(e)&&he(r)?function(n){return e+n*(r-e)}:function(){return r}};function Yu(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ir(n,e))===r})}var yM=function(e,r){return he(e)&&he(r)?e-r:yi(e)&&yi(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function xs(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}var gM=["viewBox","children"],vM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],z_=["points","pathLength"],Fm={svg:gM,polygon:z_,polyline:z_},Lx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Xu=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(R.isValidElement(e)&&(n=e.props),!Qs(n))return null;var a={};return Object.keys(n).forEach(function(s){Lx.includes(s)&&(a[s]=r||function(l){return n[s](n,l)})}),a},xM=function(e,r,n){return function(a){return e(r,n,a),null}},gi=function(e,r,n){if(!Qs(e)||Yv(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var l=e[s];Lx.includes(s)&&typeof l=="function"&&(a||(a={}),a[s]=xM(l,r,n))}),a},bM=["children"],wM=["children"];function H_(t,e){if(t==null)return{};var r=jM(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jM(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}var W_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Kn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},K_=null,Bm=null,Fx=function t(e){if(e===K_&&Array.isArray(Bm))return Bm;var r=[];return R.Children.forEach(e,function(n){Re(n)||(lM.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Bm=r,K_=e,r};function $r(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Kn(a)}):n=[Kn(e)],Fx(t).forEach(function(a){var s=Ir(a,"type.displayName")||Ir(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Er(t,e){var r=$r(t,e);return r&&r[0]}var V_=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!he(n)||n<=0||!he(a)||a<=0)},_M=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],SM=function(e){return e&&e.type&&yi(e.type)&&_M.indexOf(e.type)>=0},NM=function(e){return e&&Xv(e)==="object"&&"clipDot"in e},EM=function(e,r,n,a){var s,l=(s=Fm?.[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!$e(e)&&(a&&l.includes(r)||vM.includes(r))||n&&Lx.includes(r)},Ae=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(R.isValidElement(e)&&(a=e.props),!Qs(a))return null;var s={};return Object.keys(a).forEach(function(l){var u;EM((u=a)===null||u===void 0?void 0:u[l],l,r,n)&&(s[l]=a[l])}),s},Jv=function t(e,r){if(e===r)return!0;var n=R.Children.count(e);if(n!==R.Children.count(r))return!1;if(n===0)return!0;if(n===1)return G_(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],l=r[a];if(Array.isArray(s)||Array.isArray(l)){if(!t(s,l))return!1}else if(!G_(s,l))return!1}return!0},G_=function(e,r){if(Re(e)&&Re(r))return!0;if(!Re(e)&&!Re(r)){var n=e.props||{},a=n.children,s=H_(n,bM),l=r.props||{},u=l.children,d=H_(l,wM);return a&&u?xs(s,d)&&Jv(a,u):!a&&!u?xs(s,d):!1}return!1},Y_=function(e,r){var n=[],a={};return Fx(e).forEach(function(s,l){if(SM(s))n.push(s);else if(s){var u=Kn(s.type),d=r[u]||{},h=d.handler,m=d.once;if(h&&(!m||!a[u])){var p=h(s,u,l);n.push(p),a[u]=!0}}}),n},OM=function(e){var r=e&&e.type;return r&&W_[r]?W_[r]:null},kM=function(e,r){return Fx(r).indexOf(e)},AM=["children","width","height","viewBox","className","style","title","desc"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qv.apply(this,arguments)}function PM(t,e){if(t==null)return{};var r=TM(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TM(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zv(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,l=t.style,u=t.title,d=t.desc,h=PM(t,AM),m=a||{width:r,height:n,x:0,y:0},p=Be("recharts-surface",s);return q.createElement("svg",Qv({},Ae(h,!0,"svg"),{className:p,width:r,height:n,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),q.createElement("title",null,u),q.createElement("desc",null,d),e)}var CM=["children","className"];function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e0.apply(this,arguments)}function IM(t,e){if(t==null)return{};var r=$M(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $M(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ve=q.forwardRef(function(t,e){var r=t.children,n=t.className,a=IM(t,CM),s=Be("recharts-layer",n);return q.createElement("g",e0({className:s},Ae(a,!0),{ref:e}),r)}),mn=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},Um,X_;function DM(){if(X_)return Um;X_=1;function t(e,r,n){var a=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(s);++a<s;)l[a]=e[a+r];return l}return Um=t,Um}var qm,J_;function RM(){if(J_)return qm;J_=1;var t=DM();function e(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:t(r,n,a)}return qm=e,qm}var zm,Q_;function b2(){if(Q_)return zm;Q_=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+t+a+s+"]");function d(h){return u.test(h)}return zm=d,zm}var Hm,Z_;function MM(){if(Z_)return Hm;Z_=1;function t(e){return e.split("")}return Hm=t,Hm}var Wm,eS;function LM(){if(eS)return Wm;eS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",l="["+t+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+d+")",m="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",j=h+"?",w="["+s+"]?",x="(?:"+v+"(?:"+[m,p,g].join("|")+")"+w+j+")*",_=w+j+x,N="(?:"+[m+u+"?",u,p,g,l].join("|")+")",E=RegExp(d+"(?="+d+")|"+N+_,"g");function A(O){return O.match(E)||[]}return Wm=A,Wm}var Km,tS;function FM(){if(tS)return Km;tS=1;var t=MM(),e=b2(),r=LM();function n(a){return e(a)?r(a):t(a)}return Km=n,Km}var Vm,rS;function BM(){if(rS)return Vm;rS=1;var t=RM(),e=b2(),r=FM(),n=y2();function a(s){return function(l){l=n(l);var u=e(l)?r(l):void 0,d=u?u[0]:l.charAt(0),h=u?t(u,1).join(""):l.slice(1);return d[s]()+h}}return Vm=a,Vm}var Gm,nS;function UM(){if(nS)return Gm;nS=1;var t=BM(),e=t("toUpperCase");return Gm=e,Gm}var qM=UM();const af=Ze(qM);function st(t){return function(){return t}}const w2=Math.cos,Ju=Math.sin,yn=Math.sqrt,Qu=Math.PI,sf=2*Qu,t0=Math.PI,r0=2*t0,Za=1e-6,zM=r0-Za;function j2(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function HM(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return j2;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class WM{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?j2:HM(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,l){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=n-e,h=a-r,m=l-e,p=u-r,g=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>Za)if(!(Math.abs(p*d-h*m)>Za)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-l,j=a-u,w=d*d+h*h,x=v*v+j*j,_=Math.sqrt(w),N=Math.sqrt(g),E=s*Math.tan((t0-Math.acos((w+g-x)/(2*_*N)))/2),A=E/N,O=E/_;Math.abs(A-1)>Za&&this._append`L${e+A*m},${r+A*p}`,this._append`A${s},${s},0,0,${+(p*v>m*j)},${this._x1=e+O*d},${this._y1=r+O*h}`}}arc(e,r,n,a,s,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),h=e+u,m=r+d,p=1^l,g=l?a-s:s-a;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Za||Math.abs(this._y1-m)>Za)&&this._append`L${h},${m}`,n&&(g<0&&(g=g%r0+r0),g>zM?this._append`A${n},${n},0,1,${p},${e-u},${r-d}A${n},${n},0,1,${p},${this._x1=h},${this._y1=m}`:g>Za&&this._append`A${n},${n},0,${+(g>=t0)},${p},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Bx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new WM(e)}function Ux(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _2(t){this._context=t}_2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function of(t){return new _2(t)}function S2(t){return t[0]}function N2(t){return t[1]}function E2(t,e){var r=st(!0),n=null,a=of,s=null,l=Bx(u);t=typeof t=="function"?t:t===void 0?S2:st(t),e=typeof e=="function"?e:e===void 0?N2:st(e);function u(d){var h,m=(d=Ux(d)).length,p,g=!1,v;for(n==null&&(s=a(v=l())),h=0;h<=m;++h)!(h<m&&r(p=d[h],h,d))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(p,h,d),+e(p,h,d));if(v)return s=null,v+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:st(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:st(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:st(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),u):n},u}function Au(t,e,r){var n=null,a=st(!0),s=null,l=of,u=null,d=Bx(h);t=typeof t=="function"?t:t===void 0?S2:st(+t),e=typeof e=="function"?e:st(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?N2:st(+r);function h(p){var g,v,j,w=(p=Ux(p)).length,x,_=!1,N,E=new Array(w),A=new Array(w);for(s==null&&(u=l(N=d())),g=0;g<=w;++g){if(!(g<w&&a(x=p[g],g,p))===_)if(_=!_)v=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=g-1;j>=v;--j)u.point(E[j],A[j]);u.lineEnd(),u.areaEnd()}_&&(E[g]=+t(x,g,p),A[g]=+e(x,g,p),u.point(n?+n(x,g,p):E[g],r?+r(x,g,p):A[g]))}if(N)return u=null,N+""||null}function m(){return E2().defined(a).curve(l).context(s)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:st(+p),n=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:st(+p),h):t},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:st(+p),h):n},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:st(+p),r=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:st(+p),h):e},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:st(+p),h):r},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(r)},h.lineX1=function(){return m().x(n).y(e)},h.defined=function(p){return arguments.length?(a=typeof p=="function"?p:st(!!p),h):a},h.curve=function(p){return arguments.length?(l=p,s!=null&&(u=l(s)),h):l},h.context=function(p){return arguments.length?(p==null?s=u=null:u=l(s=p),h):s},h}class O2{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function KM(t){return new O2(t,!0)}function VM(t){return new O2(t,!1)}const qx={draw(t,e){const r=yn(e/Qu);t.moveTo(r,0),t.arc(0,0,r,0,sf)}},GM={draw(t,e){const r=yn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},k2=yn(1/3),YM=k2*2,XM={draw(t,e){const r=yn(e/YM),n=r*k2;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},JM={draw(t,e){const r=yn(e),n=-r/2;t.rect(n,n,r,r)}},QM=.8908130915292852,A2=Ju(Qu/10)/Ju(7*Qu/10),ZM=Ju(sf/10)*A2,e4=-w2(sf/10)*A2,t4={draw(t,e){const r=yn(e*QM),n=ZM*r,a=e4*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const l=sf*s/5,u=w2(l),d=Ju(l);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*a,d*n+u*a)}t.closePath()}},Ym=yn(3),r4={draw(t,e){const r=-yn(e/(Ym*3));t.moveTo(0,r*2),t.lineTo(-Ym*r,-r),t.lineTo(Ym*r,-r),t.closePath()}},zr=-.5,Hr=yn(3)/2,n0=1/yn(12),n4=(n0/2+1)*3,a4={draw(t,e){const r=yn(e/n4),n=r/2,a=r*n0,s=n,l=r*n0+r,u=-s,d=l;t.moveTo(n,a),t.lineTo(s,l),t.lineTo(u,d),t.lineTo(zr*n-Hr*a,Hr*n+zr*a),t.lineTo(zr*s-Hr*l,Hr*s+zr*l),t.lineTo(zr*u-Hr*d,Hr*u+zr*d),t.lineTo(zr*n+Hr*a,zr*a-Hr*n),t.lineTo(zr*s+Hr*l,zr*l-Hr*s),t.lineTo(zr*u+Hr*d,zr*d-Hr*u),t.closePath()}};function i4(t,e){let r=null,n=Bx(a);t=typeof t=="function"?t:st(t||qx),e=typeof e=="function"?e:st(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:st(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:st(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Zu(){}function ed(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function P2(t){this._context=t}P2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ed(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ed(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function s4(t){return new P2(t)}function T2(t){this._context=t}T2.prototype={areaStart:Zu,areaEnd:Zu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ed(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function o4(t){return new T2(t)}function C2(t){this._context=t}C2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ed(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function l4(t){return new C2(t)}function I2(t){this._context=t}I2.prototype={areaStart:Zu,areaEnd:Zu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function c4(t){return new I2(t)}function aS(t){return t<0?-1:1}function iS(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),l=(r-t._y1)/(a||n<0&&-0),u=(s*a+l*n)/(n+a);return(aS(s)+aS(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function sS(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Xm(t,e,r){var n=t._x0,a=t._y0,s=t._x1,l=t._y1,u=(s-n)/3;t._context.bezierCurveTo(n+u,a+u*e,s-u,l-u*r,s,l)}function td(t){this._context=t}td.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xm(this,this._t0,sS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Xm(this,sS(this,r=iS(this,t,e)),r);break;default:Xm(this,this._t0,r=iS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function $2(t){this._context=new D2(t)}($2.prototype=Object.create(td.prototype)).point=function(t,e){td.prototype.point.call(this,e,t)};function D2(t){this._context=t}D2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function u4(t){return new td(t)}function d4(t){return new $2(t)}function R2(t){this._context=t}R2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=oS(t),a=oS(e),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function oS(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,l[e]-=n*l[e-1];for(a[r-1]=l[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(l[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function f4(t){return new R2(t)}function lf(t,e){this._context=t,this._t=e}lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function h4(t){return new lf(t,.5)}function p4(t){return new lf(t,0)}function m4(t){return new lf(t,1)}function Es(t,e){if((l=t.length)>1)for(var r=1,n,a,s=t[e[0]],l,u=s.length;r<l;++r)for(a=s,s=t[e[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function a0(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function y4(t,e){return t[e]}function g4(t){const e=[];return e.key=t,e}function v4(){var t=st([]),e=a0,r=Es,n=y4;function a(s){var l=Array.from(t.apply(this,arguments),g4),u,d=l.length,h=-1,m;for(const p of s)for(u=0,++h;u<d;++u)(l[u][h]=[0,+n(p,l[u].key,h,s)]).data=p;for(u=0,m=Ux(e(l));u<d;++u)l[m[u]].index=u;return r(l,m),l}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:st(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:st(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?a0:typeof s=="function"?s:st(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Es,a):r},a}function x4(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=t[r][a][1]||0;if(l)for(r=0;r<n;++r)t[r][a][1]/=l}Es(t,e)}}function b4(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var l=0,u=0;l<a;++l)u+=t[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Es(t,e)}}function w4(t,e){if(!(!((l=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var u=0,d=0,h=0;u<l;++u){for(var m=t[e[u]],p=m[n][1]||0,g=m[n-1][1]||0,v=(p-g)/2,j=0;j<u;++j){var w=t[e[j]],x=w[n][1]||0,_=w[n-1][1]||0;v+=x-_}d+=p,h+=v*p}a[n-1][1]+=a[n-1][0]=r,d&&(r-=h/d)}a[n-1][1]+=a[n-1][0]=r,Es(t,e)}}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}var j4=["type","size","sizeType"];function i0(){return i0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i0.apply(this,arguments)}function lS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(r),!0).forEach(function(n){_4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _4(t,e,r){return e=S4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S4(t){var e=N4(t,"string");return vl(e)=="symbol"?e:e+""}function N4(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E4(t,e){if(t==null)return{};var r=O4(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O4(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var M2={symbolCircle:qx,symbolCross:GM,symbolDiamond:XM,symbolSquare:JM,symbolStar:t4,symbolTriangle:r4,symbolWye:a4},k4=Math.PI/180,A4=function(e){var r="symbol".concat(af(e));return M2[r]||qx},P4=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*k4;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},T4=function(e,r){M2["symbol".concat(af(e))]=r},zx=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,l=e.sizeType,u=l===void 0?"area":l,d=E4(e,j4),h=cS(cS({},d),{},{type:n,size:s,sizeType:u}),m=function(){var x=A4(n),_=i4().type(x).size(P4(s,u,n));return _()},p=h.className,g=h.cx,v=h.cy,j=Ae(h,!0);return g===+g&&v===+v&&s===+s?q.createElement("path",i0({},j,{className:Be("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(v,")"),d:m()})):null};zx.registerSymbol=T4;function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function s0(){return s0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s0.apply(this,arguments)}function uS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function C4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(r),!0).forEach(function(n){xl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F2(n.key),n)}}function D4(t,e,r){return e&&$4(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R4(t,e,r){return e=rd(e),M4(t,L2()?Reflect.construct(e,r||[],rd(t).constructor):e.apply(t,r))}function M4(t,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L4(t)}function L4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L2=function(){return!!t})()}function rd(t){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rd(t)}function F4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o0(t,e)}function o0(t,e){return o0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},o0(t,e)}function xl(t,e,r){return e=F2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F2(t){var e=B4(t,"string");return Os(e)=="symbol"?e:e+""}function B4(t,e){if(Os(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wr=32,Hx=(function(t){function e(){return I4(this,e),R4(this,e,arguments)}return F4(e,t),D4(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Wr/2,l=Wr/6,u=Wr/3,d=n.inactive?a:n.color;if(n.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Wr,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(Wr,"M").concat(2*u,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return q.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(q.isValidElement(n.legendIcon)){var h=C4({},n);return delete h.legendIcon,q.cloneElement(n.legendIcon,h)}return q.createElement(zx,{fill:d,cx:s,cy:s,size:Wr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,l=a.iconSize,u=a.layout,d=a.formatter,h=a.inactiveColor,m={x:0,y:0,width:Wr,height:Wr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,j){var w=v.formatter||d,x=Be(xl(xl({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",v.inactive));if(v.type==="none")return null;var _=$e(v.value)?null:v.value;mn(!$e(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=v.inactive?h:v.color;return q.createElement("li",s0({className:x,style:p,key:"legend-item-".concat(j)},gi(n.props,v,j)),q.createElement(Zv,{width:l,height:l,viewBox:m,style:g},n.renderIcon(v)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},w?w(_,v,j):_))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,l=n.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(R.PureComponent);xl(Hx,"displayName","Legend");xl(Hx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Jm,dS;function U4(){if(dS)return Jm;dS=1;var t=tf();function e(){this.__data__=new t,this.size=0}return Jm=e,Jm}var Qm,fS;function q4(){if(fS)return Qm;fS=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Qm=t,Qm}var Zm,hS;function z4(){if(hS)return Zm;hS=1;function t(e){return this.__data__.get(e)}return Zm=t,Zm}var ey,pS;function H4(){if(pS)return ey;pS=1;function t(e){return this.__data__.has(e)}return ey=t,ey}var ty,mS;function W4(){if(mS)return ty;mS=1;var t=tf(),e=$x(),r=Dx(),n=200;function a(s,l){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([s,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(s,l),this.size=u.size,this}return ty=a,ty}var ry,yS;function B2(){if(yS)return ry;yS=1;var t=tf(),e=U4(),r=q4(),n=z4(),a=H4(),s=W4();function l(u){var d=this.__data__=new t(u);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=a,l.prototype.set=s,ry=l,ry}var ny,gS;function K4(){if(gS)return ny;gS=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return ny=e,ny}var ay,vS;function V4(){if(vS)return ay;vS=1;function t(e){return this.__data__.has(e)}return ay=t,ay}var iy,xS;function U2(){if(xS)return iy;xS=1;var t=Dx(),e=K4(),r=V4();function n(a){var s=-1,l=a==null?0:a.length;for(this.__data__=new t;++s<l;)this.add(a[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,iy=n,iy}var sy,bS;function q2(){if(bS)return sy;bS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return sy=t,sy}var oy,wS;function z2(){if(wS)return oy;wS=1;function t(e,r){return e.has(r)}return oy=t,oy}var ly,jS;function H2(){if(jS)return ly;jS=1;var t=U2(),e=q2(),r=z2(),n=1,a=2;function s(l,u,d,h,m,p){var g=d&n,v=l.length,j=u.length;if(v!=j&&!(g&&j>v))return!1;var w=p.get(l),x=p.get(u);if(w&&x)return w==u&&x==l;var _=-1,N=!0,E=d&a?new t:void 0;for(p.set(l,u),p.set(u,l);++_<v;){var A=l[_],O=u[_];if(h)var k=g?h(O,A,_,u,l,p):h(A,O,_,l,u,p);if(k!==void 0){if(k)continue;N=!1;break}if(E){if(!e(u,function(P,D){if(!r(E,D)&&(A===P||m(A,P,d,h,p)))return E.push(D)})){N=!1;break}}else if(!(A===O||m(A,O,d,h,p))){N=!1;break}}return p.delete(l),p.delete(u),N}return ly=s,ly}var cy,_S;function G4(){if(_S)return cy;_S=1;var t=kn(),e=t.Uint8Array;return cy=e,cy}var uy,SS;function Y4(){if(SS)return uy;SS=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}return uy=t,uy}var dy,NS;function Wx(){if(NS)return dy;NS=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return dy=t,dy}var fy,ES;function X4(){if(ES)return fy;ES=1;var t=oc(),e=G4(),r=Ix(),n=H2(),a=Y4(),s=Wx(),l=1,u=2,d="[object Boolean]",h="[object Date]",m="[object Error]",p="[object Map]",g="[object Number]",v="[object RegExp]",j="[object Set]",w="[object String]",x="[object Symbol]",_="[object ArrayBuffer]",N="[object DataView]",E=t?t.prototype:void 0,A=E?E.valueOf:void 0;function O(k,P,D,$,I,C,B){switch(D){case N:if(k.byteLength!=P.byteLength||k.byteOffset!=P.byteOffset)return!1;k=k.buffer,P=P.buffer;case _:return!(k.byteLength!=P.byteLength||!C(new e(k),new e(P)));case d:case h:case g:return r(+k,+P);case m:return k.name==P.name&&k.message==P.message;case v:case w:return k==P+"";case p:var U=a;case j:var G=$&l;if(U||(U=s),k.size!=P.size&&!G)return!1;var Y=B.get(k);if(Y)return Y==P;$|=u,B.set(k,P);var Q=n(U(k),U(P),$,I,C,B);return B.delete(k),Q;case x:if(A)return A.call(k)==A.call(P)}return!1}return fy=O,fy}var hy,OS;function W2(){if(OS)return hy;OS=1;function t(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}return hy=t,hy}var py,kS;function J4(){if(kS)return py;kS=1;var t=W2(),e=gr();function r(n,a,s){var l=a(n);return e(n)?l:t(l,s(n))}return py=r,py}var my,AS;function Q4(){if(AS)return my;AS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=0,l=[];++n<a;){var u=e[n];r(u,n,e)&&(l[s++]=u)}return l}return my=t,my}var yy,PS;function Z4(){if(PS)return yy;PS=1;function t(){return[]}return yy=t,yy}var gy,TS;function e6(){if(TS)return gy;TS=1;var t=Q4(),e=Z4(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(l){return l==null?[]:(l=Object(l),t(a(l),function(u){return n.call(l,u)}))}:e;return gy=s,gy}var vy,CS;function t6(){if(CS)return vy;CS=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return vy=t,vy}var xy,IS;function r6(){if(IS)return xy;IS=1;var t=Zn(),e=ea(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return xy=n,xy}var by,$S;function Kx(){if($S)return by;$S=1;var t=r6(),e=ea(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(l){return e(l)&&n.call(l,"callee")&&!a.call(l,"callee")};return by=s,by}var rl={exports:{}},wy,DS;function n6(){if(DS)return wy;DS=1;function t(){return!1}return wy=t,wy}rl.exports;var RS;function K2(){return RS||(RS=1,(function(t,e){var r=kn(),n=n6(),a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,l=s&&s.exports===a,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||n;t.exports=h})(rl,rl.exports)),rl.exports}var jy,MS;function Vx(){if(MS)return jy;MS=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??t,!!a&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return jy=r,jy}var _y,LS;function Gx(){if(LS)return _y;LS=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return _y=e,_y}var Sy,FS;function a6(){if(FS)return Sy;FS=1;var t=Zn(),e=Gx(),r=ea(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",m="[object Number]",p="[object Object]",g="[object RegExp]",v="[object Set]",j="[object String]",w="[object WeakMap]",x="[object ArrayBuffer]",_="[object DataView]",N="[object Float32Array]",E="[object Float64Array]",A="[object Int8Array]",O="[object Int16Array]",k="[object Int32Array]",P="[object Uint8Array]",D="[object Uint8ClampedArray]",$="[object Uint16Array]",I="[object Uint32Array]",C={};C[N]=C[E]=C[A]=C[O]=C[k]=C[P]=C[D]=C[$]=C[I]=!0,C[n]=C[a]=C[x]=C[s]=C[_]=C[l]=C[u]=C[d]=C[h]=C[m]=C[p]=C[g]=C[v]=C[j]=C[w]=!1;function B(U){return r(U)&&e(U.length)&&!!C[t(U)]}return Sy=B,Sy}var Ny,BS;function V2(){if(BS)return Ny;BS=1;function t(e){return function(r){return e(r)}}return Ny=t,Ny}var nl={exports:{}};nl.exports;var US;function i6(){return US||(US=1,(function(t,e){var r=h2(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,l=s&&r.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();t.exports=u})(nl,nl.exports)),nl.exports}var Ey,qS;function G2(){if(qS)return Ey;qS=1;var t=a6(),e=V2(),r=i6(),n=r&&r.isTypedArray,a=n?e(n):t;return Ey=a,Ey}var Oy,zS;function s6(){if(zS)return Oy;zS=1;var t=t6(),e=Kx(),r=gr(),n=K2(),a=Vx(),s=G2(),l=Object.prototype,u=l.hasOwnProperty;function d(h,m){var p=r(h),g=!p&&e(h),v=!p&&!g&&n(h),j=!p&&!g&&!v&&s(h),w=p||g||v||j,x=w?t(h.length,String):[],_=x.length;for(var N in h)(m||u.call(h,N))&&!(w&&(N=="length"||v&&(N=="offset"||N=="parent")||j&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||a(N,_)))&&x.push(N);return x}return Oy=d,Oy}var ky,HS;function o6(){if(HS)return ky;HS=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return ky=e,ky}var Ay,WS;function Y2(){if(WS)return Ay;WS=1;function t(e,r){return function(n){return e(r(n))}}return Ay=t,Ay}var Py,KS;function l6(){if(KS)return Py;KS=1;var t=Y2(),e=t(Object.keys,Object);return Py=e,Py}var Ty,VS;function c6(){if(VS)return Ty;VS=1;var t=o6(),e=l6(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!t(s))return e(s);var l=[];for(var u in Object(s))n.call(s,u)&&u!="constructor"&&l.push(u);return l}return Ty=a,Ty}var Cy,GS;function cc(){if(GS)return Cy;GS=1;var t=Cx(),e=Gx();function r(n){return n!=null&&e(n.length)&&!t(n)}return Cy=r,Cy}var Iy,YS;function cf(){if(YS)return Iy;YS=1;var t=s6(),e=c6(),r=cc();function n(a){return r(a)?t(a):e(a)}return Iy=n,Iy}var $y,XS;function u6(){if(XS)return $y;XS=1;var t=J4(),e=e6(),r=cf();function n(a){return t(a,r,e)}return $y=n,$y}var Dy,JS;function d6(){if(JS)return Dy;JS=1;var t=u6(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,l,u,d,h,m){var p=u&e,g=t(s),v=g.length,j=t(l),w=j.length;if(v!=w&&!p)return!1;for(var x=v;x--;){var _=g[x];if(!(p?_ in l:n.call(l,_)))return!1}var N=m.get(s),E=m.get(l);if(N&&E)return N==l&&E==s;var A=!0;m.set(s,l),m.set(l,s);for(var O=p;++x<v;){_=g[x];var k=s[_],P=l[_];if(d)var D=p?d(P,k,_,l,s,m):d(k,P,_,s,l,m);if(!(D===void 0?k===P||h(k,P,u,d,m):D)){A=!1;break}O||(O=_=="constructor")}if(A&&!O){var $=s.constructor,I=l.constructor;$!=I&&"constructor"in s&&"constructor"in l&&!(typeof $=="function"&&$ instanceof $&&typeof I=="function"&&I instanceof I)&&(A=!1)}return m.delete(s),m.delete(l),A}return Dy=a,Dy}var Ry,QS;function f6(){if(QS)return Ry;QS=1;var t=_i(),e=kn(),r=t(e,"DataView");return Ry=r,Ry}var My,ZS;function h6(){if(ZS)return My;ZS=1;var t=_i(),e=kn(),r=t(e,"Promise");return My=r,My}var Ly,eN;function X2(){if(eN)return Ly;eN=1;var t=_i(),e=kn(),r=t(e,"Set");return Ly=r,Ly}var Fy,tN;function p6(){if(tN)return Fy;tN=1;var t=_i(),e=kn(),r=t(e,"WeakMap");return Fy=r,Fy}var By,rN;function m6(){if(rN)return By;rN=1;var t=f6(),e=$x(),r=h6(),n=X2(),a=p6(),s=Zn(),l=p2(),u="[object Map]",d="[object Object]",h="[object Promise]",m="[object Set]",p="[object WeakMap]",g="[object DataView]",v=l(t),j=l(e),w=l(r),x=l(n),_=l(a),N=s;return(t&&N(new t(new ArrayBuffer(1)))!=g||e&&N(new e)!=u||r&&N(r.resolve())!=h||n&&N(new n)!=m||a&&N(new a)!=p)&&(N=function(E){var A=s(E),O=A==d?E.constructor:void 0,k=O?l(O):"";if(k)switch(k){case v:return g;case j:return u;case w:return h;case x:return m;case _:return p}return A}),By=N,By}var Uy,nN;function y6(){if(nN)return Uy;nN=1;var t=B2(),e=H2(),r=X4(),n=d6(),a=m6(),s=gr(),l=K2(),u=G2(),d=1,h="[object Arguments]",m="[object Array]",p="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function j(w,x,_,N,E,A){var O=s(w),k=s(x),P=O?m:a(w),D=k?m:a(x);P=P==h?p:P,D=D==h?p:D;var $=P==p,I=D==p,C=P==D;if(C&&l(w)){if(!l(x))return!1;O=!0,$=!1}if(C&&!$)return A||(A=new t),O||u(w)?e(w,x,_,N,E,A):r(w,x,P,_,N,E,A);if(!(_&d)){var B=$&&v.call(w,"__wrapped__"),U=I&&v.call(x,"__wrapped__");if(B||U){var G=B?w.value():w,Y=U?x.value():x;return A||(A=new t),E(G,Y,_,N,A)}}return C?(A||(A=new t),n(w,x,_,N,E,A)):!1}return Uy=j,Uy}var qy,aN;function Yx(){if(aN)return qy;aN=1;var t=y6(),e=ea();function r(n,a,s,l,u){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,s,l,r,u)}return qy=r,qy}var zy,iN;function g6(){if(iN)return zy;iN=1;var t=B2(),e=Yx(),r=1,n=2;function a(s,l,u,d){var h=u.length,m=h,p=!d;if(s==null)return!m;for(s=Object(s);h--;){var g=u[h];if(p&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++h<m;){g=u[h];var v=g[0],j=s[v],w=g[1];if(p&&g[2]){if(j===void 0&&!(v in s))return!1}else{var x=new t;if(d)var _=d(j,w,v,s,l,x);if(!(_===void 0?e(w,j,r|n,d,x):_))return!1}}return!0}return zy=a,zy}var Hy,sN;function J2(){if(sN)return Hy;sN=1;var t=Ta();function e(r){return r===r&&!t(r)}return Hy=e,Hy}var Wy,oN;function v6(){if(oN)return Wy;oN=1;var t=J2(),e=cf();function r(n){for(var a=e(n),s=a.length;s--;){var l=a[s],u=n[l];a[s]=[l,u,t(u)]}return a}return Wy=r,Wy}var Ky,lN;function Q2(){if(lN)return Ky;lN=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Ky=t,Ky}var Vy,cN;function x6(){if(cN)return Vy;cN=1;var t=g6(),e=v6(),r=Q2();function n(a){var s=e(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(l){return l===a||t(l,a,s)}}return Vy=n,Vy}var Gy,uN;function b6(){if(uN)return Gy;uN=1;function t(e,r){return e!=null&&r in Object(e)}return Gy=t,Gy}var Yy,dN;function w6(){if(dN)return Yy;dN=1;var t=g2(),e=Kx(),r=gr(),n=Vx(),a=Gx(),s=nf();function l(u,d,h){d=t(d,u);for(var m=-1,p=d.length,g=!1;++m<p;){var v=s(d[m]);if(!(g=u!=null&&h(u,v)))break;u=u[v]}return g||++m!=p?g:(p=u==null?0:u.length,!!p&&a(p)&&n(v,p)&&(r(u)||e(u)))}return Yy=l,Yy}var Xy,fN;function j6(){if(fN)return Xy;fN=1;var t=b6(),e=w6();function r(n,a){return n!=null&&e(n,a,t)}return Xy=r,Xy}var Jy,hN;function _6(){if(hN)return Jy;hN=1;var t=Yx(),e=v2(),r=j6(),n=Tx(),a=J2(),s=Q2(),l=nf(),u=1,d=2;function h(m,p){return n(m)&&a(p)?s(l(m),p):function(g){var v=e(g,m);return v===void 0&&v===p?r(g,m):t(p,v,u|d)}}return Jy=h,Jy}var Qy,pN;function eo(){if(pN)return Qy;pN=1;function t(e){return e}return Qy=t,Qy}var Zy,mN;function S6(){if(mN)return Zy;mN=1;function t(e){return function(r){return r?.[e]}}return Zy=t,Zy}var eg,yN;function N6(){if(yN)return eg;yN=1;var t=Mx();function e(r){return function(n){return t(n,r)}}return eg=e,eg}var tg,gN;function E6(){if(gN)return tg;gN=1;var t=S6(),e=N6(),r=Tx(),n=nf();function a(s){return r(s)?t(n(s)):e(s)}return tg=a,tg}var rg,vN;function An(){if(vN)return rg;vN=1;var t=x6(),e=_6(),r=eo(),n=gr(),a=E6();function s(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?e(l[0],l[1]):t(l):a(l)}return rg=s,rg}var ng,xN;function Z2(){if(xN)return ng;xN=1;function t(e,r,n,a){for(var s=e.length,l=n+(a?1:-1);a?l--:++l<s;)if(r(e[l],l,e))return l;return-1}return ng=t,ng}var ag,bN;function O6(){if(bN)return ag;bN=1;function t(e){return e!==e}return ag=t,ag}var ig,wN;function k6(){if(wN)return ig;wN=1;function t(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}return ig=t,ig}var sg,jN;function A6(){if(jN)return sg;jN=1;var t=Z2(),e=O6(),r=k6();function n(a,s,l){return s===s?r(a,s,l):t(a,e,l)}return sg=n,sg}var og,_N;function P6(){if(_N)return og;_N=1;var t=A6();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return og=e,og}var lg,SN;function T6(){if(SN)return lg;SN=1;function t(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}return lg=t,lg}var cg,NN;function C6(){if(NN)return cg;NN=1;function t(){}return cg=t,cg}var ug,EN;function I6(){if(EN)return ug;EN=1;var t=X2(),e=C6(),r=Wx(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return ug=a,ug}var dg,ON;function $6(){if(ON)return dg;ON=1;var t=U2(),e=P6(),r=T6(),n=z2(),a=I6(),s=Wx(),l=200;function u(d,h,m){var p=-1,g=e,v=d.length,j=!0,w=[],x=w;if(m)j=!1,g=r;else if(v>=l){var _=h?null:a(d);if(_)return s(_);j=!1,g=n,x=new t}else x=h?[]:w;e:for(;++p<v;){var N=d[p],E=h?h(N):N;if(N=m||N!==0?N:0,j&&E===E){for(var A=x.length;A--;)if(x[A]===E)continue e;h&&x.push(E),w.push(N)}else g(x,E,m)||(x!==w&&x.push(E),w.push(N))}return w}return dg=u,dg}var fg,kN;function D6(){if(kN)return fg;kN=1;var t=An(),e=$6();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return fg=r,fg}var R6=D6();const AN=Ze(R6);function eP(t,e,r){return e===!0?AN(t,r):$e(e)?AN(t,e):t}function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}var M6=["ref"];function PN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(r),!0).forEach(function(n){uf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rP(n.key),n)}}function F6(t,e,r){return e&&TN(t.prototype,e),r&&TN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function B6(t,e,r){return e=nd(e),U6(t,tP()?Reflect.construct(e,r||[],nd(t).constructor):e.apply(t,r))}function U6(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q6(t)}function q6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tP=function(){return!!t})()}function nd(t){return nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nd(t)}function z6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l0(t,e)}function l0(t,e){return l0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l0(t,e)}function uf(t,e,r){return e=rP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rP(t){var e=H6(t,"string");return ks(e)=="symbol"?e:e+""}function H6(t,e){if(ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W6(t,e){if(t==null)return{};var r=K6(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function K6(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function V6(t){return t.value}function G6(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var r=W6(e,M6);return q.createElement(Hx,r)}var CN=1,Vn=(function(t){function e(){var r;L6(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=B6(this,e,[].concat(a)),uf(r,"lastBoundingBox",{width:-1,height:-1}),r}return z6(e,t),F6(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>CN||Math.abs(a.height-this.lastBoundingBox.height)>CN)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,l=a.align,u=a.verticalAlign,d=a.margin,h=a.chartWidth,m=a.chartHeight,p,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();p={left:((h||0)-v.width)/2}}else p=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var j=this.getBBoxSnapshot();g={top:((m||0)-j.height)/2}}else g=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Fn(Fn({},p),g)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,l=a.width,u=a.height,d=a.wrapperStyle,h=a.payloadUniqBy,m=a.payload,p=Fn(Fn({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return q.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},G6(s,Fn(Fn({},this.props),{},{payload:eP(m,h,V6)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Fn(Fn({},this.defaultProps),n.props),l=s.layout;return l==="vertical"&&he(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||a}:null}}])})(R.PureComponent);uf(Vn,"displayName","Legend");uf(Vn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var hg,IN;function Y6(){if(IN)return hg;IN=1;var t=oc(),e=Kx(),r=gr(),n=t?t.isConcatSpreadable:void 0;function a(s){return r(s)||e(s)||!!(n&&s&&s[n])}return hg=a,hg}var pg,$N;function nP(){if($N)return pg;$N=1;var t=W2(),e=Y6();function r(n,a,s,l,u){var d=-1,h=n.length;for(s||(s=e),u||(u=[]);++d<h;){var m=n[d];a>0&&s(m)?a>1?r(m,a-1,s,l,u):t(u,m):l||(u[u.length]=m)}return u}return pg=r,pg}var mg,DN;function X6(){if(DN)return mg;DN=1;function t(e){return function(r,n,a){for(var s=-1,l=Object(r),u=a(r),d=u.length;d--;){var h=u[e?d:++s];if(n(l[h],h,l)===!1)break}return r}}return mg=t,mg}var yg,RN;function J6(){if(RN)return yg;RN=1;var t=X6(),e=t();return yg=e,yg}var gg,MN;function aP(){if(MN)return gg;MN=1;var t=J6(),e=cf();function r(n,a){return n&&t(n,a,e)}return gg=r,gg}var vg,LN;function Q6(){if(LN)return vg;LN=1;var t=cc();function e(r,n){return function(a,s){if(a==null)return a;if(!t(a))return r(a,s);for(var l=a.length,u=n?l:-1,d=Object(a);(n?u--:++u<l)&&s(d[u],u,d)!==!1;);return a}}return vg=e,vg}var xg,FN;function Xx(){if(FN)return xg;FN=1;var t=aP(),e=Q6(),r=e(t);return xg=r,xg}var bg,BN;function iP(){if(BN)return bg;BN=1;var t=Xx(),e=cc();function r(n,a){var s=-1,l=e(n)?Array(n.length):[];return t(n,function(u,d,h){l[++s]=a(u,d,h)}),l}return bg=r,bg}var wg,UN;function Z6(){if(UN)return wg;UN=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return wg=t,wg}var jg,qN;function e3(){if(qN)return jg;qN=1;var t=Js();function e(r,n){if(r!==n){var a=r!==void 0,s=r===null,l=r===r,u=t(r),d=n!==void 0,h=n===null,m=n===n,p=t(n);if(!h&&!p&&!u&&r>n||u&&d&&m&&!h&&!p||s&&d&&m||!a&&m||!l)return 1;if(!s&&!u&&!p&&r<n||p&&a&&l&&!s&&!u||h&&a&&l||!d&&l||!m)return-1}return 0}return jg=e,jg}var _g,zN;function t3(){if(zN)return _g;zN=1;var t=e3();function e(r,n,a){for(var s=-1,l=r.criteria,u=n.criteria,d=l.length,h=a.length;++s<d;){var m=t(l[s],u[s]);if(m){if(s>=h)return m;var p=a[s];return m*(p=="desc"?-1:1)}}return r.index-n.index}return _g=e,_g}var Sg,HN;function r3(){if(HN)return Sg;HN=1;var t=Rx(),e=Mx(),r=An(),n=iP(),a=Z6(),s=V2(),l=t3(),u=eo(),d=gr();function h(m,p,g){p.length?p=t(p,function(w){return d(w)?function(x){return e(x,w.length===1?w[0]:w)}:w}):p=[u];var v=-1;p=t(p,s(r));var j=n(m,function(w,x,_){var N=t(p,function(E){return E(w)});return{criteria:N,index:++v,value:w}});return a(j,function(w,x){return l(w,x,g)})}return Sg=h,Sg}var Ng,WN;function n3(){if(WN)return Ng;WN=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Ng=t,Ng}var Eg,KN;function a3(){if(KN)return Eg;KN=1;var t=n3(),e=Math.max;function r(n,a,s){return a=e(a===void 0?n.length-1:a,0),function(){for(var l=arguments,u=-1,d=e(l.length-a,0),h=Array(d);++u<d;)h[u]=l[a+u];u=-1;for(var m=Array(a+1);++u<a;)m[u]=l[u];return m[a]=s(h),t(n,this,m)}}return Eg=r,Eg}var Og,VN;function i3(){if(VN)return Og;VN=1;function t(e){return function(){return e}}return Og=t,Og}var kg,GN;function sP(){if(GN)return kg;GN=1;var t=_i(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return kg=e,kg}var Ag,YN;function s3(){if(YN)return Ag;YN=1;var t=i3(),e=sP(),r=eo(),n=e?function(a,s){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return Ag=n,Ag}var Pg,XN;function o3(){if(XN)return Pg;XN=1;var t=800,e=16,r=Date.now;function n(a){var s=0,l=0;return function(){var u=r(),d=e-(u-l);if(l=u,d>0){if(++s>=t)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return Pg=n,Pg}var Tg,JN;function l3(){if(JN)return Tg;JN=1;var t=s3(),e=o3(),r=e(t);return Tg=r,Tg}var Cg,QN;function c3(){if(QN)return Cg;QN=1;var t=eo(),e=a3(),r=l3();function n(a,s){return r(e(a,s,t),a+"")}return Cg=n,Cg}var Ig,ZN;function df(){if(ZN)return Ig;ZN=1;var t=Ix(),e=cc(),r=Vx(),n=Ta();function a(s,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?e(u)&&r(l,u.length):d=="string"&&l in u)?t(u[l],s):!1}return Ig=a,Ig}var $g,eE;function u3(){if(eE)return $g;eE=1;var t=nP(),e=r3(),r=c3(),n=df(),a=r(function(s,l){if(s==null)return[];var u=l.length;return u>1&&n(s,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),e(s,t(l,1),[])});return $g=a,$g}var d3=u3();const Jx=Ze(d3);function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c0.apply(this,arguments)}function f3(t,e){return y3(t)||m3(t,e)||p3(t,e)||h3()}function h3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p3(t,e){if(t){if(typeof t=="string")return tE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tE(t,e)}}function tE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m3(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function y3(t){if(Array.isArray(t))return t}function rE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(r),!0).forEach(function(n){g3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g3(t,e,r){return e=v3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v3(t){var e=x3(t,"string");return bl(e)=="symbol"?e:e+""}function x3(t,e){if(bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b3(t){return Array.isArray(t)&&Rt(t[0])&&Rt(t[1])?t.join(" ~ "):t}var w3=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,l=e.itemStyle,u=l===void 0?{}:l,d=e.labelStyle,h=d===void 0?{}:d,m=e.payload,p=e.formatter,g=e.itemSorter,v=e.wrapperClassName,j=e.labelClassName,w=e.label,x=e.labelFormatter,_=e.accessibilityLayer,N=_===void 0?!1:_,E=function(){if(m&&m.length){var B={padding:0,margin:0},U=(g?Jx(m,g):m).map(function(G,Y){if(G.type==="none")return null;var Q=Dg({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},u),re=G.formatter||p||b3,V=G.value,ee=G.name,F=V,M=ee;if(re&&F!=null&&M!=null){var H=re(V,ee,G,Y,m);if(Array.isArray(H)){var oe=f3(H,2);F=oe[0],M=oe[1]}else F=H}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:Q},Rt(M)?q.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Rt(M)?q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,q.createElement("span",{className:"recharts-tooltip-item-value"},F),q.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:B},U)}return null},A=Dg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),O=Dg({margin:0},h),k=!Re(w),P=k?w:"",D=Be("recharts-default-tooltip",v),$=Be("recharts-tooltip-label",j);k&&x&&m!==void 0&&m!==null&&(P=x(w,m));var I=N?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",c0({className:D,style:A},I),q.createElement("p",{className:$,style:O},q.isValidElement(P)?P:"".concat(P)),E())};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function Pu(t,e,r){return e=j3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j3(t){var e=_3(t,"string");return wl(e)=="symbol"?e:e+""}function _3(t,e){if(wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ko="recharts-tooltip-wrapper",S3={visibility:"hidden"};function N3(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Be(Ko,Pu(Pu(Pu(Pu({},"".concat(Ko,"-right"),he(r)&&e&&he(e.x)&&r>=e.x),"".concat(Ko,"-left"),he(r)&&e&&he(e.x)&&r<e.x),"".concat(Ko,"-bottom"),he(n)&&e&&he(e.y)&&n>=e.y),"".concat(Ko,"-top"),he(n)&&e&&he(e.y)&&n<e.y))}function nE(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,l=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(s&&he(s[n]))return s[n];var m=r[n]-u-a,p=r[n]+a;if(e[n])return l[n]?m:p;if(l[n]){var g=m,v=d[n];return g<v?Math.max(p,d[n]):Math.max(m,d[n])}var j=p+u,w=d[n]+h;return j>w?Math.max(m,d[n]):Math.max(p,d[n])}function E3(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function O3(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,h,m,p;return l.height>0&&l.width>0&&r?(m=nE({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=nE({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=E3({translateX:m,translateY:p,useTranslate3d:u})):h=S3,{cssProperties:h,cssClasses:N3({translateX:m,translateY:p,coordinate:r})}}function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function aE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(r),!0).forEach(function(n){d0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lP(n.key),n)}}function P3(t,e,r){return e&&A3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T3(t,e,r){return e=ad(e),C3(t,oP()?Reflect.construct(e,r||[],ad(t).constructor):e.apply(t,r))}function C3(t,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I3(t)}function I3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oP=function(){return!!t})()}function ad(t){return ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ad(t)}function $3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u0(t,e)}function u0(t,e){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u0(t,e)}function d0(t,e,r){return e=lP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lP(t){var e=D3(t,"string");return As(e)=="symbol"?e:e+""}function D3(t,e){if(As(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sE=1,R3=(function(t){function e(){var r;k3(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=T3(this,e,[].concat(a)),d0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),d0(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,h,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(h=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&h!==void 0?h:0}})}}),r}return $3(e,t),P3(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>sE||Math.abs(n.height-this.state.lastBoundingBox.height)>sE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,l=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,h=a.children,m=a.coordinate,p=a.hasPayload,g=a.isAnimationActive,v=a.offset,j=a.position,w=a.reverseDirection,x=a.useTranslate3d,_=a.viewBox,N=a.wrapperStyle,E=O3({allowEscapeViewBox:l,coordinate:m,offsetTopLeft:v,position:j,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:_}),A=E.cssClasses,O=E.cssProperties,k=iE(iE({transition:g&&s?"transform ".concat(u,"ms ").concat(d):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},N);return q.createElement("div",{tabIndex:-1,className:A,style:k,ref:function(D){n.wrapperNode=D}},h)}}])})(R.PureComponent),M3=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Si={isSsr:M3()};function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}function oE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(r),!0).forEach(function(n){Qx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uP(n.key),n)}}function B3(t,e,r){return e&&F3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function U3(t,e,r){return e=id(e),q3(t,cP()?Reflect.construct(e,r||[],id(t).constructor):e.apply(t,r))}function q3(t,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z3(t)}function z3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cP=function(){return!!t})()}function id(t){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},id(t)}function H3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f0(t,e)}function f0(t,e){return f0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f0(t,e)}function Qx(t,e,r){return e=uP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uP(t){var e=W3(t,"string");return Ps(e)=="symbol"?e:e+""}function W3(t,e){if(Ps(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function K3(t){return t.dataKey}function V3(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(w3,e)}var ar=(function(t){function e(){return L3(this,e),U3(this,e,arguments)}return H3(e,t),B3(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,l=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,h=a.content,m=a.coordinate,p=a.filterNull,g=a.isAnimationActive,v=a.offset,j=a.payload,w=a.payloadUniqBy,x=a.position,_=a.reverseDirection,N=a.useTranslate3d,E=a.viewBox,A=a.wrapperStyle,O=j??[];p&&O.length&&(O=eP(j.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),w,K3));var k=O.length>0;return q.createElement(R3,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:g,active:s,coordinate:m,hasPayload:k,offset:v,position:x,reverseDirection:_,useTranslate3d:N,viewBox:E,wrapperStyle:A},V3(h,lE(lE({},this.props),{},{payload:O})))}}])})(R.PureComponent);Qx(ar,"displayName","Tooltip");Qx(ar,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Si.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Rg,cE;function G3(){if(cE)return Rg;cE=1;var t=kn(),e=function(){return t.Date.now()};return Rg=e,Rg}var Mg,uE;function Y3(){if(uE)return Mg;uE=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Mg=e,Mg}var Lg,dE;function X3(){if(dE)return Lg;dE=1;var t=Y3(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Lg=r,Lg}var Fg,fE;function dP(){if(fE)return Fg;fE=1;var t=X3(),e=Ta(),r=Js(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var m=typeof h.valueOf=="function"?h.valueOf():h;h=e(m)?m+"":m}if(typeof h!="string")return h===0?h:+h;h=t(h);var p=s.test(h);return p||l.test(h)?u(h.slice(2),p?2:8):a.test(h)?n:+h}return Fg=d,Fg}var Bg,hE;function J3(){if(hE)return Bg;hE=1;var t=Ta(),e=G3(),r=dP(),n="Expected a function",a=Math.max,s=Math.min;function l(u,d,h){var m,p,g,v,j,w,x=0,_=!1,N=!1,E=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(_=!!h.leading,N="maxWait"in h,g=N?a(r(h.maxWait)||0,d):g,E="trailing"in h?!!h.trailing:E);function A(U){var G=m,Y=p;return m=p=void 0,x=U,v=u.apply(Y,G),v}function O(U){return x=U,j=setTimeout(D,d),_?A(U):v}function k(U){var G=U-w,Y=U-x,Q=d-G;return N?s(Q,g-Y):Q}function P(U){var G=U-w,Y=U-x;return w===void 0||G>=d||G<0||N&&Y>=g}function D(){var U=e();if(P(U))return $(U);j=setTimeout(D,k(U))}function $(U){return j=void 0,E&&m?A(U):(m=p=void 0,v)}function I(){j!==void 0&&clearTimeout(j),x=0,m=w=p=j=void 0}function C(){return j===void 0?v:$(e())}function B(){var U=e(),G=P(U);if(m=arguments,p=this,w=U,G){if(j===void 0)return O(w);if(N)return clearTimeout(j),j=setTimeout(D,d),A(w)}return j===void 0&&(j=setTimeout(D,d)),v}return B.cancel=I,B.flush=C,B}return Bg=l,Bg}var Ug,pE;function Q3(){if(pE)return Ug;pE=1;var t=J3(),e=Ta(),r="Expected a function";function n(a,s,l){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return e(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),t(a,s,{leading:u,maxWait:s,trailing:d})}return Ug=n,Ug}var Z3=Q3();const fP=Ze(Z3);function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function mE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Tu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(r),!0).forEach(function(n){e5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e5(t,e,r){return e=t5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t5(t){var e=r5(t,"string");return jl(e)=="symbol"?e:e+""}function r5(t,e){if(jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n5(t,e){return o5(t)||s5(t,e)||i5(t,e)||a5()}function a5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i5(t,e){if(t){if(typeof t=="string")return yE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yE(t,e)}}function yE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s5(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function o5(t){if(Array.isArray(t))return t}var bs=R.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,l=s===void 0?"100%":s,u=t.height,d=u===void 0?"100%":u,h=t.minWidth,m=h===void 0?0:h,p=t.minHeight,g=t.maxHeight,v=t.children,j=t.debounce,w=j===void 0?0:j,x=t.id,_=t.className,N=t.onResize,E=t.style,A=E===void 0?{}:E,O=R.useRef(null),k=R.useRef();k.current=N,R.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var P=R.useState({containerWidth:a.width,containerHeight:a.height}),D=n5(P,2),$=D[0],I=D[1],C=R.useCallback(function(U,G){I(function(Y){var Q=Math.round(U),re=Math.round(G);return Y.containerWidth===Q&&Y.containerHeight===re?Y:{containerWidth:Q,containerHeight:re}})},[]);R.useEffect(function(){var U=function(ee){var F,M=ee[0].contentRect,H=M.width,oe=M.height;C(H,oe),(F=k.current)===null||F===void 0||F.call(k,H,oe)};w>0&&(U=fP(U,w,{trailing:!0,leading:!1}));var G=new ResizeObserver(U),Y=O.current.getBoundingClientRect(),Q=Y.width,re=Y.height;return C(Q,re),G.observe(O.current),function(){G.disconnect()}},[C,w]);var B=R.useMemo(function(){var U=$.containerWidth,G=$.containerHeight;if(U<0||G<0)return null;mn(li(l)||li(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),mn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=li(l)?U:l,Q=li(d)?G:d;r&&r>0&&(Y?Q=Y/r:Q&&(Y=Q*r),g&&Q>g&&(Q=g)),mn(Y>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,Q,l,d,m,p,r);var re=!Array.isArray(v)&&Kn(v.type).endsWith("Chart");return q.Children.map(v,function(V){return q.isValidElement(V)?R.cloneElement(V,Tu({width:Y,height:Q},re?{style:Tu({height:"100%",width:"100%",maxHeight:Q,maxWidth:Y},V.props.style)}:{})):V})},[r,v,d,g,p,m,$,l]);return q.createElement("div",{id:x?"".concat(x):void 0,className:Be("recharts-responsive-container",_),style:Tu(Tu({},A),{},{width:l,height:d,minWidth:m,minHeight:p,maxHeight:g}),ref:O},B)}),uc=function(e){return null};uc.displayName="Cell";function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function gE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function h0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(r),!0).forEach(function(n){l5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l5(t,e,r){return e=c5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c5(t){var e=u5(t,"string");return _l(e)=="symbol"?e:e+""}function u5(t,e){if(_l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qi={widthCache:{},cacheCount:0},d5=2e3,f5={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vE="recharts_measurement_span";function h5(t){var e=h0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var sl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Si.isSsr)return{width:0,height:0};var n=h5(r),a=JSON.stringify({text:e,copyStyle:n});if(Qi.widthCache[a])return Qi.widthCache[a];try{var s=document.getElementById(vE);s||(s=document.createElement("span"),s.setAttribute("id",vE),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=h0(h0({},f5),n);Object.assign(s.style,l),s.textContent="".concat(e);var u=s.getBoundingClientRect(),d={width:u.width,height:u.height};return Qi.widthCache[a]=d,++Qi.cacheCount>d5&&(Qi.cacheCount=0,Qi.widthCache={}),d}catch{return{width:0,height:0}}},p5=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function sd(t,e){return v5(t)||g5(t,e)||y5(t,e)||m5()}function m5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y5(t,e){if(t){if(typeof t=="string")return xE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xE(t,e)}}function xE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g5(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function v5(t){if(Array.isArray(t))return t}function x5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w5(n.key),n)}}function b5(t,e,r){return e&&bE(t.prototype,e),r&&bE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w5(t){var e=j5(t,"string");return Sl(e)=="symbol"?e:e+""}function j5(t,e){if(Sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_5=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,S5=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},N5=Object.keys(hP),fs="NaN";function E5(t,e){return t*hP[e]}var Cu=(function(){function t(e,r){x5(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!_5.test(r)&&(this.num=NaN,this.unit=""),N5.includes(r)&&(this.num=E5(e,r),this.unit="px")}return b5(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=S5.exec(r))!==null&&n!==void 0?n:[],s=sd(a,3),l=s[1],u=s[2];return new t(parseFloat(l),u??"")}}])})();function pP(t){if(t.includes(fs))return fs;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=wE.exec(e))!==null&&r!==void 0?r:[],a=sd(n,4),s=a[1],l=a[2],u=a[3],d=Cu.parse(s??""),h=Cu.parse(u??""),m=l==="*"?d.multiply(h):d.divide(h);if(m.isNaN())return fs;e=e.replace(wE,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,g=(p=jE.exec(e))!==null&&p!==void 0?p:[],v=sd(g,4),j=v[1],w=v[2],x=v[3],_=Cu.parse(j??""),N=Cu.parse(x??""),E=w==="+"?_.add(N):_.subtract(N);if(E.isNaN())return fs;e=e.replace(jE,E.toString())}return e}var _E=/\(([^()]*)\)/;function O5(t){for(var e=t;e.includes("(");){var r=_E.exec(e),n=sd(r,2),a=n[1];e=e.replace(_E,pP(a))}return e}function k5(t){var e=t.replace(/\s+/g,"");return e=O5(e),e=pP(e),e}function A5(t){try{return k5(t)}catch{return fs}}function qg(t){var e=A5(t.slice(5,-1));return e===fs?"":e}var P5=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],T5=["dx","dy","angle","className","breakAll"];function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p0.apply(this,arguments)}function SE(t,e){if(t==null)return{};var r=C5(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NE(t,e){return R5(t)||D5(t,e)||$5(t,e)||I5()}function I5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $5(t,e){if(t){if(typeof t=="string")return EE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EE(t,e)}}function EE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D5(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function R5(t){if(Array.isArray(t))return t}var mP=/[ \f\n\r\t\v\u2028\u2029]+/,yP=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Re(r)||(n?s=r.toString().split(""):s=r.toString().split(mP));var l=s.map(function(d){return{word:d,width:sl(d,a).width}}),u=n?0:sl("",a).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},M5=function(e,r,n,a,s){var l=e.maxLines,u=e.children,d=e.style,h=e.breakAll,m=he(l),p=u,g=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(Q,re){var V=re.word,ee=re.width,F=Q[Q.length-1];if(F&&(a==null||s||F.width+ee+n<Number(a)))F.words.push(V),F.width+=ee+n;else{var M={words:[V],width:ee};Q.push(M)}return Q},[])},v=g(r),j=function(Y){return Y.reduce(function(Q,re){return Q.width>re.width?Q:re})};if(!m)return v;for(var w="",x=function(Y){var Q=p.slice(0,Y),re=yP({breakAll:h,style:d,children:Q+w}).wordsWithComputedWidth,V=g(re),ee=V.length>l||j(V).width>Number(a);return[ee,V]},_=0,N=p.length-1,E=0,A;_<=N&&E<=p.length-1;){var O=Math.floor((_+N)/2),k=O-1,P=x(k),D=NE(P,2),$=D[0],I=D[1],C=x(O),B=NE(C,1),U=B[0];if(!$&&!U&&(_=O+1),$&&U&&(N=O-1),!$&&U){A=I;break}E++}return A||v},OE=function(e){var r=Re(e)?[]:e.toString().split(mP);return[{words:r}]},L5=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,l=e.breakAll,u=e.maxLines;if((r||n)&&!Si.isSsr){var d,h,m=yP({breakAll:l,children:a,style:s});if(m){var p=m.wordsWithComputedWidth,g=m.spaceWidth;d=p,h=g}else return OE(a);return M5({breakAll:l,children:a,maxLines:u,style:s},d,h,r,n)}return OE(a)},kE="#808080",vi=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,l=e.lineHeight,u=l===void 0?"1em":l,d=e.capHeight,h=d===void 0?"0.71em":d,m=e.scaleToFit,p=m===void 0?!1:m,g=e.textAnchor,v=g===void 0?"start":g,j=e.verticalAnchor,w=j===void 0?"end":j,x=e.fill,_=x===void 0?kE:x,N=SE(e,P5),E=R.useMemo(function(){return L5({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:p,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,p,N.style,N.width]),A=N.dx,O=N.dy,k=N.angle,P=N.className,D=N.breakAll,$=SE(N,T5);if(!Rt(n)||!Rt(s))return null;var I=n+(he(A)?A:0),C=s+(he(O)?O:0),B;switch(w){case"start":B=qg("calc(".concat(h,")"));break;case"middle":B=qg("calc(".concat((E.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:B=qg("calc(".concat(E.length-1," * -").concat(u,")"));break}var U=[];if(p){var G=E[0].width,Y=N.width;U.push("scale(".concat((he(Y)?Y/G:1)/G,")"))}return k&&U.push("rotate(".concat(k,", ").concat(I,", ").concat(C,")")),U.length&&($.transform=U.join(" ")),q.createElement("text",p0({},Ae($,!0),{x:I,y:C,className:Be("recharts-text",P),textAnchor:v,fill:_.includes("url")?kE:_}),E.map(function(Q,re){var V=Q.words.join(D?"":" ");return q.createElement("tspan",{x:I,dy:re===0?B:u,key:"".concat(V,"-").concat(re)},V)}))};function Oa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function F5(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zx(t){let e,r,n;t.length!==2?(e=Oa,r=(u,d)=>Oa(t(u),d),n=(u,d)=>t(u)-d):(e=t===Oa||t===F5?t:B5,r=t,n=t);function a(u,d,h=0,m=u.length){if(h<m){if(e(d,d)!==0)return m;do{const p=h+m>>>1;r(u[p],d)<0?h=p+1:m=p}while(h<m)}return h}function s(u,d,h=0,m=u.length){if(h<m){if(e(d,d)!==0)return m;do{const p=h+m>>>1;r(u[p],d)<=0?h=p+1:m=p}while(h<m)}return h}function l(u,d,h=0,m=u.length){const p=a(u,d,h,m-1);return p>h&&n(u[p-1],d)>-n(u[p],d)?p-1:p}return{left:a,center:l,right:s}}function B5(){return 0}function gP(t){return t===null?NaN:+t}function*U5(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const q5=Zx(Oa),dc=q5.right;Zx(gP).center;class AE extends Map{constructor(e,r=W5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(PE(this,e))}has(e){return super.has(PE(this,e))}set(e,r){return super.set(z5(this,e),r)}delete(e){return super.delete(H5(this,e))}}function PE({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function z5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function H5({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function W5(t){return t!==null&&typeof t=="object"?t.valueOf():t}function K5(t=Oa){if(t===Oa)return vP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function vP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const V5=Math.sqrt(50),G5=Math.sqrt(10),Y5=Math.sqrt(2);function od(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=V5?10:s>=G5?5:s>=Y5?2:1;let u,d,h;return a<0?(h=Math.pow(10,-a)/l,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,a)*l,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=r&&r<2?od(t,e,r*2):[u,d,h]}function m0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,l]=n?od(e,t,r):od(t,e,r);if(!(s>=a))return[];const u=s-a+1,d=new Array(u);if(n)if(l<0)for(let h=0;h<u;++h)d[h]=(s-h)/-l;else for(let h=0;h<u;++h)d[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(a+h)/-l;else for(let h=0;h<u;++h)d[h]=(a+h)*l;return d}function y0(t,e,r){return e=+e,t=+t,r=+r,od(t,e,r)[2]}function g0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?y0(e,t,r):y0(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function TE(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function CE(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function xP(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?vP:K5(a);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,m=Math.log(d),p=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*p*(d-p)/d)*(h-d/2<0?-1:1),v=Math.max(r,Math.floor(e-h*p/d+g)),j=Math.min(n,Math.floor(e+(d-h)*p/d+g));xP(t,e,v,j,a)}const s=t[e];let l=r,u=n;for(Vo(t,r,e),a(t[n],s)>0&&Vo(t,r,n);l<u;){for(Vo(t,l,u),++l,--u;a(t[l],s)<0;)++l;for(;a(t[u],s)>0;)--u}a(t[r],s)===0?Vo(t,r,u):(++u,Vo(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Vo(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function X5(t,e,r){if(t=Float64Array.from(U5(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return CE(t);if(e>=1)return TE(t);var n,a=(n-1)*e,s=Math.floor(a),l=TE(xP(t,s).subarray(0,s+1)),u=CE(t.subarray(s+1));return l+(u-l)*(a-s)}}function J5(t,e,r=gP){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),l=+r(t[s],s,t),u=+r(t[s+1],s+1,t);return l+(u-l)*(a-s)}}function Q5(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function Qr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ta(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const v0=Symbol("implicit");function eb(){var t=new AE,e=[],r=[],n=v0;function a(s){let l=t.get(s);if(l===void 0){if(n!==v0)return n;t.set(s,l=e.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new AE;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return eb(e,r).unknown(n)},Qr.apply(a,arguments),a}function Nl(){var t=eb().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,l,u=!1,d=0,h=0,m=.5;delete t.unknown;function p(){var g=e().length,v=a<n,j=v?a:n,w=v?n:a;s=(w-j)/Math.max(1,g-d+h*2),u&&(s=Math.floor(s)),j+=(w-j-s*(g-d))*m,l=s*(1-d),u&&(j=Math.round(j),l=Math.round(l));var x=Q5(g).map(function(_){return j+s*_});return r(v?x.reverse():x)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,p()):[n,a]},t.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,u=!0,p()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(d=Math.min(1,h=+g),p()):d},t.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),p()):d},t.paddingOuter=function(g){return arguments.length?(h=+g,p()):h},t.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),p()):m},t.copy=function(){return Nl(e(),[n,a]).round(u).paddingInner(d).paddingOuter(h).align(m)},Qr.apply(p(),arguments)}function bP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return bP(e())},t}function ol(){return bP(Nl.apply(null,arguments).paddingInner(1))}function tb(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function wP(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function fc(){}var El=.7,ld=1/El,ws="\\s*([+-]?\\d+)\\s*",Ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z5=/^#([0-9a-f]{3,8})$/,eL=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),tL=new RegExp(`^rgb\\(${Sn},${Sn},${Sn}\\)$`),rL=new RegExp(`^rgba\\(${ws},${ws},${ws},${Ol}\\)$`),nL=new RegExp(`^rgba\\(${Sn},${Sn},${Sn},${Ol}\\)$`),aL=new RegExp(`^hsl\\(${Ol},${Sn},${Sn}\\)$`),iL=new RegExp(`^hsla\\(${Ol},${Sn},${Sn},${Ol}\\)$`),IE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tb(fc,kl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$E,formatHex:$E,formatHex8:sL,formatHsl:oL,formatRgb:DE,toString:DE});function $E(){return this.rgb().formatHex()}function sL(){return this.rgb().formatHex8()}function oL(){return jP(this).formatHsl()}function DE(){return this.rgb().formatRgb()}function kl(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Z5.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?RE(e):r===3?new yr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Iu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Iu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=eL.exec(t))?new yr(e[1],e[2],e[3],1):(e=tL.exec(t))?new yr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=rL.exec(t))?Iu(e[1],e[2],e[3],e[4]):(e=nL.exec(t))?Iu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aL.exec(t))?FE(e[1],e[2]/100,e[3]/100,1):(e=iL.exec(t))?FE(e[1],e[2]/100,e[3]/100,e[4]):IE.hasOwnProperty(t)?RE(IE[t]):t==="transparent"?new yr(NaN,NaN,NaN,0):null}function RE(t){return new yr(t>>16&255,t>>8&255,t&255,1)}function Iu(t,e,r,n){return n<=0&&(t=e=r=NaN),new yr(t,e,r,n)}function lL(t){return t instanceof fc||(t=kl(t)),t?(t=t.rgb(),new yr(t.r,t.g,t.b,t.opacity)):new yr}function x0(t,e,r,n){return arguments.length===1?lL(t):new yr(t,e,r,n??1)}function yr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}tb(yr,x0,wP(fc,{brighter(t){return t=t==null?ld:Math.pow(ld,t),new yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?El:Math.pow(El,t),new yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yr(hi(this.r),hi(this.g),hi(this.b),cd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ME,formatHex:ME,formatHex8:cL,formatRgb:LE,toString:LE}));function ME(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}`}function cL(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}${ci((isNaN(this.opacity)?1:this.opacity)*255)}`}function LE(){const t=cd(this.opacity);return`${t===1?"rgb(":"rgba("}${hi(this.r)}, ${hi(this.g)}, ${hi(this.b)}${t===1?")":`, ${t})`}`}function cd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ci(t){return t=hi(t),(t<16?"0":"")+t.toString(16)}function FE(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new hn(t,e,r,n)}function jP(t){if(t instanceof hn)return new hn(t.h,t.s,t.l,t.opacity);if(t instanceof fc||(t=kl(t)),!t)return new hn;if(t instanceof hn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),l=NaN,u=s-a,d=(s+a)/2;return u?(e===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-e)/u+2:l=(e-r)/u+4,u/=d<.5?s+a:2-s-a,l*=60):u=d>0&&d<1?0:l,new hn(l,u,d,t.opacity)}function uL(t,e,r,n){return arguments.length===1?jP(t):new hn(t,e,r,n??1)}function hn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}tb(hn,uL,wP(fc,{brighter(t){return t=t==null?ld:Math.pow(ld,t),new hn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?El:Math.pow(El,t),new hn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new yr(zg(t>=240?t-240:t+120,a,n),zg(t,a,n),zg(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new hn(BE(this.h),$u(this.s),$u(this.l),cd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cd(this.opacity);return`${t===1?"hsl(":"hsla("}${BE(this.h)}, ${$u(this.s)*100}%, ${$u(this.l)*100}%${t===1?")":`, ${t})`}`}}));function BE(t){return t=(t||0)%360,t<0?t+360:t}function $u(t){return Math.max(0,Math.min(1,t||0))}function zg(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const rb=t=>()=>t;function dL(t,e){return function(r){return t+r*e}}function fL(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function hL(t){return(t=+t)==1?_P:function(e,r){return r-e?fL(e,r,t):rb(isNaN(e)?r:e)}}function _P(t,e){var r=e-t;return r?dL(t,r):rb(isNaN(t)?e:t)}const UE=(function t(e){var r=hL(e);function n(a,s){var l=r((a=x0(a)).r,(s=x0(s)).r),u=r(a.g,s.g),d=r(a.b,s.b),h=_P(a.opacity,s.opacity);return function(m){return a.r=l(m),a.g=u(m),a.b=d(m),a.opacity=h(m),a+""}}return n.gamma=t,n})(1);function pL(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function mL(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yL(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=to(t[l],e[l]);for(;l<r;++l)s[l]=e[l];return function(u){for(l=0;l<n;++l)s[l]=a[l](u);return s}}function gL(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ud(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function vL(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=to(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var b0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hg=new RegExp(b0.source,"g");function xL(t){return function(){return t}}function bL(t){return function(e){return t(e)+""}}function wL(t,e){var r=b0.lastIndex=Hg.lastIndex=0,n,a,s,l=-1,u=[],d=[];for(t=t+"",e=e+"";(n=b0.exec(t))&&(a=Hg.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:ud(n,a)})),r=Hg.lastIndex;return r<e.length&&(s=e.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?bL(d[0].x):xL(e):(e=d.length,function(h){for(var m=0,p;m<e;++m)u[(p=d[m]).i]=p.x(h);return u.join("")})}function to(t,e){var r=typeof e,n;return e==null||r==="boolean"?rb(e):(r==="number"?ud:r==="string"?(n=kl(e))?(e=n,UE):wL:e instanceof kl?UE:e instanceof Date?gL:mL(e)?pL:Array.isArray(e)?yL:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vL:ud)(t,e)}function nb(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function jL(t,e){e===void 0&&(e=t,t=to);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function _L(t){return function(){return t}}function dd(t){return+t}var qE=[0,1];function or(t){return t}function w0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:_L(isNaN(e)?NaN:.5)}function SL(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function NL(t,e,r){var n=t[0],a=t[1],s=e[0],l=e[1];return a<n?(n=w0(a,n),s=r(l,s)):(n=w0(n,a),s=r(s,l)),function(u){return s(n(u))}}function EL(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)a[l]=w0(t[l],t[l+1]),s[l]=r(e[l],e[l+1]);return function(u){var d=dc(t,u,1,n)-1;return s[d](a[d](u))}}function hc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ff(){var t=qE,e=qE,r=to,n,a,s,l=or,u,d,h;function m(){var g=Math.min(t.length,e.length);return l!==or&&(l=SL(t[0],t[g-1])),u=g>2?EL:NL,d=h=null,p}function p(g){return g==null||isNaN(g=+g)?s:(d||(d=u(t.map(n),e,r)))(n(l(g)))}return p.invert=function(g){return l(a((h||(h=u(e,t.map(n),ud)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,dd),m()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),m()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),r=nb,m()},p.clamp=function(g){return arguments.length?(l=g?!0:or,m()):l!==or},p.interpolate=function(g){return arguments.length?(r=g,m()):r},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,v){return n=g,a=v,m()}}function ab(){return ff()(or,or)}function OL(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fd(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Ts(t){return t=fd(Math.abs(t)),t?t[1]:NaN}function kL(t,e){return function(r,n){for(var a=r.length,s=[],l=0,u=t[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function AL(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var PL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Al(t){if(!(e=PL.exec(t)))throw new Error("invalid format: "+t);var e;return new ib({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Al.prototype=ib.prototype;function ib(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ib.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TL(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var SP;function CL(t,e){var r=fd(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(SP=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+fd(t,Math.max(0,e+s-1))[0]}function zE(t,e){var r=fd(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const HE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:OL,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zE(t*100,e),r:zE,s:CL,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function WE(t){return t}var KE=Array.prototype.map,VE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function IL(t){var e=t.grouping===void 0||t.thousands===void 0?WE:kL(KE.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?WE:AL(KE.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(p){p=Al(p);var g=p.fill,v=p.align,j=p.sign,w=p.symbol,x=p.zero,_=p.width,N=p.comma,E=p.precision,A=p.trim,O=p.type;O==="n"?(N=!0,O="g"):HE[O]||(E===void 0&&(E=12),A=!0,O="g"),(x||g==="0"&&v==="=")&&(x=!0,g="0",v="=");var k=w==="$"?r:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",P=w==="$"?n:/[%p]/.test(O)?l:"",D=HE[O],$=/[defgprs%]/.test(O);E=E===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function I(C){var B=k,U=P,G,Y,Q;if(O==="c")U=D(C)+U,C="";else{C=+C;var re=C<0||1/C<0;if(C=isNaN(C)?d:D(Math.abs(C),E),A&&(C=TL(C)),re&&+C==0&&j!=="+"&&(re=!1),B=(re?j==="("?j:u:j==="-"||j==="("?"":j)+B,U=(O==="s"?VE[8+SP/3]:"")+U+(re&&j==="("?")":""),$){for(G=-1,Y=C.length;++G<Y;)if(Q=C.charCodeAt(G),48>Q||Q>57){U=(Q===46?a+C.slice(G+1):C.slice(G))+U,C=C.slice(0,G);break}}}N&&!x&&(C=e(C,1/0));var V=B.length+C.length+U.length,ee=V<_?new Array(_-V+1).join(g):"";switch(N&&x&&(C=e(ee+C,ee.length?_-U.length:1/0),ee=""),v){case"<":C=B+C+U+ee;break;case"=":C=B+ee+C+U;break;case"^":C=ee.slice(0,V=ee.length>>1)+B+C+U+ee.slice(V);break;default:C=ee+B+C+U;break}return s(C)}return I.toString=function(){return p+""},I}function m(p,g){var v=h((p=Al(p),p.type="f",p)),j=Math.max(-8,Math.min(8,Math.floor(Ts(g)/3)))*3,w=Math.pow(10,-j),x=VE[8+j/3];return function(_){return v(w*_)+x}}return{format:h,formatPrefix:m}}var Du,sb,NP;$L({thousands:",",grouping:[3],currency:["$",""]});function $L(t){return Du=IL(t),sb=Du.format,NP=Du.formatPrefix,Du}function DL(t){return Math.max(0,-Ts(Math.abs(t)))}function RL(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ts(e)/3)))*3-Ts(Math.abs(t)))}function ML(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ts(e)-Ts(t))+1}function EP(t,e,r,n){var a=g0(t,e,r),s;switch(n=Al(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=RL(a,l))&&(n.precision=s),NP(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=ML(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=DL(a))&&(n.precision=s-(n.type==="%")*2);break}}return sb(n)}function Ca(t){var e=t.domain;return t.ticks=function(r){var n=e();return m0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return EP(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,l=n[a],u=n[s],d,h,m=10;for(u<l&&(h=l,l=u,u=h,h=a,a=s,s=h);m-- >0;){if(h=y0(l,u,r),h===d)return n[a]=l,n[s]=u,e(n);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function hd(){var t=ab();return t.copy=function(){return hc(t,hd())},Qr.apply(t,arguments),Ca(t)}function OP(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,dd),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return OP(t).unknown(e)},t=arguments.length?Array.from(t,dd):[0,1],Ca(r)}function kP(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),t[r]=e.floor(a),t[n]=e.ceil(s),t}function GE(t){return Math.log(t)}function YE(t){return Math.exp(t)}function LL(t){return-Math.log(-t)}function FL(t){return-Math.exp(-t)}function BL(t){return isFinite(t)?+("1e"+t):t<0?0:t}function UL(t){return t===10?BL:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qL(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function XE(t){return(e,r)=>-t(-e,r)}function ob(t){const e=t(GE,YE),r=e.domain;let n=10,a,s;function l(){return a=qL(n),s=UL(n),r()[0]<0?(a=XE(a),s=XE(s),t(LL,FL)):t(GE,YE),e}return e.base=function(u){return arguments.length?(n=+u,l()):n},e.domain=function(u){return arguments.length?(r(u),l()):r()},e.ticks=u=>{const d=r();let h=d[0],m=d[d.length-1];const p=m<h;p&&([h,m]=[m,h]);let g=a(h),v=a(m),j,w;const x=u==null?10:+u;let _=[];if(!(n%1)&&v-g<x){if(g=Math.floor(g),v=Math.ceil(v),h>0){for(;g<=v;++g)for(j=1;j<n;++j)if(w=g<0?j/s(-g):j*s(g),!(w<h)){if(w>m)break;_.push(w)}}else for(;g<=v;++g)for(j=n-1;j>=1;--j)if(w=g>0?j/s(-g):j*s(g),!(w<h)){if(w>m)break;_.push(w)}_.length*2<x&&(_=m0(h,m,x))}else _=m0(g,v,Math.min(v-g,x)).map(s);return p?_.reverse():_},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Al(d)).precision==null&&(d.trim=!0),d=sb(d)),u===1/0)return d;const h=Math.max(1,n*u/e.ticks().length);return m=>{let p=m/s(Math.round(a(m)));return p*n<n-.5&&(p*=n),p<=h?d(m):""}},e.nice=()=>r(kP(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),e}function AP(){const t=ob(ff()).domain([1,10]);return t.copy=()=>hc(t,AP()).base(t.base()),Qr.apply(t,arguments),t}function JE(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function QE(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function lb(t){var e=1,r=t(JE(e),QE(e));return r.constant=function(n){return arguments.length?t(JE(e=+n),QE(e)):e},Ca(r)}function PP(){var t=lb(ff());return t.copy=function(){return hc(t,PP()).constant(t.constant())},Qr.apply(t,arguments)}function ZE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zL(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function HL(t){return t<0?-t*t:t*t}function cb(t){var e=t(or,or),r=1;function n(){return r===1?t(or,or):r===.5?t(zL,HL):t(ZE(r),ZE(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Ca(e)}function ub(){var t=cb(ff());return t.copy=function(){return hc(t,ub()).exponent(t.exponent())},Qr.apply(t,arguments),t}function WL(){return ub.apply(null,arguments).exponent(.5)}function eO(t){return Math.sign(t)*t*t}function KL(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function TP(){var t=ab(),e=[0,1],r=!1,n;function a(s){var l=KL(t(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return t.invert(eO(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,dd)).map(eO)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return TP(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Qr.apply(a,arguments),Ca(a)}function CP(){var t=[],e=[],r=[],n;function a(){var l=0,u=Math.max(1,e.length);for(r=new Array(u-1);++l<u;)r[l-1]=J5(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:e[dc(r,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Oa),a()},s.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return CP().domain(t).range(e).unknown(n)},Qr.apply(s,arguments)}function IP(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function l(d){return d!=null&&d<=d?a[dc(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return IP().domain([t,e]).range(a).unknown(s)},Qr.apply(Ca(l),arguments)}function $P(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[dc(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return $P().domain(t).range(e).unknown(r)},Qr.apply(a,arguments)}const Wg=new Date,Kg=new Date;function Mt(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const d=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let h;do d.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<l);return d},a.filter=s=>Mt(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),r&&(a.count=(s,l)=>(Wg.setTime(+s),Kg.setTime(+l),t(Wg),t(Kg),Math.floor(r(Wg,Kg))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const pd=Mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);pd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):pd);pd.range;const zn=1e3,Yr=zn*60,Hn=Yr*60,Xn=Hn*24,db=Xn*7,tO=Xn*30,Vg=Xn*365,ui=Mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getUTCSeconds());ui.range;const fb=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zn)},(t,e)=>{t.setTime(+t+e*Yr)},(t,e)=>(e-t)/Yr,t=>t.getMinutes());fb.range;const hb=Mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Yr)},(t,e)=>(e-t)/Yr,t=>t.getUTCMinutes());hb.range;const pb=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zn-t.getMinutes()*Yr)},(t,e)=>{t.setTime(+t+e*Hn)},(t,e)=>(e-t)/Hn,t=>t.getHours());pb.range;const mb=Mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Hn)},(t,e)=>(e-t)/Hn,t=>t.getUTCHours());mb.range;const pc=Mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yr)/Xn,t=>t.getDate()-1);pc.range;const hf=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xn,t=>t.getUTCDate()-1);hf.range;const DP=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xn,t=>Math.floor(t/Xn));DP.range;function Ni(t){return Mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Yr)/db)}const pf=Ni(0),md=Ni(1),VL=Ni(2),GL=Ni(3),Cs=Ni(4),YL=Ni(5),XL=Ni(6);pf.range;md.range;VL.range;GL.range;Cs.range;YL.range;XL.range;function Ei(t){return Mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/db)}const mf=Ei(0),yd=Ei(1),JL=Ei(2),QL=Ei(3),Is=Ei(4),ZL=Ei(5),eF=Ei(6);mf.range;yd.range;JL.range;QL.range;Is.range;ZL.range;eF.range;const yb=Mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());yb.range;const gb=Mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gb.range;const Jn=Mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Jn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Jn.range;const Qn=Mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Qn.range;function RP(t,e,r,n,a,s){const l=[[ui,1,zn],[ui,5,5*zn],[ui,15,15*zn],[ui,30,30*zn],[s,1,Yr],[s,5,5*Yr],[s,15,15*Yr],[s,30,30*Yr],[a,1,Hn],[a,3,3*Hn],[a,6,6*Hn],[a,12,12*Hn],[n,1,Xn],[n,2,2*Xn],[r,1,db],[e,1,tO],[e,3,3*tO],[t,1,Vg]];function u(h,m,p){const g=m<h;g&&([h,m]=[m,h]);const v=p&&typeof p.range=="function"?p:d(h,m,p),j=v?v.range(h,+m+1):[];return g?j.reverse():j}function d(h,m,p){const g=Math.abs(m-h)/p,v=Zx(([,,x])=>x).right(l,g);if(v===l.length)return t.every(g0(h/Vg,m/Vg,p));if(v===0)return pd.every(Math.max(g0(h,m,p),1));const[j,w]=l[g/l[v-1][2]<l[v][2]/g?v-1:v];return j.every(w)}return[u,d]}const[tF,rF]=RP(Qn,gb,mf,DP,mb,hb),[nF,aF]=RP(Jn,yb,pf,pc,pb,fb);function Gg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Yg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Go(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function iF(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,h=Yo(a),m=Xo(a),p=Yo(s),g=Xo(s),v=Yo(l),j=Xo(l),w=Yo(u),x=Xo(u),_=Yo(d),N=Xo(d),E={a:re,A:V,b:ee,B:F,c:null,d:oO,e:oO,f:kF,g:LF,G:BF,H:NF,I:EF,j:OF,L:MP,m:AF,M:PF,p:M,q:H,Q:uO,s:dO,S:TF,u:CF,U:IF,V:$F,w:DF,W:RF,x:null,X:null,y:MF,Y:FF,Z:UF,"%":cO},A={a:oe,A:K,b:J,B:ne,c:null,d:lO,e:lO,f:WF,g:tB,G:nB,H:qF,I:zF,j:HF,L:FP,m:KF,M:VF,p:pe,q:xe,Q:uO,s:dO,S:GF,u:YF,U:XF,V:JF,w:QF,W:ZF,x:null,X:null,y:eB,Y:rB,Z:aB,"%":cO},O={a:I,A:C,b:B,B:U,c:G,d:iO,e:iO,f:wF,g:aO,G:nO,H:sO,I:sO,j:gF,L:bF,m:yF,M:vF,p:$,q:mF,Q:_F,s:SF,S:xF,u:uF,U:dF,V:fF,w:cF,W:hF,x:Y,X:Q,y:aO,Y:nO,Z:pF,"%":jF};E.x=k(r,E),E.X=k(n,E),E.c=k(e,E),A.x=k(r,A),A.X=k(n,A),A.c=k(e,A);function k(le,me){return function(_e){var se=[],We=-1,Fe=0,dt=le.length,tt,mt,vr;for(_e instanceof Date||(_e=new Date(+_e));++We<dt;)le.charCodeAt(We)===37&&(se.push(le.slice(Fe,We)),(mt=rO[tt=le.charAt(++We)])!=null?tt=le.charAt(++We):mt=tt==="e"?" ":"0",(vr=me[tt])&&(tt=vr(_e,mt)),se.push(tt),Fe=We+1);return se.push(le.slice(Fe,We)),se.join("")}}function P(le,me){return function(_e){var se=Go(1900,void 0,1),We=D(se,le,_e+="",0),Fe,dt;if(We!=_e.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(me&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Fe=Yg(Go(se.y,0,1)),dt=Fe.getUTCDay(),Fe=dt>4||dt===0?yd.ceil(Fe):yd(Fe),Fe=hf.offset(Fe,(se.V-1)*7),se.y=Fe.getUTCFullYear(),se.m=Fe.getUTCMonth(),se.d=Fe.getUTCDate()+(se.w+6)%7):(Fe=Gg(Go(se.y,0,1)),dt=Fe.getDay(),Fe=dt>4||dt===0?md.ceil(Fe):md(Fe),Fe=pc.offset(Fe,(se.V-1)*7),se.y=Fe.getFullYear(),se.m=Fe.getMonth(),se.d=Fe.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),dt="Z"in se?Yg(Go(se.y,0,1)).getUTCDay():Gg(Go(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(dt+5)%7:se.w+se.U*7-(dt+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,Yg(se)):Gg(se)}}function D(le,me,_e,se){for(var We=0,Fe=me.length,dt=_e.length,tt,mt;We<Fe;){if(se>=dt)return-1;if(tt=me.charCodeAt(We++),tt===37){if(tt=me.charAt(We++),mt=O[tt in rO?me.charAt(We++):tt],!mt||(se=mt(le,_e,se))<0)return-1}else if(tt!=_e.charCodeAt(se++))return-1}return se}function $(le,me,_e){var se=h.exec(me.slice(_e));return se?(le.p=m.get(se[0].toLowerCase()),_e+se[0].length):-1}function I(le,me,_e){var se=v.exec(me.slice(_e));return se?(le.w=j.get(se[0].toLowerCase()),_e+se[0].length):-1}function C(le,me,_e){var se=p.exec(me.slice(_e));return se?(le.w=g.get(se[0].toLowerCase()),_e+se[0].length):-1}function B(le,me,_e){var se=_.exec(me.slice(_e));return se?(le.m=N.get(se[0].toLowerCase()),_e+se[0].length):-1}function U(le,me,_e){var se=w.exec(me.slice(_e));return se?(le.m=x.get(se[0].toLowerCase()),_e+se[0].length):-1}function G(le,me,_e){return D(le,e,me,_e)}function Y(le,me,_e){return D(le,r,me,_e)}function Q(le,me,_e){return D(le,n,me,_e)}function re(le){return l[le.getDay()]}function V(le){return s[le.getDay()]}function ee(le){return d[le.getMonth()]}function F(le){return u[le.getMonth()]}function M(le){return a[+(le.getHours()>=12)]}function H(le){return 1+~~(le.getMonth()/3)}function oe(le){return l[le.getUTCDay()]}function K(le){return s[le.getUTCDay()]}function J(le){return d[le.getUTCMonth()]}function ne(le){return u[le.getUTCMonth()]}function pe(le){return a[+(le.getUTCHours()>=12)]}function xe(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var me=k(le+="",E);return me.toString=function(){return le},me},parse:function(le){var me=P(le+="",!1);return me.toString=function(){return le},me},utcFormat:function(le){var me=k(le+="",A);return me.toString=function(){return le},me},utcParse:function(le){var me=P(le+="",!0);return me.toString=function(){return le},me}}}var rO={"-":"",_:" ",0:"0"},zt=/^\s*\d+/,sF=/^%/,oF=/[\\^$*+?|[\]().{}]/g;function Ge(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function lF(t){return t.replace(oF,"\\$&")}function Yo(t){return new RegExp("^(?:"+t.map(lF).join("|")+")","i")}function Xo(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function cF(t,e,r){var n=zt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function uF(t,e,r){var n=zt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function dF(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function fF(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function hF(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function nO(t,e,r){var n=zt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function aO(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function pF(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function mF(t,e,r){var n=zt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function yF(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function iO(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function gF(t,e,r){var n=zt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function sO(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function vF(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function xF(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function bF(t,e,r){var n=zt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function wF(t,e,r){var n=zt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function jF(t,e,r){var n=sF.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function _F(t,e,r){var n=zt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function SF(t,e,r){var n=zt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function oO(t,e){return Ge(t.getDate(),e,2)}function NF(t,e){return Ge(t.getHours(),e,2)}function EF(t,e){return Ge(t.getHours()%12||12,e,2)}function OF(t,e){return Ge(1+pc.count(Jn(t),t),e,3)}function MP(t,e){return Ge(t.getMilliseconds(),e,3)}function kF(t,e){return MP(t,e)+"000"}function AF(t,e){return Ge(t.getMonth()+1,e,2)}function PF(t,e){return Ge(t.getMinutes(),e,2)}function TF(t,e){return Ge(t.getSeconds(),e,2)}function CF(t){var e=t.getDay();return e===0?7:e}function IF(t,e){return Ge(pf.count(Jn(t)-1,t),e,2)}function LP(t){var e=t.getDay();return e>=4||e===0?Cs(t):Cs.ceil(t)}function $F(t,e){return t=LP(t),Ge(Cs.count(Jn(t),t)+(Jn(t).getDay()===4),e,2)}function DF(t){return t.getDay()}function RF(t,e){return Ge(md.count(Jn(t)-1,t),e,2)}function MF(t,e){return Ge(t.getFullYear()%100,e,2)}function LF(t,e){return t=LP(t),Ge(t.getFullYear()%100,e,2)}function FF(t,e){return Ge(t.getFullYear()%1e4,e,4)}function BF(t,e){var r=t.getDay();return t=r>=4||r===0?Cs(t):Cs.ceil(t),Ge(t.getFullYear()%1e4,e,4)}function UF(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ge(e/60|0,"0",2)+Ge(e%60,"0",2)}function lO(t,e){return Ge(t.getUTCDate(),e,2)}function qF(t,e){return Ge(t.getUTCHours(),e,2)}function zF(t,e){return Ge(t.getUTCHours()%12||12,e,2)}function HF(t,e){return Ge(1+hf.count(Qn(t),t),e,3)}function FP(t,e){return Ge(t.getUTCMilliseconds(),e,3)}function WF(t,e){return FP(t,e)+"000"}function KF(t,e){return Ge(t.getUTCMonth()+1,e,2)}function VF(t,e){return Ge(t.getUTCMinutes(),e,2)}function GF(t,e){return Ge(t.getUTCSeconds(),e,2)}function YF(t){var e=t.getUTCDay();return e===0?7:e}function XF(t,e){return Ge(mf.count(Qn(t)-1,t),e,2)}function BP(t){var e=t.getUTCDay();return e>=4||e===0?Is(t):Is.ceil(t)}function JF(t,e){return t=BP(t),Ge(Is.count(Qn(t),t)+(Qn(t).getUTCDay()===4),e,2)}function QF(t){return t.getUTCDay()}function ZF(t,e){return Ge(yd.count(Qn(t)-1,t),e,2)}function eB(t,e){return Ge(t.getUTCFullYear()%100,e,2)}function tB(t,e){return t=BP(t),Ge(t.getUTCFullYear()%100,e,2)}function rB(t,e){return Ge(t.getUTCFullYear()%1e4,e,4)}function nB(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Is(t):Is.ceil(t),Ge(t.getUTCFullYear()%1e4,e,4)}function aB(){return"+0000"}function cO(){return"%"}function uO(t){return+t}function dO(t){return Math.floor(+t/1e3)}var Zi,UP,qP;iB({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iB(t){return Zi=iF(t),UP=Zi.format,Zi.parse,qP=Zi.utcFormat,Zi.utcParse,Zi}function sB(t){return new Date(t)}function oB(t){return t instanceof Date?+t:+new Date(+t)}function vb(t,e,r,n,a,s,l,u,d,h){var m=ab(),p=m.invert,g=m.domain,v=h(".%L"),j=h(":%S"),w=h("%I:%M"),x=h("%I %p"),_=h("%a %d"),N=h("%b %d"),E=h("%B"),A=h("%Y");function O(k){return(d(k)<k?v:u(k)<k?j:l(k)<k?w:s(k)<k?x:n(k)<k?a(k)<k?_:N:r(k)<k?E:A)(k)}return m.invert=function(k){return new Date(p(k))},m.domain=function(k){return arguments.length?g(Array.from(k,oB)):g().map(sB)},m.ticks=function(k){var P=g();return t(P[0],P[P.length-1],k??10)},m.tickFormat=function(k,P){return P==null?O:h(P)},m.nice=function(k){var P=g();return(!k||typeof k.range!="function")&&(k=e(P[0],P[P.length-1],k??10)),k?g(kP(P,k)):m},m.copy=function(){return hc(m,vb(t,e,r,n,a,s,l,u,d,h))},m}function lB(){return Qr.apply(vb(nF,aF,Jn,yb,pf,pc,pb,fb,ui,UP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cB(){return Qr.apply(vb(tF,rF,Qn,gb,mf,hf,mb,hb,ui,qP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yf(){var t=0,e=1,r,n,a,s,l=or,u=!1,d;function h(p){return p==null||isNaN(p=+p)?d:l(a===0?.5:(p=(s(p)-r)*a,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(l=p,h):l};function m(p){return function(g){var v,j;return arguments.length?([v,j]=g,l=p(v,j),h):[l(0),l(1)]}}return h.range=m(to),h.rangeRound=m(nb),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return s=p,r=p(t),n=p(e),a=r===n?0:1/(n-r),h}}function Ia(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zP(){var t=Ca(yf()(or));return t.copy=function(){return Ia(t,zP())},ta.apply(t,arguments)}function HP(){var t=ob(yf()).domain([1,10]);return t.copy=function(){return Ia(t,HP()).base(t.base())},ta.apply(t,arguments)}function WP(){var t=lb(yf());return t.copy=function(){return Ia(t,WP()).constant(t.constant())},ta.apply(t,arguments)}function xb(){var t=cb(yf());return t.copy=function(){return Ia(t,xb()).exponent(t.exponent())},ta.apply(t,arguments)}function uB(){return xb.apply(null,arguments).exponent(.5)}function KP(){var t=[],e=or;function r(n){if(n!=null&&!isNaN(n=+n))return e((dc(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Oa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>X5(t,s/n))},r.copy=function(){return KP(e).domain(t)},ta.apply(r,arguments)}function gf(){var t=0,e=.5,r=1,n=1,a,s,l,u,d,h=or,m,p=!1,g;function v(w){return isNaN(w=+w)?g:(w=.5+((w=+m(w))-s)*(n*w<n*s?u:d),h(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([t,e,r]=w,a=m(t=+t),s=m(e=+e),l=m(r=+r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,v):[t,e,r]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(h=w,v):h};function j(w){return function(x){var _,N,E;return arguments.length?([_,N,E]=x,h=jL(w,[_,N,E]),v):[h(0),h(.5),h(1)]}}return v.range=j(to),v.rangeRound=j(nb),v.unknown=function(w){return arguments.length?(g=w,v):g},function(w){return m=w,a=w(t),s=w(e),l=w(r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,v}}function VP(){var t=Ca(gf()(or));return t.copy=function(){return Ia(t,VP())},ta.apply(t,arguments)}function GP(){var t=ob(gf()).domain([.1,1,10]);return t.copy=function(){return Ia(t,GP()).base(t.base())},ta.apply(t,arguments)}function YP(){var t=lb(gf());return t.copy=function(){return Ia(t,YP()).constant(t.constant())},ta.apply(t,arguments)}function bb(){var t=cb(gf());return t.copy=function(){return Ia(t,bb()).exponent(t.exponent())},ta.apply(t,arguments)}function dB(){return bb.apply(null,arguments).exponent(.5)}const fO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nl,scaleDiverging:VP,scaleDivergingLog:GP,scaleDivergingPow:bb,scaleDivergingSqrt:dB,scaleDivergingSymlog:YP,scaleIdentity:OP,scaleImplicit:v0,scaleLinear:hd,scaleLog:AP,scaleOrdinal:eb,scalePoint:ol,scalePow:ub,scaleQuantile:CP,scaleQuantize:IP,scaleRadial:TP,scaleSequential:zP,scaleSequentialLog:HP,scaleSequentialPow:xb,scaleSequentialQuantile:KP,scaleSequentialSqrt:uB,scaleSequentialSymlog:WP,scaleSqrt:WL,scaleSymlog:PP,scaleThreshold:$P,scaleTime:lB,scaleUtc:cB,tickFormat:EP},Symbol.toStringTag,{value:"Module"}));var Xg,hO;function vf(){if(hO)return Xg;hO=1;var t=Js();function e(r,n,a){for(var s=-1,l=r.length;++s<l;){var u=r[s],d=n(u);if(d!=null&&(h===void 0?d===d&&!t(d):a(d,h)))var h=d,m=u}return m}return Xg=e,Xg}var Jg,pO;function XP(){if(pO)return Jg;pO=1;function t(e,r){return e>r}return Jg=t,Jg}var Qg,mO;function fB(){if(mO)return Qg;mO=1;var t=vf(),e=XP(),r=eo();function n(a){return a&&a.length?t(a,r,e):void 0}return Qg=n,Qg}var hB=fB();const xf=Ze(hB);var Zg,yO;function JP(){if(yO)return Zg;yO=1;function t(e,r){return e<r}return Zg=t,Zg}var ev,gO;function pB(){if(gO)return ev;gO=1;var t=vf(),e=JP(),r=eo();function n(a){return a&&a.length?t(a,r,e):void 0}return ev=n,ev}var mB=pB();const bf=Ze(mB);var tv,vO;function yB(){if(vO)return tv;vO=1;var t=Rx(),e=An(),r=iP(),n=gr();function a(s,l){var u=n(s)?t:r;return u(s,e(l,3))}return tv=a,tv}var rv,xO;function gB(){if(xO)return rv;xO=1;var t=nP(),e=yB();function r(n,a){return t(e(n,a),1)}return rv=r,rv}var vB=gB();const xB=Ze(vB);var nv,bO;function bB(){if(bO)return nv;bO=1;var t=Yx();function e(r,n){return t(r,n)}return nv=e,nv}var wB=bB();const mc=Ze(wB);var ro=1e9,jB={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jb,pt=!0,Jr="[DecimalError] ",pi=Jr+"Invalid argument: ",wb=Jr+"Exponent out of range: ",no=Math.floor,ei=Math.pow,_B=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ar,Ut=1e7,ut=7,QP=9007199254740991,gd=no(QP/ut),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ut;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(t){return Gn(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,r=e.constructor;return rt(Gn(e,new r(t),0,1),r.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return At(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ar))throw Error(Jr+"NaN");if(r.s<1)throw Error(Jr+(r.s?"NaN":"-Infinity"));return r.eq(Ar)?new n(0):(pt=!1,e=Gn(Pl(r,s),Pl(t,s),s),pt=!0,rt(e,a))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tT(e,t):ZP(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Jr+"NaN");return r.s?(pt=!1,e=Gn(r,t,0,1).times(t),pt=!0,r.minus(e)):rt(new n(r),a)};we.naturalExponential=we.exp=function(){return eT(this)};we.naturalLogarithm=we.ln=function(){return Pl(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZP(e,t):tT(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(pi+t);if(e=At(a)+1,n=a.d.length-1,r=n*ut+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};we.squareRoot=we.sqrt=function(){var t,e,r,n,a,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Jr+"NaN")}for(t=At(u),pt=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=_n(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=no((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(s=n,n=s.plus(Gn(u,s,l+2)).times(.5),_n(s.d).slice(0,l)===(e=_n(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(rt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(e!="9999")break;l+=4}return pt=!0,rt(n,r)};we.times=we.mul=function(t){var e,r,n,a,s,l,u,d,h,m=this,p=m.constructor,g=m.d,v=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,r=m.e+t.e,d=g.length,h=v.length,d<h&&(s=g,g=v,v=s,l=d,d=h,h=l),s=[],l=d+h,n=l;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,a=d+n;a>n;)u=s[a]+v[n]*g[a-n-1]+e,s[a--]=u%Ut|0,e=u/Ut|0;s[a]=(s[a]+e)%Ut|0}for(;!s[--l];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,pt?rt(t,p.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(En(t,0,ro),e===void 0?e=n.rounding:En(e,0,8),rt(r,t+At(r)+1,e))};we.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=xi(n,!0):(En(t,0,ro),e===void 0?e=a.rounding:En(e,0,8),n=rt(new a(n),t+1,e),r=xi(n,!0,t+1)),r};we.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?xi(a):(En(t,0,ro),e===void 0?e=s.rounding:En(e,0,8),n=rt(new s(a),t+At(a)+1,e),r=xi(n.abs(),!1,t+At(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return rt(new e(t),At(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,r,n,a,s,l,u=this,d=u.constructor,h=12,m=+(t=new d(t));if(!t.s)return new d(Ar);if(u=new d(u),!u.s){if(t.s<1)throw Error(Jr+"Infinity");return u}if(u.eq(Ar))return u;if(n=d.precision,t.eq(Ar))return rt(u,n);if(e=t.e,r=t.d.length-1,l=e>=r,s=u.s,l){if((r=m<0?-m:m)<=QP){for(a=new d(Ar),e=Math.ceil(n/ut+4),pt=!1;r%2&&(a=a.times(u),jO(a.d,e)),r=no(r/2),r!==0;)u=u.times(u),jO(u.d,e);return pt=!0,t.s<0?new d(Ar).div(a):rt(a,n)}}else if(s<0)throw Error(Jr+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,pt=!1,a=t.times(Pl(u,n+h)),pt=!0,a=eT(a),a.s=s,a};we.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=At(a),n=xi(a,r<=s.toExpNeg||r>=s.toExpPos)):(En(t,1,ro),e===void 0?e=s.rounding:En(e,0,8),a=rt(new s(a),t,e),r=At(a),n=xi(a,t<=r||r<=s.toExpNeg,t)),n};we.toSignificantDigits=we.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(En(t,1,ro),e===void 0?e=n.rounding:En(e,0,8)),rt(new n(r),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=At(t),r=t.constructor;return xi(t,e<=r.toExpNeg||e>=r.toExpPos)};function ZP(t,e){var r,n,a,s,l,u,d,h,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),pt?rt(e,p):e;if(d=t.d,h=e.d,l=t.e,a=e.e,d=d.slice(),s=l-a,s){for(s<0?(n=d,s=-s,u=h.length):(n=h,a=l,u=d.length),l=Math.ceil(p/ut),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=h.length,u-s<0&&(s=u,n=h,h=d,d=n),r=0;s;)r=(d[--s]=d[s]+h[s]+r)/Ut|0,d[s]%=Ut;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=a,pt?rt(e,p):e}function En(t,e,r){if(t!==~~t||t<e||t>r)throw Error(pi+t)}function _n(t){var e,r,n,a=t.length-1,s="",l=t[0];if(a>0){for(s+=l,e=1;e<a;e++)n=t[e]+"",r=ut-n.length,r&&(s+=ja(r)),s+=n;l=t[e],n=l+"",r=ut-n.length,r&&(s+=ja(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Gn=(function(){function t(n,a){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+l,n[u]=s%Ut|0,l=s/Ut|0;return l&&n.unshift(l),n}function e(n,a,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*Ut+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var u,d,h,m,p,g,v,j,w,x,_,N,E,A,O,k,P,D,$=n.constructor,I=n.s==a.s?1:-1,C=n.d,B=a.d;if(!n.s)return new $(n);if(!a.s)throw Error(Jr+"Division by zero");for(d=n.e-a.e,P=B.length,O=C.length,v=new $(I),j=v.d=[],h=0;B[h]==(C[h]||0);)++h;if(B[h]>(C[h]||0)&&--d,s==null?N=s=$.precision:l?N=s+(At(n)-At(a))+1:N=s,N<0)return new $(0);if(N=N/ut+2|0,h=0,P==1)for(m=0,B=B[0],N++;(h<O||m)&&N--;h++)E=m*Ut+(C[h]||0),j[h]=E/B|0,m=E%B|0;else{for(m=Ut/(B[0]+1)|0,m>1&&(B=t(B,m),C=t(C,m),P=B.length,O=C.length),A=P,w=C.slice(0,P),x=w.length;x<P;)w[x++]=0;D=B.slice(),D.unshift(0),k=B[0],B[1]>=Ut/2&&++k;do m=0,u=e(B,w,P,x),u<0?(_=w[0],P!=x&&(_=_*Ut+(w[1]||0)),m=_/k|0,m>1?(m>=Ut&&(m=Ut-1),p=t(B,m),g=p.length,x=w.length,u=e(p,w,g,x),u==1&&(m--,r(p,P<g?D:B,g))):(m==0&&(u=m=1),p=B.slice()),g=p.length,g<x&&p.unshift(0),r(w,p,x),u==-1&&(x=w.length,u=e(B,w,P,x),u<1&&(m++,r(w,P<x?D:B,x))),x=w.length):u===0&&(m++,w=[0]),j[h++]=m,u&&w[0]?w[x++]=C[A]||0:(w=[C[A]],x=1);while((A++<O||w[0]!==void 0)&&N--)}return j[0]||j.shift(),v.e=d,rt(v,l?s+At(v)+1:s)}})();function eT(t,e){var r,n,a,s,l,u,d=0,h=0,m=t.constructor,p=m.precision;if(At(t)>16)throw Error(wb+At(t));if(!t.s)return new m(Ar);for(pt=!1,u=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(ei(2,h))/Math.LN10*2+5|0,u+=n,r=a=s=new m(Ar),m.precision=u;;){if(a=rt(a.times(t),u),r=r.times(++d),l=s.plus(Gn(a,r,u)),_n(l.d).slice(0,u)===_n(s.d).slice(0,u)){for(;h--;)s=rt(s.times(s),u);return m.precision=p,e==null?(pt=!0,rt(s,p)):s}s=l}}function At(t){for(var e=t.e*ut,r=t.d[0];r>=10;r/=10)e++;return e}function av(t,e,r){if(e>t.LN10.sd())throw pt=!0,r&&(t.precision=r),Error(Jr+"LN10 precision limit exceeded");return rt(new t(t.LN10),e)}function ja(t){for(var e="";t--;)e+="0";return e}function Pl(t,e){var r,n,a,s,l,u,d,h,m,p=1,g=10,v=t,j=v.d,w=v.constructor,x=w.precision;if(v.s<1)throw Error(Jr+(v.s?"NaN":"-Infinity"));if(v.eq(Ar))return new w(0);if(e==null?(pt=!1,h=x):h=e,v.eq(10))return e==null&&(pt=!0),av(w,h);if(h+=g,w.precision=h,r=_n(j),n=r.charAt(0),s=At(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=_n(v.d),n=r.charAt(0),p++;s=At(v),n>1?(v=new w("0."+r),s++):v=new w(n+"."+r.slice(1))}else return d=av(w,h+2,x).times(s+""),v=Pl(new w(n+"."+r.slice(1)),h-g).plus(d),w.precision=x,e==null?(pt=!0,rt(v,x)):v;for(u=l=v=Gn(v.minus(Ar),v.plus(Ar),h),m=rt(v.times(v),h),a=3;;){if(l=rt(l.times(m),h),d=u.plus(Gn(l,new w(a),h)),_n(d.d).slice(0,h)===_n(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(av(w,h+2,x).times(s+""))),u=Gn(u,new w(p),h),w.precision=x,e==null?(pt=!0,rt(u,x)):u;u=d,a+=2}}function wO(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=no(r/ut),t.d=[],n=(r+1)%ut,r<0&&(n+=ut),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=ut;n<a;)t.d.push(+e.slice(n,n+=ut));e=e.slice(n),n=ut-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),pt&&(t.e>gd||t.e<-gd))throw Error(wb+r)}else t.s=0,t.e=0,t.d=[0];return t}function rt(t,e,r){var n,a,s,l,u,d,h,m,p=t.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(n=e-l,n<0)n+=ut,a=e,h=p[m=0];else{if(m=Math.ceil((n+1)/ut),s=p.length,m>=s)return t;for(h=s=p[m],l=1;s>=10;s/=10)l++;n%=ut,a=n-ut+l}if(r!==void 0&&(s=ei(10,l-a-1),u=h/s%10|0,d=e<0||p[m+1]!==void 0||h%s,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?h/ei(10,l-a):0:p[m-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return d?(s=At(t),p.length=1,e=e-s-1,p[0]=ei(10,(ut-e%ut)%ut),t.e=no(-e/ut)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=m,s=1,m--):(p.length=m+1,s=ei(10,ut-n),p[m]=a>0?(h/ei(10,l-a)%ei(10,a)|0)*s:0),d)for(;;)if(m==0){(p[0]+=s)==Ut&&(p[0]=1,++t.e);break}else{if(p[m]+=s,p[m]!=Ut)break;p[m--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(pt&&(t.e>gd||t.e<-gd))throw Error(wb+At(t));return t}function tT(t,e){var r,n,a,s,l,u,d,h,m,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),pt?rt(e,v):e;if(d=t.d,p=e.d,n=e.e,h=t.e,d=d.slice(),l=h-n,l){for(m=l<0,m?(r=d,l=-l,u=p.length):(r=p,n=h,u=d.length),a=Math.max(Math.ceil(v/ut),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=p.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(d[a]!=p[a]){m=d[a]<p[a];break}l=0}for(m&&(r=d,d=p,p=r,e.s=-e.s),u=d.length,a=p.length-u;a>0;--a)d[u++]=0;for(a=p.length;a>l;){if(d[--a]<p[a]){for(s=a;s&&d[--s]===0;)d[s]=Ut-1;--d[s],d[a]+=Ut}d[a]-=p[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,pt?rt(e,v):e):new g(0)}function xi(t,e,r){var n,a=At(t),s=_n(t.d),l=s.length;return e?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+ja(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+ja(-a-1)+s,r&&(n=r-l)>0&&(s+=ja(n))):a>=l?(s+=ja(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+ja(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=ja(n))),t.s<0?"-"+s:s}function jO(t,e){if(t.length>e)return t.length=e,!0}function rT(t){var e,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(pi+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return wO(l,s.toString())}else if(typeof s!="string")throw Error(pi+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,_B.test(s))wO(l,s);else throw Error(pi+s)}if(a.prototype=we,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=rT,a.config=a.set=SB,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function SB(t){if(!t||typeof t!="object")throw Error(Jr+"Object expected");var e,r,n,a=["precision",1,ro,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(no(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(pi+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(pi+r+": "+n);return this}var jb=rT(jB);Ar=new jb(1);const et=jb;function NB(t){return AB(t)||kB(t)||OB(t)||EB()}function EB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OB(t,e){if(t){if(typeof t=="string")return j0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j0(t,e)}}function kB(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function AB(t){if(Array.isArray(t))return j0(t)}function j0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var PB=function(e){return e},nT={},aT=function(e){return e===nT},_O=function(e){return function r(){return arguments.length===0||arguments.length===1&&aT(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},TB=function t(e,r){return e===1?r:_O(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var l=a.filter(function(u){return u!==nT}).length;return l>=e?r.apply(void 0,a):t(e-l,_O(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var m=a.map(function(p){return aT(p)?d.shift():p});return r.apply(void 0,NB(m).concat(d))}))})},wf=function(e){return TB(e.length,e)},_0=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},CB=wf(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),IB=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return PB;var a=r.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce(function(u,d){return d(u)},s.apply(void 0,arguments))}},S0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},iT=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return r&&s.every(function(u,d){return u===r[d]})||(r=s,n=e.apply(void 0,s)),n}};function $B(t){var e;return t===0?e=1:e=Math.floor(new et(t).abs().log(10).toNumber())+1,e}function DB(t,e,r){for(var n=new et(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var RB=wf(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),MB=wf(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),LB=wf(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const jf={rangeStep:DB,getDigitCount:$B,interpolateNumber:RB,uninterpolateNumber:MB,uninterpolateTruncation:LB};function N0(t){return UB(t)||BB(t)||sT(t)||FB()}function FB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BB(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function UB(t){if(Array.isArray(t))return E0(t)}function Tl(t,e){return HB(t)||zB(t,e)||sT(t,e)||qB()}function qB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sT(t,e){if(t){if(typeof t=="string")return E0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E0(t,e)}}function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zB(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var l=t[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){a=!0,s=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(a)throw s}}return r}}function HB(t){if(Array.isArray(t))return t}function oT(t){var e=Tl(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function lT(t,e,r){if(t.lte(0))return new et(0);var n=jf.getDigitCount(t.toNumber()),a=new et(10).pow(n),s=t.div(a),l=n!==1?.05:.1,u=new et(Math.ceil(s.div(l).toNumber())).add(r).mul(l),d=u.mul(a);return e?d:new et(Math.ceil(d))}function WB(t,e,r){var n=1,a=new et(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new et(10).pow(jf.getDigitCount(t)-1),a=new et(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new et(Math.floor(t)))}else t===0?a=new et(Math.floor((e-1)/2)):r||(a=new et(Math.floor(t)));var l=Math.floor((e-1)/2),u=IB(CB(function(d){return a.add(new et(d-l).mul(n)).toNumber()}),_0);return u(0,e)}function cT(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new et(0),tickMin:new et(0),tickMax:new et(0)};var s=lT(new et(e).sub(t).div(r-1),n,a),l;t<=0&&e>=0?l=new et(0):(l=new et(t).add(e).div(2),l=l.sub(new et(l).mod(s)));var u=Math.ceil(l.sub(t).div(s).toNumber()),d=Math.ceil(new et(e).sub(l).div(s).toNumber()),h=u+d+1;return h>r?cT(t,e,r,n,a+1):(h<r&&(d=e>0?d+(r-h):d,u=e>0?u:u+(r-h)),{step:s,tickMin:l.sub(new et(u).mul(s)),tickMax:l.add(new et(d).mul(s))})}function KB(t){var e=Tl(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),u=oT([r,n]),d=Tl(u,2),h=d[0],m=d[1];if(h===-1/0||m===1/0){var p=m===1/0?[h].concat(N0(_0(0,a-1).map(function(){return 1/0}))):[].concat(N0(_0(0,a-1).map(function(){return-1/0})),[m]);return r>n?S0(p):p}if(h===m)return WB(h,a,s);var g=cT(h,m,l,s),v=g.step,j=g.tickMin,w=g.tickMax,x=jf.rangeStep(j,w.add(new et(.1).mul(v)),v);return r>n?S0(x):x}function VB(t,e){var r=Tl(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=oT([n,a]),u=Tl(l,2),d=u[0],h=u[1];if(d===-1/0||h===1/0)return[n,a];if(d===h)return[d];var m=Math.max(e,2),p=lT(new et(h).sub(d).div(m-1),s,0),g=[].concat(N0(jf.rangeStep(new et(d),new et(h).sub(new et(.99).mul(p)),p)),[h]);return n>a?S0(g):g}var GB=iT(KB),YB=iT(VB),XB="Invariant failed";function bi(t,e){throw new Error(XB)}var JB=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vd.apply(this,arguments)}function QB(t,e){return r8(t)||t8(t,e)||e8(t,e)||ZB()}function ZB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e8(t,e){if(t){if(typeof t=="string")return SO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SO(t,e)}}function SO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function r8(t){if(Array.isArray(t))return t}function n8(t,e){if(t==null)return{};var r=a8(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function a8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function i8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fT(n.key),n)}}function o8(t,e,r){return e&&s8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l8(t,e,r){return e=xd(e),c8(t,uT()?Reflect.construct(e,r||[],xd(t).constructor):e.apply(t,r))}function c8(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u8(t)}function u8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uT=function(){return!!t})()}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(t)}function d8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O0(t,e)}function O0(t,e){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O0(t,e)}function dT(t,e,r){return e=fT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fT(t){var e=f8(t,"string");return $s(e)=="symbol"?e:e+""}function f8(t,e){if($s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yc=(function(t){function e(){return i8(this,e),l8(this,e,arguments)}return d8(e,t),o8(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,l=n.width,u=n.dataKey,d=n.data,h=n.dataPointFormatter,m=n.xAxis,p=n.yAxis,g=n8(n,JB),v=Ae(g,!1);this.props.direction==="x"&&m.type!=="number"&&bi();var j=d.map(function(w){var x=h(w,u),_=x.x,N=x.y,E=x.value,A=x.errorVal;if(!A)return null;var O=[],k,P;if(Array.isArray(A)){var D=QB(A,2);k=D[0],P=D[1]}else k=P=A;if(s==="vertical"){var $=m.scale,I=N+a,C=I+l,B=I-l,U=$(E-k),G=$(E+P);O.push({x1:G,y1:C,x2:G,y2:B}),O.push({x1:U,y1:I,x2:G,y2:I}),O.push({x1:U,y1:C,x2:U,y2:B})}else if(s==="horizontal"){var Y=p.scale,Q=_+a,re=Q-l,V=Q+l,ee=Y(E-k),F=Y(E+P);O.push({x1:re,y1:F,x2:V,y2:F}),O.push({x1:Q,y1:ee,x2:Q,y2:F}),O.push({x1:re,y1:ee,x2:V,y2:ee})}return q.createElement(Ve,vd({className:"recharts-errorBar",key:"bar-".concat(O.map(function(M){return"".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))},v),O.map(function(M){return q.createElement("line",vd({},M,{key:"line-".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))}))});return q.createElement(Ve,{className:"recharts-errorBars"},j)}}])})(q.Component);dT(yc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});dT(yc,"displayName","ErrorBar");function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function NO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(r),!0).forEach(function(n){h8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h8(t,e,r){return e=p8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p8(t){var e=m8(t,"string");return Cl(e)=="symbol"?e:e+""}function m8(t,e){if(Cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hT=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,l=Er(r,Vn);if(!l)return null;var u=Vn.defaultProps,d=u!==void 0?Ga(Ga({},u),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:s==="children"?h=(n||[]).reduce(function(m,p){var g=p.item,v=p.props,j=v.sectors||v.data||[];return m.concat(j.map(function(w){return{type:l.props.iconType||g.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(n||[]).map(function(m){var p=m.item,g=p.type.defaultProps,v=g!==void 0?Ga(Ga({},g),p.props):{},j=v.dataKey,w=v.name,x=v.legendType,_=v.hide;return{inactive:_,dataKey:j,type:d.iconType||x||"square",color:_b(p),value:w||j,payload:v}}),Ga(Ga(Ga({},d),Vn.getWithHeight(l,a)),{},{payload:h,item:l})};function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function EO(t){return x8(t)||v8(t)||g8(t)||y8()}function y8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g8(t,e){if(t){if(typeof t=="string")return k0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k0(t,e)}}function v8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x8(t){if(Array.isArray(t))return k0(t)}function k0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(r),!0).forEach(function(n){js(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function js(t,e,r){return e=b8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b8(t){var e=w8(t,"string");return Il(e)=="symbol"?e:e+""}function w8(t,e){if(Il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dt(t,e,r){return Re(t)||Re(e)?r:Rt(e)?Ir(t,e,r):$e(e)?e(t):r}function ll(t,e,r,n){var a=xB(t,function(u){return Dt(u,e)});if(r==="number"){var s=a.filter(function(u){return he(u)||parseFloat(u)});return s.length?[bf(s),xf(s)]:[1/0,-1/0]}var l=n?a.filter(function(u){return!Re(u)}):a;return l.map(function(u){return Rt(u)||u instanceof Date?u:""})}var j8=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,h=0;h<u;h++){var m=h>0?a[h-1].coordinate:a[u-1].coordinate,p=a[h].coordinate,g=h>=u-1?a[0].coordinate:a[h+1].coordinate,v=void 0;if(ir(p-m)!==ir(g-p)){var j=[];if(ir(g-p)===ir(d[1]-d[0])){v=g;var w=p+d[1]-d[0];j[0]=Math.min(w,(w+m)/2),j[1]=Math.max(w,(w+m)/2)}else{v=m;var x=g+d[1]-d[0];j[0]=Math.min(p,(x+p)/2),j[1]=Math.max(p,(x+p)/2)}var _=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>_[0]&&e<=_[1]||e>=j[0]&&e<=j[1]){l=a[h].index;break}}else{var N=Math.min(m,g),E=Math.max(m,g);if(e>(N+p)/2&&e<=(E+p)/2){l=a[h].index;break}}}else for(var A=0;A<u;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<u-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===u-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){l=n[A].index;break}return l},_b=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?jt(jt({},e.type.defaultProps),e.props):e.props,l=s.stroke,u=s.fill,d;switch(a){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},_8=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var l={},u=Object.keys(s),d=0,h=u.length;d<h;d++)for(var m=s[u[d]].stackGroups,p=Object.keys(m),g=0,v=p.length;g<v;g++){var j=m[p[g]],w=j.items,x=j.cateAxisId,_=w.filter(function(P){return Kn(P.type).indexOf("Bar")>=0});if(_&&_.length){var N=_[0].type.defaultProps,E=N!==void 0?jt(jt({},N),_[0].props):_[0].props,A=E.barSize,O=E[x];l[O]||(l[O]=[]);var k=Re(A)?r:A;l[O].push({item:_[0],stackList:_.slice(1),barSize:Re(k)?void 0:sr(k,n,0)})}}return l},S8=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,l=s===void 0?[]:s,u=e.maxBarSize,d=l.length;if(d<1)return null;var h=sr(r,a,0,!0),m,p=[];if(l[0].barSize===+l[0].barSize){var g=!1,v=a/d,j=l.reduce(function(A,O){return A+O.barSize||0},0);j+=(d-1)*h,j>=a&&(j-=(d-1)*h,h=0),j>=a&&v>0&&(g=!0,v*=.9,j=d*v);var w=(a-j)/2>>0,x={offset:w-h,size:0};m=l.reduce(function(A,O){var k={item:O.item,position:{offset:x.offset+x.size+h,size:g?v:O.barSize}},P=[].concat(EO(A),[k]);return x=P[P.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(D){P.push({item:D,position:x})}),P},p)}else{var _=sr(n,a,0,!0);a-2*_-(d-1)*h<=0&&(h=0);var N=(a-2*_-(d-1)*h)/d;N>1&&(N>>=0);var E=u===+u?Math.min(N,u):N;m=l.reduce(function(A,O,k){var P=[].concat(EO(A),[{item:O.item,position:{offset:_+(N+h)*k+(N-E)/2,size:E}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(D){P.push({item:D,position:P[P.length-1].position})}),P},p)}return m},N8=function(e,r,n,a){var s=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),h=hT({children:s,legendWidth:d});if(h){var m=a||{},p=m.width,g=m.height,v=h.align,j=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&j==="middle")&&v!=="center"&&he(e[v]))return jt(jt({},e),{},js({},v,e[v]+(p||0)));if((w==="horizontal"||w==="vertical"&&v==="center")&&j!=="middle"&&he(e[j]))return jt(jt({},e),{},js({},j,e[j]+(g||0)))}return e},E8=function(e,r,n){return Re(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},pT=function(e,r,n,a,s){var l=r.props.children,u=$r(l,yc).filter(function(h){return E8(a,s,h.props.direction)});if(u&&u.length){var d=u.map(function(h){return h.props.dataKey});return e.reduce(function(h,m){var p=Dt(m,n);if(Re(p))return h;var g=Array.isArray(p)?[bf(p),xf(p)]:[p,p],v=d.reduce(function(j,w){var x=Dt(m,w,0),_=g[0]-Math.abs(Array.isArray(x)?x[0]:x),N=g[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(_,j[0]),Math.max(N,j[1])]},[1/0,-1/0]);return[Math.min(v[0],h[0]),Math.max(v[1],h[1])]},[1/0,-1/0])}return null},O8=function(e,r,n,a,s){var l=r.map(function(u){return pT(e,u,n,s,a)}).filter(function(u){return!Re(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},mT=function(e,r,n,a,s){var l=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&pT(e,d,h,a)||ll(e,h,n,s)});if(n==="number")return l.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,h){for(var m=0,p=h.length;m<p;m++)u[h[m]]||(u[h[m]]=!0,d.push(h[m]));return d},[])},yT=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},gT=function(e,r,n,a){if(a)return e.map(function(d){return d.coordinate});var s,l,u=e.map(function(d){return d.coordinate===r&&(s=!0),d.coordinate===n&&(l=!0),d.coordinate});return s||u.push(r),l||u.push(n),u},Wn=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,l=e.type,u=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,h=(r||n)&&l==="category"&&a.bandwidth?a.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&u?.length>=2?ir(u[0]-u[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var m=(e.ticks||e.niceTicks).map(function(p){var g=s?s.indexOf(p):p;return{coordinate:a(g)+h,value:p,offset:h}});return m.filter(function(p){return!lc(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,g){return{coordinate:a(p)+h,value:p,index:g,offset:h}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(p){return{coordinate:a(p)+h,value:p,offset:h}}):a.domain().map(function(p,g){return{coordinate:a(p)+h,value:s?s[p]:p,index:g,offset:h}})},iv=new WeakMap,Ru=function(e,r){if(typeof r!="function")return e;iv.has(e)||iv.set(e,new WeakMap);var n=iv.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},vT=function(e,r,n){var a=e.scale,s=e.type,l=e.layout,u=e.axisType;if(a==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Nl(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:hd(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ol(),realScaleType:"point"}:s==="category"?{scale:Nl(),realScaleType:"band"}:{scale:hd(),realScaleType:"linear"};if(yi(a)){var d="scale".concat(af(a));return{scale:(fO[d]||ol)(),realScaleType:fO[d]?d:"point"}}return $e(a)?{scale:a}:{scale:ol(),realScaleType:"point"}},kO=1e-4,xT=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-kO,l=Math.max(a[0],a[1])+kO,u=e(r[0]),d=e(r[n-1]);(u<s||u>l||d<s||d>l)&&e.domain([r[0],r[n-1]])}},k8=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},A8=function(e,r){if(!r||r.length!==2||!he(r[0])||!he(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!he(e[0])||e[0]<n)&&(s[0]=n),(!he(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},P8=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,l=0,u=0;u<r;++u){var d=lc(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=s,e[u][n][1]=s+d,s=e[u][n][1]):(e[u][n][0]=l,e[u][n][1]=l+d,l=e[u][n][1])}},T8=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,l=0;l<r;++l){var u=lc(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=s,e[l][n][1]=s+u,s=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},C8={sign:P8,expand:x4,none:Es,silhouette:b4,wiggle:w4,positive:T8},I8=function(e,r,n){var a=r.map(function(u){return u.props.dataKey}),s=C8[n],l=v4().keys(a).value(function(u,d){return+Dt(u,d,0)}).order(a0).offset(s);return l(e)},$8=function(e,r,n,a,s,l){if(!e)return null;var u=l?r.reverse():r,d={},h=u.reduce(function(p,g){var v,j=(v=g.type)!==null&&v!==void 0&&v.defaultProps?jt(jt({},g.type.defaultProps),g.props):g.props,w=j.stackId,x=j.hide;if(x)return p;var _=j[n],N=p[_]||{hasStack:!1,stackGroups:{}};if(Rt(w)){var E=N.stackGroups[w]||{numericAxisId:n,cateAxisId:a,items:[]};E.items.push(g),N.hasStack=!0,N.stackGroups[w]=E}else N.stackGroups[Zs("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[g]};return jt(jt({},p),{},js({},_,N))},d),m={};return Object.keys(h).reduce(function(p,g){var v=h[g];if(v.hasStack){var j={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(w,x){var _=v.stackGroups[x];return jt(jt({},w),{},js({},x,{numericAxisId:n,cateAxisId:a,items:_.items,stackedData:I8(e,_.items,s)}))},j)}return jt(jt({},p),{},js({},g,v))},m)},bT=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&a==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var m=GB(h,s,u);return e.domain([bf(m),xf(m)]),{niceTicks:m}}if(s&&a==="number"){var p=e.domain(),g=YB(p,s,u);return{niceTicks:g}}return null};function AO(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,s=t.index,l=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Re(a[e.dataKey])){var u=Yu(r,"value",a[e.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=Dt(a,Re(l)?e.dataKey:l);return Re(d)?null:e.scale(d)}var PO=function(e){var r=e.axis,n=e.ticks,a=e.offset,s=e.bandSize,l=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+a:null;var d=Dt(l,r.dataKey,r.domain[u]);return Re(d)?null:r.scale(d)-s/2+a},D8=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},R8=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?jt(jt({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(Rt(s)){var l=r[s];if(l){var u=l.items.indexOf(e);return u>=0?l.stackedData[u]:null}}return null},M8=function(e){return e.reduce(function(r,n){return[bf(n.concat([r[0]]).filter(he)),xf(n.concat([r[1]]).filter(he))]},[1/0,-1/0])},wT=function(e,r,n){return Object.keys(e).reduce(function(a,s){var l=e[s],u=l.stackedData,d=u.reduce(function(h,m){var p=M8(m.slice(r,n+1));return[Math.min(h[0],p[0]),Math.max(h[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},TO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,A0=function(e,r,n){if($e(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(he(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(TO.test(e[0])){var s=+TO.exec(e[0])[1];a[0]=r[0]-s}else $e(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(he(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(CO.test(e[1])){var l=+CO.exec(e[1])[1];a[1]=r[1]+l}else $e(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},bd=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=Jx(r,function(p){return p.coordinate}),l=1/0,u=1,d=s.length;u<d;u++){var h=s[u],m=s[u-1];l=Math.min((h.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},IO=function(e,r,n){return!e||!e.length||mc(e,Ir(n,"type.defaultProps.domain"))?r:e},jT=function(e,r){var n=e.type.defaultProps?jt(jt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,h=n.chartType,m=n.hide;return jt(jt({},Ae(e,!1)),{},{dataKey:a,unit:l,formatter:u,name:s||a,color:_b(e),value:Dt(r,a),type:d,payload:r,chartType:h,hide:m})};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){_T(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _T(t,e,r){return e=L8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L8(t){var e=F8(t,"string");return $l(e)=="symbol"?e:e+""}function F8(t,e){if($l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B8(t,e){return H8(t)||z8(t,e)||q8(t,e)||U8()}function U8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q8(t,e){if(t){if(typeof t=="string")return DO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(t,e)}}function DO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function H8(t){if(Array.isArray(t))return t}var wd=Math.PI/180,W8=function(e){return e*180/Math.PI},ot=function(e,r,n,a){return{x:e+Math.cos(-wd*a)*n,y:r+Math.sin(-wd*a)*n}},ST=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},K8=function(e,r,n,a,s){var l=e.width,u=e.height,d=e.startAngle,h=e.endAngle,m=sr(e.cx,l,l/2),p=sr(e.cy,u,u/2),g=ST(l,u,n),v=sr(e.innerRadius,g,0),j=sr(e.outerRadius,g,g*.8),w=Object.keys(r);return w.reduce(function(x,_){var N=r[_],E=N.domain,A=N.reversed,O;if(Re(N.range))a==="angleAxis"?O=[d,h]:a==="radiusAxis"&&(O=[v,j]),A&&(O=[O[1],O[0]]);else{O=N.range;var k=O,P=B8(k,2);d=P[0],h=P[1]}var D=vT(N,s),$=D.realScaleType,I=D.scale;I.domain(E).range(O),xT(I);var C=bT(I,Bn(Bn({},N),{},{realScaleType:$})),B=Bn(Bn(Bn({},N),C),{},{range:O,radius:j,realScaleType:$,scale:I,cx:m,cy:p,innerRadius:v,outerRadius:j,startAngle:d,endAngle:h});return Bn(Bn({},x),{},_T({},_,B))},{})},V8=function(e,r){var n=e.x,a=e.y,s=r.x,l=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-l,2))},G8=function(e,r){var n=e.x,a=e.y,s=r.cx,l=r.cy,u=V8({x:n,y:a},{x:s,y:l});if(u<=0)return{radius:u};var d=(n-s)/u,h=Math.acos(d);return a>l&&(h=2*Math.PI-h),{radius:u,angle:W8(h),angleInRadian:h}},Y8=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return{startAngle:r-l*360,endAngle:n-l*360}},X8=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),l=Math.floor(a/360),u=Math.min(s,l);return e+u*360},RO=function(e,r){var n=e.x,a=e.y,s=G8({x:n,y:a},r),l=s.radius,u=s.angle,d=r.innerRadius,h=r.outerRadius;if(l<d||l>h)return!1;if(l===0)return!0;var m=Y8(r),p=m.startAngle,g=m.endAngle,v=u,j;if(p<=g){for(;v>g;)v-=360;for(;v<p;)v+=360;j=v>=p&&v<=g}else{for(;v>p;)v-=360;for(;v<g;)v+=360;j=v>=g&&v<=p}return j?Bn(Bn({},r),{},{radius:l,angle:X8(v,r)}):null},NT=function(e){return!R.isValidElement(e)&&!$e(e)&&typeof e!="boolean"?e.className:""};function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}var J8=["offset"];function Q8(t){return rU(t)||tU(t)||eU(t)||Z8()}function Z8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eU(t,e){if(t){if(typeof t=="string")return P0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P0(t,e)}}function tU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rU(t){if(Array.isArray(t))return P0(t)}function P0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nU(t,e){if(t==null)return{};var r=aU(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function It(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){iU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iU(t,e,r){return e=sU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sU(t){var e=oU(t,"string");return Dl(e)=="symbol"?e:e+""}function oU(t,e){if(Dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rl.apply(this,arguments)}var lU=function(e){var r=e.value,n=e.formatter,a=Re(e.children)?r:e.children;return $e(n)?n(a):a},cU=function(e,r){var n=ir(r-e),a=Math.min(Math.abs(r-e),360);return n*a},uU=function(e,r,n){var a=e.position,s=e.viewBox,l=e.offset,u=e.className,d=s,h=d.cx,m=d.cy,p=d.innerRadius,g=d.outerRadius,v=d.startAngle,j=d.endAngle,w=d.clockWise,x=(p+g)/2,_=cU(v,j),N=_>=0?1:-1,E,A;a==="insideStart"?(E=v+N*l,A=w):a==="insideEnd"?(E=j-N*l,A=!w):a==="end"&&(E=j+N*l,A=w),A=_<=0?A:!A;var O=ot(h,m,x,E),k=ot(h,m,x,E+(A?1:-1)*359),P="M".concat(O.x,",").concat(O.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(A?0:1,`,
    `).concat(k.x,",").concat(k.y),D=Re(e.id)?Zs("recharts-radial-line-"):e.id;return q.createElement("text",Rl({},n,{dominantBaseline:"central",className:Be("recharts-radial-bar-label",u)}),q.createElement("defs",null,q.createElement("path",{id:D,d:P})),q.createElement("textPath",{xlinkHref:"#".concat(D)},r))},dU=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,l=s.cx,u=s.cy,d=s.innerRadius,h=s.outerRadius,m=s.startAngle,p=s.endAngle,g=(m+p)/2;if(a==="outside"){var v=ot(l,u,h+n,g),j=v.x,w=v.y;return{x:j,y:w,textAnchor:j>=l?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var x=(d+h)/2,_=ot(l,u,x,g),N=_.x,E=_.y;return{x:N,y:E,textAnchor:"middle",verticalAnchor:"middle"}},fU=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,l=r,u=l.x,d=l.y,h=l.width,m=l.height,p=m>=0?1:-1,g=p*a,v=p>0?"end":"start",j=p>0?"start":"end",w=h>=0?1:-1,x=w*a,_=w>0?"end":"start",N=w>0?"start":"end";if(s==="top"){var E={x:u+h/2,y:d-p*a,textAnchor:"middle",verticalAnchor:v};return It(It({},E),n?{height:Math.max(d-n.y,0),width:h}:{})}if(s==="bottom"){var A={x:u+h/2,y:d+m+g,textAnchor:"middle",verticalAnchor:j};return It(It({},A),n?{height:Math.max(n.y+n.height-(d+m),0),width:h}:{})}if(s==="left"){var O={x:u-x,y:d+m/2,textAnchor:_,verticalAnchor:"middle"};return It(It({},O),n?{width:Math.max(O.x-n.x,0),height:m}:{})}if(s==="right"){var k={x:u+h+x,y:d+m/2,textAnchor:N,verticalAnchor:"middle"};return It(It({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:m}:{})}var P=n?{width:h,height:m}:{};return s==="insideLeft"?It({x:u+x,y:d+m/2,textAnchor:N,verticalAnchor:"middle"},P):s==="insideRight"?It({x:u+h-x,y:d+m/2,textAnchor:_,verticalAnchor:"middle"},P):s==="insideTop"?It({x:u+h/2,y:d+g,textAnchor:"middle",verticalAnchor:j},P):s==="insideBottom"?It({x:u+h/2,y:d+m-g,textAnchor:"middle",verticalAnchor:v},P):s==="insideTopLeft"?It({x:u+x,y:d+g,textAnchor:N,verticalAnchor:j},P):s==="insideTopRight"?It({x:u+h-x,y:d+g,textAnchor:_,verticalAnchor:j},P):s==="insideBottomLeft"?It({x:u+x,y:d+m-g,textAnchor:N,verticalAnchor:v},P):s==="insideBottomRight"?It({x:u+h-x,y:d+m-g,textAnchor:_,verticalAnchor:v},P):Qs(s)&&(he(s.x)||li(s.x))&&(he(s.y)||li(s.y))?It({x:u+sr(s.x,h),y:d+sr(s.y,m),textAnchor:"end",verticalAnchor:"end"},P):It({x:u+h/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},P)},hU=function(e){return"cx"in e&&he(e.cx)};function qt(t){var e=t.offset,r=e===void 0?5:e,n=nU(t,J8),a=It({offset:r},n),s=a.viewBox,l=a.position,u=a.value,d=a.children,h=a.content,m=a.className,p=m===void 0?"":m,g=a.textBreakAll;if(!s||Re(u)&&Re(d)&&!R.isValidElement(h)&&!$e(h))return null;if(R.isValidElement(h))return R.cloneElement(h,a);var v;if($e(h)){if(v=R.createElement(h,a),R.isValidElement(v))return v}else v=lU(a);var j=hU(s),w=Ae(a,!0);if(j&&(l==="insideStart"||l==="insideEnd"||l==="end"))return uU(a,v,w);var x=j?dU(a):fU(a);return q.createElement(vi,Rl({className:Be("recharts-label",p)},w,x,{breakAll:g}),v)}qt.displayName="Label";var ET=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,l=e.endAngle,u=e.r,d=e.radius,h=e.innerRadius,m=e.outerRadius,p=e.x,g=e.y,v=e.top,j=e.left,w=e.width,x=e.height,_=e.clockWise,N=e.labelViewBox;if(N)return N;if(he(w)&&he(x)){if(he(p)&&he(g))return{x:p,y:g,width:w,height:x};if(he(v)&&he(j))return{x:v,y:j,width:w,height:x}}return he(p)&&he(g)?{x:p,y:g,width:0,height:0}:he(r)&&he(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:l||a||0,innerRadius:h||0,outerRadius:m||d||u||0,clockWise:_}:e.viewBox?e.viewBox:{}},pU=function(e,r){return e?e===!0?q.createElement(qt,{key:"label-implicit",viewBox:r}):Rt(e)?q.createElement(qt,{key:"label-implicit",viewBox:r,value:e}):R.isValidElement(e)?e.type===qt?R.cloneElement(e,{key:"label-implicit",viewBox:r}):q.createElement(qt,{key:"label-implicit",content:e,viewBox:r}):$e(e)?q.createElement(qt,{key:"label-implicit",content:e,viewBox:r}):Qs(e)?q.createElement(qt,Rl({viewBox:r},e,{key:"label-implicit"})):null:null},mU=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=ET(e),l=$r(a,qt).map(function(d,h){return R.cloneElement(d,{viewBox:r||s,key:"label-".concat(h)})});if(!n)return l;var u=pU(e.label,r||s);return[u].concat(Q8(l))};qt.parseViewBox=ET;qt.renderCallByParent=mU;var sv,LO;function yU(){if(LO)return sv;LO=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return sv=t,sv}var gU=yU();const vU=Ze(gU);function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}var xU=["valueAccessor"],bU=["data","dataKey","clockWise","id","textBreakAll"];function wU(t){return NU(t)||SU(t)||_U(t)||jU()}function jU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _U(t,e){if(t){if(typeof t=="string")return T0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T0(t,e)}}function SU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NU(t){if(Array.isArray(t))return T0(t)}function T0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jd.apply(this,arguments)}function FO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(r),!0).forEach(function(n){EU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EU(t,e,r){return e=OU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OU(t){var e=kU(t,"string");return Ml(e)=="symbol"?e:e+""}function kU(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UO(t,e){if(t==null)return{};var r=AU(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var PU=function(e){return Array.isArray(e.value)?vU(e.value):e.value};function Yn(t){var e=t.valueAccessor,r=e===void 0?PU:e,n=UO(t,xU),a=n.data,s=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,h=UO(n,bU);return!a||!a.length?null:q.createElement(Ve,{className:"recharts-label-list"},a.map(function(m,p){var g=Re(s)?r(m,p):Dt(m&&m.payload,s),v=Re(u)?{}:{id:"".concat(u,"-").concat(p)};return q.createElement(qt,jd({},Ae(m,!0),h,v,{parentViewBox:m.parentViewBox,value:g,textBreakAll:d,viewBox:qt.parseViewBox(Re(l)?m:BO(BO({},m),{},{clockWise:l})),key:"label-".concat(p),index:p}))}))}Yn.displayName="LabelList";function TU(t,e){return t?t===!0?q.createElement(Yn,{key:"labelList-implicit",data:e}):q.isValidElement(t)||$e(t)?q.createElement(Yn,{key:"labelList-implicit",data:e,content:t}):Qs(t)?q.createElement(Yn,jd({data:e},t,{key:"labelList-implicit"})):null:null}function CU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=$r(n,Yn).map(function(l,u){return R.cloneElement(l,{data:e,key:"labelList-".concat(u)})});if(!r)return a;var s=TU(t.label,e);return[s].concat(wU(a))}Yn.renderCallByParent=CU;function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C0.apply(this,arguments)}function qO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(r),!0).forEach(function(n){IU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IU(t,e,r){return e=$U(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $U(t){var e=DU(t,"string");return Ll(e)=="symbol"?e:e+""}function DU(t,e){if(Ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RU=function(e,r){var n=ir(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Mu=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,l=e.sign,u=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,m=d*(u?1:-1)+a,p=Math.asin(d/m)/wd,g=h?s:s+l*p,v=ot(r,n,m,g),j=ot(r,n,a,g),w=h?s-l*p:s,x=ot(r,n,m*Math.cos(p*wd),w);return{center:v,circleTangency:j,lineTangency:x,theta:p}},OT=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,l=e.startAngle,u=e.endAngle,d=RU(l,u),h=l+d,m=ot(r,n,s,l),p=ot(r,n,s,h),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(a>0){var v=ot(r,n,a,l),j=ot(r,n,a,h);g+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},MU=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,l=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,m=e.endAngle,p=ir(m-h),g=Mu({cx:r,cy:n,radius:s,angle:h,sign:p,cornerRadius:l,cornerIsExternal:d}),v=g.circleTangency,j=g.lineTangency,w=g.theta,x=Mu({cx:r,cy:n,radius:s,angle:m,sign:-p,cornerRadius:l,cornerIsExternal:d}),_=x.circleTangency,N=x.lineTangency,E=x.theta,A=d?Math.abs(h-m):Math.abs(h-m)-w-E;if(A<0)return u?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):OT({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m});var O="M ".concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
  `);if(a>0){var k=Mu({cx:r,cy:n,radius:a,angle:h,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),P=k.circleTangency,D=k.lineTangency,$=k.theta,I=Mu({cx:r,cy:n,radius:a,angle:m,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),C=I.circleTangency,B=I.lineTangency,U=I.theta,G=d?Math.abs(h-m):Math.abs(h-m)-$-U;if(G<0&&l===0)return"".concat(O,"L").concat(r,",").concat(n,"Z");O+="L".concat(B.x,",").concat(B.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else O+="L".concat(r,",").concat(n,"Z");return O},LU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kT=function(e){var r=zO(zO({},LU),e),n=r.cx,a=r.cy,s=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,m=r.startAngle,p=r.endAngle,g=r.className;if(l<s||m===p)return null;var v=Be("recharts-sector",g),j=l-s,w=sr(u,j,0,!0),x;return w>0&&Math.abs(m-p)<360?x=MU({cx:n,cy:a,innerRadius:s,outerRadius:l,cornerRadius:Math.min(w,j/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:m,endAngle:p}):x=OT({cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:m,endAngle:p}),q.createElement("path",C0({},Ae(r,!0),{className:v,d:x,role:"img"}))};function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I0.apply(this,arguments)}function HO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function WO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(r),!0).forEach(function(n){FU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FU(t,e,r){return e=BU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BU(t){var e=UU(t,"string");return Fl(e)=="symbol"?e:e+""}function UU(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KO={curveBasisClosed:o4,curveBasisOpen:l4,curveBasis:s4,curveBumpX:KM,curveBumpY:VM,curveLinearClosed:c4,curveLinear:of,curveMonotoneX:u4,curveMonotoneY:d4,curveNatural:f4,curveStep:h4,curveStepAfter:m4,curveStepBefore:p4},Lu=function(e){return e.x===+e.x&&e.y===+e.y},Jo=function(e){return e.x},Qo=function(e){return e.y},qU=function(e,r){if($e(e))return e;var n="curve".concat(af(e));return(n==="curveMonotone"||n==="curveBump")&&r?KO["".concat(n).concat(r==="vertical"?"Y":"X")]:KO[n]||of},zU=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,l=e.baseLine,u=e.layout,d=e.connectNulls,h=d===void 0?!1:d,m=qU(n,u),p=h?s.filter(function(w){return Lu(w)}):s,g;if(Array.isArray(l)){var v=h?l.filter(function(w){return Lu(w)}):l,j=p.map(function(w,x){return WO(WO({},w),{},{base:v[x]})});return u==="vertical"?g=Au().y(Qo).x1(Jo).x0(function(w){return w.base.x}):g=Au().x(Jo).y1(Qo).y0(function(w){return w.base.y}),g.defined(Lu).curve(m),g(j)}return u==="vertical"&&he(l)?g=Au().y(Qo).x1(Jo).x0(l):he(l)?g=Au().x(Jo).y1(Qo).y0(l):g=E2().x(Jo).y(Qo),g.defined(Lu).curve(m),g(p)},_d=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var l=n&&n.length?zU(e):a;return R.createElement("path",I0({},Ae(e,!1),Xu(e),{className:Be("recharts-curve",r),d:l,ref:s}))},ov={exports:{}},lv,VO;function HU(){if(VO)return lv;VO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lv=t,lv}var cv,GO;function WU(){if(GO)return cv;GO=1;var t=HU();function e(){}function r(){}return r.resetWarningCache=e,cv=function(){function n(l,u,d,h,m,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},cv}var YO;function KU(){return YO||(YO=1,ov.exports=WU()()),ov.exports}var VU=KU();const Je=Ze(VU),{getOwnPropertyNames:GU,getOwnPropertySymbols:YU}=Object,{hasOwnProperty:XU}=Object.prototype;function uv(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function Fu(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);const{cache:s}=a,l=s.get(r),u=s.get(n);if(l&&u)return l===n&&u===r;s.set(r,n),s.set(n,r);const d=t(r,n,a);return s.delete(r),s.delete(n),d}}function JU(t){return t?.[Symbol.toStringTag]}function XO(t){return GU(t).concat(YU(t))}const QU=Object.hasOwn||((t,e)=>XU.call(t,e));function Oi(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const ZU="__v",eq="__o",tq="_owner",{getOwnPropertyDescriptor:JO,keys:QO}=Object;function rq(t,e){return t.byteLength===e.byteLength&&Sd(new Uint8Array(t),new Uint8Array(e))}function nq(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function aq(t,e){return t.byteLength===e.byteLength&&Sd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function iq(t,e){return Oi(t.getTime(),e.getTime())}function sq(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function oq(t,e){return t===e}function ZO(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),s=t.entries();let l,u,d=0;for(;(l=s.next())&&!l.done;){const h=e.entries();let m=!1,p=0;for(;(u=h.next())&&!u.done;){if(a[p]){p++;continue}const g=l.value,v=u.value;if(r.equals(g[0],v[0],d,p,t,e,r)&&r.equals(g[1],v[1],g[0],v[0],t,e,r)){m=a[p]=!0;break}p++}if(!m)return!1;d++}return!0}const lq=Oi;function cq(t,e,r){const n=QO(t);let a=n.length;if(QO(e).length!==a)return!1;for(;a-- >0;)if(!AT(t,e,r,n[a]))return!1;return!0}function Zo(t,e,r){const n=XO(t);let a=n.length;if(XO(e).length!==a)return!1;let s,l,u;for(;a-- >0;)if(s=n[a],!AT(t,e,r,s)||(l=JO(t,s),u=JO(e,s),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function uq(t,e){return Oi(t.valueOf(),e.valueOf())}function dq(t,e){return t.source===e.source&&t.flags===e.flags}function ek(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),s=t.values();let l,u;for(;(l=s.next())&&!l.done;){const d=e.values();let h=!1,m=0;for(;(u=d.next())&&!u.done;){if(!a[m]&&r.equals(l.value,u.value,l.value,u.value,t,e,r)){h=a[m]=!0;break}m++}if(!h)return!1}return!0}function Sd(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function fq(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function AT(t,e,r,n){return(n===tq||n===eq||n===ZU)&&(t.$$typeof||e.$$typeof)?!0:QU(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const hq="[object ArrayBuffer]",pq="[object Arguments]",mq="[object Boolean]",yq="[object DataView]",gq="[object Date]",vq="[object Error]",xq="[object Map]",bq="[object Number]",wq="[object Object]",jq="[object RegExp]",_q="[object Set]",Sq="[object String]",Nq={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Eq="[object URL]",Oq=Object.prototype.toString;function kq({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:s,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:m,areSetsEqual:p,areTypedArraysEqual:g,areUrlsEqual:v,unknownTagComparators:j}){return function(x,_,N){if(x===_)return!0;if(x==null||_==null)return!1;const E=typeof x;if(E!==typeof _)return!1;if(E!=="object")return E==="number"?u(x,_,N):E==="function"?s(x,_,N):!1;const A=x.constructor;if(A!==_.constructor)return!1;if(A===Object)return d(x,_,N);if(Array.isArray(x))return e(x,_,N);if(A===Date)return n(x,_,N);if(A===RegExp)return m(x,_,N);if(A===Map)return l(x,_,N);if(A===Set)return p(x,_,N);const O=Oq.call(x);if(O===gq)return n(x,_,N);if(O===jq)return m(x,_,N);if(O===xq)return l(x,_,N);if(O===_q)return p(x,_,N);if(O===wq)return typeof x.then!="function"&&typeof _.then!="function"&&d(x,_,N);if(O===Eq)return v(x,_,N);if(O===vq)return a(x,_,N);if(O===pq)return d(x,_,N);if(Nq[O])return g(x,_,N);if(O===hq)return t(x,_,N);if(O===yq)return r(x,_,N);if(O===mq||O===bq||O===Sq)return h(x,_,N);if(j){let k=j[O];if(!k){const P=JU(x);P&&(k=j[P])}if(k)return k(x,_,N)}return!1}}function Aq({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:rq,areArraysEqual:r?Zo:nq,areDataViewsEqual:aq,areDatesEqual:iq,areErrorsEqual:sq,areFunctionsEqual:oq,areMapsEqual:r?uv(ZO,Zo):ZO,areNumbersEqual:lq,areObjectsEqual:r?Zo:cq,arePrimitiveWrappersEqual:uq,areRegExpsEqual:dq,areSetsEqual:r?uv(ek,Zo):ek,areTypedArraysEqual:r?uv(Sd,Zo):Sd,areUrlsEqual:fq,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const a=Fu(n.areArraysEqual),s=Fu(n.areMapsEqual),l=Fu(n.areObjectsEqual),u=Fu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:u})}return n}function Pq(t){return function(e,r,n,a,s,l,u){return t(e,r,u)}}function Tq({circular:t,comparator:e,createState:r,equals:n,strict:a}){if(r)return function(u,d){const{cache:h=t?new WeakMap:void 0,meta:m}=r();return e(u,d,{cache:h,equals:n,meta:m,strict:a})};if(t)return function(u,d){return e(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const s={cache:void 0,equals:n,meta:void 0,strict:a};return function(u,d){return e(u,d,s)}}const Cq=$a();$a({strict:!0});$a({circular:!0});$a({circular:!0,strict:!0});$a({createInternalComparator:()=>Oi});$a({strict:!0,createInternalComparator:()=>Oi});$a({circular:!0,createInternalComparator:()=>Oi});$a({circular:!0,createInternalComparator:()=>Oi,strict:!0});function $a(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:a=!1}=t,s=Aq(t),l=kq(s),u=r?r(l):Pq(l);return Tq({circular:e,comparator:l,createState:n,equals:u,strict:a})}function Iq(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function tk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):Iq(a)};requestAnimationFrame(n)}function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}function $q(t){return Lq(t)||Mq(t)||Rq(t)||Dq()}function Dq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rq(t,e){if(t){if(typeof t=="string")return rk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(t,e)}}function rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lq(t){if(Array.isArray(t))return t}function Fq(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,u=$q(l),d=u[0],h=u.slice(1);if(typeof d=="number"){tk(a.bind(null,h),d);return}a(d),tk(a.bind(null,h));return}$0(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ak(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(r),!0).forEach(function(n){PT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PT(t,e,r){return e=Bq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bq(t){var e=Uq(t,"string");return Bl(e)==="symbol"?e:String(e)}function Uq(t,e){if(Bl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qq=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},zq=function(e){return e},Hq=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},cl=function(e,r){return Object.keys(r).reduce(function(n,a){return ak(ak({},n),{},PT({},a,e(a,r[a])))},{})},ik=function(e,r,n){return e.map(function(a){return"".concat(Hq(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Wq(t,e){return Gq(t)||Vq(t,e)||TT(t,e)||Kq()}function Kq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function Gq(t){if(Array.isArray(t))return t}function Yq(t){return Qq(t)||Jq(t)||TT(t)||Xq()}function Xq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TT(t,e){if(t){if(typeof t=="string")return D0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D0(t,e)}}function Jq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qq(t){if(Array.isArray(t))return D0(t)}function D0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Nd=1e-4,CT=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},IT=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},sk=function(e,r){return function(n){var a=CT(e,r);return IT(a,n)}},Zq=function(e,r){return function(n){var a=CT(e,r),s=[].concat(Yq(a.map(function(l,u){return l*u}).slice(1)),[0]);return IT(s,n)}},ok=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,l=1,u=1;break;case"ease":a=.25,s=.1,l=.25,u=1;break;case"ease-in":a=.42,s=0,l=1,u=1;break;case"ease-out":a=.42,s=0,l=.58,u=1;break;case"ease-in-out":a=0,s=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),m=Wq(h,4);a=m[0],s=m[1],l=m[2],u=m[3]}}}var p=sk(a,l),g=sk(s,u),v=Zq(a,l),j=function(_){return _>1?1:_<0?0:_},w=function(_){for(var N=_>1?1:_,E=N,A=0;A<8;++A){var O=p(E)-N,k=v(E);if(Math.abs(O-N)<Nd||k<Nd)return g(E);E=j(E-O/k)}return g(E)};return w.isStepper=!1,w},e7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,l=e.dt,u=l===void 0?17:l,d=function(m,p,g){var v=-(m-p)*n,j=g*s,w=g+(v-j)*u/1e3,x=g*u/1e3+m;return Math.abs(x-p)<Nd&&Math.abs(w)<Nd?[p,0]:[x,w]};return d.isStepper=!0,d.dt=u,d},t7=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ok(a);case"spring":return e7();default:if(a.split("(")[0]==="cubic-bezier")return ok(a)}return typeof a=="function"?a:null};function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function lk(t){return a7(t)||n7(t)||$T(t)||r7()}function r7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a7(t){if(Array.isArray(t))return M0(t)}function ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(r),!0).forEach(function(n){R0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R0(t,e,r){return e=i7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i7(t){var e=s7(t,"string");return Ul(e)==="symbol"?e:String(e)}function s7(t,e){if(Ul(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ul(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o7(t,e){return u7(t)||c7(t,e)||$T(t,e)||l7()}function l7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $T(t,e){if(t){if(typeof t=="string")return M0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M0(t,e)}}function M0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function u7(t){if(Array.isArray(t))return t}var Ed=function(e,r,n){return e+(r-e)*n},L0=function(e){var r=e.from,n=e.to;return r!==n},d7=function t(e,r,n){var a=cl(function(s,l){if(L0(l)){var u=e(l.from,l.to,l.velocity),d=o7(u,2),h=d[0],m=d[1];return Gt(Gt({},l),{},{from:h,velocity:m})}return l},r);return n<1?cl(function(s,l){return L0(l)?Gt(Gt({},l),{},{velocity:Ed(l.velocity,a[s].velocity,n),from:Ed(l.from,a[s].from,n)}):l},r):t(e,a,n-1)};const f7=(function(t,e,r,n,a){var s=qq(t,e),l=s.reduce(function(x,_){return Gt(Gt({},x),{},R0({},_,[t[_],e[_]]))},{}),u=s.reduce(function(x,_){return Gt(Gt({},x),{},R0({},_,{from:t[_],velocity:0,to:e[_]}))},{}),d=-1,h,m,p=function(){return null},g=function(){return cl(function(_,N){return N.from},u)},v=function(){return!Object.values(u).filter(L0).length},j=function(_){h||(h=_);var N=_-h,E=N/r.dt;u=d7(r,u,E),a(Gt(Gt(Gt({},t),e),g())),h=_,v()||(d=requestAnimationFrame(p))},w=function(_){m||(m=_);var N=(_-m)/n,E=cl(function(O,k){return Ed.apply(void 0,lk(k).concat([r(N)]))},l);if(a(Gt(Gt(Gt({},t),e),E)),N<1)d=requestAnimationFrame(p);else{var A=cl(function(O,k){return Ed.apply(void 0,lk(k).concat([r(1)]))},l);a(Gt(Gt(Gt({},t),e),A))}};return p=r.isStepper?j:w,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}var h7=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function p7(t,e){if(t==null)return{};var r=m7(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m7(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function dv(t){return x7(t)||v7(t)||g7(t)||y7()}function y7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g7(t,e){if(t){if(typeof t=="string")return F0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F0(t,e)}}function v7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x7(t){if(Array.isArray(t))return F0(t)}function F0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(r),!0).forEach(function(n){al(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function al(t,e,r){return e=DT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DT(n.key),n)}}function j7(t,e,r){return e&&w7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DT(t){var e=_7(t,"string");return Ds(e)==="symbol"?e:String(e)}function _7(t,e){if(Ds(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ds(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B0(t,e)}function B0(t,e){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B0(t,e)}function N7(t){var e=E7();return function(){var n=Od(t),a;if(e){var s=Od(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return U0(this,a)}}function U0(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q0(t)}function q0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(t)}var On=(function(t){S7(r,t);var e=N7(r);function r(n,a){var s;b7(this,r),s=e.call(this,n,a);var l=s.props,u=l.isActive,d=l.attributeName,h=l.from,m=l.to,p=l.steps,g=l.children,v=l.duration;if(s.handleStyleChange=s.handleStyleChange.bind(q0(s)),s.changeStyle=s.changeStyle.bind(q0(s)),!u||v<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:m}),U0(s);if(p&&p.length)s.state={style:p[0].style};else if(h){if(typeof g=="function")return s.state={style:h},U0(s);s.state={style:d?al({},d,h):h}}else s.state={style:{}};return s}return j7(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,l=a.canBegin;this.mounted=!0,!(!s||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,l=s.isActive,u=s.canBegin,d=s.attributeName,h=s.shouldReAnimate,m=s.to,p=s.from,g=this.state.style;if(u){if(!l){var v={style:d?al({},d,m):m};this.state&&g&&(d&&g[d]!==m||!d&&g!==m)&&this.setState(v);return}if(!(Cq(a.to,m)&&a.canBegin&&a.isActive)){var j=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=j||h?p:a.to;if(this.state&&g){var x={style:d?al({},d,w):w};(d&&g[d]!==w||!d&&g!==w)&&this.setState(x)}this.runAnimation(on(on({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,l=a.from,u=a.to,d=a.duration,h=a.easing,m=a.begin,p=a.onAnimationEnd,g=a.onAnimationStart,v=f7(l,u,t7(h),d,this.changeStyle),j=function(){s.stopJSAnimation=v()};this.manager.start([g,m,j,d,p])}},{key:"runStepAnimation",value:function(a){var s=this,l=a.steps,u=a.begin,d=a.onAnimationStart,h=l[0],m=h.style,p=h.duration,g=p===void 0?0:p,v=function(w,x,_){if(_===0)return w;var N=x.duration,E=x.easing,A=E===void 0?"ease":E,O=x.style,k=x.properties,P=x.onAnimationEnd,D=_>0?l[_-1]:x,$=k||Object.keys(O);if(typeof A=="function"||A==="spring")return[].concat(dv(w),[s.runJSAnimation.bind(s,{from:D.style,to:O,duration:N,easing:A}),N]);var I=ik($,N,A),C=on(on(on({},D.style),O),{},{transition:I});return[].concat(dv(w),[C,N,P]).filter(zq)};return this.manager.start([d].concat(dv(l.reduce(v,[m,Math.max(g,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Fq());var s=a.begin,l=a.duration,u=a.attributeName,d=a.to,h=a.easing,m=a.onAnimationStart,p=a.onAnimationEnd,g=a.steps,v=a.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof h=="function"||typeof v=="function"||h==="spring"){this.runJSAnimation(a);return}if(g.length>1){this.runStepAnimation(a);return}var w=u?al({},u,d):d,x=ik(Object.keys(w),l,h);j.start([m,s,on(on({},w),{},{transition:x}),l,p])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var l=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=p7(a,h7),h=R.Children.count(s),m=this.state.style;if(typeof s=="function")return s(m);if(!u||h===0||l<=0)return s;var p=function(v){var j=v.props,w=j.style,x=w===void 0?{}:w,_=j.className,N=R.cloneElement(v,on(on({},d),{},{style:on(on({},x),m),className:_}));return N};return h===1?p(R.Children.only(s)):q.createElement("div",null,R.Children.map(s,function(g){return p(g)}))}}]),r})(R.PureComponent);On.displayName="Animate";On.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};On.propTypes={from:Je.oneOfType([Je.object,Je.string]),to:Je.oneOfType([Je.object,Je.string]),attributeName:Je.string,duration:Je.number,begin:Je.number,easing:Je.oneOfType([Je.string,Je.func]),steps:Je.arrayOf(Je.shape({duration:Je.number.isRequired,style:Je.object.isRequired,easing:Je.oneOfType([Je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Je.func]),properties:Je.arrayOf("string"),onAnimationEnd:Je.func})),children:Je.oneOfType([Je.node,Je.func]),isActive:Je.bool,canBegin:Je.bool,onAnimationEnd:Je.func,shouldReAnimate:Je.bool,onAnimationStart:Je.func,onAnimationReStart:Je.func};function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kd.apply(this,arguments)}function O7(t,e){return T7(t)||P7(t,e)||A7(t,e)||k7()}function k7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7(t,e){if(t){if(typeof t=="string")return dk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dk(t,e)}}function dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function T7(t){if(Array.isArray(t))return t}function fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(r),!0).forEach(function(n){C7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C7(t,e,r){return e=I7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I7(t){var e=$7(t,"string");return ql(e)=="symbol"?e:e+""}function $7(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pk=function(e,r,n,a,s){var l=Math.min(Math.abs(n)/2,Math.abs(a)/2),u=a>=0?1:-1,d=n>=0?1:-1,h=a>=0&&n>=0||a<0&&n<0?1:0,m;if(l>0&&s instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=s[g]>l?l:s[g];m="M".concat(e,",").concat(r+u*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(e+d*p[0],",").concat(r)),m+="L ".concat(e+n-d*p[1],",").concat(r),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+u*p[1])),m+="L ".concat(e+n,",").concat(r+a-u*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(e+n-d*p[2],",").concat(r+a)),m+="L ".concat(e+d*p[3],",").concat(r+a),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+a-u*p[3])),m+="Z"}else if(l>0&&s===+s&&s>0){var j=Math.min(l,s);m="M ".concat(e,",").concat(r+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e+d*j,",").concat(r,`
            L `).concat(e+n-d*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e+n,",").concat(r+u*j,`
            L `).concat(e+n,",").concat(r+a-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e+n-d*j,",").concat(r+a,`
            L `).concat(e+d*j,",").concat(r+a,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e,",").concat(r+a-u*j," Z")}else m="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return m},D7=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var h=Math.min(s,s+u),m=Math.max(s,s+u),p=Math.min(l,l+d),g=Math.max(l,l+d);return n>=h&&n<=m&&a>=p&&a<=g}return!1},R7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sb=function(e){var r=hk(hk({},R7),e),n=R.useRef(),a=R.useState(-1),s=O7(a,2),l=s[0],u=s[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&u(A)}catch{}},[]);var d=r.x,h=r.y,m=r.width,p=r.height,g=r.radius,v=r.className,j=r.animationEasing,w=r.animationDuration,x=r.animationBegin,_=r.isAnimationActive,N=r.isUpdateAnimationActive;if(d!==+d||h!==+h||m!==+m||p!==+p||m===0||p===0)return null;var E=Be("recharts-rectangle",v);return N?q.createElement(On,{canBegin:l>0,from:{width:m,height:p,x:d,y:h},to:{width:m,height:p,x:d,y:h},duration:w,animationEasing:j,isActive:N},function(A){var O=A.width,k=A.height,P=A.x,D=A.y;return q.createElement(On,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,isActive:_,easing:j},q.createElement("path",kd({},Ae(r,!0),{className:E,d:pk(P,D,O,k,g),ref:n})))}):q.createElement("path",kd({},Ae(r,!0),{className:E,d:pk(d,h,m,p,g)}))},M7=["points","className","baseLinePoints","connectNulls"];function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hs.apply(this,arguments)}function L7(t,e){if(t==null)return{};var r=F7(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mk(t){return z7(t)||q7(t)||U7(t)||B7()}function B7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U7(t,e){if(t){if(typeof t=="string")return z0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z0(t,e)}}function q7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z7(t){if(Array.isArray(t))return z0(t)}function z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yk=function(e){return e&&e.x===+e.x&&e.y===+e.y},H7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){yk(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),yk(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ul=function(e,r){var n=H7(e);r&&(n=[n.reduce(function(s,l){return[].concat(mk(s),mk(l))},[])]);var a=n.map(function(s){return s.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},W7=function(e,r,n){var a=ul(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ul(r.reverse(),n).slice(1))},K7=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,l=L7(e,M7);if(!r||!r.length)return null;var u=Be("recharts-polygon",n);if(a&&a.length){var d=l.stroke&&l.stroke!=="none",h=W7(r,a,s);return q.createElement("g",{className:u},q.createElement("path",hs({},Ae(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),d?q.createElement("path",hs({},Ae(l,!0),{fill:"none",d:ul(r,s)})):null,d?q.createElement("path",hs({},Ae(l,!0),{fill:"none",d:ul(a,s)})):null)}var m=ul(r,s);return q.createElement("path",hs({},Ae(l,!0),{fill:m.slice(-1)==="Z"?l.fill:"none",className:u,d:m}))};function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H0.apply(this,arguments)}var _f=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,l=Be("recharts-dot",s);return r===+r&&n===+n&&a===+a?R.createElement("circle",H0({},Ae(e,!1),Xu(e),{className:l,cx:r,cy:n,r:a})):null};function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}var V7=["x","y","top","left","width","height","className"];function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W0.apply(this,arguments)}function gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function G7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(r),!0).forEach(function(n){Y7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y7(t,e,r){return e=X7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X7(t){var e=J7(t,"string");return zl(e)=="symbol"?e:e+""}function J7(t,e){if(zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q7(t,e){if(t==null)return{};var r=Z7(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ez=function(e,r,n,a,s,l){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(l,",").concat(r,"h").concat(n)},tz=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,l=e.top,u=l===void 0?0:l,d=e.left,h=d===void 0?0:d,m=e.width,p=m===void 0?0:m,g=e.height,v=g===void 0?0:g,j=e.className,w=Q7(e,V7),x=G7({x:n,y:s,top:u,left:h,width:p,height:v},w);return!he(n)||!he(s)||!he(p)||!he(v)||!he(u)||!he(h)?null:q.createElement("path",W0({},Ae(x,!0),{className:Be("recharts-cross",j),d:ez(n,s,p,v,u,h)}))},fv,vk;function rz(){if(vk)return fv;vk=1;var t=vf(),e=XP(),r=An();function n(a,s){return a&&a.length?t(a,r(s,2),e):void 0}return fv=n,fv}var nz=rz();const az=Ze(nz);var hv,xk;function iz(){if(xk)return hv;xk=1;var t=vf(),e=An(),r=JP();function n(a,s){return a&&a.length?t(a,e(s,2),r):void 0}return hv=n,hv}var sz=iz();const oz=Ze(sz);var lz=["cx","cy","angle","ticks","axisLine"],cz=["ticks","tick","angle","tickFormatter","stroke"];function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dl.apply(this,arguments)}function bk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(r),!0).forEach(function(n){Sf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wk(t,e){if(t==null)return{};var r=uz(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MT(n.key),n)}}function fz(t,e,r){return e&&jk(t.prototype,e),r&&jk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hz(t,e,r){return e=Ad(e),pz(t,RT()?Reflect.construct(e,r||[],Ad(t).constructor):e.apply(t,r))}function pz(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mz(t)}function mz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RT=function(){return!!t})()}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(t)}function yz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K0(t,e)}function Sf(t,e,r){return e=MT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MT(t){var e=gz(t,"string");return Rs(e)=="symbol"?e:e+""}function gz(t,e){if(Rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nf=(function(t){function e(){return dz(this,e),hz(this,e,arguments)}return yz(e,t),fz(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,l=s.angle,u=s.cx,d=s.cy;return ot(u,d,a,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,l=n.angle,u=n.ticks,d=az(u,function(m){return m.coordinate||0}),h=oz(u,function(m){return m.coordinate||0});return{cx:a,cy:s,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,l=n.angle,u=n.ticks,d=n.axisLine,h=wk(n,lz),m=u.reduce(function(j,w){return[Math.min(j[0],w.coordinate),Math.max(j[1],w.coordinate)]},[1/0,-1/0]),p=ot(a,s,m[0],l),g=ot(a,s,m[1],l),v=Ya(Ya(Ya({},Ae(h,!1)),{},{fill:"none"},Ae(d,!1)),{},{x1:p.x,y1:p.y,x2:g.x,y2:g.y});return q.createElement("line",dl({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,l=a.tick,u=a.angle,d=a.tickFormatter,h=a.stroke,m=wk(a,cz),p=this.getTickTextAnchor(),g=Ae(m,!1),v=Ae(l,!1),j=s.map(function(w,x){var _=n.getTickValueCoord(w),N=Ya(Ya(Ya(Ya({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(_.x,", ").concat(_.y,")")},g),{},{stroke:"none",fill:h},v),{},{index:x},_),{},{payload:w});return q.createElement(Ve,dl({className:Be("recharts-polar-radius-axis-tick",NT(l)),key:"tick-".concat(w.coordinate)},gi(n.props,w,x)),e.renderTickItem(l,N,d?d(w.value,x):w.value))});return q.createElement(Ve,{className:"recharts-polar-radius-axis-ticks"},j)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,l=n.tick;return!a||!a.length?null:q.createElement(Ve,{className:Be("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),l&&this.renderTicks(),qt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var l;return q.isValidElement(n)?l=q.cloneElement(n,a):$e(n)?l=n(a):l=q.createElement(vi,dl({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),l}}])})(R.PureComponent);Sf(Nf,"displayName","PolarRadiusAxis");Sf(Nf,"axisType","radiusAxis");Sf(Nf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function ni(){return ni=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ni.apply(this,arguments)}function _k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(r),!0).forEach(function(n){Ef(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FT(n.key),n)}}function xz(t,e,r){return e&&Sk(t.prototype,e),r&&Sk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bz(t,e,r){return e=Pd(e),wz(t,LT()?Reflect.construct(e,r||[],Pd(t).constructor):e.apply(t,r))}function wz(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jz(t)}function jz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LT=function(){return!!t})()}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(t)}function _z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V0(t,e)}function V0(t,e){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V0(t,e)}function Ef(t,e,r){return e=FT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FT(t){var e=Sz(t,"string");return Ms(e)=="symbol"?e:e+""}function Sz(t,e){if(Ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nz=Math.PI/180,Nk=1e-5,Of=(function(t){function e(){return vz(this,e),bz(this,e,arguments)}return _z(e,t),xz(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,l=a.cy,u=a.radius,d=a.orientation,h=a.tickSize,m=h||8,p=ot(s,l,u,n.coordinate),g=ot(s,l,u+(d==="inner"?-1:1)*m,n.coordinate);return{x1:p.x,y1:p.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*Nz),l;return s>Nk?l=a==="outer"?"start":"end":s<-Nk?l=a==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,l=n.radius,u=n.axisLine,d=n.axisLineType,h=Xa(Xa({},Ae(this.props,!1)),{},{fill:"none"},Ae(u,!1));if(d==="circle")return q.createElement(_f,ni({className:"recharts-polar-angle-axis-line"},h,{cx:a,cy:s,r:l}));var m=this.props.ticks,p=m.map(function(g){return ot(a,s,l,g.coordinate)});return q.createElement(K7,ni({className:"recharts-polar-angle-axis-line"},h,{points:p}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,l=a.tick,u=a.tickLine,d=a.tickFormatter,h=a.stroke,m=Ae(this.props,!1),p=Ae(l,!1),g=Xa(Xa({},m),{},{fill:"none"},Ae(u,!1)),v=s.map(function(j,w){var x=n.getTickLineCoord(j),_=n.getTickTextAnchor(j),N=Xa(Xa(Xa({textAnchor:_},m),{},{stroke:"none",fill:h},p),{},{index:w,payload:j,x:x.x2,y:x.y2});return q.createElement(Ve,ni({className:Be("recharts-polar-angle-axis-tick",NT(l)),key:"tick-".concat(j.coordinate)},gi(n.props,j,w)),u&&q.createElement("line",ni({className:"recharts-polar-angle-axis-tick-line"},g,x)),l&&e.renderTickItem(l,N,d?d(j.value,w):j.value))});return q.createElement(Ve,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,l=n.axisLine;return s<=0||!a||!a.length?null:q.createElement(Ve,{className:Be("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var l;return q.isValidElement(n)?l=q.cloneElement(n,a):$e(n)?l=n(a):l=q.createElement(vi,ni({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),l}}])})(R.PureComponent);Ef(Of,"displayName","PolarAngleAxis");Ef(Of,"axisType","angleAxis");Ef(Of,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pv,Ek;function Ez(){if(Ek)return pv;Ek=1;var t=Y2(),e=t(Object.getPrototypeOf,Object);return pv=e,pv}var mv,Ok;function Oz(){if(Ok)return mv;Ok=1;var t=Zn(),e=Ez(),r=ea(),n="[object Object]",a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,d=l.call(Object);function h(m){if(!r(m)||t(m)!=n)return!1;var p=e(m);if(p===null)return!0;var g=u.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return mv=h,mv}var kz=Oz();const Az=Ze(kz);var yv,kk;function Pz(){if(kk)return yv;kk=1;var t=Zn(),e=ea(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return yv=n,yv}var Tz=Pz();const Cz=Ze(Tz);function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Td.apply(this,arguments)}function Iz(t,e){return Mz(t)||Rz(t,e)||Dz(t,e)||$z()}function $z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dz(t,e){if(t){if(typeof t=="string")return Ak(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ak(t,e)}}function Ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function Mz(t){if(Array.isArray(t))return t}function Pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Tk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(r),!0).forEach(function(n){Lz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lz(t,e,r){return e=Fz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fz(t){var e=Bz(t,"string");return Hl(e)=="symbol"?e:e+""}function Bz(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ck=function(e,r,n,a,s){var l=n-a,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-l/2,",").concat(r+s),u+="L ".concat(e+n-l/2-a,",").concat(r+s),u+="L ".concat(e,",").concat(r," Z"),u},Uz={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qz=function(e){var r=Tk(Tk({},Uz),e),n=R.useRef(),a=R.useState(-1),s=Iz(a,2),l=s[0],u=s[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&u(E)}catch{}},[]);var d=r.x,h=r.y,m=r.upperWidth,p=r.lowerWidth,g=r.height,v=r.className,j=r.animationEasing,w=r.animationDuration,x=r.animationBegin,_=r.isUpdateAnimationActive;if(d!==+d||h!==+h||m!==+m||p!==+p||g!==+g||m===0&&p===0||g===0)return null;var N=Be("recharts-trapezoid",v);return _?q.createElement(On,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:h},to:{upperWidth:m,lowerWidth:p,height:g,x:d,y:h},duration:w,animationEasing:j,isActive:_},function(E){var A=E.upperWidth,O=E.lowerWidth,k=E.height,P=E.x,D=E.y;return q.createElement(On,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,easing:j},q.createElement("path",Td({},Ae(r,!0),{className:N,d:Ck(P,D,A,O,k),ref:n})))}):q.createElement("g",null,q.createElement("path",Td({},Ae(r,!0),{className:N,d:Ck(d,h,m,p,g)})))},zz=["option","shapeType","propTransformer","activeClassName","isActive"];function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function Hz(t,e){if(t==null)return{};var r=Wz(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(r),!0).forEach(function(n){Kz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kz(t,e,r){return e=Vz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vz(t){var e=Gz(t,"string");return Wl(e)=="symbol"?e:e+""}function Gz(t,e){if(Wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yz(t,e){return Cd(Cd({},e),t)}function Xz(t,e){return t==="symbols"}function $k(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return q.createElement(Sb,r);case"trapezoid":return q.createElement(qz,r);case"sector":return q.createElement(kT,r);case"symbols":if(Xz(e))return q.createElement(zx,r);break;default:return null}}function Jz(t){return R.isValidElement(t)?t.props:t}function BT(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?Yz:n,s=t.activeClassName,l=s===void 0?"recharts-active-shape":s,u=t.isActive,d=Hz(t,zz),h;if(R.isValidElement(e))h=R.cloneElement(e,Cd(Cd({},d),Jz(e)));else if($e(e))h=e(d);else if(Az(e)&&!Cz(e)){var m=a(e,d);h=q.createElement($k,{shapeType:r,elementProps:m})}else{var p=d;h=q.createElement($k,{shapeType:r,elementProps:p})}return u?q.createElement(Ve,{className:l},h):h}function kf(t,e){return e!=null&&"trapezoids"in t.props}function Af(t,e){return e!=null&&"sectors"in t.props}function Kl(t,e){return e!=null&&"points"in t.props}function Qz(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function Zz(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function e9(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function t9(t,e){var r;return kf(t,e)?r=Qz:Af(t,e)?r=Zz:Kl(t,e)&&(r=e9),r}function r9(t,e){var r;return kf(t,e)?r="trapezoids":Af(t,e)?r="sectors":Kl(t,e)&&(r="points"),r}function n9(t,e){if(kf(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Af(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Kl(t,e)?e.payload:{}}function a9(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=r9(r,e),s=n9(r,e),l=n.filter(function(d,h){var m=mc(s,d),p=r.props[a].filter(function(j){var w=t9(r,e);return w(j,e)}),g=r.props[a].indexOf(p[p.length-1]),v=h===g;return m&&v}),u=n.indexOf(l[l.length-1]);return u}var Vu;function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function ps(){return ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ps.apply(this,arguments)}function Dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function it(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(r),!0).forEach(function(n){Kr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qT(n.key),n)}}function s9(t,e,r){return e&&Rk(t.prototype,e),r&&Rk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o9(t,e,r){return e=Id(e),l9(t,UT()?Reflect.construct(e,r||[],Id(t).constructor):e.apply(t,r))}function l9(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c9(t)}function c9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UT=function(){return!!t})()}function Id(t){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Id(t)}function u9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G0(t,e)}function Kr(t,e,r){return e=qT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qT(t){var e=d9(t,"string");return Ls(e)=="symbol"?e:e+""}function d9(t,e){if(Ls(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pn=(function(t){function e(r){var n;return i9(this,e),n=o9(this,e,[r]),Kr(n,"pieRef",null),Kr(n,"sectorRefs",[]),Kr(n,"id",Zs("recharts-pie-")),Kr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),$e(a)&&a()}),Kr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),$e(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return u9(e,t),s9(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.label,u=s.labelLine,d=s.dataKey,h=s.valueKey,m=Ae(this.props,!1),p=Ae(l,!1),g=Ae(u,!1),v=l&&l.offsetRadius||20,j=n.map(function(w,x){var _=(w.startAngle+w.endAngle)/2,N=ot(w.cx,w.cy,w.outerRadius+v,_),E=it(it(it(it({},m),w),{},{stroke:"none"},p),{},{index:x,textAnchor:e.getTextAnchor(N.x,w.cx)},N),A=it(it(it(it({},m),w),{},{fill:"none",stroke:w.fill},g),{},{index:x,points:[ot(w.cx,w.cy,w.outerRadius,_),N]}),O=d;return Re(d)&&Re(h)?O="value":Re(d)&&(O=h),q.createElement(Ve,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(x)},u&&e.renderLabelLineItem(u,A,"line"),e.renderLabelItem(l,E,Dt(w,O)))});return q.createElement(Ve,{className:"recharts-pie-labels"},j)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,l=s.activeShape,u=s.blendStroke,d=s.inactiveShape;return n.map(function(h,m){if(h?.startAngle===0&&h?.endAngle===0&&n.length!==1)return null;var p=a.isActiveIndex(m),g=d&&a.hasActiveIndex()?d:null,v=p?l:g,j=it(it({},h),{},{stroke:u?h.fill:h.stroke,tabIndex:-1});return q.createElement(Ve,ps({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},gi(a.props,h,m),{key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(m)}),q.createElement(BT,ps({option:v,isActive:p,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,l=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,h=a.animationEasing,m=a.animationId,p=this.state,g=p.prevSectors,v=p.prevIsAnimationActive;return q.createElement(On,{begin:u,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var w=j.t,x=[],_=s&&s[0],N=_.startAngle;return s.forEach(function(E,A){var O=g&&g[A],k=A>0?Ir(E,"paddingAngle",0):0;if(O){var P=kr(O.endAngle-O.startAngle,E.endAngle-E.startAngle),D=it(it({},E),{},{startAngle:N+k,endAngle:N+P(w)+k});x.push(D),N=D.endAngle}else{var $=E.endAngle,I=E.startAngle,C=kr(0,$-I),B=C(w),U=it(it({},E),{},{startAngle:N+k,endAngle:N+B+k});x.push(U),N=U.endAngle}}),q.createElement(Ve,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var l=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,l=this.state.prevSectors;return s&&a&&a.length&&(!l||!mc(l,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,l=a.sectors,u=a.className,d=a.label,h=a.cx,m=a.cy,p=a.innerRadius,g=a.outerRadius,v=a.isAnimationActive,j=this.state.isAnimationFinished;if(s||!l||!l.length||!he(h)||!he(m)||!he(p)||!he(g))return null;var w=Be("recharts-pie",u);return q.createElement(Ve,{tabIndex:this.props.rootTabIndex,className:w,ref:function(_){n.pieRef=_}},this.renderSectors(),d&&this.renderLabels(l),qt.renderCallByParent(this.props,null,!1),(!v||j)&&Yn.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(q.isValidElement(n))return q.cloneElement(n,a);if($e(n))return n(a);var l=Be("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return q.createElement(_d,ps({},a,{key:s,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,a,s){if(q.isValidElement(n))return q.cloneElement(n,a);var l=s;if($e(n)&&(l=n(a),q.isValidElement(l)))return l;var u=Be("recharts-pie-label-text",typeof n!="boolean"&&!$e(n)?n.className:"");return q.createElement(vi,ps({},a,{alignmentBaseline:"middle",className:u}),l)}}])})(R.PureComponent);Vu=Pn;Kr(Pn,"displayName","Pie");Kr(Pn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Si.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Kr(Pn,"parseDeltaAngle",function(t,e){var r=ir(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Kr(Pn,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ae(t,!1),a=$r(r,uc);return e&&e.length?e.map(function(s,l){return it(it(it({payload:s},n),s),a&&a[l]&&a[l].props)}):a&&a.length?a.map(function(s){return it(it({},n),s.props)}):[]});Kr(Pn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,l=ST(a,s),u=n+sr(t.cx,a,a/2),d=r+sr(t.cy,s,s/2),h=sr(t.innerRadius,l,0),m=sr(t.outerRadius,l,l*.8),p=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:u,cy:d,innerRadius:h,outerRadius:m,maxRadius:p}});Kr(Pn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?it(it({},e.type.defaultProps),e.props):e.props,a=Vu.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,l=n.startAngle,u=n.endAngle,d=n.paddingAngle,h=n.dataKey,m=n.nameKey,p=n.valueKey,g=n.tooltipType,v=Math.abs(n.minAngle),j=Vu.parseCoordinateOfPie(n,r),w=Vu.parseDeltaAngle(l,u),x=Math.abs(w),_=h;Re(h)&&Re(p)?(mn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Re(h)&&(mn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=p);var N=a.filter(function(D){return Dt(D,_,0)!==0}).length,E=(x>=360?N:N-1)*d,A=x-N*v-E,O=a.reduce(function(D,$){var I=Dt($,_,0);return D+(he(I)?I:0)},0),k;if(O>0){var P;k=a.map(function(D,$){var I=Dt(D,_,0),C=Dt(D,m,$),B=(he(I)?I:0)/O,U;$?U=P.endAngle+ir(w)*d*(I!==0?1:0):U=l;var G=U+ir(w)*((I!==0?v:0)+B*A),Y=(U+G)/2,Q=(j.innerRadius+j.outerRadius)/2,re=[{name:C,value:I,payload:D,dataKey:_,type:g}],V=ot(j.cx,j.cy,Q,Y);return P=it(it(it({percent:B,cornerRadius:s,name:C,tooltipPayload:re,midAngle:Y,middleRadius:Q,tooltipPosition:V},D),j),{},{value:Dt(D,_),startAngle:U,endAngle:G,payload:D,paddingAngle:ir(w)*d}),P})}return it(it({},j),{},{sectors:k,data:a})});var gv,Mk;function f9(){if(Mk)return gv;Mk=1;var t=Math.ceil,e=Math.max;function r(n,a,s,l){for(var u=-1,d=e(t((a-n)/(s||1)),0),h=Array(d);d--;)h[l?d:++u]=n,n+=s;return h}return gv=r,gv}var vv,Lk;function zT(){if(Lk)return vv;Lk=1;var t=dP(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var s=a<0?-1:1;return s*r}return a===a?a:0}return vv=n,vv}var xv,Fk;function h9(){if(Fk)return xv;Fk=1;var t=f9(),e=df(),r=zT();function n(a){return function(s,l,u){return u&&typeof u!="number"&&e(s,l,u)&&(l=u=void 0),s=r(s),l===void 0?(l=s,s=0):l=r(l),u=u===void 0?s<l?1:-1:r(u),t(s,l,u,a)}}return xv=n,xv}var bv,Bk;function p9(){if(Bk)return bv;Bk=1;var t=h9(),e=t();return bv=e,bv}var m9=p9();const $d=Ze(m9);function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function Uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(r),!0).forEach(function(n){HT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HT(t,e,r){return e=y9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y9(t){var e=g9(t,"string");return Vl(e)=="symbol"?e:e+""}function g9(t,e){if(Vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v9=["Webkit","Moz","O","ms"],x9=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=v9.reduce(function(s,l){return qk(qk({},s),{},HT({},l+n,r))},{});return a[e]=r,a};function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dd.apply(this,arguments)}function zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(r),!0).forEach(function(n){Nr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KT(n.key),n)}}function w9(t,e,r){return e&&Hk(t.prototype,e),r&&Hk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function j9(t,e,r){return e=Rd(e),_9(t,WT()?Reflect.construct(e,r||[],Rd(t).constructor):e.apply(t,r))}function _9(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S9(t)}function S9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WT=function(){return!!t})()}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rd(t)}function N9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y0(t,e)}function Y0(t,e){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y0(t,e)}function Nr(t,e,r){return e=KT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KT(t){var e=E9(t,"string");return Fs(e)=="symbol"?e:e+""}function E9(t,e){if(Fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O9=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,l=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=ol().domain($d(0,d)).range([s,s+l-u]),m=h.domain().map(function(p){return h(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(a),scale:h,scaleValues:m}},Wk=function(e){return e.changedTouches&&!!e.changedTouches.length},Bs=(function(t){function e(r){var n;return b9(this,e),n=j9(this,e,[r]),Nr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Nr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Nr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,l=a.onDragEnd,u=a.startIndex;l?.({endIndex:s,startIndex:u})}),n.detachDragEndListener()}),Nr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Nr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Nr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Nr(n,"handleSlideDragStart",function(a){var s=Wk(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return N9(e,t),w9(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,h=u.data,m=h.length-1,p=Math.min(a,s),g=Math.max(a,s),v=e.getIndexInRange(l,p),j=e.getIndexInRange(l,g);return{startIndex:v-v%d,endIndex:j===m?m:j-j%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,l=a.tickFormatter,u=a.dataKey,d=Dt(s[n],u,n);return $e(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,l=a.startX,u=a.endX,d=this.props,h=d.x,m=d.width,p=d.travellerWidth,g=d.startIndex,v=d.endIndex,j=d.onChange,w=n.pageX-s;w>0?w=Math.min(w,h+m-p-u,h+m-p-l):w<0&&(w=Math.max(w,h-l,h-u));var x=this.getIndex({startX:l+w,endX:u+w});(x.startIndex!==g||x.endIndex!==v)&&j&&j(x),this.setState({startX:l+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=Wk(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,l=a.movingTravellerId,u=a.endX,d=a.startX,h=this.state[l],m=this.props,p=m.x,g=m.width,v=m.travellerWidth,j=m.onChange,w=m.gap,x=m.data,_={startX:this.state.startX,endX:this.state.endX},N=n.pageX-s;N>0?N=Math.min(N,p+g-v-h):N<0&&(N=Math.max(N,p-h)),_[l]=h+N;var E=this.getIndex(_),A=E.startIndex,O=E.endIndex,k=function(){var D=x.length-1;return l==="startX"&&(u>d?A%w===0:O%w===0)||u<d&&O===D||l==="endX"&&(u>d?O%w===0:A%w===0)||u>d&&O===D};this.setState(Nr(Nr({},l,h+N),"brushMoveStartX",n.pageX),function(){j&&k()&&j(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,l=this.state,u=l.scaleValues,d=l.startX,h=l.endX,m=this.state[a],p=u.indexOf(m);if(p!==-1){var g=p+n;if(!(g===-1||g>=u.length)){var v=u[g];a==="startX"&&v>=h||a==="endX"&&v<=d||this.setState(Nr({},a,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,l=n.width,u=n.height,d=n.fill,h=n.stroke;return q.createElement("rect",{stroke:h,fill:d,x:a,y:s,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,l=n.width,u=n.height,d=n.data,h=n.children,m=n.padding,p=R.Children.only(h);return p?q.cloneElement(p,{x:a,y:s,width:l,height:u,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,l,u=this,d=this.props,h=d.y,m=d.travellerWidth,p=d.height,g=d.traveller,v=d.ariaLabel,j=d.data,w=d.startIndex,x=d.endIndex,_=Math.max(n,this.props.x),N=wv(wv({},Ae(this.props,!1)),{},{x:_,y:h,width:m,height:p}),E=v||"Min value: ".concat((s=j[w])===null||s===void 0?void 0:s.name,", Max value: ").concat((l=j[x])===null||l===void 0?void 0:l.name);return q.createElement(Ve,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),u.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,N))}},{key:"renderSlide",value:function(n,a){var s=this.props,l=s.y,u=s.height,d=s.stroke,h=s.travellerWidth,m=Math.min(n,a)+h,p=Math.max(Math.abs(a-n)-h,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:l,width:p,height:u})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,h=n.stroke,m=this.state,p=m.startX,g=m.endX,v=5,j={pointerEvents:"none",fill:h};return q.createElement(Ve,{className:"recharts-brush-texts"},q.createElement(vi,Dd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-v,y:l+u/2},j),this.getTextOfTick(a)),q.createElement(vi,Dd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+d+v,y:l+u/2},j),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,l=n.children,u=n.x,d=n.y,h=n.width,m=n.height,p=n.alwaysShowText,g=this.state,v=g.startX,j=g.endX,w=g.isTextActive,x=g.isSlideMoving,_=g.isTravellerMoving,N=g.isTravellerFocused;if(!a||!a.length||!he(u)||!he(d)||!he(h)||!he(m)||h<=0||m<=0)return null;var E=Be("recharts-brush",s),A=q.Children.count(l)===1,O=x9("userSelect","none");return q.createElement(Ve,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(v,j),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(j,"endX"),(w||x||_||N||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,l=n.width,u=n.height,d=n.stroke,h=Math.floor(s+u/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:a,y:s,width:l,height:u,fill:d,stroke:"none"}),q.createElement("line",{x1:a+1,y1:h,x2:a+l-1,y2:h,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:a+1,y1:h+2,x2:a+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return q.isValidElement(n)?s=q.cloneElement(n,a):$e(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,l=n.width,u=n.x,d=n.travellerWidth,h=n.updateId,m=n.startIndex,p=n.endIndex;if(s!==a.prevData||h!==a.prevUpdateId)return wv({prevData:s,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l},s&&s.length?O9({data:s,width:l,x:u,travellerWidth:d,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(a.scale&&(l!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+l-d]);var g=a.scale.domain().map(function(v){return a.scale(v)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,l=0,u=s-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>a?u=d:l=d}return a>=n[u]?u:l}}])})(R.PureComponent);Nr(Bs,"displayName","Brush");Nr(Bs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jv,Kk;function k9(){if(Kk)return jv;Kk=1;var t=Xx();function e(r,n){var a;return t(r,function(s,l,u){return a=n(s,l,u),!a}),!!a}return jv=e,jv}var _v,Vk;function A9(){if(Vk)return _v;Vk=1;var t=q2(),e=An(),r=k9(),n=gr(),a=df();function s(l,u,d){var h=n(l)?t:r;return d&&a(l,u,d)&&(u=void 0),h(l,e(u,3))}return _v=s,_v}var P9=A9();const T9=Ze(P9);var Nn=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},Sv,Gk;function C9(){if(Gk)return Sv;Gk=1;var t=sP();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Sv=e,Sv}var Nv,Yk;function I9(){if(Yk)return Nv;Yk=1;var t=C9(),e=aP(),r=An();function n(a,s){var l={};return s=r(s,3),e(a,function(u,d,h){t(l,d,s(u,d,h))}),l}return Nv=n,Nv}var $9=I9();const D9=Ze($9);var Ev,Xk;function R9(){if(Xk)return Ev;Xk=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return Ev=t,Ev}var Ov,Jk;function M9(){if(Jk)return Ov;Jk=1;var t=Xx();function e(r,n){var a=!0;return t(r,function(s,l,u){return a=!!n(s,l,u),a}),a}return Ov=e,Ov}var kv,Qk;function L9(){if(Qk)return kv;Qk=1;var t=R9(),e=M9(),r=An(),n=gr(),a=df();function s(l,u,d){var h=n(l)?t:e;return d&&a(l,u,d)&&(u=void 0),h(l,r(u,3))}return kv=s,kv}var F9=L9();const VT=Ze(F9);var B9=["x","y"];function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X0.apply(this,arguments)}function Zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function el(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(r),!0).forEach(function(n){U9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U9(t,e,r){return e=q9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q9(t){var e=z9(t,"string");return Gl(e)=="symbol"?e:e+""}function z9(t,e){if(Gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H9(t,e){if(t==null)return{};var r=W9(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function W9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K9(t,e){var r=t.x,n=t.y,a=H9(t,B9),s="".concat(r),l=parseInt(s,10),u="".concat(n),d=parseInt(u,10),h="".concat(e.height||a.height),m=parseInt(h,10),p="".concat(e.width||a.width),g=parseInt(p,10);return el(el(el(el(el({},e),a),l?{x:l}:{}),d?{y:d}:{}),{},{height:m,width:g,name:e.name,radius:e.radius})}function eA(t){return q.createElement(BT,X0({shapeType:"rectangle",propTransformer:K9,activeClassName:"recharts-active-bar"},t))}var V9=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var s=he(n)||hM(n);return s?e(n,a):(s||bi(),r)}},G9=["value","background"],GT;function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function Y9(t,e){if(t==null)return{};var r=X9(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Md.apply(this,arguments)}function tA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tA(Object(r),!0).forEach(function(n){Ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XT(n.key),n)}}function Q9(t,e,r){return e&&rA(t.prototype,e),r&&rA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z9(t,e,r){return e=Ld(e),eH(t,YT()?Reflect.construct(e,r||[],Ld(t).constructor):e.apply(t,r))}function eH(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tH(t)}function tH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YT=function(){return!!t})()}function Ld(t){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ld(t)}function rH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J0(t,e)}function Ea(t,e,r){return e=XT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XT(t){var e=nH(t,"string");return Us(e)=="symbol"?e:e+""}function nH(t,e){if(Us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vr=(function(t){function e(){var r;J9(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Z9(this,e,[].concat(a)),Ea(r,"state",{isAnimationFinished:!1}),Ea(r,"id",Zs("recharts-bar-")),Ea(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Ea(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return rH(e,t),Q9(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,l=s.shape,u=s.dataKey,d=s.activeIndex,h=s.activeBar,m=Ae(this.props,!1);return n&&n.map(function(p,g){var v=g===d,j=v?h:l,w=Et(Et(Et({},m),p),{},{isActive:v,option:j,index:g,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return q.createElement(Ve,Md({className:"recharts-bar-rectangle"},gi(a.props,p,g),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(g)}),q.createElement(eA,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,l=a.layout,u=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,m=a.animationEasing,p=a.animationId,g=this.state.prevData;return q.createElement(On,{begin:d,duration:h,isActive:u,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t,w=s.map(function(x,_){var N=g&&g[_];if(N){var E=kr(N.x,x.x),A=kr(N.y,x.y),O=kr(N.width,x.width),k=kr(N.height,x.height);return Et(Et({},x),{},{x:E(j),y:A(j),width:O(j),height:k(j)})}if(l==="horizontal"){var P=kr(0,x.height),D=P(j);return Et(Et({},x),{},{y:x.y+x.height-D,height:D})}var $=kr(0,x.width),I=$(j);return Et(Et({},x),{},{width:I})});return q.createElement(Ve,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,l=this.state.prevData;return s&&a&&a.length&&(!l||!mc(l,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,l=a.dataKey,u=a.activeIndex,d=Ae(this.props.background,!1);return s.map(function(h,m){h.value;var p=h.background,g=Y9(h,G9);if(!p)return null;var v=Et(Et(Et(Et(Et({},g),{},{fill:"#eee"},p),d),gi(n.props,h,m)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:m,className:"recharts-bar-background-rectangle"});return q.createElement(eA,Md({key:"background-bar-".concat(m),option:n.props.background,isActive:m===u},v))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.data,u=s.xAxis,d=s.yAxis,h=s.layout,m=s.children,p=$r(m,yc);if(!p)return null;var g=h==="vertical"?l[0].height/2:l[0].width/2,v=function(x,_){var N=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:N,errorVal:Dt(x,_)}},j={clipPath:n?"url(#clipPath-".concat(a,")"):null};return q.createElement(Ve,j,p.map(function(w){return q.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,l=n.className,u=n.xAxis,d=n.yAxis,h=n.left,m=n.top,p=n.width,g=n.height,v=n.isAnimationActive,j=n.background,w=n.id;if(a||!s||!s.length)return null;var x=this.state.isAnimationFinished,_=Be("recharts-bar",l),N=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,A=N||E,O=Re(w)?this.id:w;return q.createElement(Ve,{className:_},N||E?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(O)},q.createElement("rect",{x:N?h:h-p/2,y:E?m:m-g/2,width:N?p:p*2,height:E?g:g*2}))):null,q.createElement(Ve,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(O,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,O),(!v||x)&&Yn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(R.PureComponent);GT=Vr;Ea(Vr,"displayName","Bar");Ea(Vr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Si.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ea(Vr,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,s=t.xAxis,l=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,m=t.dataStartIndex,p=t.displayedData,g=t.offset,v=k8(n,r);if(!v)return null;var j=e.layout,w=r.type.defaultProps,x=w!==void 0?Et(Et({},w),r.props):r.props,_=x.dataKey,N=x.children,E=x.minPointSize,A=j==="horizontal"?l:s,O=h?A.scale.domain():null,k=D8({numericAxis:A}),P=$r(N,uc),D=p.map(function($,I){var C,B,U,G,Y,Q;h?C=A8(h[m+I],O):(C=Dt($,_),Array.isArray(C)||(C=[k,C]));var re=V9(E,GT.defaultProps.minPointSize)(C[1],I);if(j==="horizontal"){var V,ee=[l.scale(C[0]),l.scale(C[1])],F=ee[0],M=ee[1];B=PO({axis:s,ticks:u,bandSize:a,offset:v.offset,entry:$,index:I}),U=(V=M??F)!==null&&V!==void 0?V:void 0,G=v.size;var H=F-M;if(Y=Number.isNaN(H)?0:H,Q={x:B,y:l.y,width:G,height:l.height},Math.abs(re)>0&&Math.abs(Y)<Math.abs(re)){var oe=ir(Y||re)*(Math.abs(re)-Math.abs(Y));U-=oe,Y+=oe}}else{var K=[s.scale(C[0]),s.scale(C[1])],J=K[0],ne=K[1];if(B=J,U=PO({axis:l,ticks:d,bandSize:a,offset:v.offset,entry:$,index:I}),G=ne-J,Y=v.size,Q={x:s.x,y:U,width:s.width,height:Y},Math.abs(re)>0&&Math.abs(G)<Math.abs(re)){var pe=ir(G||re)*(Math.abs(re)-Math.abs(G));G+=pe}}return Et(Et(Et({},$),{},{x:B,y:U,width:G,height:Y,value:h?C:C[1],payload:$,background:Q},P&&P[I]&&P[I].props),{},{tooltipPayload:[jT(r,$)],tooltipPosition:{x:B+G/2,y:U+Y/2}})});return Et({data:D,layout:j},g)});function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function aH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JT(n.key),n)}}function iH(t,e,r){return e&&nA(t.prototype,e),r&&nA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(r),!0).forEach(function(n){Pf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pf(t,e,r){return e=JT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JT(t){var e=sH(t,"string");return Yl(e)=="symbol"?e:e+""}function sH(t,e){if(Yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QT=function(e,r,n,a,s){var l=e.width,u=e.height,d=e.layout,h=e.children,m=Object.keys(r),p={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},g=!!Er(h,Vr);return m.reduce(function(v,j){var w=r[j],x=w.orientation,_=w.domain,N=w.padding,E=N===void 0?{}:N,A=w.mirror,O=w.reversed,k="".concat(x).concat(A?"Mirror":""),P,D,$,I,C;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var B=_[1]-_[0],U=1/0,G=w.categoricalDomain.sort(yM);if(G.forEach(function(K,J){J>0&&(U=Math.min((K||0)-(G[J-1]||0),U))}),Number.isFinite(U)){var Y=U/B,Q=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(P=Y*Q/2),w.padding==="no-gap"){var re=sr(e.barCategoryGap,Y*Q),V=Y*Q/2;P=V-re-(V-re)/Q*re}}}a==="xAxis"?D=[n.left+(E.left||0)+(P||0),n.left+n.width-(E.right||0)-(P||0)]:a==="yAxis"?D=d==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(P||0),n.top+n.height-(E.bottom||0)-(P||0)]:D=w.range,O&&(D=[D[1],D[0]]);var ee=vT(w,s,g),F=ee.scale,M=ee.realScaleType;F.domain(_).range(D),xT(F);var H=bT(F,un(un({},w),{},{realScaleType:M}));a==="xAxis"?(C=x==="top"&&!A||x==="bottom"&&A,$=n.left,I=p[k]-C*w.height):a==="yAxis"&&(C=x==="left"&&!A||x==="right"&&A,$=p[k]-C*w.width,I=n.top);var oe=un(un(un({},w),H),{},{realScaleType:M,x:$,y:I,scale:F,width:a==="xAxis"?n.width:w.width,height:a==="yAxis"?n.height:w.height});return oe.bandSize=bd(oe,H),!w.hide&&a==="xAxis"?p[k]+=(C?-1:1)*oe.height:w.hide||(p[k]+=(C?-1:1)*oe.width),un(un({},v),{},Pf({},j,oe))},{})},ZT=function(e,r){var n=e.x,a=e.y,s=r.x,l=r.y;return{x:Math.min(n,s),y:Math.min(a,l),width:Math.abs(s-n),height:Math.abs(l-a)}},oH=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return ZT({x:r,y:n},{x:a,y:s})},eC=(function(){function t(e){aH(this,t),this.scale=e}return iH(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();Pf(eC,"EPS",1e-4);var Nb=function(e){var r=Object.keys(e).reduce(function(n,a){return un(un({},n),{},Pf({},a,eC.create(e[a])))},{});return un(un({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.bandAware,u=s.position;return D9(a,function(d,h){return r[h].apply(d,{bandAware:l,position:u})})},isInRange:function(a){return VT(a,function(s,l){return r[l].isInRange(s)})}})};function lH(t){return(t%180+180)%180}var cH=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=lH(a),l=s*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Av,iA;function uH(){if(iA)return Av;iA=1;var t=An(),e=cc(),r=cf();function n(a){return function(s,l,u){var d=Object(s);if(!e(s)){var h=t(l,3);s=r(s),l=function(p){return h(d[p],p,d)}}var m=a(s,l,u);return m>-1?d[h?s[m]:m]:void 0}}return Av=n,Av}var Pv,sA;function dH(){if(sA)return Pv;sA=1;var t=zT();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return Pv=e,Pv}var Tv,oA;function fH(){if(oA)return Tv;oA=1;var t=Z2(),e=An(),r=dH(),n=Math.max;function a(s,l,u){var d=s==null?0:s.length;if(!d)return-1;var h=u==null?0:r(u);return h<0&&(h=n(d+h,0)),t(s,e(l,3),h)}return Tv=a,Tv}var Cv,lA;function hH(){if(lA)return Cv;lA=1;var t=uH(),e=fH(),r=t(e);return Cv=r,Cv}var pH=hH();const mH=Ze(pH);var yH=m2();const gH=Ze(yH);var vH=gH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Eb=R.createContext(void 0),Ob=R.createContext(void 0),tC=R.createContext(void 0),rC=R.createContext({}),nC=R.createContext(void 0),aC=R.createContext(0),iC=R.createContext(0),cA=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,l=e.clipPathId,u=e.children,d=e.width,h=e.height,m=vH(s);return q.createElement(Eb.Provider,{value:n},q.createElement(Ob.Provider,{value:a},q.createElement(rC.Provider,{value:s},q.createElement(tC.Provider,{value:m},q.createElement(nC.Provider,{value:l},q.createElement(aC.Provider,{value:h},q.createElement(iC.Provider,{value:d},u)))))))},xH=function(){return R.useContext(nC)},sC=function(e){var r=R.useContext(Eb);r==null&&bi();var n=r[e];return n==null&&bi(),n},bH=function(){var e=R.useContext(Eb);return Sa(e)},wH=function(){var e=R.useContext(Ob),r=mH(e,function(n){return VT(n.domain,Number.isFinite)});return r||Sa(e)},oC=function(e){var r=R.useContext(Ob);r==null&&bi();var n=r[e];return n==null&&bi(),n},jH=function(){var e=R.useContext(tC);return e},_H=function(){return R.useContext(rC)},kb=function(){return R.useContext(iC)},Ab=function(){return R.useContext(aC)};function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function SH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cC(n.key),n)}}function EH(t,e,r){return e&&NH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OH(t,e,r){return e=Fd(e),kH(t,lC()?Reflect.construct(e,r||[],Fd(t).constructor):e.apply(t,r))}function kH(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AH(t)}function AH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lC=function(){return!!t})()}function Fd(t){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(t)}function PH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q0(t,e)}function Q0(t,e){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q0(t,e)}function uA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(r),!0).forEach(function(n){Pb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pb(t,e,r){return e=cC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cC(t){var e=TH(t,"string");return qs(e)=="symbol"?e:e+""}function TH(t,e){if(qs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CH(t,e){return RH(t)||DH(t,e)||$H(t,e)||IH()}function IH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $H(t,e){if(t){if(typeof t=="string")return fA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fA(t,e)}}function fA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function RH(t){if(Array.isArray(t))return t}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z0.apply(this,arguments)}var MH=function(e,r){var n;return q.isValidElement(e)?n=q.cloneElement(e,r):$e(e)?n=e(r):n=q.createElement("line",Z0({},r,{className:"recharts-reference-line-line"})),n},LH=function(e,r,n,a,s,l,u,d,h){var m=s.x,p=s.y,g=s.width,v=s.height;if(n){var j=h.y,w=e.y.apply(j,{position:l});if(Nn(h,"discard")&&!e.y.isInRange(w))return null;var x=[{x:m+g,y:w},{x:m,y:w}];return d==="left"?x.reverse():x}if(r){var _=h.x,N=e.x.apply(_,{position:l});if(Nn(h,"discard")&&!e.x.isInRange(N))return null;var E=[{x:N,y:p+v},{x:N,y:p}];return u==="top"?E.reverse():E}if(a){var A=h.segment,O=A.map(function(k){return e.apply(k,{position:l})});return Nn(h,"discard")&&T9(O,function(k){return!e.isInRange(k)})?null:O}return null};function FH(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,l=t.shape,u=t.className,d=t.alwaysShow,h=xH(),m=sC(a),p=oC(s),g=jH();if(!h||!g)return null;mn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Nb({x:m.scale,y:p.scale}),j=Rt(e),w=Rt(r),x=n&&n.length===2,_=LH(v,j,w,x,g,t.position,m.orientation,p.orientation,t);if(!_)return null;var N=CH(_,2),E=N[0],A=E.x,O=E.y,k=N[1],P=k.x,D=k.y,$=Nn(t,"hidden")?"url(#".concat(h,")"):void 0,I=dA(dA({clipPath:$},Ae(t,!0)),{},{x1:A,y1:O,x2:P,y2:D});return q.createElement(Ve,{className:Be("recharts-reference-line",u)},MH(l,I),qt.renderCallByParent(t,oH({x1:A,y1:O,x2:P,y2:D})))}var Tb=(function(t){function e(){return SH(this,e),OH(this,e,arguments)}return PH(e,t),EH(e,[{key:"render",value:function(){return q.createElement(FH,this.props)}}])})(q.Component);Pb(Tb,"displayName","ReferenceLine");Pb(Tb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ex.apply(this,arguments)}function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function hA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(r),!0).forEach(function(n){Tf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dC(n.key),n)}}function qH(t,e,r){return e&&UH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zH(t,e,r){return e=Bd(e),HH(t,uC()?Reflect.construct(e,r||[],Bd(t).constructor):e.apply(t,r))}function HH(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WH(t)}function WH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uC=function(){return!!t})()}function Bd(t){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(t)}function KH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tx(t,e)}function tx(t,e){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tx(t,e)}function Tf(t,e,r){return e=dC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dC(t){var e=VH(t,"string");return zs(e)=="symbol"?e:e+""}function VH(t,e){if(zs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GH=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,l=Nb({x:a.scale,y:s.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return Nn(e,"discard")&&!l.isInRange(u)?null:u},Cf=(function(t){function e(){return BH(this,e),zH(this,e,arguments)}return KH(e,t),qH(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,h=Rt(a),m=Rt(s);if(mn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!m)return null;var p=GH(this.props);if(!p)return null;var g=p.x,v=p.y,j=this.props,w=j.shape,x=j.className,_=Nn(this.props,"hidden")?"url(#".concat(d,")"):void 0,N=pA(pA({clipPath:_},Ae(this.props,!0)),{},{cx:g,cy:v});return q.createElement(Ve,{className:Be("recharts-reference-dot",x)},e.renderDot(w,N),qt.renderCallByParent(this.props,{x:g-l,y:v-l,width:2*l,height:2*l}))}}])})(q.Component);Tf(Cf,"displayName","ReferenceDot");Tf(Cf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tf(Cf,"renderDot",function(t,e){var r;return q.isValidElement(t)?r=q.cloneElement(t,e):$e(t)?r=t(e):r=q.createElement(_f,ex({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rx.apply(this,arguments)}function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function mA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(r),!0).forEach(function(n){If(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hC(n.key),n)}}function JH(t,e,r){return e&&XH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QH(t,e,r){return e=Ud(e),ZH(t,fC()?Reflect.construct(e,r||[],Ud(t).constructor):e.apply(t,r))}function ZH(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eW(t)}function eW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fC=function(){return!!t})()}function Ud(t){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(t)}function tW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nx(t,e)}function If(t,e,r){return e=hC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hC(t){var e=rW(t,"string");return Hs(e)=="symbol"?e:e+""}function rW(t,e){if(Hs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nW=function(e,r,n,a,s){var l=s.x1,u=s.x2,d=s.y1,h=s.y2,m=s.xAxis,p=s.yAxis;if(!m||!p)return null;var g=Nb({x:m.scale,y:p.scale}),v={x:e?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(d,{position:"start"}):g.y.rangeMin},j={x:r?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:a?g.y.apply(h,{position:"end"}):g.y.rangeMax};return Nn(s,"discard")&&(!g.isInRange(v)||!g.isInRange(j))?null:ZT(v,j)},$f=(function(t){function e(){return YH(this,e),QH(this,e,arguments)}return tW(e,t),JH(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,l=n.y1,u=n.y2,d=n.className,h=n.alwaysShow,m=n.clipPathId;mn(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Rt(a),g=Rt(s),v=Rt(l),j=Rt(u),w=this.props.shape;if(!p&&!g&&!v&&!j&&!w)return null;var x=nW(p,g,v,j,this.props);if(!x&&!w)return null;var _=Nn(this.props,"hidden")?"url(#".concat(m,")"):void 0;return q.createElement(Ve,{className:Be("recharts-reference-area",d)},e.renderRect(w,yA(yA({clipPath:_},Ae(this.props,!0)),x)),qt.renderCallByParent(this.props,x))}}])})(q.Component);If($f,"displayName","ReferenceArea");If($f,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});If($f,"renderRect",function(t,e){var r;return q.isValidElement(t)?r=q.cloneElement(t,e):$e(t)?r=t(e):r=q.createElement(Sb,rx({},e,{className:"recharts-reference-area-rect"})),r});function pC(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function aW(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return cH(n,r)}function iW(t,e,r){var n=r==="width",a=t.x,s=t.y,l=t.width,u=t.height;return e===1?{start:n?a:s,end:n?a+l:s+u}:{start:n?a+l:s+u,end:n?a:s}}function qd(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-a)<=0}function sW(t,e){return pC(t,e+1)}function oW(t,e,r,n,a){for(var s=(n||[]).slice(),l=e.start,u=e.end,d=0,h=1,m=l,p=function(){var j=n?.[d];if(j===void 0)return{v:pC(n,h)};var w=d,x,_=function(){return x===void 0&&(x=r(j,w)),x},N=j.coordinate,E=d===0||qd(t,N,_,m,u);E||(d=0,m=l,h+=1),E&&(m=N+t*(_()/2+a),d+=h)},g;h<=s.length;)if(g=p(),g)return g.v;return[]}function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function gA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gA(Object(r),!0).forEach(function(n){lW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lW(t,e,r){return e=cW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cW(t){var e=uW(t,"string");return Xl(e)=="symbol"?e:e+""}function uW(t,e){if(Xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dW(t,e,r,n,a){for(var s=(n||[]).slice(),l=s.length,u=e.start,d=e.end,h=function(g){var v=s[g],j,w=function(){return j===void 0&&(j=r(v,g)),j};if(g===l-1){var x=t*(v.coordinate+t*w()/2-d);s[g]=v=Zt(Zt({},v),{},{tickCoord:x>0?v.coordinate-x*t:v.coordinate})}else s[g]=v=Zt(Zt({},v),{},{tickCoord:v.coordinate});var _=qd(t,v.tickCoord,w,u,d);_&&(d=v.tickCoord-t*(w()/2+a),s[g]=Zt(Zt({},v),{},{isShow:!0}))},m=l-1;m>=0;m--)h(m);return s}function fW(t,e,r,n,a,s){var l=(n||[]).slice(),u=l.length,d=e.start,h=e.end;if(s){var m=n[u-1],p=r(m,u-1),g=t*(m.coordinate+t*p/2-h);l[u-1]=m=Zt(Zt({},m),{},{tickCoord:g>0?m.coordinate-g*t:m.coordinate});var v=qd(t,m.tickCoord,function(){return p},d,h);v&&(h=m.tickCoord-t*(p/2+a),l[u-1]=Zt(Zt({},m),{},{isShow:!0}))}for(var j=s?u-1:u,w=function(N){var E=l[N],A,O=function(){return A===void 0&&(A=r(E,N)),A};if(N===0){var k=t*(E.coordinate-t*O()/2-d);l[N]=E=Zt(Zt({},E),{},{tickCoord:k<0?E.coordinate-k*t:E.coordinate})}else l[N]=E=Zt(Zt({},E),{},{tickCoord:E.coordinate});var P=qd(t,E.tickCoord,O,d,h);P&&(d=E.tickCoord+t*(O()/2+a),l[N]=Zt(Zt({},E),{},{isShow:!0}))},x=0;x<j;x++)w(x);return l}function Cb(t,e,r){var n=t.tick,a=t.ticks,s=t.viewBox,l=t.minTickGap,u=t.orientation,d=t.interval,h=t.tickFormatter,m=t.unit,p=t.angle;if(!a||!a.length||!n)return[];if(he(d)||Si.isSsr)return sW(a,typeof d=="number"&&he(d)?d:0);var g=[],v=u==="top"||u==="bottom"?"width":"height",j=m&&v==="width"?sl(m,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(E,A){var O=$e(h)?h(E.value,A):E.value;return v==="width"?aW(sl(O,{fontSize:e,letterSpacing:r}),j,p):sl(O,{fontSize:e,letterSpacing:r})[v]},x=a.length>=2?ir(a[1].coordinate-a[0].coordinate):1,_=iW(s,x,v);return d==="equidistantPreserveStart"?oW(x,_,w,a,l):(d==="preserveStart"||d==="preserveStartEnd"?g=fW(x,_,w,a,l,d==="preserveStartEnd"):g=dW(x,_,w,a,l),g.filter(function(N){return N.isShow}))}var hW=["viewBox"],pW=["viewBox"],mW=["ticks"];function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function ms(){return ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ms.apply(this,arguments)}function vA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(r),!0).forEach(function(n){Ib(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iv(t,e){if(t==null)return{};var r=yW(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yC(n.key),n)}}function vW(t,e,r){return e&&xA(t.prototype,e),r&&xA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xW(t,e,r){return e=zd(e),bW(t,mC()?Reflect.construct(e,r||[],zd(t).constructor):e.apply(t,r))}function bW(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wW(t)}function wW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mC=function(){return!!t})()}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(t)}function jW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ax(t,e)}function ax(t,e){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ax(t,e)}function Ib(t,e,r){return e=yC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yC(t){var e=_W(t,"string");return Ws(e)=="symbol"?e:e+""}function _W(t,e){if(Ws(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ao=(function(t){function e(r){var n;return gW(this,e),n=xW(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return jW(e,t),vW(e,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,l=Iv(n,hW),u=this.props,d=u.viewBox,h=Iv(u,pW);return!xs(s,d)||!xs(l,h)||!xs(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,l=a.y,u=a.width,d=a.height,h=a.orientation,m=a.tickSize,p=a.mirror,g=a.tickMargin,v,j,w,x,_,N,E=p?-1:1,A=n.tickSize||m,O=he(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":v=j=n.coordinate,x=l+ +!p*d,w=x-E*A,N=w-E*g,_=O;break;case"left":w=x=n.coordinate,j=s+ +!p*u,v=j-E*A,_=v-E*g,N=O;break;case"right":w=x=n.coordinate,j=s+ +p*u,v=j+E*A,_=v+E*g,N=O;break;default:v=j=n.coordinate,x=l+ +p*d,w=x+E*A,N=w+E*g,_=O;break}return{line:{x1:v,y1:w,x2:j,y2:x},tick:{x:_,y:N}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,l;switch(a){case"left":l=s?"start":"end";break;case"right":l=s?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,l="end";switch(a){case"left":case"right":l="middle";break;case"top":l=s?"start":"end";break;default:l=s?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,l=n.width,u=n.height,d=n.orientation,h=n.mirror,m=n.axisLine,p=Ct(Ct(Ct({},Ae(this.props,!1)),Ae(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!h||d==="bottom"&&h);p=Ct(Ct({},p),{},{x1:a,y1:s+g*u,x2:a+l,y2:s+g*u})}else{var v=+(d==="left"&&!h||d==="right"&&h);p=Ct(Ct({},p),{},{x1:a+v*l,y1:s,x2:a+v*l,y2:s+u})}return q.createElement("line",ms({},p,{className:Be("recharts-cartesian-axis-line",Ir(m,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var l=this,u=this.props,d=u.tickLine,h=u.stroke,m=u.tick,p=u.tickFormatter,g=u.unit,v=Cb(Ct(Ct({},this.props),{},{ticks:n}),a,s),j=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),x=Ae(this.props,!1),_=Ae(m,!1),N=Ct(Ct({},x),{},{fill:"none"},Ae(d,!1)),E=v.map(function(A,O){var k=l.getTickLineCoord(A),P=k.line,D=k.tick,$=Ct(Ct(Ct(Ct({textAnchor:j,verticalAnchor:w},x),{},{stroke:"none",fill:h},_),D),{},{index:O,payload:A,visibleTicksCount:v.length,tickFormatter:p});return q.createElement(Ve,ms({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},gi(l.props,A,O)),d&&q.createElement("line",ms({},N,P,{className:Be("recharts-cartesian-axis-tick-line",Ir(d,"className"))})),m&&e.renderTickItem(m,$,"".concat($e(p)?p(A.value,O):A.value).concat(g||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,l=a.width,u=a.height,d=a.ticksGenerator,h=a.className,m=a.hide;if(m)return null;var p=this.props,g=p.ticks,v=Iv(p,mW),j=g;return $e(d)&&(j=g&&g.length>0?d(this.props):d(v)),l<=0||u<=0||!j||!j.length?null:q.createElement(Ve,{className:Be("recharts-cartesian-axis",h),ref:function(x){n.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),qt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var l,u=Be(a.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(n)?l=q.cloneElement(n,Ct(Ct({},a),{},{className:u})):$e(n)?l=n(Ct(Ct({},a),{},{className:u})):l=q.createElement(vi,ms({},a,{className:"recharts-cartesian-axis-tick-value"}),s),l}}])})(R.Component);Ib(ao,"displayName","CartesianAxis");Ib(ao,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var SW=["x1","y1","x2","y2","key"],NW=["offset"];function wi(t){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(t)}function bA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(r),!0).forEach(function(n){EW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EW(t,e,r){return e=OW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OW(t){var e=kW(t,"string");return wi(e)=="symbol"?e:e+""}function kW(t,e){if(wi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function di(){return di=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},di.apply(this,arguments)}function wA(t,e){if(t==null)return{};var r=AW(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var PW=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,s=e.y,l=e.width,u=e.height,d=e.ry;return q.createElement("rect",{x:a,y:s,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function gC(t,e){var r;if(q.isValidElement(t))r=q.cloneElement(t,e);else if($e(t))r=t(e);else{var n=e.x1,a=e.y1,s=e.x2,l=e.y2,u=e.key,d=wA(e,SW),h=Ae(d,!1);h.offset;var m=wA(h,NW);r=q.createElement("line",di({},m,{x1:n,y1:a,x2:s,y2:l,fill:"none",key:u}))}return r}function TW(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,s=t.horizontalPoints;if(!a||!s||!s.length)return null;var l=s.map(function(u,d){var h=er(er({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return gC(a,h)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function CW(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,s=t.verticalPoints;if(!a||!s||!s.length)return null;var l=s.map(function(u,d){var h=er(er({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return gC(a,h)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function IW(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,s=t.width,l=t.height,u=t.horizontalPoints,d=t.horizontal,h=d===void 0?!0:d;if(!h||!e||!e.length)return null;var m=u.map(function(g){return Math.round(g+a-a)}).sort(function(g,v){return g-v});a!==m[0]&&m.unshift(0);var p=m.map(function(g,v){var j=!m[v+1],w=j?a+l-g:m[v+1]-g;if(w<=0)return null;var x=v%e.length;return q.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:w,width:s,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function $W(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,s=t.x,l=t.y,u=t.width,d=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var m=h.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==m[0]&&m.unshift(0);var p=m.map(function(g,v){var j=!m[v+1],w=j?s+u-g:m[v+1]-g;if(w<=0)return null;var x=v%n.length;return q.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:w,height:d,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var DW=function(e,r){var n=e.xAxis,a=e.width,s=e.height,l=e.offset;return gT(Cb(er(er(er({},ao.defaultProps),n),{},{ticks:Wn(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),l.left,l.left+l.width,r)},RW=function(e,r){var n=e.yAxis,a=e.width,s=e.height,l=e.offset;return gT(Cb(er(er(er({},ao.defaultProps),n),{},{ticks:Wn(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),l.top,l.top+l.height,r)},es={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Jl(t){var e,r,n,a,s,l,u=kb(),d=Ab(),h=_H(),m=er(er({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:es.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:es.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:es.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:es.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:es.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:es.verticalFill,x:he(t.x)?t.x:h.left,y:he(t.y)?t.y:h.top,width:he(t.width)?t.width:h.width,height:he(t.height)?t.height:h.height}),p=m.x,g=m.y,v=m.width,j=m.height,w=m.syncWithTicks,x=m.horizontalValues,_=m.verticalValues,N=bH(),E=wH();if(!he(v)||v<=0||!he(j)||j<=0||!he(p)||p!==+p||!he(g)||g!==+g)return null;var A=m.verticalCoordinatesGenerator||DW,O=m.horizontalCoordinatesGenerator||RW,k=m.horizontalPoints,P=m.verticalPoints;if((!k||!k.length)&&$e(O)){var D=x&&x.length,$=O({yAxis:E?er(er({},E),{},{ticks:D?x:E.ticks}):void 0,width:u,height:d,offset:h},D?!0:w);mn(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wi($),"]")),Array.isArray($)&&(k=$)}if((!P||!P.length)&&$e(A)){var I=_&&_.length,C=A({xAxis:N?er(er({},N),{},{ticks:I?_:N.ticks}):void 0,width:u,height:d,offset:h},I?!0:w);mn(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wi(C),"]")),Array.isArray(C)&&(P=C)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(PW,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),q.createElement(TW,di({},m,{offset:h,horizontalPoints:k,xAxis:N,yAxis:E})),q.createElement(CW,di({},m,{offset:h,verticalPoints:P,xAxis:N,yAxis:E})),q.createElement(IW,di({},m,{horizontalPoints:k})),q.createElement($W,di({},m,{verticalPoints:P})))}Jl.displayName="CartesianGrid";var MW=["type","layout","connectNulls","ref"],LW=["key"];function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function jA(t,e){if(t==null)return{};var r=FW(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fl.apply(this,arguments)}function _A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(r),!0).forEach(function(n){dn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ts(t){return zW(t)||qW(t)||UW(t)||BW()}function BW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UW(t,e){if(t){if(typeof t=="string")return ix(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ix(t,e)}}function qW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zW(t){if(Array.isArray(t))return ix(t)}function ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xC(n.key),n)}}function WW(t,e,r){return e&&SA(t.prototype,e),r&&SA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function KW(t,e,r){return e=Hd(e),VW(t,vC()?Reflect.construct(e,r||[],Hd(t).constructor):e.apply(t,r))}function VW(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GW(t)}function GW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vC=function(){return!!t})()}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(t)}function YW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sx(t,e)}function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sx(t,e)}function dn(t,e,r){return e=xC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xC(t){var e=XW(t,"string");return Ks(e)=="symbol"?e:e+""}function XW(t,e){if(Ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mi=(function(t){function e(){var r;HW(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=KW(this,e,[].concat(a)),dn(r,"state",{isAnimationFinished:!0,totalLength:0}),dn(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),dn(r,"getStrokeDasharray",function(l,u,d){var h=d.reduce(function(_,N){return _+N});if(!h)return r.generateSimpleStrokeDasharray(u,l);for(var m=Math.floor(l/h),p=l%h,g=u-l,v=[],j=0,w=0;j<d.length;w+=d[j],++j)if(w+d[j]>p){v=[].concat(ts(d.slice(0,j)),[p-w]);break}var x=v.length%2===0?[0,g]:[g];return[].concat(ts(e.repeat(d,m)),ts(v),x).map(function(_){return"".concat(_,"px")}).join(", ")}),dn(r,"id",Zs("recharts-line-")),dn(r,"pathRef",function(l){r.mainCurve=l}),dn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),dn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return YW(e,t),WW(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.points,u=s.xAxis,d=s.yAxis,h=s.layout,m=s.children,p=$r(m,yc);if(!p)return null;var g=function(w,x){return{x:w.x,y:w.y,value:w.value,errorVal:Dt(w.payload,x)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return q.createElement(Ve,v,p.map(function(j){return q.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,a,s){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,h=u.points,m=u.dataKey,p=Ae(this.props,!1),g=Ae(d,!0),v=h.map(function(w,x){var _=_r(_r(_r({key:"dot-".concat(x),r:3},p),g),{},{index:x,cx:w.x,cy:w.y,value:w.value,dataKey:m,payload:w.payload,points:h});return e.renderDotItem(d,_)}),j={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return q.createElement(Ve,fl({className:"recharts-line-dots",key:"dots"},j),v)}},{key:"renderCurveStatically",value:function(n,a,s,l){var u=this.props,d=u.type,h=u.layout,m=u.connectNulls;u.ref;var p=jA(u,MW),g=_r(_r(_r({},Ae(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},l),{},{type:d,layout:h,connectNulls:m});return q.createElement(_d,fl({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,l=this.props,u=l.points,d=l.strokeDasharray,h=l.isAnimationActive,m=l.animationBegin,p=l.animationDuration,g=l.animationEasing,v=l.animationId,j=l.animateNewValues,w=l.width,x=l.height,_=this.state,N=_.prevPoints,E=_.totalLength;return q.createElement(On,{begin:m,duration:p,isActive:h,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var O=A.t;if(N){var k=N.length/u.length,P=u.map(function(B,U){var G=Math.floor(U*k);if(N[G]){var Y=N[G],Q=kr(Y.x,B.x),re=kr(Y.y,B.y);return _r(_r({},B),{},{x:Q(O),y:re(O)})}if(j){var V=kr(w*2,B.x),ee=kr(x/2,B.y);return _r(_r({},B),{},{x:V(O),y:ee(O)})}return _r(_r({},B),{},{x:B.x,y:B.y})});return s.renderCurveStatically(P,n,a)}var D=kr(0,E),$=D(O),I;if(d){var C="".concat(d).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});I=s.getStrokeDasharray($,E,C)}else I=s.generateSimpleStrokeDasharray(E,$);return s.renderCurveStatically(u,n,a,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,a){var s=this.props,l=s.points,u=s.isAnimationActive,d=this.state,h=d.prevPoints,m=d.totalLength;return u&&l&&l.length&&(!h&&m>0||!mc(h,l))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(l,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,l=a.dot,u=a.points,d=a.className,h=a.xAxis,m=a.yAxis,p=a.top,g=a.left,v=a.width,j=a.height,w=a.isAnimationActive,x=a.id;if(s||!u||!u.length)return null;var _=this.state.isAnimationFinished,N=u.length===1,E=Be("recharts-line",d),A=h&&h.allowDataOverflow,O=m&&m.allowDataOverflow,k=A||O,P=Re(x)?this.id:x,D=(n=Ae(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=D.r,I=$===void 0?3:$,C=D.strokeWidth,B=C===void 0?2:C,U=NM(l)?l:{},G=U.clipDot,Y=G===void 0?!0:G,Q=I*2+B;return q.createElement(Ve,{className:E},A||O?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(P)},q.createElement("rect",{x:A?g:g-v/2,y:O?p:p-j/2,width:A?v:v*2,height:O?j:j*2})),!Y&&q.createElement("clipPath",{id:"clipPath-dots-".concat(P)},q.createElement("rect",{x:g-Q/2,y:p-Q/2,width:v+Q,height:j+Q}))):null,!N&&this.renderCurve(k,P),this.renderErrorBar(k,P),(N||l)&&this.renderDots(k,Y,P),(!w||_)&&Yn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(ts(n),[0]):n,l=[],u=0;u<a;++u)l=[].concat(ts(l),ts(s));return l}},{key:"renderDotItem",value:function(n,a){var s;if(q.isValidElement(n))s=q.cloneElement(n,a);else if($e(n))s=n(a);else{var l=a.key,u=jA(a,LW),d=Be("recharts-line-dot",typeof n!="boolean"?n.className:"");s=q.createElement(_f,fl({key:l},u,{className:d}))}return s}}])})(R.PureComponent);dn(mi,"displayName","Line");dn(mi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Si.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});dn(mi,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,l=t.dataKey,u=t.bandSize,d=t.displayedData,h=t.offset,m=e.layout,p=d.map(function(g,v){var j=Dt(g,l);return m==="horizontal"?{x:AO({axis:r,ticks:a,bandSize:u,entry:g,index:v}),y:Re(j)?null:n.scale(j),value:j,payload:g}:{x:Re(j)?null:r.scale(j),y:AO({axis:n,ticks:s,bandSize:u,entry:g,index:v}),value:j,payload:g}});return _r({points:p,layout:m},h)});function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function JW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jC(n.key),n)}}function ZW(t,e,r){return e&&QW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eK(t,e,r){return e=Wd(e),tK(t,bC()?Reflect.construct(e,r||[],Wd(t).constructor):e.apply(t,r))}function tK(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rK(t)}function rK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bC=function(){return!!t})()}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(t)}function nK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ox(t,e)}function wC(t,e,r){return e=jC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jC(t){var e=aK(t,"string");return Vs(e)=="symbol"?e:e+""}function aK(t,e){if(Vs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lx.apply(this,arguments)}function iK(t){var e=t.xAxisId,r=kb(),n=Ab(),a=sC(e);return a==null?null:R.createElement(ao,lx({},a,{className:Be("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Wn(l,!0)}}))}var Aa=(function(t){function e(){return JW(this,e),eK(this,e,arguments)}return nK(e,t),ZW(e,[{key:"render",value:function(){return R.createElement(iK,this.props)}}])})(R.Component);wC(Aa,"displayName","XAxis");wC(Aa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function sK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NC(n.key),n)}}function lK(t,e,r){return e&&oK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cK(t,e,r){return e=Kd(e),uK(t,_C()?Reflect.construct(e,r||[],Kd(t).constructor):e.apply(t,r))}function uK(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dK(t)}function dK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _C(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_C=function(){return!!t})()}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kd(t)}function fK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cx(t,e)}function cx(t,e){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cx(t,e)}function SC(t,e,r){return e=NC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NC(t){var e=hK(t,"string");return Gs(e)=="symbol"?e:e+""}function hK(t,e){if(Gs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ux.apply(this,arguments)}var pK=function(e){var r=e.yAxisId,n=kb(),a=Ab(),s=oC(r);return s==null?null:R.createElement(ao,ux({},s,{className:Be("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(u){return Wn(u,!0)}}))},Pa=(function(t){function e(){return sK(this,e),cK(this,e,arguments)}return fK(e,t),lK(e,[{key:"render",value:function(){return R.createElement(pK,this.props)}}])})(R.Component);SC(Pa,"displayName","YAxis");SC(Pa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function NA(t){return vK(t)||gK(t)||yK(t)||mK()}function mK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yK(t,e){if(t){if(typeof t=="string")return dx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dx(t,e)}}function gK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vK(t){if(Array.isArray(t))return dx(t)}function dx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fx=function(e,r,n,a,s){var l=$r(e,Tb),u=$r(e,Cf),d=[].concat(NA(l),NA(u)),h=$r(e,$f),m="".concat(a,"Id"),p=a[0],g=r;if(d.length&&(g=d.reduce(function(w,x){if(x.props[m]===n&&Nn(x.props,"extendDomain")&&he(x.props[p])){var _=x.props[p];return[Math.min(w[0],_),Math.max(w[1],_)]}return w},g)),h.length){var v="".concat(p,"1"),j="".concat(p,"2");g=h.reduce(function(w,x){if(x.props[m]===n&&Nn(x.props,"extendDomain")&&he(x.props[v])&&he(x.props[j])){var _=x.props[v],N=x.props[j];return[Math.min(w[0],_,N),Math.max(w[1],_,N)]}return w},g)}return s&&s.length&&(g=s.reduce(function(w,x){return he(x)?[Math.min(w[0],x),Math.max(w[1],x)]:w},g)),g},$v={exports:{}},EA;function xK(){return EA||(EA=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,h,m){this.fn=d,this.context=h,this.once=m||!1}function s(d,h,m,p,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new a(m,p||d,g),j=r?r+h:h;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],v]:d._events[j].push(v):(d._events[j]=v,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)e.call(m,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=r?r+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,j=new Array(v);g<v;g++)j[g]=p[g].fn;return j},u.prototype.listenerCount=function(h){var m=r?r+h:h,p=this._events[m];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,m,p,g,v,j){var w=r?r+h:h;if(!this._events[w])return!1;var x=this._events[w],_=arguments.length,N,E;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,m),!0;case 3:return x.fn.call(x.context,m,p),!0;case 4:return x.fn.call(x.context,m,p,g),!0;case 5:return x.fn.call(x.context,m,p,g,v),!0;case 6:return x.fn.call(x.context,m,p,g,v,j),!0}for(E=1,N=new Array(_-1);E<_;E++)N[E-1]=arguments[E];x.fn.apply(x.context,N)}else{var A=x.length,O;for(E=0;E<A;E++)switch(x[E].once&&this.removeListener(h,x[E].fn,void 0,!0),_){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,m);break;case 3:x[E].fn.call(x[E].context,m,p);break;case 4:x[E].fn.call(x[E].context,m,p,g);break;default:if(!N)for(O=1,N=new Array(_-1);O<_;O++)N[O-1]=arguments[O];x[E].fn.apply(x[E].context,N)}}return!0},u.prototype.on=function(h,m,p){return s(this,h,m,p,!1)},u.prototype.once=function(h,m,p){return s(this,h,m,p,!0)},u.prototype.removeListener=function(h,m,p,g){var v=r?r+h:h;if(!this._events[v])return this;if(!m)return l(this,v),this;var j=this._events[v];if(j.fn)j.fn===m&&(!g||j.once)&&(!p||j.context===p)&&l(this,v);else{for(var w=0,x=[],_=j.length;w<_;w++)(j[w].fn!==m||g&&!j[w].once||p&&j[w].context!==p)&&x.push(j[w]);x.length?this._events[v]=x.length===1?x[0]:x:l(this,v)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=r?r+h:h,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})($v)),$v.exports}var bK=xK();const wK=Ze(bK);var Dv=new wK,Rv="recharts.syncMouseEvents";function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function jK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _K(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EC(n.key),n)}}function SK(t,e,r){return e&&_K(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mv(t,e,r){return e=EC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EC(t){var e=NK(t,"string");return Ql(e)=="symbol"?e:e+""}function NK(t,e){if(Ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EK=(function(){function t(){jK(this,t),Mv(this,"activeIndex",0),Mv(this,"coordinateList",[]),Mv(this,"layout","horizontal")}return SK(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,l=r.container,u=l===void 0?null:l,d=r.layout,h=d===void 0?null:d,m=r.offset,p=m===void 0?null:m,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,l=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=s+d+h,g=l+this.offset.top+u/2+m;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])})();function OK(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&he(n)&&he(a))return!0}return!1}function kK(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function OC(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,l=ot(e,r,n,a),u=ot(e,r,n,s);return{points:[l,u],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function AK(t,e,r){var n,a,s,l;if(t==="horizontal")n=e.x,s=n,a=r.top,l=r.top+r.height;else if(t==="vertical")a=e.y,l=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,h=e.innerRadius,m=e.outerRadius,p=e.angle,g=ot(u,d,h,p),v=ot(u,d,m,p);n=g.x,a=g.y,s=v.x,l=v.y}else return OC(e);return[{x:n,y:a},{x:s,y:l}]}function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function OA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(r),!0).forEach(function(n){PK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PK(t,e,r){return e=TK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TK(t){var e=CK(t,"string");return Zl(e)=="symbol"?e:e+""}function CK(t,e){if(Zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IK(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,l=t.activeCoordinate,u=t.activePayload,d=t.offset,h=t.activeTooltipIndex,m=t.tooltipAxisBandSize,p=t.layout,g=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!s||!l||g!=="ScatterChart"&&a!=="axis")return null;var j,w=_d;if(g==="ScatterChart")j=l,w=tz;else if(g==="BarChart")j=kK(p,l,d,m),w=Sb;else if(p==="radial"){var x=OC(l),_=x.cx,N=x.cy,E=x.radius,A=x.startAngle,O=x.endAngle;j={cx:_,cy:N,startAngle:A,endAngle:O,innerRadius:E,outerRadius:E},w=kT}else j={points:AK(p,l,d)},w=_d;var k=Bu(Bu(Bu(Bu({stroke:"#ccc",pointerEvents:"none"},d),j),Ae(v,!1)),{},{payload:u,payloadIndex:h,className:Be("recharts-tooltip-cursor",v.className)});return R.isValidElement(v)?R.cloneElement(v,k):R.createElement(w,k)}var $K=["item"],DK=["children","className","width","height","style","compact","title","desc"];function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ys.apply(this,arguments)}function kA(t,e){return LK(t)||MK(t,e)||AC(t,e)||RK()}function RK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,u=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function LK(t){if(Array.isArray(t))return t}function AA(t,e){if(t==null)return{};var r=FK(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PC(n.key),n)}}function qK(t,e,r){return e&&UK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zK(t,e,r){return e=Vd(e),HK(t,kC()?Reflect.construct(e,r||[],Vd(t).constructor):e.apply(t,r))}function HK(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WK(t)}function WK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kC=function(){return!!t})()}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(t)}function KK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hx(t,e)}function hx(t,e){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hx(t,e)}function Xs(t){return YK(t)||GK(t)||AC(t)||VK()}function VK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AC(t,e){if(t){if(typeof t=="string")return px(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return px(t,e)}}function GK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YK(t){if(Array.isArray(t))return px(t)}function px(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pe(t,e,r){return e=PC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PC(t){var e=XK(t,"string");return Ys(e)=="symbol"?e:e+""}function XK(t,e){if(Ys(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JK={xAxis:["bottom","top"],yAxis:["left","right"]},QK={width:"100%",height:"100%"},TC={x:0,y:0};function Uu(t){return t}var ZK=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},eV=function(e,r,n,a){var s=r.find(function(m){return m&&m.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,u=a.radius;return ae(ae(ae({},a),ot(a.cx,a.cy,u,l)),{},{angle:l,radius:u})}var d=s.coordinate,h=a.angle;return ae(ae(ae({},a),ot(a.cx,a.cy,d,h)),{},{angle:h,radius:d})}return TC},Df=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var h=d.props.data;return h&&h.length?[].concat(Xs(u),Xs(h)):u},[]);return l.length>0?l:e&&e.length&&he(a)&&he(s)?e.slice(a,s+1):[]};function CC(t){return t==="number"?[0,"auto"]:void 0}var mx=function(e,r,n,a){var s=e.graphicalItems,l=e.tooltipAxis,u=Df(r,e);return n<0||!s||!s.length||n>=u.length?null:s.reduce(function(d,h){var m,p=(m=h.props.data)!==null&&m!==void 0?m:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var v=p===void 0?u:p;g=Yu(v,l.dataKey,a)}else g=p&&p[n]||u[n];return g?[].concat(Xs(d),[jT(h,g)]):d},[])},TA=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},l=ZK(s,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,m=j8(l,u,h,d);if(m>=0&&h){var p=h[m]&&h[m].value,g=mx(e,r,m,p),v=eV(n,u,m,s);return{activeTooltipIndex:m,activeLabel:p,activePayload:g,activeCoordinate:v}}return null},tV=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,m=e.layout,p=e.children,g=e.stackOffset,v=yT(m,s);return n.reduce(function(j,w){var x,_=w.type.defaultProps!==void 0?ae(ae({},w.type.defaultProps),w.props):w.props,N=_.type,E=_.dataKey,A=_.allowDataOverflow,O=_.allowDuplicatedCategory,k=_.scale,P=_.ticks,D=_.includeHidden,$=_[l];if(j[$])return j;var I=Df(e.data,{graphicalItems:a.filter(function(H){var oe,K=l in H.props?H.props[l]:(oe=H.type.defaultProps)===null||oe===void 0?void 0:oe[l];return K===$}),dataStartIndex:d,dataEndIndex:h}),C=I.length,B,U,G;OK(_.domain,A,N)&&(B=A0(_.domain,null,A),v&&(N==="number"||k!=="auto")&&(G=ll(I,E,"category")));var Y=CC(N);if(!B||B.length===0){var Q,re=(Q=_.domain)!==null&&Q!==void 0?Q:Y;if(E){if(B=ll(I,E,N),N==="category"&&v){var V=mM(B);O&&V?(U=B,B=$d(0,C)):O||(B=IO(re,B,w).reduce(function(H,oe){return H.indexOf(oe)>=0?H:[].concat(Xs(H),[oe])},[]))}else if(N==="category")O?B=B.filter(function(H){return H!==""&&!Re(H)}):B=IO(re,B,w).reduce(function(H,oe){return H.indexOf(oe)>=0||oe===""||Re(oe)?H:[].concat(Xs(H),[oe])},[]);else if(N==="number"){var ee=O8(I,a.filter(function(H){var oe,K,J=l in H.props?H.props[l]:(oe=H.type.defaultProps)===null||oe===void 0?void 0:oe[l],ne="hide"in H.props?H.props.hide:(K=H.type.defaultProps)===null||K===void 0?void 0:K.hide;return J===$&&(D||!ne)}),E,s,m);ee&&(B=ee)}v&&(N==="number"||k!=="auto")&&(G=ll(I,E,"category"))}else v?B=$d(0,C):u&&u[$]&&u[$].hasStack&&N==="number"?B=g==="expand"?[0,1]:wT(u[$].stackGroups,d,h):B=mT(I,a.filter(function(H){var oe=l in H.props?H.props[l]:H.type.defaultProps[l],K="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return oe===$&&(D||!K)}),N,m,!0);if(N==="number")B=fx(p,B,$,s,P),re&&(B=A0(re,B,A));else if(N==="category"&&re){var F=re,M=B.every(function(H){return F.indexOf(H)>=0});M&&(B=F)}}return ae(ae({},j),{},Pe({},$,ae(ae({},_),{},{axisType:s,domain:B,categoricalDomain:G,duplicateDomain:U,originalDomain:(x=_.domain)!==null&&x!==void 0?x:Y,isCategorical:v,layout:m})))},{})},rV=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,m=e.layout,p=e.children,g=Df(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),v=g.length,j=yT(m,s),w=-1;return n.reduce(function(x,_){var N=_.type.defaultProps!==void 0?ae(ae({},_.type.defaultProps),_.props):_.props,E=N[l],A=CC("number");if(!x[E]){w++;var O;return j?O=$d(0,v):u&&u[E]&&u[E].hasStack?(O=wT(u[E].stackGroups,d,h),O=fx(p,O,E,s)):(O=A0(A,mT(g,n.filter(function(k){var P,D,$=l in k.props?k.props[l]:(P=k.type.defaultProps)===null||P===void 0?void 0:P[l],I="hide"in k.props?k.props.hide:(D=k.type.defaultProps)===null||D===void 0?void 0:D.hide;return $===E&&!I}),"number",m),a.defaultProps.allowDataOverflow),O=fx(p,O,E,s)),ae(ae({},x),{},Pe({},E,ae(ae({axisType:s},a.defaultProps),{},{hide:!0,orientation:Ir(JK,"".concat(s,".").concat(w%2),null),domain:O,originalDomain:A,isCategorical:j,layout:m})))}return x},{})},nV=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,m=e.children,p="".concat(a,"Id"),g=$r(m,s),v={};return g&&g.length?v=tV(e,{axes:g,graphicalItems:l,axisType:a,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h}):l&&l.length&&(v=rV(e,{Axis:s,graphicalItems:l,axisType:a,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h})),v},aV=function(e){var r=Sa(e),n=Wn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Jx(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:bd(r,n)}},CA=function(e){var r=e.children,n=e.defaultShowTooltip,a=Er(r,Bs),s=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(l=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},iV=function(e){return!e||!e.length?!1:e.some(function(r){var n=Kn(r&&r.type);return n&&n.indexOf("Bar")>=0})},IA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sV=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,l=s===void 0?{}:s,u=e.yAxisMap,d=u===void 0?{}:u,h=n.width,m=n.height,p=n.children,g=n.margin||{},v=Er(p,Bs),j=Er(p,Vn),w=Object.keys(d).reduce(function(O,k){var P=d[k],D=P.orientation;return!P.mirror&&!P.hide?ae(ae({},O),{},Pe({},D,O[D]+P.width)):O},{left:g.left||0,right:g.right||0}),x=Object.keys(l).reduce(function(O,k){var P=l[k],D=P.orientation;return!P.mirror&&!P.hide?ae(ae({},O),{},Pe({},D,Ir(O,"".concat(D))+P.height)):O},{top:g.top||0,bottom:g.bottom||0}),_=ae(ae({},x),w),N=_.bottom;v&&(_.bottom+=v.props.height||Bs.defaultProps.height),j&&r&&(_=N8(_,a,n,r));var E=h-_.left-_.right,A=m-_.top-_.bottom;return ae(ae({brushBottom:N},_),{},{width:Math.max(E,0),height:Math.max(A,0)})},oV=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},$b=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,l=e.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=e.axisComponents,h=e.legendContent,m=e.formatAxisMap,p=e.defaultProps,g=function(_,N){var E=N.graphicalItems,A=N.stackGroups,O=N.offset,k=N.updateId,P=N.dataStartIndex,D=N.dataEndIndex,$=_.barSize,I=_.layout,C=_.barGap,B=_.barCategoryGap,U=_.maxBarSize,G=IA(I),Y=G.numericAxisName,Q=G.cateAxisName,re=iV(E),V=[];return E.forEach(function(ee,F){var M=Df(_.data,{graphicalItems:[ee],dataStartIndex:P,dataEndIndex:D}),H=ee.type.defaultProps!==void 0?ae(ae({},ee.type.defaultProps),ee.props):ee.props,oe=H.dataKey,K=H.maxBarSize,J=H["".concat(Y,"Id")],ne=H["".concat(Q,"Id")],pe={},xe=d.reduce(function(ve,qe){var ye=N["".concat(qe.axisType,"Map")],ze=H["".concat(qe.axisType,"Id")];ye&&ye[ze]||qe.axisType==="zAxis"||bi();var Le=ye[ze];return ae(ae({},ve),{},Pe(Pe({},qe.axisType,Le),"".concat(qe.axisType,"Ticks"),Wn(Le)))},pe),le=xe[Q],me=xe["".concat(Q,"Ticks")],_e=A&&A[J]&&A[J].hasStack&&R8(ee,A[J].stackGroups),se=Kn(ee.type).indexOf("Bar")>=0,We=bd(le,me),Fe=[],dt=re&&_8({barSize:$,stackGroups:A,totalSize:oV(xe,Q)});if(se){var tt,mt,vr=Re(K)?U:K,Rr=(tt=(mt=bd(le,me,!0))!==null&&mt!==void 0?mt:vr)!==null&&tt!==void 0?tt:0;Fe=S8({barGap:C,barCategoryGap:B,bandSize:Rr!==We?Rr:We,sizeList:dt[ne],maxBarSize:vr}),Rr!==We&&(Fe=Fe.map(function(ve){return ae(ae({},ve),{},{position:ae(ae({},ve.position),{},{offset:ve.position.offset-Rr/2})})}))}var ie=ee&&ee.type&&ee.type.getComposedData;ie&&V.push({props:ae(ae({},ie(ae(ae({},xe),{},{displayedData:M,props:_,dataKey:oe,item:ee,bandSize:We,barPosition:Fe,offset:O,stackedData:_e,layout:I,dataStartIndex:P,dataEndIndex:D}))),{},Pe(Pe(Pe({key:ee.key||"item-".concat(F)},Y,xe[Y]),Q,xe[Q]),"animationId",k)),childIndex:kM(ee,_.children),item:ee})}),V},v=function(_,N){var E=_.props,A=_.dataStartIndex,O=_.dataEndIndex,k=_.updateId;if(!V_({props:E}))return null;var P=E.children,D=E.layout,$=E.stackOffset,I=E.data,C=E.reverseStackOrder,B=IA(D),U=B.numericAxisName,G=B.cateAxisName,Y=$r(P,n),Q=$8(I,Y,"".concat(U,"Id"),"".concat(G,"Id"),$,C),re=d.reduce(function(H,oe){var K="".concat(oe.axisType,"Map");return ae(ae({},H),{},Pe({},K,nV(E,ae(ae({},oe),{},{graphicalItems:Y,stackGroups:oe.axisType===U&&Q,dataStartIndex:A,dataEndIndex:O}))))},{}),V=sV(ae(ae({},re),{},{props:E,graphicalItems:Y}),N?.legendBBox);Object.keys(re).forEach(function(H){re[H]=m(E,re[H],V,H.replace("Map",""),r)});var ee=re["".concat(G,"Map")],F=aV(ee),M=g(E,ae(ae({},re),{},{dataStartIndex:A,dataEndIndex:O,updateId:k,graphicalItems:Y,stackGroups:Q,offset:V}));return ae(ae({formattedGraphicalItems:M,graphicalItems:Y,offset:V,stackGroups:Q},F),re)},j=(function(x){function _(N){var E,A,O;return BK(this,_),O=zK(this,_,[N]),Pe(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Pe(O,"accessibilityManager",new EK),Pe(O,"handleLegendBBoxUpdate",function(k){if(k){var P=O.state,D=P.dataStartIndex,$=P.dataEndIndex,I=P.updateId;O.setState(ae({legendBBox:k},v({props:O.props,dataStartIndex:D,dataEndIndex:$,updateId:I},ae(ae({},O.state),{},{legendBBox:k}))))}}),Pe(O,"handleReceiveSyncEvent",function(k,P,D){if(O.props.syncId===k){if(D===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(P)}}),Pe(O,"handleBrushChange",function(k){var P=k.startIndex,D=k.endIndex;if(P!==O.state.dataStartIndex||D!==O.state.dataEndIndex){var $=O.state.updateId;O.setState(function(){return ae({dataStartIndex:P,dataEndIndex:D},v({props:O.props,dataStartIndex:P,dataEndIndex:D,updateId:$},O.state))}),O.triggerSyncEvent({dataStartIndex:P,dataEndIndex:D})}}),Pe(O,"handleMouseEnter",function(k){var P=O.getMouseInfo(k);if(P){var D=ae(ae({},P),{},{isTooltipActive:!0});O.setState(D),O.triggerSyncEvent(D);var $=O.props.onMouseEnter;$e($)&&$(D,k)}}),Pe(O,"triggeredAfterMouseMove",function(k){var P=O.getMouseInfo(k),D=P?ae(ae({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(D),O.triggerSyncEvent(D);var $=O.props.onMouseMove;$e($)&&$(D,k)}),Pe(O,"handleItemMouseEnter",function(k){O.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Pe(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),Pe(O,"handleMouseMove",function(k){k.persist(),O.throttleTriggeredAfterMouseMove(k)}),Pe(O,"handleMouseLeave",function(k){O.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};O.setState(P),O.triggerSyncEvent(P);var D=O.props.onMouseLeave;$e(D)&&D(P,k)}),Pe(O,"handleOuterEvent",function(k){var P=OM(k),D=Ir(O.props,"".concat(P));if(P&&$e(D)){var $,I;/.*touch.*/i.test(P)?I=O.getMouseInfo(k.changedTouches[0]):I=O.getMouseInfo(k),D(($=I)!==null&&$!==void 0?$:{},k)}}),Pe(O,"handleClick",function(k){var P=O.getMouseInfo(k);if(P){var D=ae(ae({},P),{},{isTooltipActive:!0});O.setState(D),O.triggerSyncEvent(D);var $=O.props.onClick;$e($)&&$(D,k)}}),Pe(O,"handleMouseDown",function(k){var P=O.props.onMouseDown;if($e(P)){var D=O.getMouseInfo(k);P(D,k)}}),Pe(O,"handleMouseUp",function(k){var P=O.props.onMouseUp;if($e(P)){var D=O.getMouseInfo(k);P(D,k)}}),Pe(O,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Pe(O,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&O.handleMouseDown(k.changedTouches[0])}),Pe(O,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&O.handleMouseUp(k.changedTouches[0])}),Pe(O,"handleDoubleClick",function(k){var P=O.props.onDoubleClick;if($e(P)){var D=O.getMouseInfo(k);P(D,k)}}),Pe(O,"handleContextMenu",function(k){var P=O.props.onContextMenu;if($e(P)){var D=O.getMouseInfo(k);P(D,k)}}),Pe(O,"triggerSyncEvent",function(k){O.props.syncId!==void 0&&Dv.emit(Rv,O.props.syncId,k,O.eventEmitterSymbol)}),Pe(O,"applySyncEvent",function(k){var P=O.props,D=P.layout,$=P.syncMethod,I=O.state.updateId,C=k.dataStartIndex,B=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)O.setState(ae({dataStartIndex:C,dataEndIndex:B},v({props:O.props,dataStartIndex:C,dataEndIndex:B,updateId:I},O.state)));else if(k.activeTooltipIndex!==void 0){var U=k.chartX,G=k.chartY,Y=k.activeTooltipIndex,Q=O.state,re=Q.offset,V=Q.tooltipTicks;if(!re)return;if(typeof $=="function")Y=$(V,k);else if($==="value"){Y=-1;for(var ee=0;ee<V.length;ee++)if(V[ee].value===k.activeLabel){Y=ee;break}}var F=ae(ae({},re),{},{x:re.left,y:re.top}),M=Math.min(U,F.x+F.width),H=Math.min(G,F.y+F.height),oe=V[Y]&&V[Y].value,K=mx(O.state,O.props.data,Y),J=V[Y]?{x:D==="horizontal"?V[Y].coordinate:M,y:D==="horizontal"?H:V[Y].coordinate}:TC;O.setState(ae(ae({},k),{},{activeLabel:oe,activeCoordinate:J,activePayload:K,activeTooltipIndex:Y}))}else O.setState(k)}),Pe(O,"renderCursor",function(k){var P,D=O.state,$=D.isTooltipActive,I=D.activeCoordinate,C=D.activePayload,B=D.offset,U=D.activeTooltipIndex,G=D.tooltipAxisBandSize,Y=O.getTooltipEventType(),Q=(P=k.props.active)!==null&&P!==void 0?P:$,re=O.props.layout,V=k.key||"_recharts-cursor";return q.createElement(IK,{key:V,activeCoordinate:I,activePayload:C,activeTooltipIndex:U,chartName:r,element:k,isActive:Q,layout:re,offset:B,tooltipAxisBandSize:G,tooltipEventType:Y})}),Pe(O,"renderPolarAxis",function(k,P,D){var $=Ir(k,"type.axisType"),I=Ir(O.state,"".concat($,"Map")),C=k.type.defaultProps,B=C!==void 0?ae(ae({},C),k.props):k.props,U=I&&I[B["".concat($,"Id")]];return R.cloneElement(k,ae(ae({},U),{},{className:Be($,U.className),key:k.key||"".concat(P,"-").concat(D),ticks:Wn(U,!0)}))}),Pe(O,"renderPolarGrid",function(k){var P=k.props,D=P.radialLines,$=P.polarAngles,I=P.polarRadius,C=O.state,B=C.radiusAxisMap,U=C.angleAxisMap,G=Sa(B),Y=Sa(U),Q=Y.cx,re=Y.cy,V=Y.innerRadius,ee=Y.outerRadius;return R.cloneElement(k,{polarAngles:Array.isArray($)?$:Wn(Y,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(I)?I:Wn(G,!0).map(function(F){return F.coordinate}),cx:Q,cy:re,innerRadius:V,outerRadius:ee,key:k.key||"polar-grid",radialLines:D})}),Pe(O,"renderLegend",function(){var k=O.state.formattedGraphicalItems,P=O.props,D=P.children,$=P.width,I=P.height,C=O.props.margin||{},B=$-(C.left||0)-(C.right||0),U=hT({children:D,formattedGraphicalItems:k,legendWidth:B,legendContent:h});if(!U)return null;var G=U.item,Y=AA(U,$K);return R.cloneElement(G,ae(ae({},Y),{},{chartWidth:$,chartHeight:I,margin:C,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),Pe(O,"renderTooltip",function(){var k,P=O.props,D=P.children,$=P.accessibilityLayer,I=Er(D,ar);if(!I)return null;var C=O.state,B=C.isTooltipActive,U=C.activeCoordinate,G=C.activePayload,Y=C.activeLabel,Q=C.offset,re=(k=I.props.active)!==null&&k!==void 0?k:B;return R.cloneElement(I,{viewBox:ae(ae({},Q),{},{x:Q.left,y:Q.top}),active:re,label:Y,payload:re?G:[],coordinate:U,accessibilityLayer:$})}),Pe(O,"renderBrush",function(k){var P=O.props,D=P.margin,$=P.data,I=O.state,C=I.offset,B=I.dataStartIndex,U=I.dataEndIndex,G=I.updateId;return R.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Ru(O.handleBrushChange,k.props.onChange),data:$,x:he(k.props.x)?k.props.x:C.left,y:he(k.props.y)?k.props.y:C.top+C.height+C.brushBottom-(D.bottom||0),width:he(k.props.width)?k.props.width:C.width,startIndex:B,endIndex:U,updateId:"brush-".concat(G)})}),Pe(O,"renderReferenceElement",function(k,P,D){if(!k)return null;var $=O,I=$.clipPathId,C=O.state,B=C.xAxisMap,U=C.yAxisMap,G=C.offset,Y=k.type.defaultProps||{},Q=k.props,re=Q.xAxisId,V=re===void 0?Y.xAxisId:re,ee=Q.yAxisId,F=ee===void 0?Y.yAxisId:ee;return R.cloneElement(k,{key:k.key||"".concat(P,"-").concat(D),xAxis:B[V],yAxis:U[F],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:I})}),Pe(O,"renderActivePoints",function(k){var P=k.item,D=k.activePoint,$=k.basePoint,I=k.childIndex,C=k.isRange,B=[],U=P.props.key,G=P.item.type.defaultProps!==void 0?ae(ae({},P.item.type.defaultProps),P.item.props):P.item.props,Y=G.activeDot,Q=G.dataKey,re=ae(ae({index:I,dataKey:Q,cx:D.x,cy:D.y,r:4,fill:_b(P.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Ae(Y,!1)),Xu(Y));return B.push(_.renderActiveDot(Y,re,"".concat(U,"-activePoint-").concat(I))),$?B.push(_.renderActiveDot(Y,ae(ae({},re),{},{cx:$.x,cy:$.y}),"".concat(U,"-basePoint-").concat(I))):C&&B.push(null),B}),Pe(O,"renderGraphicChild",function(k,P,D){var $=O.filterFormatItem(k,P,D);if(!$)return null;var I=O.getTooltipEventType(),C=O.state,B=C.isTooltipActive,U=C.tooltipAxis,G=C.activeTooltipIndex,Y=C.activeLabel,Q=O.props.children,re=Er(Q,ar),V=$.props,ee=V.points,F=V.isRange,M=V.baseLine,H=$.item.type.defaultProps!==void 0?ae(ae({},$.item.type.defaultProps),$.item.props):$.item.props,oe=H.activeDot,K=H.hide,J=H.activeBar,ne=H.activeShape,pe=!!(!K&&B&&re&&(oe||J||ne)),xe={};I!=="axis"&&re&&re.props.trigger==="click"?xe={onClick:Ru(O.handleItemMouseEnter,k.props.onClick)}:I!=="axis"&&(xe={onMouseLeave:Ru(O.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Ru(O.handleItemMouseEnter,k.props.onMouseEnter)});var le=R.cloneElement(k,ae(ae({},$.props),xe));function me(qe){return typeof U.dataKey=="function"?U.dataKey(qe.payload):null}if(pe)if(G>=0){var _e,se;if(U.dataKey&&!U.allowDuplicatedCategory){var We=typeof U.dataKey=="function"?me:"payload.".concat(U.dataKey.toString());_e=Yu(ee,We,Y),se=F&&M&&Yu(M,We,Y)}else _e=ee?.[G],se=F&&M&&M[G];if(ne||J){var Fe=k.props.activeIndex!==void 0?k.props.activeIndex:G;return[R.cloneElement(k,ae(ae(ae({},$.props),xe),{},{activeIndex:Fe})),null,null]}if(!Re(_e))return[le].concat(Xs(O.renderActivePoints({item:$,activePoint:_e,basePoint:se,childIndex:G,isRange:F})))}else{var dt,tt=(dt=O.getItemByXY(O.state.activeCoordinate))!==null&&dt!==void 0?dt:{graphicalItem:le},mt=tt.graphicalItem,vr=mt.item,Rr=vr===void 0?k:vr,ie=mt.childIndex,ve=ae(ae(ae({},$.props),xe),{},{activeIndex:ie});return[R.cloneElement(Rr,ve),null,null]}return F?[le,null,null]:[le,null]}),Pe(O,"renderCustomized",function(k,P,D){return R.cloneElement(k,ae(ae({key:"recharts-customized-".concat(D)},O.props),O.state))}),Pe(O,"renderMap",{CartesianGrid:{handler:Uu,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:Uu},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:Uu},YAxis:{handler:Uu},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((E=N.id)!==null&&E!==void 0?E:Zs("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=fP(O.triggeredAfterMouseMove,(A=N.throttleDelay)!==null&&A!==void 0?A:1e3/60),O.state={},O}return KK(_,x),qK(_,[{key:"componentDidMount",value:function(){var E,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,A=E.children,O=E.data,k=E.height,P=E.layout,D=Er(A,ar);if(D){var $=D.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,C=mx(this.state,O,$,I),B=this.state.tooltipTicks[$].coordinate,U=(this.state.offset.top+k)/2,G=P==="horizontal",Y=G?{x:B,y:U}:{y:B,x:U},Q=this.state.formattedGraphicalItems.find(function(V){var ee=V.item;return ee.type.name==="Scatter"});Q&&(Y=ae(ae({},Y),Q.props.points[$].tooltipPosition),C=Q.props.points[$].tooltipPayload);var re={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:I,activePayload:C,activeCoordinate:Y};this.setState(re),this.renderCursor(D),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var O,k;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(E){Jv([Er(E.children,ar)],[Er(this.props.children,ar)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Er(this.props.children,ar);if(E&&typeof E.props.shared=="boolean"){var A=E.props.shared?"axis":"item";return u.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var A=this.container,O=A.getBoundingClientRect(),k=p5(O),P={chartX:Math.round(E.pageX-k.left),chartY:Math.round(E.pageY-k.top)},D=O.width/A.offsetWidth||1,$=this.inRange(P.chartX,P.chartY,D);if(!$)return null;var I=this.state,C=I.xAxisMap,B=I.yAxisMap,U=this.getTooltipEventType(),G=TA(this.state,this.props.data,this.props.layout,$);if(U!=="axis"&&C&&B){var Y=Sa(C).scale,Q=Sa(B).scale,re=Y&&Y.invert?Y.invert(P.chartX):null,V=Q&&Q.invert?Q.invert(P.chartY):null;return ae(ae({},P),{},{xValue:re,yValue:V},G)}return G?ae(ae({},P),G):null}},{key:"inRange",value:function(E,A){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,P=E/O,D=A/O;if(k==="horizontal"||k==="vertical"){var $=this.state.offset,I=P>=$.left&&P<=$.left+$.width&&D>=$.top&&D<=$.top+$.height;return I?{x:P,y:D}:null}var C=this.state,B=C.angleAxisMap,U=C.radiusAxisMap;if(B&&U){var G=Sa(B);return RO({x:P,y:D},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,A=this.getTooltipEventType(),O=Er(E,ar),k={};O&&A==="axis"&&(O.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Xu(this.props,this.handleOuterEvent);return ae(ae({},P),k)}},{key:"addListener",value:function(){Dv.on(Rv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Dv.removeListener(Rv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,A,O){for(var k=this.state.formattedGraphicalItems,P=0,D=k.length;P<D;P++){var $=k[P];if($.item===E||$.props.key===E.key||A===Kn($.item.type)&&O===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,A=this.state.offset,O=A.left,k=A.top,P=A.height,D=A.width;return q.createElement("defs",null,q.createElement("clipPath",{id:E},q.createElement("rect",{x:O,y:k,height:P,width:D})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(A,O){var k=kA(O,2),P=k[0],D=k[1];return ae(ae({},A),{},Pe({},P,D.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(A,O){var k=kA(O,2),P=k[0],D=k[1];return ae(ae({},A),{},Pe({},P,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[E])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(E){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[E])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(E){var A=this.state,O=A.formattedGraphicalItems,k=A.activeItem;if(O&&O.length)for(var P=0,D=O.length;P<D;P++){var $=O[P],I=$.props,C=$.item,B=C.type.defaultProps!==void 0?ae(ae({},C.type.defaultProps),C.props):C.props,U=Kn(C.type);if(U==="Bar"){var G=(I.data||[]).find(function(V){return D7(E,V)});if(G)return{graphicalItem:$,payload:G}}else if(U==="RadialBar"){var Y=(I.data||[]).find(function(V){return RO(E,V)});if(Y)return{graphicalItem:$,payload:Y}}else if(kf($,k)||Af($,k)||Kl($,k)){var Q=a9({graphicalItem:$,activeTooltipItem:k,itemData:B.data}),re=B.activeIndex===void 0?Q:B.activeIndex;return{graphicalItem:ae(ae({},$),{},{childIndex:re}),payload:Kl($,k)?B.data[Q]:$.props.data[Q]}}}return null}},{key:"render",value:function(){var E=this;if(!V_(this))return null;var A=this.props,O=A.children,k=A.className,P=A.width,D=A.height,$=A.style,I=A.compact,C=A.title,B=A.desc,U=AA(A,DK),G=Ae(U,!1);if(I)return q.createElement(cA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(Zv,ys({},G,{width:P,height:D,title:C,desc:B}),this.renderClipPath(),Y_(O,this.renderMap)));if(this.props.accessibilityLayer){var Y,Q;G.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,G.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",G.onKeyDown=function(V){E.accessibilityManager.keyboardEvent(V)},G.onFocus=function(){E.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return q.createElement(cA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",ys({className:Be("recharts-wrapper",k),style:ae({position:"relative",cursor:"default",width:P,height:D},$)},re,{ref:function(ee){E.container=ee}}),q.createElement(Zv,ys({},G,{width:P,height:D,title:C,desc:B,style:QK}),this.renderClipPath(),Y_(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(R.Component);Pe(j,"displayName",r),Pe(j,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Pe(j,"getDerivedStateFromProps",function(x,_){var N=x.dataKey,E=x.data,A=x.children,O=x.width,k=x.height,P=x.layout,D=x.stackOffset,$=x.margin,I=_.dataStartIndex,C=_.dataEndIndex;if(_.updateId===void 0){var B=CA(x);return ae(ae(ae({},B),{},{updateId:0},v(ae(ae({props:x},B),{},{updateId:0}),_)),{},{prevDataKey:N,prevData:E,prevWidth:O,prevHeight:k,prevLayout:P,prevStackOffset:D,prevMargin:$,prevChildren:A})}if(N!==_.prevDataKey||E!==_.prevData||O!==_.prevWidth||k!==_.prevHeight||P!==_.prevLayout||D!==_.prevStackOffset||!xs($,_.prevMargin)){var U=CA(x),G={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},Y=ae(ae({},TA(_,E,P)),{},{updateId:_.updateId+1}),Q=ae(ae(ae({},U),G),Y);return ae(ae(ae({},Q),v(ae({props:x},Q),_)),{},{prevDataKey:N,prevData:E,prevWidth:O,prevHeight:k,prevLayout:P,prevStackOffset:D,prevMargin:$,prevChildren:A})}if(!Jv(A,_.prevChildren)){var re,V,ee,F,M=Er(A,Bs),H=M&&(re=(V=M.props)===null||V===void 0?void 0:V.startIndex)!==null&&re!==void 0?re:I,oe=M&&(ee=(F=M.props)===null||F===void 0?void 0:F.endIndex)!==null&&ee!==void 0?ee:C,K=H!==I||oe!==C,J=!Re(E),ne=J&&!K?_.updateId:_.updateId+1;return ae(ae({updateId:ne},v(ae(ae({props:x},_),{},{updateId:ne,dataStartIndex:H,dataEndIndex:oe}),_)),{},{prevChildren:A,dataStartIndex:H,dataEndIndex:oe})}return null}),Pe(j,"renderActiveDot",function(x,_,N){var E;return R.isValidElement(x)?E=R.cloneElement(x,_):$e(x)?E=x(_):E=q.createElement(_f,_),q.createElement(Ve,{className:"recharts-active-dot",key:N},E)});var w=R.forwardRef(function(_,N){return q.createElement(j,ys({},_,{ref:N}))});return w.displayName=j.displayName,w},lV=$b({chartName:"LineChart",GraphicalChild:mi,axisComponents:[{axisType:"xAxis",AxisComp:Aa},{axisType:"yAxis",AxisComp:Pa}],formatAxisMap:QT}),yx=$b({chartName:"BarChart",GraphicalChild:Vr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Aa},{axisType:"yAxis",AxisComp:Pa}],formatAxisMap:QT}),IC=$b({chartName:"PieChart",GraphicalChild:Pn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Of},{axisType:"radiusAxis",AxisComp:Nf}],formatAxisMap:K8,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const $A=["#3b82f6","#f59e0b","#10b981","#ef4444","#8b5cf6","#ec4899"];function cV({context:t}){const e=R.useMemo(()=>{const u=new Map;return t.inventory.forEach(d=>{const h=u.get(d.date)||{inventory:0,overhead:0};u.set(d.date,{...h,inventory:h.inventory+d.totalCost})}),t.overheads.forEach(d=>{const h=u.get(d.date)||{inventory:0,overhead:0};u.set(d.date,{...h,overhead:h.overhead+d.amount})}),Array.from(u.entries()).map(([d,h])=>({date:new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric"}),fullDate:d,inventory:h.inventory,overhead:h.overhead,total:h.inventory+h.overhead})).sort((d,h)=>d.fullDate.localeCompare(h.fullDate))},[t.inventory,t.overheads]),r=R.useMemo(()=>{const u=new Map;return t.inventory.forEach(d=>{const h=u.get(d.category)||0;u.set(d.category,h+d.totalCost)}),t.overheads.forEach(d=>{const h=u.get(d.category)||0;u.set(d.category,h+d.amount)}),Array.from(u.entries()).map(([d,h])=>({name:Px[d]||lD[d]||d,value:h})).sort((d,h)=>h.value-d.value)},[t.inventory,t.overheads]),n=R.useMemo(()=>{const u=new Map;return t.inventory.forEach(d=>{const h=u.get(d.itemName)||0;u.set(d.itemName,h+d.totalCost)}),Array.from(u.entries()).map(([d,h])=>({name:d,value:h})).sort((d,h)=>h.value-d.value).slice(0,10)},[t.inventory]),a=t.inventory.reduce((u,d)=>u+d.totalCost,0),s=t.overheads.reduce((u,d)=>u+d.amount,0),l=a+s;return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-gray-900",children:"Analytics Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive view of spending patterns and trends"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(nR,{className:"w-5 h-5"}),o.jsx("p",{className:"text-sm opacity-90",children:"Total Inventory Spend"})]}),o.jsxs("p",{className:"text-2xl",children:["",a.toLocaleString()]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg p-6 text-white",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(DD,{className:"w-5 h-5"}),o.jsx("p",{className:"text-sm opacity-90",children:"Total Overhead Spend"})]}),o.jsxs("p",{className:"text-2xl",children:["",s.toLocaleString()]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(mr,{className:"w-5 h-5"}),o.jsx("p",{className:"text-sm opacity-90",children:"Total Expenses"})]}),o.jsxs("p",{className:"text-2xl",children:["",l.toLocaleString()]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[o.jsx("h3",{className:"text-gray-900 mb-6",children:"Daily Spending Trends"}),o.jsx(bs,{width:"100%",height:300,children:o.jsxs(lV,{data:e,children:[o.jsx(Jl,{strokeDasharray:"3 3"}),o.jsx(Aa,{dataKey:"date"}),o.jsx(Pa,{}),o.jsx(ar,{formatter:u=>`${u.toLocaleString()}`}),o.jsx(Vn,{}),o.jsx(mi,{type:"monotone",dataKey:"inventory",stroke:"#3b82f6",name:"Inventory",strokeWidth:2}),o.jsx(mi,{type:"monotone",dataKey:"overhead",stroke:"#f59e0b",name:"Overhead",strokeWidth:2}),o.jsx(mi,{type:"monotone",dataKey:"total",stroke:"#8b5cf6",name:"Total",strokeWidth:2})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-gray-900 mb-6",children:"Spending by Category"}),o.jsx(bs,{width:"100%",height:300,children:o.jsxs(IC,{children:[o.jsx(Pn,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percent:d})=>`${u} (${(d*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((u,d)=>o.jsx(uc,{fill:$A[d%$A.length]},`cell-${d}`))}),o.jsx(ar,{formatter:u=>`${u.toLocaleString()}`})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-gray-900 mb-6",children:"Top Inventory Items"}),o.jsx(bs,{width:"100%",height:300,children:o.jsxs(yx,{data:n,layout:"vertical",children:[o.jsx(Jl,{strokeDasharray:"3 3"}),o.jsx(Aa,{type:"number"}),o.jsx(Pa,{dataKey:"name",type:"category",width:100}),o.jsx(ar,{formatter:u=>`${u.toLocaleString()}`}),o.jsx(Vr,{dataKey:"value",fill:"#3b82f6"})]})})]})]})]})}const ji="xssxnhrzxvtejavoqgwg",Ye="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhzc3huaHJ6eHZ0ZWphdm9xZ3dnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwODAzNjksImV4cCI6MjA4MTY1NjM2OX0.boONpQZ8Xv2AzlDylEoKnAlGEW7DFsMQ0zEQ1S5LPGE";function Rf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function uV(t,e,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(m){try{h(n.next(m))}catch(p){l(p)}}function d(m){try{h(n.throw(m))}catch(p){l(p)}}function h(m){m.done?s(m.value):a(m.value).then(u,d)}h((n=n.apply(t,e||[])).next())})}const dV=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Db extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class fV extends Db{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class DA extends Db{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class RA extends Db{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(gx||(gx={}));class hV{constructor(e,{headers:r={},customFetch:n,region:a=gx.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=dV(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return uV(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:u,method:d,body:h,signal:m,timeout:p}=n;let g={},{region:v}=n;v||(v=this.region);const j=new URL(`${this.url}/${r}`);v&&v!=="any"&&(g["x-region"]=v,j.searchParams.set("forceFunctionRegion",v));let w;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(g["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(g["Content-Type"]="application/json",w=JSON.stringify(h)):w=h;let x=m;p&&(l=new AbortController,s=setTimeout(()=>l.abort(),p),m?(x=l.signal,m.addEventListener("abort",()=>l.abort())):x=l.signal);const _=yield this.fetch(j.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:w,signal:x}).catch(O=>{throw new fV(O)}),N=_.headers.get("x-relay-error");if(N&&N==="true")throw new DA(_);if(!_.ok)throw new RA(_);let E=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),A;return E==="application/json"?A=yield _.json():E==="application/octet-stream"||E==="application/pdf"?A=yield _.blob():E==="text/event-stream"?A=_:E==="multipart/form-data"?A=yield _.formData():A=yield _.text(),{data:A,error:null,response:_}}catch(u){return{data:null,error:u,response:u instanceof RA||u instanceof DA?u.context:void 0}}finally{s&&clearTimeout(s)}})}}var pV=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},mV=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,u=null,d=null,h=s.status,m=s.statusText;if(s.ok){var p,g;if(r.method!=="HEAD"){var v;const _=await s.text();_===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?u=_:u=JSON.parse(_))}const w=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),x=(g=s.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");w&&x&&x.length>1&&(d=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var j;const w=await s.text();try{l=JSON.parse(w),Array.isArray(l)&&s.status===404&&(u=[],l=null,h=200,m="OK")}catch{s.status===404&&w===""?(h=204,m="No Content"):l={message:w}}if(l&&r.isMaybeSingle&&(!(l==null||(j=l.details)===null||j===void 0)&&j.includes("0 rows"))&&(l=null,h=200,m="OK"),l&&r.shouldThrowOnError)throw new pV(l)}return{error:l,data:u,count:d,status:h,statusText:m}});return this.shouldThrowOnError||(a=a.catch(s=>{var l;let u="";const d=s?.cause;if(d){var h,m,p,g;const j=(h=d?.message)!==null&&h!==void 0?h:"",w=(m=d?.code)!==null&&m!==void 0?m:"";u=`${(p=s?.name)!==null&&p!==void 0?p:"FetchError"}: ${s?.message}`,u+=`

Caused by: ${(g=d?.name)!==null&&g!==void 0?g:"Error"}: ${j}`,w&&(u+=` (${w})`),d?.stack&&(u+=`
${d.stack}`)}else{var v;u=(v=s?.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(l=s?.name)!==null&&l!==void 0?l:"FetchError"}: ${s?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},yV=class extends mV{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var l;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${d}"; options=${u};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const MA=new RegExp("[,()]");var ls=class extends yV{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&MA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&MA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},gV=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},a=r?"HEAD":"GET";let s=!1;const l=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),n&&this.headers.append("Prefer",`count=${n}`),new ls({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ls({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new ls({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ls({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ls({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},vV=class $C{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new gV(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new $C(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:s}={}){var l;let u;const d=new URL(`${this.url}/rpc/${e}`);let h;n||a?(u=n?"HEAD":"GET",Object.entries(r).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{d.searchParams.append(p,g)})):(u="POST",h=r);const m=new Headers(this.headers);return s&&m.set("Prefer",`count=${s}`),new ls({method:u,url:d,headers:m,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class xV{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const bV="2.89.0",wV=`realtime-js/${bV}`,DC="1.0.0",jV="2.0.0",LA=DC,vx=1e4,_V=1e3,SV=100;var _a;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_a||(_a={}));var $t;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})($t||($t={}));var fn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(fn||(fn={}));var xx;(function(t){t.websocket="websocket"})(xx||(xx={}));var ai;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ai||(ai={}));class NV{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,r,n){var a,s;const l=e.topic,u=(a=e.ref)!==null&&a!==void 0?a:"",d=(s=e.join_ref)!==null&&s!==void 0?s:"",h=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+h.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let j=new DataView(v),w=0;j.setUint8(w++,this.KINDS.userBroadcastPush),j.setUint8(w++,d.length),j.setUint8(w++,u.length),j.setUint8(w++,l.length),j.setUint8(w++,h.length),j.setUint8(w++,p.length),j.setUint8(w++,r),Array.from(d,_=>j.setUint8(w++,_.charCodeAt(0))),Array.from(u,_=>j.setUint8(w++,_.charCodeAt(0))),Array.from(l,_=>j.setUint8(w++,_.charCodeAt(0))),Array.from(h,_=>j.setUint8(w++,_.charCodeAt(0))),Array.from(p,_=>j.setUint8(w++,_.charCodeAt(0)));var x=new Uint8Array(v.byteLength+n.byteLength);return x.set(new Uint8Array(v),0),x.set(new Uint8Array(n),v.byteLength),x.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,s,l,u,d]=n;return r({join_ref:a,ref:s,topic:l,event:u,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const h=n.decode(e.slice(d,d+a));d=d+a;const m=n.decode(e.slice(d,d+s));d=d+s;const p=n.decode(e.slice(d,d+l));d=d+l;const g=e.slice(d,e.byteLength),v=u===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,j={type:this.BROADCAST_EVENT,event:m,payload:v};return l>0&&(j.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class RC{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(at||(at={}));const FA=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,l)=>(s[l]=EV(l,t,e,a),s),{}):{}},EV=(t,e,r,n)=>{const a=e.find(u=>u.name===t),s=a?.type,l=r[t];return s&&!n.includes(s)?MC(s,l):bx(l)},MC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return PV(e,r)}switch(t){case at.bool:return OV(e);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return kV(e);case at.json:case at.jsonb:return AV(e);case at.timestamp:return TV(e);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return bx(e);default:return bx(e)}},bx=t=>t,OV=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},kV=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},AV=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},PV=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const l=t.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>MC(e,u))}return t},TV=t=>typeof t=="string"?t.replace(" ","T"):t,LC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Lv{constructor(e,r,n={},a=vx){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var BA;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(BA||(BA={}));class hl{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hl.syncState(this.state,a,s,l),this.pendingDiffs.forEach(d=>{this.state=hl.syncDiff(this.state,d,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=hl.syncDiff(this.state,a,s,l),u())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const s=this.cloneDeep(e),l=this.transformState(r),u={},d={};return this.map(s,(h,m)=>{l[h]||(d[h]=m)}),this.map(l,(h,m)=>{const p=s[h];if(p){const g=m.map(x=>x.presence_ref),v=p.map(x=>x.presence_ref),j=m.filter(x=>v.indexOf(x.presence_ref)<0),w=p.filter(x=>g.indexOf(x.presence_ref)<0);j.length>0&&(u[h]=j),w.length>0&&(d[h]=w)}else u[h]=m}),this.syncDiff(s,{joins:u,leaves:d},n,a)}static syncDiff(e,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(u,d)=>{var h;const m=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(d),m.length>0){const p=e[u].map(v=>v.presence_ref),g=m.filter(v=>p.indexOf(v.presence_ref)<0);e[u].unshift(...g)}n(u,m,d)}),this.map(l,(u,d)=>{let h=e[u];if(!h)return;const m=d.map(p=>p.presence_ref);h=h.filter(p=>m.indexOf(p.presence_ref)<0),e[u]=h,a(u,h,d),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var UA;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(UA||(UA={}));var pl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(pl||(pl={}));var Un;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Un||(Un={}));class gs{constructor(e,r={config:{}},n){var a,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=$t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Lv(this,fn.join,this.params,this.timeout),this.rejoinTimer=new RC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$t.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new hl(this),this.broadcastEndpointURL=LC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==$t.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[pl.PRESENCE]&&this.bindings[pl.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},g={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(Un.CHANNEL_ERROR,v)),this._onClose(()=>e?.(Un.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e?.(Un.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(j=w?.length)!==null&&j!==void 0?j:0,_=[];for(let N=0;N<x;N++){const E=w[N],{filter:{event:A,schema:O,table:k,filter:P}}=E,D=v&&v[N];if(D&&D.event===A&&gs.isFilterValueEqual(D.schema,O)&&gs.isFilterValueEqual(D.table,k)&&gs.isFilterValueEqual(D.filter,P))_.push(Object.assign(Object.assign({},E),{id:D.id}));else{this.unsubscribe(),this.state=$t.errored,e?.(Un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Un.SUBSCRIBED);return}}).receive("error",v=>{this.state=$t.errored,e?.(Un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(Un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===$t.joined&&e===pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,d;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=$t.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Lv(this,fn.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$t.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Lv(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>SV){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,s;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:h,join:m}=fn;if(n&&[u,d,h,m].indexOf(l)>=0&&n!==this._joinRef())return;let g=this._onMessage(l,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var j,w,x;return((j=v.filter)===null||j===void 0?void 0:j.event)==="*"||((x=(w=v.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(v=>v.callback(g,n)):(s=this.bindings[l])===null||s===void 0||s.filter(v=>{var j,w,x,_,N,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const A=v.id,O=(j=v.filter)===null||j===void 0?void 0:j.event;return A&&((w=r.ids)===null||w===void 0?void 0:w.includes(A))&&(O==="*"||O?.toLocaleLowerCase()===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const A=(N=(_=v?.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return A==="*"||A===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof g=="object"&&"ids"in g){const j=g.data,{schema:w,table:x,commit_timestamp:_,type:N,errors:E}=j;g=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:_,eventType:N,new:{},old:{},errors:E}),this._getPayloadRecords(j))}v.callback(g,n)})}_isClosed(){return this.state===$t.closed}_isJoined(){return this.state===$t.joined}_isJoining(){return this.state===$t.joining}_isLeaving(){return this.state===$t.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&gs.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fn.close,{},e)}_onError(e){this._on(fn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$t.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=FA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=FA(e.columns,e.old_record)),r}}const Fv=()=>{},qu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},CV=[1e3,2e3,5e3,1e4],IV=1e4,$V=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DV{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vx,this.transport=null,this.heartbeatIntervalMs=qu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fv,this.ref=0,this.reconnectTimer=null,this.vsn=LA,this.logger=Fv,this.conn=null,this.sendBuffer=[],this.serializer=new NV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${xx.websocket}`,this.httpEndpoint=LC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xV.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _a.connecting:return ai.Connecting;case _a.open:return ai.Open;case _a.closing:return ai.Closing;default:return ai.Closed}}isConnected(){return this.connectionState()===ai.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new gs(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:a,ref:s}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(_V,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:l}=r,u=l?`(${l})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===_a.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===_a.open||this.conn.readyState===_a.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(fn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([$V],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:wV};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(fn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new RC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,s,l,u,d,h,m,p,g,v;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:vx,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:qu.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:Fv,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:LA,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(j=>CV[j-1]||IV),this.vsn){case DC:this.encode=(m=e?.encode)!==null&&m!==void 0?m:((j,w)=>w(JSON.stringify(j))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:((j,w)=>w(JSON.parse(j)));break;case jV:this.encode=(g=e?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var ec=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function RV(t,e,r){const n=new URL(e,t);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function MV(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function LV(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const u=RV(t.baseUrl,n,a),d=await MV(t.auth),h=await e(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...d,...l},body:s?JSON.stringify(s):void 0}),m=await h.text(),p=(h.headers.get("content-type")||"").includes("application/json"),g=p&&m?JSON.parse(m):m;if(!h.ok){const v=p?g:void 0,j=v?.error;throw new ec(j?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:j?.type,icebergCode:j?.code,details:v})}return{status:h.status,headers:h.headers,data:g}}}}function zu(t){return t.join("")}var FV=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:zu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zu(t.namespace)}`}),!0}catch(e){if(e instanceof ec&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ec&&r.status===409)return;throw r}}};function rs(t){return t.join("")}var BV=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ec&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ec&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},UV=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=LV({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new FV(this.client,e),this.tableOps=new BV(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Mf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function vt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var qV=class extends Mf{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wx=class extends Mf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Rb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zV=()=>Response,jx=t=>{if(Array.isArray(t))return t.map(r=>jx(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=jx(n)}),e},HV=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},WV=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function KV(t,e){if(tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VV(t){var e=KV(t,"string");return tc(e)=="symbol"?e:e+""}function GV(t,e,r){return(e=VV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(r),!0).forEach(function(n){GV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Bv=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},YV=async(t,e,r)=>{t instanceof await zV()&&!r?.noResolveJson?t.json().then(n=>{const a=t.status||500,s=n?.statusCode||a+"";e(new qV(Bv(n),a,s))}).catch(n=>{e(new wx(Bv(n),n))}):e(new wx(Bv(t),t))},XV=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!n?a:(HV(n)?(a.headers=Ce({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,e?.duplex&&(a.duplex=e.duplex),Ce(Ce({},a),r))};async function gc(t,e,r,n,a,s){return new Promise((l,u)=>{t(r,XV(e,n,a,s)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>YV(d,u,n))})}async function rc(t,e,r,n){return gc(t,"GET",e,r,n)}async function cn(t,e,r,n,a){return gc(t,"POST",e,n,a,r)}async function _x(t,e,r,n,a){return gc(t,"PUT",e,n,a,r)}async function JV(t,e,r,n){return gc(t,"HEAD",e,Ce(Ce({},r),{},{noResolveJson:!0}),n)}async function Mb(t,e,r,n,a){return gc(t,"DELETE",e,n,a,r)}var QV=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}}};let FC;FC=Symbol.toStringTag;var ZV=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[FC]="BlobDownloadBuilder",this.promise=null}asStream(){return new QV(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}}};const eG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tG=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Rb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var a=this;try{let s;const l=Ce(Ce({},zA),n);let u=Ce(Ce({},a.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),d&&s.append("metadata",a.encodeMetadata(d)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),d&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(d))):(s=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),n?.headers&&(u=Ce(Ce({},u),n.headers));const h=a._removeEmptyFolders(e),m=a._getFinalPath(h),p=await(t=="PUT"?_x:cn)(a.fetch,`${a.url}/object/${m}`,s,Ce({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(vt(s))return{data:null,error:s};throw s}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var a=this;const s=a._removeEmptyFolders(t),l=a._getFinalPath(s),u=new URL(a.url+`/object/upload/sign/${l}`);u.searchParams.set("token",e);try{let d;const h=Ce({upsert:zA.upsert},n),m=Ce(Ce({},a.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType),{data:{path:s,fullPath:(await _x(a.fetch,u.toString(),d,{headers:m})).Key},error:null}}catch(d){if(a.shouldThrowOnError)throw d;if(vt(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const a=Ce({},r.headers);e?.upsert&&(a["x-upsert"]="true");const s=await cn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(r.url+s.url),u=l.searchParams.get("token");if(!u)throw new Mf("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await cn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}}async copy(t,e,r){var n=this;try{return{data:{path:(await cn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,r){var n=this;try{let a=n._getFinalPath(t),s=await cn(n.fetch,`${n.url}/object/sign/${a}`,Ce({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${n.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,r){var n=this;try{const a=await cn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(l=>Ce(Ce({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${s}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),a=n?`?${n}`:"",s=this._getFinalPath(t),l=()=>rc(this.fetch,`${this.url}/${r}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new ZV(l,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:jx(await rc(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await JV(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(vt(n)&&n instanceof wx){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&n.push(a);const s=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}async remove(t){var e=this;try{return{data:await Mb(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const a=Ce(Ce(Ce({},eG),e),{},{prefix:t||""});return{data:await cn(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}}async listV2(t,e){var r=this;try{const n=Ce({},t);return{data:await cn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const BC="2.89.0",UC={"X-Client-Info":`storage-js/${BC}`};var rG=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const a=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ce(Ce({},UC),e),this.fetch=Rb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await rc(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await rc(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await cn(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await _x(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await cn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Mb(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},nG=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ce(Ce({},UC),e),this.fetch=Rb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await cn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await rc(e.fetch,a,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Mb(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!WV(t))throw new Mf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new UV({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const l=a[s];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(a,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const Lb={"X-Client-Info":`storage-js/${BC}`,"Content-Type":"application/json"};var qC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Pr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Uv=class extends qC{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},aG=class extends qC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Fb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),iG=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},HA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sG=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,a=t;if(typeof a.json=="function")a.json().then(s=>{const l=s?.statusCode||s?.code||n+"";e(new Uv(HA(s),n,l))}).catch(()=>{const s=n+"";e(new Uv(a.statusText||`HTTP ${n} error`,n,s))});else{const s=n+"";e(new Uv(a.statusText||`HTTP ${n} error`,n,s))}}else e(new aG(HA(t),t))},oG=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return n?(iG(n)?(a.headers=Ce({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,Ce(Ce({},a),r)):a};async function lG(t,e,r,n,a,s){return new Promise((l,u)=>{t(r,oG(e,n,a,s)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>sG(d,u,n))})}async function Tr(t,e,r,n,a){return lG(t,"POST",e,n,a,r)}var cG=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ce(Ce({},Lb),e),this.fetch=Fb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Tr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Tr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Tr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Tr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}}},uG=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ce(Ce({},Lb),e),this.fetch=Fb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Tr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Tr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Tr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Tr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Tr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}},dG=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ce(Ce({},Lb),e),this.fetch=Fb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Tr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Tr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Tr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Tr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}}},fG=class extends dG{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new hG(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},hG=class extends cG{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new pG(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},pG=class extends uG{constructor(t,e,r,n,a){super(t,e,a),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Ce(Ce({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},mG=class extends rG{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new tG(this.url,this.headers,t,this.fetch)}get vectors(){return new fG(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nG(this.url+"/iceberg",this.headers,this.fetch)}};const zC="2.89.0",cs=30*1e3,Sx=3,qv=Sx*cs,yG="http://localhost:9999",gG="supabase.auth.token",vG={"X-Client-Info":`gotrue-js/${zC}`},Nx="X-Supabase-Api-Version",HC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bG=600*1e3;class nc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wG extends nc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function jG(t){return Ee(t)&&t.name==="AuthApiError"}class ii extends nc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ra extends nc{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Sr extends ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _G(t){return Ee(t)&&t.name==="AuthSessionMissingError"}class ns extends ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hu extends ra{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wu extends ra{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SG(t){return Ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class WA extends ra{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class NG extends ra{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ex extends ra{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function zv(t){return Ee(t)&&t.name==="AuthRetryableFetchError"}class KA extends ra{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ox extends ra{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),VA=` 	
\r=`.split(""),EG=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<VA.length;e+=1)t[VA[e].charCodeAt(0)]=-2;for(let e=0;e<Gd.length;e+=1)t[Gd[e].charCodeAt(0)]=e;return t})();function GA(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Gd[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Gd[n]),e.queuedBits-=6}}function WC(t,e,r){const n=EG[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function YA(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{AG(l,n,r)};for(let l=0;l<t.length;l+=1)WC(t.charCodeAt(l),a,s);return e.join("")}function OG(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function kG(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}OG(n,e)}}function AG(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function _s(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)WC(t.charCodeAt(a),r,n);return new Uint8Array(e)}function PG(t){const e=[];return kG(t,r=>e.push(r)),new Uint8Array(e)}function fi(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>GA(a,r,n)),GA(null,r,n),e.join("")}function TG(t){return Math.round(Date.now()/1e3)+t}function CG(){return Symbol("auth-callback")}const Vt=()=>typeof window<"u"&&typeof document<"u",Ja={tested:!1,writable:!1},KC=()=>{if(!Vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ja.tested)return Ja.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ja.tested=!0,Ja.writable=!0}catch{Ja.tested=!0,Ja.writable=!1}return Ja.writable};function IG(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const VC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$G=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",us=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Qa=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Kt=async(t,e)=>{await t.removeItem(e)};class Lf{constructor(){this.promise=new Lf.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Lf.promiseConstructor=Promise;function Hv(t){const e=t.split(".");if(e.length!==3)throw new Ox("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!xG.test(e[n]))throw new Ox("JWT not in base64url format");return{header:JSON.parse(YA(e[0])),payload:JSON.parse(YA(e[1])),signature:_s(e[2]),raw:{header:e[0],payload:e[1]}}}async function DG(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function RG(t,e){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await t(s);if(!e(s,null,l)){n(l);return}}catch(l){if(!e(s,l)){a(l);return}}})()})}function MG(t){return("0"+t.toString(16)).substr(-2)}function LG(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,MG).join("")}async function FG(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function BG(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await FG(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function as(t,e,r=!1){const n=LG();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await us(t,`${e}-code-verifier`,a);const s=await BG(n);return[s,n===s?"plain":"s256"]}const UG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qG(t){const e=t.headers.get(Nx);if(!e||!e.match(UG))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zG(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function HG(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function is(t){if(!WG.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wv(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function KG(t,e){return new Proxy(t,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,a)}})}function XA(t){return JSON.parse(JSON.stringify(t))}const ti=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),VG=[502,503,504];async function JA(t){var e;if(!$G(t))throw new Ex(ti(t),0);if(VG.includes(t.status))throw new Ex(ti(t),t.status);let r;try{r=await t.json()}catch(s){throw new ii(ti(s),s)}let n;const a=qG(t);if(a&&a.getTime()>=HC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new KA(ti(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Sr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new KA(ti(r),t.status,r.weak_password.reasons);throw new wG(ti(r),t.status||500,n)}const GG=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Te(t,e,r,n){var a;const s=Object.assign({},n?.headers);s[Nx]||(s[Nx]=HC["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await YG(t,e,r+u,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function YG(t,e,r,n,a,s){const l=GG(e,n,a,s);let u;try{u=await t(r,Object.assign({},l))}catch(d){throw console.error(d),new Ex(ti(d),0)}if(u.ok||await JA(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await JA(d)}}function ln(t){var e;let r=null;QG(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=TG(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function QA(t){const e=ln(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Na(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function XG(t){return{data:t,error:null}}function JG(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=t,l=Rf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function ZA(t){return t}function QG(t){return t.access_token&&t.refresh_token&&t.expires_in}const Kv=["global","local","others"];class ZG{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=VC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Kv[0]){if(Kv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kv.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Na})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Rf(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:JG,redirectTo:r?.redirectTo})}catch(r){if(Ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Na})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,s,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},m=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:ZA});if(m.error)throw m.error;const p=await m.json(),g=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(j.split(";")[1].split("=")[1]);h[`${x}Page`]=w}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Ee(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){is(e);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Na})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){is(e);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Na})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){is(e);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Na})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){is(e.userId);try{const{data:r,error:n}=await Te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _deleteFactor(e){is(e.userId),is(e.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,s,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},m=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:ZA});if(m.error)throw m.error;const p=await m.json(),g=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(j.split(";")[1].split("=")[1]);h[`${x}Page`]=w}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Ee(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}}function e2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ss={debug:!!(globalThis&&KC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class GC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class eY extends GC{}async function tY(t,e,r){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new eY(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ss.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function rY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function YC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nY(t){return parseInt(t,16)}function aY(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function iY(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:d,resources:h,scheme:m,uri:p,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=YC(t.address),j=m?`${m}://${n}`:n,w=t.statement?`${t.statement}
`:"",x=`${j} wants you to sign in with your Ethereum account:
${v}

${w}`;let _=`URI: ${p}
Version: ${g}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(_+=`
Expiration Time: ${a.toISOString()}`),u&&(_+=`
Not Before: ${u.toISOString()}`),d&&(_+=`
Request ID: ${d}`),h){let N=`
Resources:`;for(const E of h){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);N+=`
- ${E}`}_+=N}return`${x}
${_}`}class Ot extends Error{constructor({message:e,code:r,cause:n,name:a}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Yd extends Ot{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function sY({error:t,options:e}){var r,n,a;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(XC(l)){if(s.rp.id!==l)return new Ot({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function oY({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(XC(n)){if(r.rpId!==n)return new Ot({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class lY{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const cY=new lY;function uY(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=Rf(t,["challenge","user","excludeCredentials"]),s=_s(e).buffer,l=Object.assign(Object.assign({},r),{id:_s(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:_s(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function dY(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Rf(t,["challenge","allowCredentials"]),a=_s(e).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:_s(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function fY(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:fi(new Uint8Array(t.response.attestationObject)),clientDataJSON:fi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hY(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:fi(new Uint8Array(a.authenticatorData)),clientDataJSON:fi(new Uint8Array(a.clientDataJSON)),signature:fi(new Uint8Array(a.signature)),userHandle:a.userHandle?fi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function XC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function t2(){var t,e;return!!(Vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function pY(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yd("Browser returned unexpected credential type",e)}:{data:null,error:new Yd("Empty credential response",e)}}catch(e){return{data:null,error:sY({error:e,options:t})}}}async function mY(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yd("Browser returned unexpected credential type",e)}:{data:null,error:new Yd("Empty credential response",e)}}catch(e){return{data:null,error:oY({error:e,options:t})}}}const yY={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gY={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xd(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(e(l)){const u=n[s];e(u)?n[s]=Xd(u,l):n[s]=Xd(l)}else n[s]=l}return n}function vY(t,e){return Xd(yY,t,e||{})}function xY(t,e){return Xd(gY,t,e||{})}class bY{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},s){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!l)return{data:null,error:u};const d=a??cY.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=vY(l.webauthn.credential_options.publicKey,s?.create),{data:m,error:p}=await pY({publicKey:h,signal:d});return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const h=xY(l.webauthn.credential_options.publicKey,s?.request),{data:m,error:p}=await mY(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:d}));return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(l){return Ee(l)?{data:null,error:l}:{data:null,error:new ii("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new nc("rpId is required for WebAuthn authentication")};try{if(!t2())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return Ee(l)?{data:null,error:l}:{data:null,error:new ii("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new nc("rpId is required for WebAuthn registration")};try{if(!t2())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ee(l)?{data:null,error:l}:{data:null,error:new ii("Unexpected error in register",l)}}}}rY();const wY={url:yG,storageKey:gG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function r2(t,e,r){return await r()}const os={};class ac{get jwks(){var e,r;return(r=(e=os[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=os[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},wY),e);if(this.storageKey=s.storageKey,this.instanceID=(r=ac.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ac.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Vt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ZG({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=VC(s.fetch),this.lock=s.lock||r2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Vt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=tY:this.lock=r2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bY(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:KC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=e2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=e2(this.memoryStorage)),Vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Vt()&&(r=IG(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Vt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),SG(s)){const d=(e=s.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ee(r)?this._returnResult({error:r}):this._returnResult({error:new ii("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const s=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:ln}),{data:l,error:u}=s;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(Ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,a;try{let s;if("email"in e){const{email:m,password:p,options:g}=e;let v=null,j=null;this.flowType==="pkce"&&([v,j]=await as(this.storage,this.storageKey)),s=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:m,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:j},xform:ln})}else if("phone"in e){const{phone:m,password:p,options:g}=e;s=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(a=g?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:ln})}else throw new Hu("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return await Kt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),Ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:l,options:u}=e;r=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:QA})}else if("phone"in e){const{phone:s,password:l,options:u}=e;r=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:QA})}else throw new Hu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new ns;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,s,l,u,d,h,m,p,g;let v,j;if("message"in e)v=e.message,j=e.signature;else{const{chain:w,wallet:x,statement:_,options:N}=e;let E;if(Vt())if(typeof x=="object")E=x;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")E=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=x}const A=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),O=await E.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=YC(O[0]);let P=(n=N?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const $=await E.request({method:"eth_chainId"});P=nY($)}const D={domain:A.host,address:k,statement:_,uri:A.href,version:"1",chainId:P,nonce:(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=iY(D),j=await E.request({method:"personal_sign",params:[aY(v),k]})}try{const{data:w,error:x}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:j},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ln});if(x)throw x;if(!w||!w.session||!w.user){const _=new ns;return this._returnResult({data:{user:null,session:null},error:_})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(Ee(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,a,s,l,u,d,h,m,p,g,v;let j,w;if("message"in e)j=e.message,w=e.signature;else{const{chain:x,wallet:_,statement:N,options:E}=e;let A;if(Vt())if(typeof _=="object")A=_;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))A=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const O=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const k=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),N?{statement:N}:null));let P;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")P=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)P=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)j=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),w=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${O.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(a=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((p=(m=E?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...E.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const k=await A.signMessage(new TextEncoder().encode(j),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:x,error:_}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:fi(w)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ln});if(_)throw _;if(!x||!x.session||!x.user){const N=new ns;return this._returnResult({data:{user:null,session:null},error:N})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:_})}catch(x){if(Ee(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await Qa(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new NG;const{data:s,error:l}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ln});if(await Kt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const u=new ns;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),Ee(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=e,u=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ln}),{data:d,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const m=new ns;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,a,s,l;try{if("email"in e){const{email:u,options:d}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await as(this.storage,this.storageKey));const{error:p}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:u,options:d}=e,{data:h,error:m}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new Hu("You must provide either an email or phone number.")}catch(u){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),Ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let a,s;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:ln});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(Ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,n,a,s,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await as(this.storage,this.storageKey));const h=await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:XG});return!((s=h.data)===null||s===void 0)&&s.url&&Vt()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),Ee(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Sr;const{error:a}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:l}=await Te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:l,error:u}=await Te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new Hu("You must provide either an email or phone number and a type")}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<qv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await Qa(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=Wv()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=KG(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Na}):await this._useSession(async r=>{var n,a,s;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sr}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Na})})}catch(r){if(Ee(r))return _G(r)&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Sr;const l=a.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await as(this.storage,this.storageKey));const{data:h,error:m}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Na});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),Ee(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Sr;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=Hv(e.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:u}=r;if(u)throw u;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Sr;const{data:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Vt())throw new Wu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new WA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new WA("No code detected.");const{data:N,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:u,expires_at:d,token_type:h}=e;if(!s||!u||!l||!h)throw new Wu("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(u);let g=m+p;d&&(g=parseInt(d));const v=g-m;v*1e3<=cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const j=g-p;m-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,g,m):m-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,g,m);const{data:w,error:x}=await this._getUser(s);if(x)throw x;const _={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:p,expires_at:g,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(n){if(Ee(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Qa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(jG(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=CG(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await as(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),Ee(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,u,d,h,m;const{data:p,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return Vt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Ee(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:u,token:d,access_token:h,nonce:m}=e,p=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ln}),{data:g,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new ns}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(a){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),Ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await RG(async a=>(a>0&&await DG(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ln})),(a,s)=>{const l=200*Math.pow(2,a);return s&&zv(s)&&Date.now()+l-n<cs})}catch(n){if(this._debug(r,"error",n),Ee(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Vt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Qa(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Qa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await us(this.userStorage,this.storageKey+"-user",l)),a.user=(e=l?.user)!==null&&e!==void 0?e:Wv()}else if(a&&!a.user&&!a.user){const l=await Qa(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await Kt(this.storage,this.storageKey+"-user"),await us(this.storage,this.storageKey,a)):a.user=Wv()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qv;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${qv}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),zv(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Lf;const{data:s,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!s.session)throw new Sr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),Ee(s)){const l={data:null,error:s};return zv(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){s.push(d)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Kt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await us(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=XA(a);await us(this.storage,this.storageKey,s)}else{const a=XA(r);await us(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Kt(this.storage,this.storageKey),await Kt(this.storage,this.storageKey+"-code-verifier"),await Kt(this.storage,this.storageKey+"-user"),this.userStorage&&await Kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${cs}ms, refresh threshold is ${Sx} ticks`),a<=Sx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof GC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await as(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?fY(e.webauthn.credential_response):hY(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:uY(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:dY(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Hv(n.access_token);let l=null;s.aal&&(l=s.aal);let u=l;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=s.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Te(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Sr})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Sr});const l=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Vt()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Sr});const l=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Vt()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Sr})})}catch(e){if(Ee(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Sr})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+bG>a)return n;const{data:s,error:l}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:j}=await this.getSession();if(j||!v.session)return this._returnResult({data:null,error:j});n=v.session.access_token}const{header:a,payload:s,signature:l,raw:{header:u,payload:d}}=Hv(n);r?.allowExpired||zG(s.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:a,signature:l},error:null}}const m=HG(a.alg),p=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,l,PG(`${u}.${d}`)))throw new Ox("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}}ac.nextInstanceID={};const jY=ac,_Y="2.89.0";let il="";typeof Deno<"u"?il="deno":typeof document<"u"?il="web":typeof navigator<"u"&&navigator.product==="ReactNative"?il="react-native":il="node";const SY={"X-Client-Info":`supabase-js-${il}/${_Y}`},NY={headers:SY},EY={schema:"public"},OY={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kY={};function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function AY(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PY(t){var e=AY(t,"string");return ic(e)=="symbol"?e:e+""}function TY(t,e,r){return(e=PY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(r),!0).forEach(function(n){TY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const CY=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),IY=()=>Headers,$Y=(t,e,r)=>{const n=CY(r),a=IY();return async(s,l)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let h=new a(l?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(s,wt(wt({},l),{},{headers:h}))}};function DY(t){return t.endsWith("/")?t:t+"/"}function RY(t,e){var r,n;const{db:a,auth:s,realtime:l,global:u}=t,{db:d,auth:h,realtime:m,global:p}=e,g={db:wt(wt({},d),a),auth:wt(wt({},h),s),realtime:wt(wt({},m),l),storage:{},global:wt(wt(wt({},p),u),{},{headers:wt(wt({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function MY(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DY(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var LY=class extends jY{constructor(t){super(t)}},FY=class{constructor(t,e,r){var n,a;this.supabaseUrl=t,this.supabaseKey=e;const s=MY(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:EY,realtime:kY,auth:wt(wt({},OY),{},{storageKey:l}),global:NY},d=RY(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=$Y(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(wt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new vV(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new mG(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new hV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:l,lock:u,debug:d,throwOnError:h},m,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LY({url:this.authUrl.href,headers:wt(wt({},g),m),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,flowType:l,lock:u,debug:d,throwOnError:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new DV(this.realtimeUrl.href,wt(wt({},t),{},{params:wt(wt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const BY=(t,e,r)=>new FY(t,e,r);function UY(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}UY()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function io(){return typeof window<"u"&&!window.__supabaseClient&&(window.__supabaseClient=BY(`https://${ji}.supabase.co`,Ye,{auth:{storageKey:`sb-${ji}-auth-token`,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})),window.__supabaseClient}const Me=`https://${ji}.supabase.co/functions/v1/make-server-c2dd9b9d`;async function Dr(t,e,r){const n=await fetch(t,{...r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,...r?.headers}});if(!n.ok){const a=await n.json();throw new Error(a.error||"Request failed")}return n.json()}async function JC(t){return(await Dr(`${Me}/inventory`,t)).inventory||[]}async function qY(t,e){return(await Dr(`${Me}/inventory`,t,{method:"POST",body:JSON.stringify(e)})).item}async function zY(t,e,r){return(await Dr(`${Me}/inventory/${e}`,t,{method:"PUT",body:JSON.stringify(r)})).item}async function HY(t,e){await Dr(`${Me}/inventory/${e}`,t,{method:"DELETE"})}async function QC(t){return(await Dr(`${Me}/overheads`,t)).overheads||[]}async function WY(t,e){return(await Dr(`${Me}/overheads`,t,{method:"POST",body:JSON.stringify(e)})).item}async function KY(t,e,r){return(await Dr(`${Me}/overheads/${e}`,t,{method:"PUT",body:JSON.stringify(r)})).item}async function VY(t,e){await Dr(`${Me}/overheads/${e}`,t,{method:"DELETE"})}async function ZC(t){return(await Dr(`${Me}/sales`,t)).sales||[]}async function GY(t,e){return(await Dr(`${Me}/sales`,t,{method:"POST",body:JSON.stringify(e)})).item}async function YY(t,e,r){return(await Dr(`${Me}/sales/${e}`,t,{method:"PUT",body:JSON.stringify(r)})).item}async function XY(t,e){return(await Dr(`${Me}/sales/${e}/approve`,t,{method:"POST"})).item}async function JY(t){await Dr(`${Me}/clear-data`,t,{method:"DELETE"})}async function Ff(){console.log("API: Fetching employees...");const t=await fetch(`${Me}/employees`,{headers:{Authorization:`Bearer ${Ye}`}});if(console.log("API: getEmployees response status:",t.status),!t.ok)throw console.error("API: Failed to fetch employees"),new Error("Failed to fetch employees");const e=await t.json();return console.log("API: getEmployees raw response:",e),console.log("API: getEmployees employees array:",e.employees),e.employees||[]}async function QY(t){console.log("API: addEmployee called with:",t);const e=await fetch(`${Me}/employees`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify(t)});if(console.log("API: addEmployee response status:",e.status),!e.ok){const n=await e.text();throw console.error("API: addEmployee error:",n),new Error("Failed to add employee")}const r=await e.json();return console.log("API: addEmployee result:",r),r}async function ZY(t,e){console.log("API: updateEmployee called with id:",t),console.log("API: updateEmployee updates:",e);const r=await fetch(`${Me}/employees/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify(e)});if(console.log("API: updateEmployee response status:",r.status),!r.ok){const a=await r.text();console.error("API: updateEmployee error response:",a);try{const s=JSON.parse(a);throw new Error(`Failed to update employee: ${s.error||a}`)}catch{throw new Error(`Failed to update employee: ${a}`)}}const n=await r.json();return console.log("API: updateEmployee success result:",n),n}async function eX(t){const e=await fetch(`${Me}/employees/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ye}`}});if(!e.ok)throw new Error("Failed to delete employee");return e.json()}async function Ss(){const t=await fetch(`${Me}/payouts`,{headers:{Authorization:`Bearer ${Ye}`}});if(!t.ok)throw new Error("Failed to fetch payouts");return(await t.json()).payouts||[]}async function eI(t){console.log("API: addPayouts called with:",t);const e=await fetch(`${Me}/payouts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify({payouts:t})});console.log("API: Response status:",e.status);const r=await e.json();if(console.log("API: Response data:",r),!e.ok)throw console.error("API: Failed to add payouts:",r),new Error(r.error||"Failed to add payouts");return r}async function tX(t,e){const r=await fetch(`${Me}/payouts/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify(e)});if(!r.ok)throw new Error("Failed to update payout");return r.json()}async function kx(t){const e=await fetch(`${Me}/payouts/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ye}`}});if(!e.ok)throw new Error("Failed to delete payout");return e.json()}async function Jd(t){const e=await fetch(`${Me}/timesheets/${t}`,{headers:{Authorization:`Bearer ${Ye}`}});if(!e.ok)throw new Error("Failed to fetch timesheets");return(await e.json()).timesheets||[]}async function rX(t){const e=await fetch(`${Me}/timesheets`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to save timesheet");return e.json()}async function nX(t){const e=await fetch(`${Me}/timesheets/bulk`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify({timesheets:t})});if(!e.ok)throw new Error("Failed to save timesheets");return e.json()}async function aX(t,e){const r=await fetch(`${Me}/timesheets/${t}/approve`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify({managerId:e})});if(!r.ok)throw new Error("Failed to approve timesheet");return r.json()}async function iX(t,e,r){const n=await fetch(`${Me}/timesheets/${t}/reject`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify({managerId:e,reason:r})});if(!n.ok)throw new Error("Failed to reject timesheet");return n.json()}async function Bf(t){const e=await fetch(`${Me}/leaves/${t}`,{headers:{Authorization:`Bearer ${Ye}`}});if(!e.ok)throw new Error("Failed to fetch leaves");return(await e.json()).leaves||[]}async function sX(t,e){const r=await fetch(`${Me}/leaves/${t}/balance?joiningDate=${e}`,{headers:{Authorization:`Bearer ${Ye}`}});if(!r.ok)throw new Error("Failed to fetch leave balance");return(await r.json()).balance||0}async function oX(t){const e=await fetch(`${Me}/leaves`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to apply leave");return e.json()}async function lX(t,e,r){const n=await fetch(`${Me}/leaves/${t}/approve`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify({managerId:e,managerName:r})});if(!n.ok)throw new Error("Failed to approve leave");return n.json()}async function cX(t,e,r,n){const a=await fetch(`${Me}/leaves/${t}/reject`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify({managerId:e,managerName:r,reason:n})});if(!a.ok)throw new Error("Failed to reject leave");return a.json()}async function sc(){const t=await fetch(`${Me}/unified-employees`,{headers:{Authorization:`Bearer ${Ye}`}});if(!t.ok)throw new Error("Failed to fetch employees");return(await t.json()).employees||[]}async function uX(t){const e=await fetch(`${Me}/unified-employees`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to create employee");return e.json()}async function dX(t){const e=await fetch(`${Me}/unified-employees/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ye}`}});if(!e.ok)throw new Error("Failed to delete employee");return e.json()}async function fX(t,e){console.log("API: updateUnifiedEmployee called with employeeId:",t),console.log("API: updateUnifiedEmployee updates:",e),console.log("API: API_BASE:",Me),console.log("API: Full URL:",`${Me}/unified-employees/${t}`);const r=await fetch(`${Me}/unified-employees/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify(e)});if(console.log("API: updateUnifiedEmployee response status:",r.status),console.log("API: updateUnifiedEmployee response ok:",r.ok),!r.ok){const a=await r.text();console.error("API: updateUnifiedEmployee error response:",a);try{const s=JSON.parse(a);throw new Error(`Failed to update employee: ${s.error||s.details||a}`)}catch{throw new Error(`Failed to update employee: ${a}`)}}const n=await r.json();return console.log("API: updateUnifiedEmployee success result:",n),n}async function Qd(t){console.log("API: getEmployeesByManager called with managerId:",t);const e=await fetch(`${Me}/unified-employees/manager/${t}`,{headers:{Authorization:`Bearer ${Ye}`}});if(console.log("API: getEmployeesByManager response status:",e.status),!e.ok){const n=await e.text();throw console.error("API: getEmployeesByManager error:",n),new Error("Failed to fetch employees by manager")}const r=await e.json();return console.log("API: getEmployeesByManager response data:",r),console.log("API: getEmployeesByManager employees array:",r.employees),r.employees||[]}async function Bb(t){console.log("API: Fetching managers for cluster head:",t);const e=await fetch(`${Me}/unified-employees/cluster-head/${t}`,{headers:{Authorization:`Bearer ${Ye}`}});console.log("API: getManagersByClusterHead response status:",e.status);const r=await e.json();return console.log("API: getManagersByClusterHead response data:",r),r.managers||[]}async function tI(t,e){const n=(await io().auth.getSession()).data.session?.access_token;console.log("API: Assigning manager",e,"to employee",t);const a=await fetch(`${Me}/unified-employees/${t}/assign-manager`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({managerId:e})});if(!a.ok){const l=await a.json();throw new Error(l.error||"Failed to assign manager")}const s=await a.json();return console.log("API: Manager assignment successful"),s.employee}async function hX(t,e){const n=(await io().auth.getSession()).data.session?.access_token;console.log("API: Assigning cluster head",e,"to manager",t);const a=await fetch(`${Me}/unified-employees/${t}/assign-cluster-head`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({clusterHeadId:e})});if(!a.ok){const l=await a.json();throw new Error(l.error||"Failed to assign cluster head")}const s=await a.json();return console.log("API: Cluster head assignment successful"),s.manager}async function pX(){const e=(await io().auth.getSession()).data.session?.access_token;console.log("API: Fetching organizational hierarchy");const r=await fetch(`${Me}/organizational-hierarchy`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok){const a=await r.json();throw new Error(a.error||"Failed to fetch organizational hierarchy")}const n=await r.json();return console.log("API: Organizational hierarchy fetched:",n),n}async function mX(){const e=(await io().auth.getSession()).data.session?.access_token;console.log("API: Fetching all cluster heads");const r=await fetch(`${Me}/cluster-heads`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok){const a=await r.json();throw new Error(a.error||"Failed to fetch cluster heads")}const n=await r.json();return console.log("API: Cluster heads fetched:",n),n.clusterHeads||[]}async function yX(t){console.log("API: Deleting cluster head with email:",t);const e=await fetch(`${Me}/cluster-heads/by-email/${encodeURIComponent(t)}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ye}`}});if(!e.ok){const n=await e.json();throw new Error(n.error||"Failed to delete cluster head")}const r=await e.json();return console.log("API: Cluster head deleted:",r),r}function gX({context:t}){const[e,r]=R.useState(new Date().toISOString().split("T")[0]),[n,a]=R.useState({offlineSales:"",paytmAmount:"",cashAmount:"",onlineSales:"",employeeSalary:"",previousCashInHand:"",usedOnlineMoney:"",actualCashInHand:""}),[s,l]=R.useState(!1),[u,d]=R.useState(null),[h,m]=R.useState([]),[p,g]=R.useState([]),[v,j]=R.useState(!1);R.useEffect(()=>{w()},[]);const w=async()=>{j(!0);try{const J=(await Ff()).filter(ne=>ne.type==="contract");m(J)}catch(K){console.error("Error loading contract workers:",K)}finally{j(!1)}};R.useEffect(()=>{x()},[e,h]);const x=async()=>{if(h.length!==0)try{const J=(await Ss()).filter(me=>me.date===e),ne=h.map(me=>me.id),pe=J.filter(me=>ne.includes(me.employeeId)),xe=new Map;pe.forEach(me=>{const _e=xe.get(me.employeeId);(!_e||new Date(me.createdAt)>new Date(_e.createdAt))&&xe.set(me.employeeId,me)});const le=Array.from(xe.values()).map(me=>({employeeId:me.employeeId,amount:me.amount.toString()}));g(le)}catch(K){console.error("Error loading payouts for date:",K)}},_=()=>{g([...p,{employeeId:"",amount:""}])},N=K=>{g(p.filter((J,ne)=>ne!==K))},E=(K,J,ne)=>{const pe=[...p];pe[K][J]=ne,g(pe)},A=R.useMemo(()=>p.reduce((K,J)=>K+(parseFloat(J.amount)||0),0),[p]),O=R.useMemo(()=>t.salesData.find(K=>K.date===e),[t.salesData,e]),k=R.useMemo(()=>t.salesData.length===0||!O&&t.salesData.every(K=>K.date>e),[t.salesData,e,O]),P=R.useMemo(()=>new Date(e).getDate()===1,[e]),D=R.useMemo(()=>new Date(e).getDay()===5,[e]),$=R.useMemo(()=>{const K=new Date(e);K.setDate(K.getDate()-1);const J=K.toISOString().split("T")[0];return t.salesData.find(ne=>ne.date===J)},[t.salesData,e]),I=R.useMemo(()=>{const K=t.inventory.filter(ne=>ne.date===e).reduce((ne,pe)=>ne+pe.totalCost,0),J=t.overheads.filter(ne=>ne.date===e).reduce((ne,pe)=>ne+pe.amount,0);return K+J},[t.inventory,t.overheads,e]),C=(K,J,ne,pe)=>K+J-ne-pe,B=R.useMemo(()=>{const K=parseFloat(n.previousCashInHand)||0,J=parseFloat(n.cashAmount)||0;return C(K,J,I,A)},[n.previousCashInHand,n.cashAmount,A,I]),U=R.useMemo(()=>{const K=parseFloat(n.actualCashInHand)||0;return K===0?0:K-B},[n.actualCashInHand,B]),G=Math.abs(U)>500,Y=R.useMemo(()=>{const K=t.salesData.filter(ne=>ne.date<=e).reduce((ne,pe)=>ne+(pe.paytmAmount??0),0),J=t.salesData.filter(ne=>ne.date<=e).reduce((ne,pe)=>ne+(pe.usedOnlineMoney??0),0);return K-J},[t.salesData,e]);R.useEffect(()=>{if(O)a({offlineSales:(O.offlineSales??0).toString(),paytmAmount:(O.paytmAmount??0).toString(),cashAmount:(O.cashAmount??0).toString(),onlineSales:(O.onlineSales??0).toString(),employeeSalary:(O.employeeSalary??0).toString(),previousCashInHand:(O.previousCashInHand??0).toString(),usedOnlineMoney:(O.usedOnlineMoney??0).toString(),actualCashInHand:(O.actualCashInHand??0).toString()}),l(!0),d(O.id);else{let K=0;$&&(K=$.actualCashInHand??0),a({offlineSales:"",paytmAmount:"",cashAmount:"",onlineSales:"",employeeSalary:"0",previousCashInHand:K.toString(),usedOnlineMoney:"0",actualCashInHand:""}),l(!1),d(null)}},[e,O,$]);const Q=async K=>{K.preventDefault();const J=parseFloat(n.actualCashInHand)||0,ne=J-B;if(G&&!O?.approvedBy){alert("Cash discrepancy exceeds 500. Cluster head approval required before saving.");return}const pe={date:e,offlineSales:parseFloat(n.offlineSales)||0,paytmAmount:parseFloat(n.paytmAmount)||0,cashAmount:parseFloat(n.cashAmount)||0,onlineSales:parseFloat(n.onlineSales)||0,employeeSalary:A,previousCashInHand:parseFloat(n.previousCashInHand)||0,usedOnlineMoney:parseFloat(n.usedOnlineMoney)||0,actualCashInHand:J,cashOffset:ne,approvalRequired:G,approvedBy:O?.approvedBy||null,approvedAt:O?.approvedAt||null};try{if(s&&u?await t.updateSalesData(u,pe):await t.addSalesData(pe),p.length>0){const xe=await Ss(),le=h.map(se=>se.id),me=xe.filter(se=>se.date===e&&le.includes(se.employeeId));for(const se of me)await kx(se.id),console.log("Deleted old payout:",se.id);const _e=p.filter(se=>se.employeeId&&se.amount).map(se=>{const We=h.find(Fe=>Fe.id===se.employeeId);return{id:crypto.randomUUID(),employeeId:se.employeeId,employeeName:We?.name||"",amount:parseFloat(se.amount),date:e,createdAt:new Date().toISOString()}});_e.length>0&&(await eI(_e),console.log("Contract worker payouts synced to payroll:",_e))}else{const xe=await Ss(),le=h.map(_e=>_e.id),me=xe.filter(_e=>_e.date===e&&le.includes(_e.employeeId));for(const _e of me)await kx(_e.id),console.log("Deleted payout (no workers entered):",_e.id)}alert("Sales data and contract worker payouts saved successfully!")}catch(xe){console.error("Error saving sales data:",xe),alert("Failed to save sales data. Please try again.")}},re=parseFloat(n.onlineSales)||0,V=parseFloat(n.offlineSales)||0,ee=parseFloat(n.paytmAmount)||0,F=parseFloat(n.cashAmount)||0,M=ee+F,H=Math.abs(V-M)>.01,oe=t.user?.role==="cluster_head";return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx(d2,{selectedDate:e,onDateChange:r}),D&&t.isManager&&o.jsxs("div",{className:"mt-6 bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-300 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx($p,{className:"w-6 h-6 text-blue-600"}),o.jsx("h2",{className:"text-gray-900",children:"Weekly Cash Reporting - Friday"})]}),o.jsx("p",{className:"text-gray-700 mb-3",children:" Today is Friday! Please report the actual cash left with you after entering today's sales data."}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:o.jsxs("p",{className:"text-gray-700",children:[o.jsx("strong",{children:"Important:"})," If the cash discrepancy exceeds 500, cluster head approval will be required before saving."]})})]}),oe&&o.jsxs("div",{className:"mt-6 bg-[#FFF4E6] border-2 border-[#FFE4C4] rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx($p,{className:"w-6 h-6 text-[#E8A87C]"}),o.jsx("h2",{className:"text-gray-900",children:"Pending Approvals"})]}),t.salesData.filter(K=>K.approvalRequired&&!K.approvedBy).length===0?o.jsx("p",{className:"text-gray-600",children:"No pending approvals at the moment."}):o.jsx("div",{className:"space-y-3",children:t.salesData.filter(K=>K.approvalRequired&&!K.approvedBy).map(K=>o.jsxs("div",{className:"bg-white rounded-lg p-4 flex items-center justify-between border border-yellow-300",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900",children:new Date(K.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Cash Discrepancy: ",o.jsxs("span",{className:K.cashOffset>0?"text-green-600":"text-red-600",children:[K.cashOffset>0?"+":"","",K.cashOffset.toFixed(2)]})]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Expected: ",(K.actualCashInHand-K.cashOffset).toFixed(2)," | Actual: ",K.actualCashInHand.toFixed(2)]})]}),o.jsxs("button",{onClick:async()=>{try{await t.approveSalesData(K.id),alert("Approved successfully!")}catch{alert("Failed to approve")}},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[o.jsx(ds,{className:"w-4 h-4"}),"Approve"]})]},K.id))})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(Gr,{className:"w-6 h-6 text-green-600"}),o.jsx("h2",{className:"text-gray-900",children:"Sales Entry"})]}),o.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-[#D4E6F1] to-[#AED6F1] rounded-lg p-4",children:[o.jsxs("h3",{className:"text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(tR,{className:"w-5 h-5 text-[#5499C7]"}),"Offline Sales"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Total Offline Sales ()"}),o.jsx("input",{type:"number",step:"0.01",value:n.offlineSales,onChange:K=>a({...n,offlineSales:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",required:!0,disabled:!t.isManager})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Paytm ()"}),o.jsx("input",{type:"number",step:"0.01",value:n.paytmAmount,onChange:K=>a({...n,paytmAmount:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",required:!0,disabled:!t.isManager})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Cash ()"}),o.jsx("input",{type:"number",step:"0.01",value:n.cashAmount,onChange:K=>a({...n,cashAmount:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",required:!0,disabled:!t.isManager})]})]}),H&&o.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-3 py-2 rounded-lg text-sm",children:[" Payment mode total (",M.toFixed(2),") doesn't match offline sales (",V.toFixed(2),")"]}),!H&&V>0&&o.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-700 px-3 py-2 rounded-lg text-sm flex items-center gap-2",children:[o.jsx(Xr,{className:"w-4 h-4"}),"Payment modes match total sales"]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-[#FFE6CC] to-[#FFDAB9] rounded-lg p-4",children:[o.jsxs("h3",{className:"text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(mr,{className:"w-5 h-5 text-[#E8A87C]"}),"Online Sales"]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Total Online Sales (Zomato + Swiggy) ()"}),o.jsx("input",{type:"number",step:"0.01",value:n.onlineSales,onChange:K=>a({...n,onlineSales:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",required:!0,disabled:!t.isManager})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-[#E0F2F7] to-[#B3E5FC] rounded-lg p-4",children:[o.jsxs("h3",{className:"text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(bD,{className:"w-5 h-5 text-[#4FC3F7]"}),"Used Online Money"]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Amount Used from Paytm ()"}),o.jsx("input",{type:"number",step:"0.01",value:n.usedOnlineMoney,onChange:K=>a({...n,usedOnlineMoney:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",disabled:!t.isManager}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter amount if Paytm balance was used for expenses"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-gray-900 flex items-center gap-2",children:[o.jsx(kt,{className:"w-5 h-5 text-purple-600"}),"Contract Worker Payouts"]}),t.isManager&&o.jsxs("button",{type:"button",onClick:_,className:"flex items-center gap-1 px-3 py-1.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:[o.jsx(yl,{className:"w-4 h-4"}),"Add Worker"]})]}),v?o.jsx("p",{className:"text-sm text-gray-500",children:"Loading workers..."}):h.length===0?o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-gray-700",children:o.jsx("p",{children:"No contract workers found. Please add contract workers in the Payroll tab first."})}):o.jsxs("div",{className:"space-y-3",children:[p.length===0?o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm text-gray-600",children:'No payouts entered for today. Click "Add Worker" to record a payout.'}):p.map((K,J)=>{const ne=h.find(pe=>pe.id===K.employeeId);return o.jsx("div",{className:"bg-white border border-purple-200 rounded-lg p-3 space-y-2",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Select Worker"}),o.jsxs("select",{value:K.employeeId,onChange:pe=>E(J,"employeeId",pe.target.value),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm",disabled:!t.isManager,required:!0,children:[o.jsx("option",{value:"",children:"Choose a worker..."}),h.map(pe=>o.jsxs("option",{value:pe.id,children:[pe.name," (",pe.employeeId,")"]},pe.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Amount Paid ()"}),o.jsx("input",{type:"number",step:"0.01",value:K.amount,onChange:pe=>E(J,"amount",pe.target.value),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm",placeholder:ne?.dailyRate?`Suggested: ${ne.dailyRate}`:"Enter amount",disabled:!t.isManager,required:!0}),ne?.dailyRate&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Daily rate: ",ne.dailyRate]})]})]}),t.isManager&&o.jsx("button",{type:"button",onClick:()=>N(J),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors mt-5",children:o.jsx(pn,{className:"w-4 h-4"})})]})},J)}),p.length>0&&o.jsxs("div",{className:"bg-purple-600 text-white rounded-lg p-3 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Total Contract Payouts:"}),o.jsxs("span",{className:"text-lg",children:["",A.toFixed(2)]})]})]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-3 bg-purple-50 p-2 rounded border border-purple-200",children:[" ",o.jsx("strong",{children:"Note:"})," Payouts entered here will automatically sync with the Payroll page. For permanent employees, use the Payroll tab."]}),A>0&&o.jsxs("p",{className:"text-xs text-purple-700 mt-2 bg-purple-100 p-2 rounded border border-purple-300 flex items-center gap-1",children:[" ",o.jsx("strong",{children:"Cash Impact:"})," ",A.toFixed(2)," will be deducted from offline cash when calculating cash in hand."]})]}),(k||P)&&o.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-4",children:[o.jsxs("h3",{className:"text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(ri,{className:"w-5 h-5 text-amber-600"}),k?"Opening Cash Balance (Day 1)":"Cash Left from Previous Month"]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Cash Left ()"}),o.jsx("input",{type:"number",step:"0.01",value:n.previousCashInHand,onChange:K=>a({...n,previousCashInHand:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",disabled:!t.isManager,required:!0}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:k?"Enter starting cash for the first day":"Enter cash left from previous month (after deducting all expenses and salaries)"})]})]}),!k&&!P&&o.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-4 border-2 border-gray-300",children:[o.jsxs("h3",{className:"text-gray-900 mb-2 flex items-center gap-2",children:[o.jsx(ri,{className:"w-5 h-5 text-gray-600"}),"Cash Left from Previous Day (Auto-Calculated)"]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[o.jsxs("p",{className:"text-2xl text-gray-900",children:["",(parseFloat(n.previousCashInHand)||0).toFixed(2)]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" This is automatically calculated from previous day's cash left after deducting expenses and salaries.",P&&" You can edit this only on the 1st of the month."]})]})]}),!k&&o.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 rounded-lg p-4",children:[o.jsxs("h3",{className:"text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(ri,{className:"w-5 h-5 text-teal-600"}),"Cash Reconciliation"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-teal-200",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Expected Cash in Hand"}),o.jsxs("p",{className:"text-2xl text-gray-900",children:["",B.toFixed(2)]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Previous Cash: ",(parseFloat(n.previousCashInHand)||0).toFixed(2)," + Cash Received: ",F.toFixed(2)," - Expenses: ",I.toFixed(2)," - Contract Payouts: ",A.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Actual Cash in Hand ()"}),o.jsx("input",{type:"number",step:"0.01",value:n.actualCashInHand,onChange:K=>a({...n,actualCashInHand:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",required:!0,disabled:!t.isManager}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Count and enter actual physical cash"})]}),n.actualCashInHand&&o.jsxs("div",{className:`rounded-lg p-3 border-2 ${Math.abs(U)===0?"bg-green-100 border-green-300":G?"bg-red-100 border-red-300":"bg-yellow-100 border-yellow-300"}`,children:[o.jsx("p",{className:"text-sm font-medium",children:Math.abs(U)===0?o.jsxs("span",{className:"text-green-700 flex items-center gap-2",children:[o.jsx(Xr,{className:"w-4 h-4"}),"Perfect Match! No discrepancy."]}):G?o.jsxs("span",{className:"text-red-700 flex items-center gap-2",children:[o.jsx($p,{className:"w-4 h-4"}),"High Discrepancy: ",U>0?"+":"","",U.toFixed(2)]}):o.jsxs("span",{className:"text-yellow-700",children:["Small Offset: ",U>0?"+":"","",U.toFixed(2)]})}),G&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:" Exceeds 500 limit - Cluster head approval required"}),O?.approvedBy&&o.jsxs("p",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[o.jsx(ds,{className:"w-3 h-3"}),"Approved by: ",O.approvedBy]})]})]})]}),t.isManager&&o.jsx("button",{type:"submit",disabled:H||G&&!O?.approvedBy,className:"w-full px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Update Sales Data":"Save Sales Data"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-[#B8E6B8] to-[#A3D9A5] rounded-xl shadow-lg p-6 text-gray-800",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Gr,{className:"w-6 h-6"}),o.jsx("p",{className:"text-sm uppercase tracking-wide",children:"Total Sales"})]}),o.jsxs("p",{className:"text-4xl",children:["",(V+re).toLocaleString()]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700/20 space-y-1 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Offline Sales:"}),o.jsxs("span",{children:["",V.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Online Sales:"}),o.jsxs("span",{children:["",re.toLocaleString()]})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-[#A8D8EA] to-[#93C5FD] rounded-xl shadow-lg p-6 text-gray-800",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ri,{className:"w-6 h-6"}),o.jsx("p",{className:"text-sm uppercase tracking-wide",children:"Payment Breakdown"})]}),o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Cash Received:"}),o.jsxs("span",{className:"text-2xl",children:["",F.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Paytm Received:"}),o.jsxs("span",{className:"text-2xl",children:["",ee.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-700/20",children:[o.jsx("span",{children:"Online Sales:"}),o.jsxs("span",{className:"text-xl",children:["",re.toLocaleString()]})]})]})]}),!k&&o.jsxs("div",{className:"bg-gradient-to-br from-[#D8B5FF] to-[#C7A7FF] rounded-xl shadow-lg p-6 text-gray-800",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ri,{className:"w-6 h-6"}),o.jsx("p",{className:"text-sm uppercase tracking-wide",children:"Cash Status"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",children:"Expected Cash"}),o.jsxs("p",{className:"text-3xl",children:["",B.toFixed(2)]})]}),n.actualCashInHand&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"pt-3 border-t border-gray-700/20",children:[o.jsx("p",{className:"text-sm",children:"Actual Cash"}),o.jsxs("p",{className:"text-3xl",children:["",(parseFloat(n.actualCashInHand)||0).toFixed(2)]})]}),Math.abs(U)>0&&o.jsxs("div",{className:"pt-3 border-t border-gray-700/20",children:[o.jsx("p",{className:"text-sm",children:"Difference"}),o.jsxs("p",{className:`text-2xl ${U>0?"text-green-700":"text-red-700"}`,children:[U>0?"+":"","",U.toFixed(2)]})]})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-[#C7A7FF] to-[#B794F4] rounded-xl shadow-lg p-6 text-gray-800",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(iR,{className:"w-6 h-6"}),o.jsx("p",{className:"text-sm uppercase tracking-wide",children:"Online Cash in Hand (Paytm)"})]}),o.jsxs("p",{className:"text-4xl mb-4",children:["",Y.toLocaleString()]}),o.jsxs("div",{className:"space-y-2 text-sm bg-gray-800/10 rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between text-green-700",children:[o.jsx("span",{children:"Total Paytm Received:"}),o.jsxs("span",{children:["",t.salesData.filter(K=>K.date<=e).reduce((K,J)=>K+(J.paytmAmount??0),0).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-red-700",children:[o.jsx("span",{children:"- Total Used:"}),o.jsxs("span",{children:["",t.salesData.filter(K=>K.date<=e).reduce((K,J)=>K+(J.usedOnlineMoney??0),0).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-700 pt-2 border-t border-gray-700/20",children:[o.jsx("span",{children:"Used Today:"}),o.jsxs("span",{children:["",(parseFloat(n.usedOnlineMoney)||0).toLocaleString()]})]})]})]})]})]})]})}function rI({onClose:t,employees:e}){const[r,n]=R.useState([]),[a,s]=R.useState({}),[l,u]=R.useState(!1),[d,h]=R.useState(null);R.useEffect(()=>{const v=e.filter(w=>w.type==="fulltime"||w.type==="Permanent");n(v);const j={};v.forEach(w=>{const x=w.email||`${w.name.toLowerCase().replace(/\s+/g,".")}@bhandar.com`,_=`Bhandar@${w.employeeId}`;j[w.id]={email:x,password:_}}),s(j)},[e]);const m=(v,j,w)=>{s(x=>({...x,[v]:{...x[v],[j]:w}}))},p=async()=>{u(!0),h(null);try{if(r.length===0){alert("No permanent employees found. Please add permanent employees first."),u(!1);return}const v=r.map(x=>({name:x.name,email:a[x.id].email,password:a[x.id].password,employeeId:x.employeeId}));console.log("Creating accounts for employees:",v);const j=await fetch("https://xssxnhrzxvtejavoqgwg.supabase.co/functions/v1/make-server-c2dd9b9d/auth/create-employee-accounts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify({employees:v})}),w=await j.json();if(console.log("Server response:",w),!j.ok)throw console.error("Server error:",w),new Error(w.error||`Failed to create accounts (Status: ${j.status})`);h({created:w.created,updated:w.updated,failed:w.failed,details:[...w.results,...w.errors]})}catch(v){console.error("Error creating employee accounts:",v),alert(`Failed to create employee accounts: ${v instanceof Error?v.message:String(v)}`)}finally{u(!1)}},g=()=>{const v=r.map(N=>({"Employee ID":N.employeeId,Name:N.name,Email:a[N.id].email,Password:a[N.id].password,"Monthly Salary":N.monthlySalary||0})),j=[Object.keys(v[0]).join(","),...v.map(N=>Object.values(N).join(","))].join(`
`),w=new Blob([j],{type:"text/csv"}),x=window.URL.createObjectURL(w),_=document.createElement("a");_.href=x,_.download="employee-credentials.csv",_.click(),window.URL.revokeObjectURL(x)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:o.jsx(ka,{className:"w-5 h-5 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl",children:"Create Employee Login Accounts"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Set up login credentials for ",r.length," permanent employees"]})]})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(pn,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:d?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[o.jsx(Vv,{className:"w-5 h-5"}),o.jsx("span",{children:"Created"})]}),o.jsx("div",{className:"text-2xl mt-2",children:d.created})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[o.jsx(Vv,{className:"w-5 h-5"}),o.jsx("span",{children:"Updated"})]}),o.jsx("div",{className:"text-2xl mt-2",children:d.updated})]}),o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[o.jsx(Cr,{className:"w-5 h-5"}),o.jsx("span",{children:"Failed"})]}),o.jsx("div",{className:"text-2xl mt-2",children:d.failed})]})]}),o.jsx("div",{className:"space-y-2",children:d.details.map((v,j)=>o.jsx("div",{className:`p-3 rounded-lg border ${v.status==="created"?"bg-green-50 border-green-200":v.status==="updated"?"bg-blue-50 border-blue-200":"bg-red-50 border-red-200"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm",children:v.email}),o.jsxs("span",{className:"text-sm",children:[v.status==="created"&&o.jsx("span",{className:"text-green-700",children:" Created"}),v.status==="updated"&&o.jsx("span",{className:"text-blue-700",children:" Updated"}),v.error&&o.jsxs("span",{className:"text-red-700",children:[" ",v.error]})]})]})},j))}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-yellow-800",children:" All accounts have been processed. Download the credentials CSV to share login information with employees."})})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:["Review and modify the email addresses and passwords below before creating accounts. Default passwords follow the pattern: Bhandar@","{EmployeeID}"]})}),o.jsx("div",{className:"space-y-3",children:r.map(v=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:v.name}),o.jsxs("div",{className:"text-xs text-gray-600",children:["ID: ",v.employeeId]})]}),v.email&&o.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"Has Account"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-gray-600 mb-1 flex items-center gap-1",children:[o.jsx(c2,{className:"w-3 h-3"}),"Email Address"]}),o.jsx("input",{type:"email",value:a[v.id]?.email||"",onChange:j=>m(v.id,"email",j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"employee@bhandar.com"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-gray-600 mb-1 flex items-center gap-1",children:[o.jsx(FD,{className:"w-3 h-3"}),"Password"]}),o.jsx("input",{type:"text",value:a[v.id]?.password||"",onChange:j=>m(v.id,"password",j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono",placeholder:"Password123"})]})]})]},v.id))})]})}),o.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:g,className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"Download Credentials CSV"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"}),!d&&o.jsx("button",{onClick:p,disabled:l,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating Accounts..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ka,{className:"w-4 h-4"}),"Create All Accounts"]})})]})]})})]})})}function vX({userRole:t,selectedDate:e,userEmployeeId:r,userName:n}){const[a,s]=R.useState("contract"),[l,u]=R.useState([]),[d,h]=R.useState([]),[m,p]=R.useState(!0),[g,v]=R.useState(!1),[j,w]=R.useState("current"),[x,_]=R.useState(""),[N,E]=R.useState(""),O=(()=>{const ie=new Date,ve=new Date(ie.getFullYear(),ie.getMonth(),1),qe=new Date(ie.getFullYear(),ie.getMonth()+1,0);return{start:ve.toISOString().split("T")[0],end:qe.toISOString().split("T")[0],monthName:ie.toLocaleDateString("en-US",{month:"long",year:"numeric"})}})(),P=j==="current"?d.filter(ie=>ie.date>=O.start&&ie.date<=O.end):!x||!N?[]:d.filter(ie=>ie.date>=x&&ie.date<=N),[D,$]=R.useState(!1),[I,C]=R.useState({name:"",phone:"",type:"contract",role:"",dailyRate:""}),[B,U]=R.useState(!1),[G,Y]=R.useState(null),[Q,re]=R.useState(!1),[V,ee]=R.useState({employeeIds:[],amount:"",date:e}),[F,M]=R.useState(!1),[H,oe]=R.useState(null),[K,J]=R.useState(!1);R.useEffect(()=>{ne()},[]);const ne=async()=>{p(!0);try{console.log("Loading employees and payouts from server...");const[ie,ve]=await Promise.all([Ff(),Ss()]);console.log("Loaded employees:",ie),console.log("Loaded payouts:",ve),u(ie||[]),h(ve||[])}catch(ie){console.error("Error loading payroll data:",ie)}finally{p(!1)}},pe=()=>{const ie=I.type==="contract"?"CT":"FT",ve=Date.now().toString().slice(-6);return`${ie}${ve}`},xe=async()=>{if(!I.name||!I.phone){alert("Please fill in all required fields");return}if(t==="manager"&&I.type==="fulltime"){alert("Managers can only add contract employees. Please contact your cluster head to add permanent employees.");return}const ie={id:crypto.randomUUID(),employeeId:pe(),name:I.name,phone:I.phone,type:I.type,role:I.role||void 0,dailyRate:I.dailyRate?parseFloat(I.dailyRate):void 0,createdAt:new Date().toISOString()};try{console.log("Adding employee:",ie);const ve=await QY(ie);console.log("Employee added, result:",ve),await ne(),$(!1),C({name:"",phone:"",type:"contract",role:"",dailyRate:""}),alert("Employee added successfully!")}catch(ve){console.error("Error adding employee:",ve),alert("Failed to add employee")}},le=async()=>{if(V.employeeIds.length===0||!V.amount){alert("Please select employees and enter amount");return}if(!g)try{v(!0);const ie=V.employeeIds.map(qe=>{const ye=l.find(ze=>ze.id===qe);return{id:crypto.randomUUID(),employeeId:qe,employeeName:ye?.name||"",amount:parseFloat(V.amount),date:V.date,createdAt:new Date().toISOString()}});console.log("Adding payouts:",ie);const ve=await eI(ie);console.log("Payouts added successfully:",ve),h([...d,...ie]),re(!1),ee({employeeIds:[],amount:"",date:e}),alert("Payout added successfully!")}catch(ie){console.error("Error adding payout:",ie);const ve=ie instanceof Error?ie.message:"Unknown error occurred";alert(`Failed to add payout: ${ve}`)}finally{v(!1)}},me=async()=>{if(G)try{console.log("PayrollManagement: Updating employee:",G),await ZY(G.id,G),u(l.map(ie=>ie.id===G.id?G:ie)),U(!1),Y(null),alert("Employee updated successfully!")}catch(ie){console.error("PayrollManagement: Error updating employee:",ie);const ve=ie instanceof Error?ie.message:"Unknown error";alert(`Failed to update employee: ${ve}`)}},_e=async ie=>{if(confirm("Are you sure you want to delete this employee? This action cannot be undone."))try{await eX(ie),u(l.filter(ve=>ve.id!==ie)),h(d.filter(ve=>ve.employeeId!==ie)),alert("Employee deleted successfully!")}catch(ve){console.error("Error deleting employee:",ve),alert("Failed to delete employee")}},se=async()=>{if(H)try{await tX(H.id,{amount:H.amount,date:H.date}),h(d.map(ie=>ie.id===H.id?H:ie)),M(!1),oe(null),alert("Payout updated successfully!")}catch(ie){console.error("Error updating payout:",ie),alert("Failed to update payout")}},We=async ie=>{if(confirm("Are you sure you want to delete this payout?"))try{await kx(ie),h(d.filter(ve=>ve.id!==ie)),alert("Payout deleted successfully!")}catch(ve){console.error("Error deleting payout:",ve),alert("Failed to delete payout")}},Fe=()=>{const ie=l.filter(Le=>Le.type==="contract"),ve=P.filter(Le=>l.find(tr=>tr.id===Le.employeeId)?.type==="contract"),qe=ve.reduce((Le,ft)=>Le+ft.amount,0),ye=ie.map(Le=>{const ft=ve.filter(xt=>xt.employeeId===Le.id),tr=new Set(ft.map(xt=>xt.date));return{...Le,daysWorked:tr.size,totalPay:ft.reduce((xt,gn)=>xt+gn.amount,0)}}),ze=ye.reduce((Le,ft)=>Le+ft.daysWorked,0);return{totalPayout:qe,employeeWorkDays:ye,totalDaysWorked:ze}},dt=()=>{const ie=l.filter(ze=>ze.type==="fulltime"),ve=P.filter(ze=>l.find(ft=>ft.id===ze.employeeId)?.type==="fulltime"),qe=ve.reduce((ze,Le)=>ze+Le.amount,0),ye=ie.map(ze=>{const Le=ve.filter(ft=>ft.employeeId===ze.id);return{...ze,totalPaid:Le.reduce((ft,tr)=>ft+tr.amount,0),lastPayout:Le.length>0?Le[Le.length-1]:null}});return{totalPayout:qe,employeePayouts:ye}},tt=ie=>ie.split(" ").map(ve=>ve[0]).join("").toUpperCase().slice(0,2),mt=ie=>{const ve=["bg-blue-500","bg-purple-500","bg-green-500","bg-orange-500","bg-pink-500","bg-indigo-500"];return ve[ie%ve.length]};Fe(),dt();const vr=a==="contract"?l.filter(ie=>ie.type==="contract"):l.filter(ie=>ie.type==="fulltime"),Rr=()=>a==="contract"&&t==="manager"||a==="permanent"&&t==="cluster_head";return m?o.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-500",children:"Loading payroll data..."})}):o.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Payroll Management"}),o.jsx("p",{className:"text-gray-600",children:"Manage and track employee payments"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex gap-8 px-6",children:[t==="manager"&&r&&o.jsx("button",{onClick:()=>s("my-payouts"),className:`py-4 border-b-2 transition-colors ${a==="my-payouts"?"border-green-500 text-green-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"My Payouts"}),o.jsx("button",{onClick:()=>s("contract"),className:`py-4 border-b-2 transition-colors ${a==="contract"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Contract Employees"}),t==="cluster_head"&&o.jsx("button",{onClick:()=>s("permanent"),className:`py-4 border-b-2 transition-colors ${a==="permanent"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Permanent Employees"})]})}),o.jsxs("div",{className:"p-6 border-b border-gray-200 space-y-4",children:[o.jsxs("div",{className:"flex gap-4 flex-wrap",children:[a!=="permanent"&&o.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(yl,{className:"w-4 h-4"}),"Add Employee"]}),Rr()&&o.jsxs("button",{onClick:()=>re(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[o.jsx(Gr,{className:"w-4 h-4"}),"Add Payout"]})]}),o.jsx("div",{className:"bg-gradient-to-br from-[#E8D5F2] to-[#D4B5F0] rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lr,{className:"w-5 h-5 text-purple-700"}),o.jsx("span",{className:"text-gray-900",children:"View Period:"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>w("current"),className:`px-4 py-2 rounded-lg transition-colors ${j==="current"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-purple-50"}`,children:"Current Month"}),o.jsx("button",{onClick:()=>w("custom"),className:`px-4 py-2 rounded-lg transition-colors ${j==="custom"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-purple-50"}`,children:"Custom Range"})]}),j==="current"?o.jsx("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg",children:o.jsx("span",{className:"text-gray-900 font-medium",children:O.monthName})}):o.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-gray-700 text-sm font-medium",children:"From:"}),o.jsx("input",{type:"date",value:x,onChange:ie=>_(ie.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-gray-700 text-sm font-medium",children:"To:"}),o.jsx("input",{type:"date",value:N,onChange:ie=>E(ie.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]})]})})]}),a==="contract"&&(()=>{const ie=l.filter(ye=>ye.type==="contract"),ve=P.filter(ye=>l.find(Le=>Le.id===ye.employeeId)?.type==="contract");console.log("Rendering contract tab"),console.log("Total employees:",l.length),console.log("Contract employees:",ie.length,ie),console.log("Contract payouts:",ve.length,ve);const qe=ve.reduce((ye,ze)=>ye+ze.amount,0);return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl text-gray-900 mb-1",children:"Contract Employees"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Daily rate workers"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Employees"}),o.jsx("div",{className:"text-2xl text-blue-600",children:ie.length})]})]}),ie.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",children:[o.jsx(kt,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),o.jsx("p",{children:"No contract employees yet"}),o.jsx("p",{className:"text-sm mt-2",children:'Click "Add Employee" to get started'})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ie.map((ye,ze)=>{const Le=ve.filter(xt=>xt.employeeId===ye.id),ft=Le.reduce((xt,gn)=>xt+gn.amount,0),tr=new Set(Le.map(xt=>xt.date)).size;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-12 h-12 rounded-full ${mt(ze)} flex items-center justify-center text-white`,children:tt(ye.name)}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900",children:ye.name}),o.jsx("div",{className:"text-xs text-gray-500",children:ye.employeeId})]})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>{Y(ye),U(!0)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit employee",children:o.jsx(oi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>_e(ye.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete employee",children:o.jsx(qn,{className:"w-4 h-4"})})]})]}),ye.role&&o.jsx("div",{className:"mb-2",children:o.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:ye.role})}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Phone:"}),o.jsx("span",{className:"text-gray-900",children:ye.phone})]}),ye.dailyRate&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Daily Rate:"}),o.jsxs("span",{className:"text-green-600",children:["",ye.dailyRate]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Days Worked:"}),o.jsx("span",{className:"text-gray-900",children:tr})]}),o.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[o.jsx("span",{className:"text-gray-600",children:"Total Paid:"}),o.jsxs("span",{className:"text-gray-900",children:["",ft.toLocaleString()]})]})]})]},ye.id)})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl text-gray-900 mb-1",children:"Recent Payouts"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Individual payout records for ",j==="current"?O.monthName:"selected period"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Payout"}),o.jsxs("div",{className:"text-2xl text-green-600",children:["",qe.toLocaleString()]})]})]}),ve.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",children:[o.jsx(Gr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),o.jsx("p",{children:"No payouts recorded for this period"}),o.jsx("p",{className:"text-sm mt-2",children:"Add payouts to track contract employee payments"})]}):o.jsx("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[o.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee Name"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee ID"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Date"}),o.jsx("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:"Amount"}),o.jsx("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:"Actions"})]})}),o.jsx("tbody",{children:ve.sort((ye,ze)=>new Date(ze.date).getTime()-new Date(ye.date).getTime()).map((ye,ze)=>{const Le=l.find(ft=>ft.id===ye.employeeId);return o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full ${mt(ze)} flex items-center justify-center text-white text-sm`,children:tt(ye.employeeName)}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900",children:ye.employeeName}),Le?.role&&o.jsx("div",{className:"text-xs text-gray-500",children:Le.role})]})]})}),o.jsx("td",{className:"py-4 px-4",children:o.jsx("span",{className:"text-sm text-gray-600",children:Le?.employeeId||"-"})}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lr,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-gray-900",children:new Date(ye.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})}),o.jsx("td",{className:"py-4 px-4 text-right",children:o.jsxs("span",{className:"text-gray-900",children:["",ye.amount.toLocaleString()]})}),o.jsx("td",{className:"py-4 px-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>{oe(ye),M(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit payout",children:o.jsx(oi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>We(ye.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete payout",children:o.jsx(qn,{className:"w-4 h-4"})})]})})]},ye.id)})})]})})]})]})})(),a==="my-payouts"&&r&&(()=>{const ie=P.filter(qe=>qe.employeeId===r),ve=ie.reduce((qe,ye)=>qe+ye.amount,0);return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-xl text-gray-900 mb-1",children:"My Payout History"}),o.jsx("p",{className:"text-sm text-gray-600",children:"View your salary and compensation records"})]}),o.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-6 mb-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Received"}),o.jsx("p",{className:"text-sm text-gray-500",children:j==="current"?`for ${O.monthName}`:`from ${x} to ${N}`})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-3xl text-green-600",children:["",ve.toLocaleString()]}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[ie.length," payment",ie.length!==1?"s":""]})]})]})}),ie.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",children:[o.jsx(Gr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),o.jsx("p",{children:"No payouts found for the selected period"})]}):o.jsx("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[o.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Date"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee ID"}),o.jsx("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:"Amount"})]})}),o.jsx("tbody",{children:ie.sort((qe,ye)=>new Date(ye.date).getTime()-new Date(qe.date).getTime()).map(qe=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[o.jsx("td",{className:"py-4 px-4",children:o.jsx("span",{className:"text-sm text-gray-900",children:new Date(qe.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})}),o.jsx("td",{className:"py-4 px-4",children:o.jsx("span",{className:"text-sm text-gray-600",children:r})}),o.jsx("td",{className:"py-4 px-4 text-right",children:o.jsxs("span",{className:"text-green-600",children:["",qe.amount.toLocaleString()]})})]},qe.id))})]})})]})})(),a==="permanent"&&(()=>{const ie=l.filter(ye=>ye.type==="fulltime"),ve=P.filter(ye=>l.find(Le=>Le.id===ye.employeeId)?.type==="fulltime"),qe=ve.reduce((ye,ze)=>ye+ze.amount,0);return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl text-gray-900 mb-1",children:"Permanent Employees"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Full-time employees - Monthly/periodic payouts"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Employees"}),o.jsx("div",{className:"text-2xl text-blue-600",children:ie.length})]})]}),ie.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",children:[o.jsx(kt,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),o.jsx("p",{children:"No permanent employees yet"}),o.jsx("p",{className:"text-sm mt-2",children:'Click "Add Employee" to get started'})]}):o.jsx("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[o.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee Name"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee ID"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Role"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Phone"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Last Payout"}),o.jsxs("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:["Total Paid (",j==="current"?"This Month":"Period",")"]}),t==="cluster_head"&&o.jsx("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:"Actions"})]})}),o.jsx("tbody",{children:ie.map((ye,ze)=>{const Le=ve.filter(xt=>xt.employeeId===ye.id),ft=Le.reduce((xt,gn)=>xt+gn.amount,0),tr=Le.length>0?Le.sort((xt,gn)=>new Date(gn.date).getTime()-new Date(xt.date).getTime())[0]:null;return o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full ${mt(ze)} flex items-center justify-center text-white text-sm`,children:tt(ye.name)}),o.jsx("div",{className:"text-gray-900",children:ye.name})]})}),o.jsx("td",{className:"py-4 px-4",children:o.jsx("span",{className:"text-sm text-gray-600",children:ye.employeeId})}),o.jsx("td",{className:"py-4 px-4",children:ye.role&&o.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:ye.role})}),o.jsx("td",{className:"py-4 px-4",children:o.jsx("span",{className:"text-sm text-gray-600",children:ye.phone})}),o.jsx("td",{className:"py-4 px-4",children:tr?o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900",children:new Date(tr.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),o.jsxs("div",{className:"text-xs text-gray-500",children:["",tr.amount.toLocaleString()]})]}):o.jsx("span",{className:"text-gray-400 text-sm",children:"No payouts"})}),o.jsx("td",{className:"py-4 px-4 text-right",children:o.jsxs("span",{className:"text-gray-900",children:["",ft.toLocaleString()]})}),t==="cluster_head"&&o.jsx("td",{className:"py-4 px-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>{Y(ye),U(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit employee",children:o.jsx(oi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>_e(ye.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete employee",children:o.jsx(qn,{className:"w-4 h-4"})})]})})]},ye.id)})})]})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl text-gray-900 mb-1",children:"Payout History"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Salary payments for ",j==="current"?O.monthName:"selected period"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Payout"}),o.jsxs("div",{className:"text-2xl text-green-600",children:["",qe.toLocaleString()]})]})]}),ve.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",children:[o.jsx(Gr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),o.jsx("p",{children:"No payouts recorded for this period"}),o.jsx("p",{className:"text-sm mt-2",children:"Add payouts to track permanent employee payments"})]}):o.jsx("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[o.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee Name"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee ID"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Date"}),o.jsx("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:"Amount"}),t==="cluster_head"&&o.jsx("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:"Actions"})]})}),o.jsx("tbody",{children:ve.sort((ye,ze)=>new Date(ze.date).getTime()-new Date(ye.date).getTime()).map((ye,ze)=>{const Le=l.find(ft=>ft.id===ye.employeeId);return o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full ${mt(ze)} flex items-center justify-center text-white text-sm`,children:tt(ye.employeeName)}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900",children:ye.employeeName}),Le?.role&&o.jsx("div",{className:"text-xs text-gray-500",children:Le.role})]})]})}),o.jsx("td",{className:"py-4 px-4",children:o.jsx("span",{className:"text-sm text-gray-600",children:Le?.employeeId||"-"})}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lr,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-gray-900",children:new Date(ye.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})}),o.jsx("td",{className:"py-4 px-4 text-right",children:o.jsxs("span",{className:"text-gray-900",children:["",ye.amount.toLocaleString()]})}),t==="cluster_head"&&o.jsx("td",{className:"py-4 px-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>{oe(ye),M(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit payout",children:o.jsx(oi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>We(ye.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete payout",children:o.jsx(qn,{className:"w-4 h-4"})})]})})]},ye.id)})})]})})]})]})})()]})]}),D&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl text-gray-900",children:"Add New Employee"}),o.jsx("button",{onClick:()=>$(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(pn,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Employee Type"}),o.jsxs("select",{value:I.type,onChange:ie=>C({...I,type:ie.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",disabled:t==="manager",children:[o.jsx("option",{value:"contract",children:"Contract (Daily Rate)"}),t==="cluster_head"&&o.jsx("option",{value:"fulltime",children:"Permanent (Full-time)"})]}),t==="manager"&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Managers can only add contract employees"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Name *"}),o.jsx("input",{type:"text",value:I.name,onChange:ie=>C({...I,name:ie.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Enter employee name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Phone *"}),o.jsx("input",{type:"tel",value:I.phone,onChange:ie=>C({...I,phone:ie.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Enter phone number"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Role (Optional)"}),o.jsx("input",{type:"text",value:I.role,onChange:ie=>C({...I,role:ie.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., Chef, Delivery Boy"})]}),I.type==="contract"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Daily Rate (Optional)"}),o.jsx("input",{type:"number",value:I.dailyRate,onChange:ie=>C({...I,dailyRate:ie.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Enter daily rate"})]})]}),o.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[o.jsx("button",{onClick:()=>$(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:xe,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Employee"})]})]})}),B&&G&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl text-gray-900",children:"Edit Employee"}),o.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(pn,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Employee ID"}),o.jsx("input",{type:"text",value:G.employeeId,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Name *"}),o.jsx("input",{type:"text",value:G.name,onChange:ie=>Y({...G,name:ie.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Phone *"}),o.jsx("input",{type:"tel",value:G.phone,onChange:ie=>Y({...G,phone:ie.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Role (Optional)"}),o.jsx("input",{type:"text",value:G.role||"",onChange:ie=>Y({...G,role:ie.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),G.type==="contract"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Daily Rate (Optional)"}),o.jsx("input",{type:"number",value:G.dailyRate||"",onChange:ie=>Y({...G,dailyRate:parseFloat(ie.target.value)||void 0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),o.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[o.jsx("button",{onClick:()=>U(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:me,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Update Employee"})]})]})}),Q&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl text-gray-900",children:"Add Payout"}),o.jsx("button",{onClick:()=>re(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(pn,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Select Employees *"}),o.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto space-y-2",children:vr.map(ie=>o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[o.jsx("input",{type:"checkbox",checked:V.employeeIds.includes(ie.id),onChange:ve=>{ve.target.checked?ee({...V,employeeIds:[...V.employeeIds,ie.id]}):ee({...V,employeeIds:V.employeeIds.filter(qe=>qe!==ie.id)})},className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm text-gray-900",children:[ie.name," (",ie.employeeId,")"]})]},ie.id))}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[V.employeeIds.length," employee(s) selected"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Amount () *"}),o.jsx("input",{type:"number",step:"0.01",value:V.amount,onChange:ie=>ee({...V,amount:ie.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Enter amount"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Date *"}),o.jsx("input",{type:"date",value:V.date,onChange:ie=>ee({...V,date:ie.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),o.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[o.jsx("button",{onClick:()=>re(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:le,disabled:g,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:g?"Adding...":"Add Payout"})]})]})}),F&&H&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl text-gray-900",children:"Edit Payout"}),o.jsx("button",{onClick:()=>M(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(pn,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Employee"}),o.jsx("input",{type:"text",value:H.employeeName,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Amount () *"}),o.jsx("input",{type:"number",step:"0.01",value:H.amount,onChange:ie=>oe({...H,amount:parseFloat(ie.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Date *"}),o.jsx("input",{type:"date",value:H.date,onChange:ie=>oe({...H,date:ie.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),o.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[o.jsx("button",{onClick:()=>M(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:se,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Update Payout"})]})]})}),K&&o.jsx(rI,{onClose:()=>J(!1),employees:l})]})}function a2({context:t}){const[e,r]=R.useState("profit"),[n,a]=R.useState("monthly"),[s,l]=R.useState({from:"2025-03-01",to:"2025-12-25"}),u=t.salesData,d=t.inventory,h=t.overheads,p=(()=>{const _=u.reduce((I,C)=>I+(C.paytmAmount||0)+(C.cashAmount||0)+(C.onlineSales||0),0),N=u.reduce((I,C)=>I+(C.onlineSales||0),0),E=u.reduce((I,C)=>I+(C.paytmAmount||0)+(C.cashAmount||0),0),A=d.reduce((I,C)=>I+(C.totalCost||0),0),O=h.reduce((I,C)=>I+(C.amount||0),0),k=u.reduce((I,C)=>I+(C.employeeSalary||0),0),P=A+O+k,D=_-P,$=_>0?D/_*100:0;return{totalRevenue:_,onlineRevenue:N,offlineRevenue:E,totalExpenses:P,inventoryExpenses:A,overheadExpenses:O,salaryExpenses:k,netProfit:D,profitMargin:$}})(),v=(()=>{const _={};return u.forEach(N=>{const A=new Date(N.date).toLocaleString("default",{month:"short"});_[A]||(_[A]={month:A,revenue:0,expenses:0,profit:0});const O=(N.paytmAmount||0)+(N.cashAmount||0)+(N.onlineSales||0);_[A].revenue+=O}),d.forEach(N=>{const A=new Date(N.date).toLocaleString("default",{month:"short"});_[A]||(_[A]={month:A,revenue:0,expenses:0,profit:0}),_[A].expenses+=N.totalCost||0}),h.forEach(N=>{const A=new Date(N.date).toLocaleString("default",{month:"short"});_[A]||(_[A]={month:A,revenue:0,expenses:0,profit:0}),_[A].expenses+=N.amount||0}),Object.keys(_).forEach(N=>{_[N].profit=_[N].revenue-_[N].expenses}),Object.values(_)})(),w=(()=>{const _={};return d.forEach(E=>{const A=E.category||"Other";_[A]||(_[A]=0),_[A]+=E.totalCost||0}),_.Overheads=p.overheadExpenses,_.Salaries=p.salaryExpenses,Object.keys(_).map(E=>({name:E,value:_[E],percentage:(_[E]/p.totalExpenses*100).toFixed(1)})).sort((E,A)=>A.value-E.value)})(),x=["#ec4899","#a78bfa","#fbbf24","#34d399","#60a5fa","#f87171","#fb923c"];return o.jsx("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-4 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl text-gray-900 mb-1 sm:mb-2",children:"Analytics Dashboard"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Track revenue, expenses, and profitability"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-4 sm:mb-6 p-1 flex gap-1 sm:gap-2 overflow-x-auto",children:[o.jsx("button",{onClick:()=>r("profit"),className:`px-3 sm:px-6 py-2 sm:py-3 rounded-lg transition-colors whitespace-nowrap text-sm sm:text-base ${e==="profit"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Profit Analysis"}),o.jsx("button",{onClick:()=>r("expense"),className:`px-3 sm:px-6 py-2 sm:py-3 rounded-lg transition-colors whitespace-nowrap text-sm sm:text-base ${e==="expense"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Expense Breakdown"}),o.jsx("button",{onClick:()=>r("sales"),className:`px-3 sm:px-6 py-2 sm:py-3 rounded-lg transition-colors whitespace-nowrap text-sm sm:text-base ${e==="sales"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Sales Analytics"})]}),e==="profit"&&o.jsx("div",{children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 sm:p-6 mb-4 sm:mb-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg sm:text-xl text-gray-900 mb-1",children:"Profit Analysis"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Revenue, expenses, and profit breakdown"})]}),o.jsx("div",{className:"flex gap-1 sm:gap-2 overflow-x-auto pb-2 sm:pb-0",children:["daily","weekly","monthly","yearly","custom"].map(_=>o.jsx("button",{onClick:()=>a(_),className:`px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm transition-colors whitespace-nowrap ${n===_?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))})]}),n==="custom"&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 mb-4 sm:mb-6 bg-gray-50 p-3 sm:p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lr,{className:"w-4 h-4 text-gray-500"}),o.jsx("label",{className:"text-xs sm:text-sm text-gray-600",children:"From:"}),o.jsx("input",{type:"date",value:s.from,onChange:_=>l({...s,from:_.target.value}),className:"flex-1 px-2 sm:px-3 py-1 sm:py-1.5 border border-gray-300 rounded-lg text-xs sm:text-sm"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-xs sm:text-sm text-gray-600",children:"To:"}),o.jsx("input",{type:"date",value:s.to,onChange:_=>l({...s,to:_.target.value}),className:"flex-1 px-2 sm:px-3 py-1 sm:py-1.5 border border-gray-300 rounded-lg text-xs sm:text-sm"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"bg-blue-100 rounded-lg p-3 sm:p-4",children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-700 mb-1",children:"Total Revenue"}),o.jsxs("div",{className:"text-xl sm:text-2xl text-gray-900 mb-1",children:["",p.totalRevenue.toLocaleString()]}),o.jsx("div",{className:"text-xs text-gray-600",children:"Current period"})]}),o.jsxs("div",{className:"bg-red-100 rounded-lg p-3 sm:p-4",children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-700 mb-1",children:"Total Expenses"}),o.jsxs("div",{className:"text-xl sm:text-2xl text-gray-900 mb-1",children:["",p.totalExpenses.toLocaleString()]}),o.jsx("div",{className:"text-xs text-gray-600",children:"Current period"})]}),o.jsxs("div",{className:"bg-green-100 rounded-lg p-3 sm:p-4",children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-700 mb-1",children:"Net Profit"}),o.jsxs("div",{className:"text-xl sm:text-2xl text-gray-900 mb-1",children:["",p.netProfit.toLocaleString()]}),p.totalRevenue>0?o.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[o.jsx(mr,{className:"w-3 h-3"}),"Comparison available after multiple periods"]}):o.jsx("div",{className:"text-xs text-gray-600",children:"No data yet"})]}),o.jsxs("div",{className:"bg-yellow-100 rounded-lg p-3 sm:p-4",children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-700 mb-1",children:"Profit Margin"}),o.jsxs("div",{className:"text-xl sm:text-2xl text-gray-900 mb-1",children:[p.profitMargin.toFixed(1),"%"]}),o.jsx("div",{className:"text-xs text-gray-600",children:"Of total revenue"})]})]}),o.jsx("div",{className:"mb-6 sm:mb-8 overflow-x-auto",children:o.jsx("div",{className:"min-w-[300px]",children:o.jsx(bs,{width:"100%",height:250,children:o.jsxs(yx,{data:v,children:[o.jsx(Jl,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(Aa,{dataKey:"month",stroke:"#666",tick:{fontSize:12}}),o.jsx(Pa,{stroke:"#666",tick:{fontSize:12}}),o.jsx(ar,{contentStyle:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"},formatter:_=>`${_.toLocaleString()}`}),o.jsx(Vn,{wrapperStyle:{fontSize:"12px"}}),o.jsx(Vr,{dataKey:"revenue",fill:"#a5b4fc",name:"Revenue"}),o.jsx(Vr,{dataKey:"expenses",fill:"#fca5a5",name:"Expenses"}),o.jsx(Vr,{dataKey:"profit",fill:"#86efac",name:"Profit"})]})})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[o.jsx(Gr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"}),o.jsx("h3",{className:"text-base sm:text-lg text-gray-900",children:"Revenue Breakdown"})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center bg-green-50 p-3 sm:p-4 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Online Sales"}),o.jsxs("div",{className:"text-lg sm:text-xl text-gray-900",children:["",p.onlineRevenue.toLocaleString()]})]}),o.jsxs("div",{className:"text-xs sm:text-sm text-green-600",children:[(p.onlineRevenue/p.totalRevenue*100).toFixed(0),"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center bg-blue-50 p-3 sm:p-4 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Offline Sales"}),o.jsxs("div",{className:"text-lg sm:text-xl text-gray-900",children:["",p.offlineRevenue.toLocaleString()]})]}),o.jsxs("div",{className:"text-xs sm:text-sm text-blue-600",children:[(p.offlineRevenue/p.totalRevenue*100).toFixed(0),"%"]})]})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[o.jsx(mr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"}),o.jsx("h3",{className:"text-base sm:text-lg text-gray-900",children:"Key Metrics"})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"bg-purple-50 p-3 sm:p-4 rounded-lg",children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Break-even Point"}),o.jsxs("div",{className:"text-lg sm:text-xl text-gray-900 mb-1",children:["",p.totalExpenses.toLocaleString()]}),o.jsx("div",{className:"text-xs text-gray-600",children:"Monthly target"})]}),o.jsxs("div",{className:"bg-green-50 p-3 sm:p-4 rounded-lg",children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Revenue Growth"}),p.totalRevenue>0?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mr,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-lg sm:text-xl text-gray-600",children:"Track multiple periods"})]}):o.jsx("div",{className:"text-lg sm:text-xl text-gray-600",children:"No data"}),o.jsx("div",{className:"text-xs text-gray-600",children:"vs last period"})]})]})]})]})]})}),e==="expense"&&o.jsx("div",{children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg sm:text-xl text-gray-900 mb-1",children:"Expense Breakdown"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Monthly expenses by category"})]}),o.jsx("div",{className:"flex gap-1 sm:gap-2 overflow-x-auto pb-2 sm:pb-0",children:["Dec","Nov","Oct","Sep"].map(_=>o.jsx("button",{className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm transition-colors whitespace-nowrap ${_==="Nov"?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:_},_))})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 mb-6 sm:mb-8",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"min-w-[280px]",children:o.jsx(bs,{width:"100%",height:280,children:o.jsxs(IC,{children:[o.jsx(Pn,{data:w,cx:"50%",cy:"50%",labelLine:!1,label:({percentage:_})=>`${_}%`,outerRadius:90,fill:"#8884d8",dataKey:"value",children:w.map((_,N)=>o.jsx(uc,{fill:x[N%x.length]},`cell-${N}`))}),o.jsx(ar,{formatter:_=>`${_.toLocaleString()}`,contentStyle:{fontSize:"12px"}})]})})})}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"bg-purple-100 rounded-lg p-3 sm:p-4",children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-700 mb-1",children:"Total Expenses"}),o.jsxs("div",{className:"text-xl sm:text-2xl text-gray-900 mb-1",children:["",p.totalExpenses.toLocaleString()]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-red-600",children:[o.jsx(mr,{className:"w-3 h-3"}),"+4.2% vs last month"]})]}),o.jsxs("div",{className:"bg-yellow-100 rounded-lg p-3 sm:p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-700",children:"Fixed Costs"}),o.jsx("div",{className:"text-xs text-gray-600",children:"53.8%"})]}),o.jsxs("div",{className:"text-lg sm:text-xl text-gray-900 mb-1",children:["",p.salaryExpenses.toLocaleString()]}),o.jsx("div",{className:"text-xs text-orange-600",children:"+2.8%"})]}),o.jsxs("div",{className:"bg-pink-100 rounded-lg p-3 sm:p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-700",children:"Variable Costs"}),o.jsx("div",{className:"text-xs text-gray-600",children:"25.1%"})]}),o.jsxs("div",{className:"text-lg sm:text-xl text-gray-900 mb-1",children:["",p.inventoryExpenses.toLocaleString()]}),o.jsx("div",{className:"text-xs text-red-600",children:"+1.2%"})]}),o.jsxs("div",{className:"bg-blue-100 rounded-lg p-3 sm:p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-700",children:"Other Costs"}),o.jsx("div",{className:"text-xs text-gray-600",children:"21.0%"})]}),o.jsxs("div",{className:"text-lg sm:text-xl text-gray-900 mb-1",children:["",(p.totalExpenses*.21).toLocaleString()]}),o.jsx("div",{className:"text-xs text-green-600",children:"+11.6%"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-base sm:text-lg text-gray-900 mb-3 sm:mb-4",children:"Detailed Expenses - November 2024"}),o.jsx("div",{className:"space-y-2 sm:space-y-3",children:w.slice(0,6).map((_,N)=>o.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:x[N%x.length]+"33"},children:o.jsx(si,{className:"w-4 h-4 sm:w-5 sm:h-5",style:{color:x[N%x.length]}})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"text-sm sm:text-base text-gray-900 truncate",children:_.name}),o.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[_.percentage,"% of total"]})]})]}),o.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[o.jsxs("div",{className:"text-sm sm:text-base text-gray-900",children:["",_.value.toLocaleString()]}),o.jsx("div",{className:"text-xs text-red-600",children:"+2.1%"})]})]},N))})]})]})}),e==="sales"&&o.jsx("div",{children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg sm:text-xl text-gray-900 mb-1",children:"Sales Analytics"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Online vs Offline sales comparison"})]}),o.jsx("div",{className:"flex gap-1 sm:gap-2 overflow-x-auto pb-2 sm:pb-0",children:["Day","Week","Month","Custom"].map(_=>o.jsx("button",{className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm transition-colors whitespace-nowrap ${_==="Month"?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:_},_))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"bg-purple-100 rounded-lg p-3 sm:p-4",children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-700 mb-1",children:"Total Sales"}),o.jsxs("div",{className:"text-xl sm:text-2xl text-gray-900 mb-1",children:["",p.totalRevenue.toLocaleString()]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-purple-700",children:[o.jsx(mr,{className:"w-3 h-3"}),"12.5% vs last month"]})]}),o.jsxs("div",{className:"bg-green-100 rounded-lg p-3 sm:p-4",children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-700 mb-1",children:"Online Sales"}),o.jsxs("div",{className:"text-xl sm:text-2xl text-gray-900 mb-1",children:["",p.onlineRevenue.toLocaleString()]}),o.jsxs("div",{className:"text-xs text-gray-600",children:[(p.onlineRevenue/p.totalRevenue*100).toFixed(0),"% of total"]})]}),o.jsxs("div",{className:"bg-blue-100 rounded-lg p-3 sm:p-4",children:[o.jsx("div",{className:"text-xs sm:text-sm text-gray-700 mb-1",children:"Offline Sales"}),o.jsxs("div",{className:"text-xl sm:text-2xl text-gray-900 mb-1",children:["",p.offlineRevenue.toLocaleString()]}),o.jsxs("div",{className:"text-xs text-gray-600",children:[(p.offlineRevenue/p.totalRevenue*100).toFixed(0),"% of total"]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"min-w-[300px]",children:o.jsx(bs,{width:"100%",height:280,children:o.jsxs(yx,{data:v,children:[o.jsx(Jl,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(Aa,{dataKey:"month",stroke:"#666",tick:{fontSize:12}}),o.jsx(Pa,{stroke:"#666",tick:{fontSize:12}}),o.jsx(ar,{contentStyle:{backgroundColor:"#e5e7eb",border:"none",borderRadius:"8px",padding:"12px",fontSize:"12px"},formatter:_=>`${_.toLocaleString()}`,labelStyle:{color:"#111827",fontWeight:600,marginBottom:"4px"}}),o.jsx(Vn,{wrapperStyle:{fontSize:"12px"}}),o.jsx(Vr,{dataKey:"revenue",fill:"#86efac",name:"Online Sales"}),o.jsx(Vr,{dataKey:"expenses",fill:"#93c5fd",name:"Offline Sales"})]})})})})]})})]})})}function xX({userRole:t}){const[e,r]=R.useState("today"),[n,a]=R.useState(""),[s,l]=R.useState(""),[u,d]=R.useState("csv"),[h,m]=R.useState(!1),[p,g]=R.useState(!1),[v,j]=R.useState(null),[w,x]=R.useState(null),_=io();R.useEffect(()=>{(async()=>{const{data:{session:I}}=await _.auth.getSession();I?.access_token&&x(I.access_token)})()},[]);const N=()=>{const $=new Date;let I,C;switch(e){case"today":I=$.toISOString().split("T")[0],C=I;break;case"weekly":const B=new Date($);B.setDate($.getDate()-7),I=B.toISOString().split("T")[0],C=$.toISOString().split("T")[0];break;case"monthly":const U=new Date($.getFullYear(),$.getMonth(),1),G=new Date($.getFullYear(),$.getMonth()+1,0);I=U.toISOString().split("T")[0],C=G.toISOString().split("T")[0];break;case"custom":I=n,C=s;break}return{startDate:I,endDate:C}},E=async()=>{const{startDate:$,endDate:I}=N();if(!$||!I)return alert("Please select a valid date range"),null;if(!w)return alert("Not authenticated. Please log in again."),null;try{m(!0);const[C,B,U,G,Y]=await Promise.all([JC(w),QC(w),ZC(w),Ff(),Ss()]),Q=(J,ne="date")=>J.filter(pe=>{const xe=pe[ne];return xe>=$&&xe<=I}),re=Q(C),V=Q(B),ee=Q(U),F=Q(Y),M=re.reduce((J,ne)=>J+(ne.totalCost||0),0),H=V.reduce((J,ne)=>J+(ne.amount||0),0),oe=ee.reduce((J,ne)=>J+(ne.offlineSales||0)+(ne.onlineSales||0),0),K=F.reduce((J,ne)=>J+(ne.amount||0),0);return{startDate:$,endDate:I,inventory:re,overheads:V,sales:ee,employees:G,payouts:F,summary:{totalInventorySpend:M,totalOverheadSpend:H,totalSales:oe,totalPayouts:K}}}catch(C){return console.error("Error fetching export data:",C),alert("Failed to fetch data for export"),null}finally{m(!1)}},A=async()=>{const $=await E();$&&(j($),g(!0))},O=$=>{let I=`Data Export Report
`;return I+=`Period: ${$.startDate} to ${$.endDate}
`,I+=`Generated on: ${new Date().toLocaleString()}

`,I+=`SUMMARY
`,I+=`Total Inventory Spend,${$.summary.totalInventorySpend.toLocaleString()}
`,I+=`Total Overhead Spend,${$.summary.totalOverheadSpend.toLocaleString()}
`,I+=`Total Sales,${$.summary.totalSales.toLocaleString()}
`,I+=`Total Payouts,${$.summary.totalPayouts.toLocaleString()}
`,I+=`Net Profit/Loss,${($.summary.totalSales-$.summary.totalInventorySpend-$.summary.totalOverheadSpend-$.summary.totalPayouts).toLocaleString()}

`,I+=`
INVENTORY ITEMS
`,I+=`Date,Category,Item Name,Quantity,Unit,Price per Unit,Total Cost
`,$.inventory.forEach(C=>{I+=`${C.date},"${C.category}","${C.itemName}",${C.quantity},"${C.unit}",${C.costPerUnit},${C.totalCost}
`}),I+=`
OVERHEAD EXPENSES
`,I+=`Date,Category,Description,Amount
`,$.overheads.forEach(C=>{I+=`${C.date},"${C.category}","${C.description||"-"}",${C.amount}
`}),I+=`
SALES DATA
`,I+=`Date,Offline Sales (Paytm),Offline Sales (Cash),Online Sales,Employee Salaries,Cash in Hand,Discrepancy,Status
`,$.sales.forEach(C=>{I+=`${C.date},${C.offlinePaytm||0},${C.offlineCash||0},${C.onlineSales||0},${C.employeeSalaries||0},${C.cashInHand||0},${C.discrepancy||0},"${C.approvalRequired?"Pending Approval":"Approved"}"
`}),I+=`
EMPLOYEE PAYOUTS
`,I+=`Date,Employee Name,Employee ID,Amount
`,$.payouts.forEach(C=>{const B=$.employees.find(U=>U.id===C.employeeId);I+=`${C.date},"${C.employeeName}","${B?.employeeId||"-"}",${C.amount}
`}),I+=`
EMPLOYEE MASTER LIST
`,I+=`Employee ID,Name,Type,Role,Phone,Daily Rate
`,$.employees.forEach(C=>{I+=`"${C.employeeId}","${C.name}","${C.type}","${C.role||"-"}","${C.phone}",${C.dailyRate||"-"}
`}),I},k=$=>O($),P=$=>`
      <html>
        <head>
          <title>Data Export Report</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; }
            h1 { color: #333; border-bottom: 2px solid #4F46E5; padding-bottom: 10px; }
            h2 { color: #4F46E5; margin-top: 30px; }
            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #4F46E5; color: white; }
            .summary { background-color: #f0f9ff; padding: 15px; border-radius: 8px; margin: 20px 0; }
            .summary-item { display: flex; justify-content: space-between; padding: 5px 0; }
          </style>
        </head>
        <body>
          <h1>Data Export Report</h1>
          <p><strong>Period:</strong> ${$.startDate} to ${$.endDate}</p>
          <p><strong>Generated on:</strong> ${new Date().toLocaleString()}</p>
          
          <div class="summary">
            <h2>Summary</h2>
            <div class="summary-item"><span>Total Inventory Spend:</span><span>${$.summary.totalInventorySpend.toLocaleString()}</span></div>
            <div class="summary-item"><span>Total Overhead Spend:</span><span>${$.summary.totalOverheadSpend.toLocaleString()}</span></div>
            <div class="summary-item"><span>Total Sales:</span><span>${$.summary.totalSales.toLocaleString()}</span></div>
            <div class="summary-item"><span>Total Payouts:</span><span>${$.summary.totalPayouts.toLocaleString()}</span></div>
            <div class="summary-item"><strong>Net Profit/Loss:</strong><strong>${($.summary.totalSales-$.summary.totalInventorySpend-$.summary.totalOverheadSpend-$.summary.totalPayouts).toLocaleString()}</strong></div>
          </div>

          <h2>Inventory Items</h2>
          <table>
            <thead>
              <tr><th>Date</th><th>Category</th><th>Item Name</th><th>Quantity</th><th>Unit</th><th>Price/Unit</th><th>Amount</th></tr>
            </thead>
            <tbody>
              ${$.inventory.map(C=>`
                <tr>
                  <td>${C.date}</td>
                  <td>${C.category}</td>
                  <td>${C.itemName}</td>
                  <td>${C.quantity}</td>
                  <td>${C.unit}</td>
                  <td>${C.pricePerUnit}</td>
                  <td>${C.amount}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <h2>Overhead Expenses</h2>
          <table>
            <thead>
              <tr><th>Date</th><th>Category</th><th>Description</th><th>Amount</th></tr>
            </thead>
            <tbody>
              ${$.overheads.map(C=>`
                <tr>
                  <td>${C.date}</td>
                  <td>${C.category}</td>
                  <td>${C.description||"-"}</td>
                  <td>${C.amount}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <h2>Sales Data</h2>
          <table>
            <thead>
              <tr><th>Date</th><th>Offline (Paytm)</th><th>Offline (Cash)</th><th>Online</th><th>Salaries</th><th>Cash in Hand</th><th>Discrepancy</th><th>Status</th></tr>
            </thead>
            <tbody>
              ${$.sales.map(C=>`
                <tr>
                  <td>${C.date}</td>
                  <td>${C.offlinePaytm||0}</td>
                  <td>${C.offlineCash||0}</td>
                  <td>${C.onlineSales||0}</td>
                  <td>${C.employeeSalaries||0}</td>
                  <td>${C.cashInHand||0}</td>
                  <td>${C.discrepancy||0}</td>
                  <td>${C.approvalRequired?"Pending":"Approved"}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <h2>Employee Payouts</h2>
          <table>
            <thead>
              <tr><th>Date</th><th>Employee Name</th><th>Employee ID</th><th>Amount</th></tr>
            </thead>
            <tbody>
              ${$.payouts.map(C=>{const B=$.employees.find(U=>U.id===C.employeeId);return`
                  <tr>
                    <td>${C.date}</td>
                    <td>${C.employeeName}</td>
                    <td>${B?.employeeId||"-"}</td>
                    <td>${C.amount}</td>
                  </tr>
                `}).join("")}
            </tbody>
          </table>

          <h2>Employee Master List</h2>
          <table>
            <thead>
              <tr><th>Employee ID</th><th>Name</th><th>Type</th><th>Role</th><th>Phone</th><th>Daily Rate</th></tr>
            </thead>
            <tbody>
              ${$.employees.map(C=>`
                <tr>
                  <td>${C.employeeId}</td>
                  <td>${C.name}</td>
                  <td>${C.type}</td>
                  <td>${C.role||"-"}</td>
                  <td>${C.phone}</td>
                  <td>${C.dailyRate?""+C.dailyRate:"-"}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </body>
      </html>
    `,D=async()=>{const $=await E();if(!$)return;let I,C,B;const U=`${$.startDate}_to_${$.endDate}`;switch(u){case"csv":I=O($),C="text/csv",B=`export_${U}.csv`;break;case"excel":I=k($),C="application/vnd.ms-excel",B=`export_${U}.xls`;break;case"pdf":I=P($),C="text/html",B=`export_${U}.html`;break;default:return}const G=new Blob([I],{type:C}),Y=URL.createObjectURL(G),Q=document.createElement("a");Q.href=Y,Q.download=B,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(Y),alert(`Data exported successfully as ${B}`)};return o.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Export Data"}),o.jsx("p",{className:"text-gray-600",children:"Download comprehensive reports in multiple formats"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("h2",{className:"text-lg text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(lr,{className:"w-5 h-5 text-purple-600"}),"Select Date Range"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[o.jsxs("button",{onClick:()=>r("today"),className:`p-4 rounded-lg border-2 transition-all ${e==="today"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-purple-300"}`,children:[o.jsx("div",{className:"font-medium",children:"Today"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Current day"})]}),o.jsxs("button",{onClick:()=>r("weekly"),className:`p-4 rounded-lg border-2 transition-all ${e==="weekly"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-purple-300"}`,children:[o.jsx("div",{className:"font-medium",children:"Last 7 Days"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Weekly data"})]}),o.jsxs("button",{onClick:()=>r("monthly"),className:`p-4 rounded-lg border-2 transition-all ${e==="monthly"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-purple-300"}`,children:[o.jsx("div",{className:"font-medium",children:"This Month"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Monthly data"})]}),o.jsxs("button",{onClick:()=>r("custom"),className:`p-4 rounded-lg border-2 transition-all ${e==="custom"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-purple-300"}`,children:[o.jsx("div",{className:"font-medium",children:"Custom"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Select range"})]})]}),e==="custom"&&o.jsx("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Start Date"}),o.jsx("input",{type:"date",value:n,onChange:$=>a($.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"End Date"}),o.jsx("input",{type:"date",value:s,onChange:$=>l($.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h2",{className:"text-lg text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(vs,{className:"w-5 h-5 text-blue-600"}),"Select Export Format"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[o.jsxs("button",{onClick:()=>d("csv"),className:`p-4 rounded-lg border-2 transition-all ${u==="csv"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-blue-300"}`,children:[o.jsx(lR,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("div",{className:"font-medium",children:"CSV"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Excel compatible"})]}),o.jsxs("button",{onClick:()=>d("excel"),className:`p-4 rounded-lg border-2 transition-all ${u==="excel"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-blue-300"}`,children:[o.jsx(PD,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("div",{className:"font-medium",children:"Excel"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"XLS format"})]}),o.jsxs("button",{onClick:()=>d("pdf"),className:`p-4 rounded-lg border-2 transition-all ${u==="pdf"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-blue-300"}`,children:[o.jsx(vs,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("div",{className:"font-medium",children:"PDF/HTML"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Print ready"})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-[#E8D5F2] to-[#D4B5F0] rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Export Will Include:"}),o.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[o.jsx("li",{children:" Complete Inventory Items with quantities and costs"}),o.jsx("li",{children:" All Overhead Expenses categorized"}),o.jsx("li",{children:" Sales Data with payment breakdowns"}),o.jsx("li",{children:" Employee Payouts with detailed records"}),o.jsx("li",{children:" Employee Master List"}),o.jsx("li",{children:" Financial Summary with profit/loss calculations"})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:A,disabled:h,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 border-2 border-purple-600 text-purple-700 rounded-lg hover:bg-purple-50 transition-colors disabled:opacity-50",children:[o.jsx(vs,{className:"w-5 h-5"}),"Preview Data"]}),o.jsxs("button",{onClick:D,disabled:h,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors disabled:opacity-50",children:[o.jsx(tl,{className:"w-5 h-5"}),h?"Generating...":"Export Data"]})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx("span",{className:"text-white text-sm",children:""})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Export Tips"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsx("li",{children:" CSV files can be opened in Excel, Google Sheets, or any spreadsheet application"}),o.jsx("li",{children:" PDF/HTML exports are best for printing or sharing reports"}),o.jsx("li",{children:" Custom date ranges allow you to export specific time periods"}),o.jsx("li",{children:" All monetary values are in Indian Rupees ()"})]})]})]})})]}),p&&v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[o.jsx("h2",{className:"text-xl text-gray-900",children:"Data Preview"}),o.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(pn,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Summary"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Inventory"}),o.jsxs("div",{className:"text-xl text-gray-900",children:["",v.summary.totalInventorySpend.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Overheads"}),o.jsxs("div",{className:"text-xl text-gray-900",children:["",v.summary.totalOverheadSpend.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Sales"}),o.jsxs("div",{className:"text-xl text-green-600",children:["",v.summary.totalSales.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Payouts"}),o.jsxs("div",{className:"text-xl text-gray-900",children:["",v.summary.totalPayouts.toLocaleString()]})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-purple-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-medium text-gray-900",children:"Net Profit/Loss:"}),o.jsxs("span",{className:`text-xl font-bold ${v.summary.totalSales-v.summary.totalInventorySpend-v.summary.totalOverheadSpend-v.summary.totalPayouts>=0?"text-green-600":"text-red-600"}`,children:["",(v.summary.totalSales-v.summary.totalInventorySpend-v.summary.totalOverheadSpend-v.summary.totalPayouts).toLocaleString()]})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Inventory Items"}),o.jsx("div",{className:"text-2xl text-gray-900",children:v.inventory.length})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Overhead Entries"}),o.jsx("div",{className:"text-2xl text-gray-900",children:v.overheads.length})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Sales Records"}),o.jsx("div",{className:"text-2xl text-gray-900",children:v.sales.length})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Payout Records"}),o.jsx("div",{className:"text-2xl text-gray-900",children:v.payouts.length})]})]}),o.jsxs("div",{className:"text-sm text-gray-600 text-center",children:[o.jsxs("p",{children:["Period: ",v.startDate," to ",v.endDate]}),o.jsx("p",{className:"mt-2",children:'Click "Export Data" to download the complete report'})]})]})]})})]})}function i2({employeeId:t}){const[e,r]=R.useState(null),[n,a]=R.useState([]),[s,l]=R.useState(!0),[u,d]=R.useState(()=>{const j=new Date;return`${j.getFullYear()}-${String(j.getMonth()+1).padStart(2,"0")}`});R.useEffect(()=>{h()},[t]);const h=async()=>{try{l(!0);const w=(await Ff()).find(x=>x.employeeId===t);if(w){r(w);const _=(await Ss()).filter(N=>N.employeeId===w.id);a(_)}}catch(j){console.error("Error loading employee data:",j)}finally{l(!1)}},p=(()=>{if(!u)return n;const[j,w]=u.split("-");return n.filter(x=>{const _=new Date(x.date);return _.getFullYear()===parseInt(j)&&_.getMonth()+1===parseInt(w)})})(),g=p.reduce((j,w)=>j+w.amount,0),v=()=>{const j=[],w=new Date;for(let x=0;x<12;x++){const _=new Date(w.getFullYear(),w.getMonth()-x,1),N=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}`;j.push({value:N,label:_.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}return j};return s?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading your data..."})]})}):e?o.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl text-gray-900 mb-2",children:["Welcome, ",e.name,"!"]}),o.jsx("p",{className:"text-gray-600",children:"View your payout history and employee details"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl shadow-sm p-6 mb-6",children:[o.jsx("h2",{className:"text-lg text-gray-900 mb-4",children:"Employee Information"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Employee ID"}),o.jsx("div",{className:"font-medium text-gray-900",children:e.employeeId})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Name"}),o.jsx("div",{className:"font-medium text-gray-900",children:e.name})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Type"}),o.jsx("div",{className:"font-medium text-gray-900",children:e.type==="permanent"?" Permanent":" Contract"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Role"}),o.jsx("div",{className:"font-medium text-gray-900",children:e.role||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Phone"}),o.jsx("div",{className:"font-medium text-gray-900",children:e.phone})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Email"}),o.jsx("div",{className:"font-medium text-gray-900",children:e.email||"N/A"})]}),e.dailyRate&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Daily Rate"}),o.jsxs("div",{className:"font-medium text-gray-900",children:["",e.dailyRate]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("h2",{className:"text-lg text-gray-900 flex items-center gap-2",children:[o.jsx(lr,{className:"w-5 h-5 text-blue-600"}),"Select Month"]})}),o.jsx("select",{value:u,onChange:j=>d(j.target.value),className:"w-full md:w-auto px-4 py-2 border border-gray-300 rounded-lg",children:v().map(j=>o.jsx("option",{value:j.value,children:j.label},j.value))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Total Payouts"}),o.jsx(Gr,{className:"w-5 h-5 text-green-600"})]}),o.jsxs("div",{className:"text-2xl text-gray-900",children:["",g.toLocaleString()]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[p.length," payment",p.length!==1?"s":""]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Average Payout"}),o.jsx(mr,{className:"w-5 h-5 text-blue-600"})]}),o.jsxs("div",{className:"text-2xl text-gray-900",children:["",p.length>0?Math.round(g/p.length).toLocaleString():0]}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Per payment"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Payment Days"}),o.jsx(ri,{className:"w-5 h-5 text-purple-600"})]}),o.jsx("div",{className:"text-2xl text-gray-900",children:p.length}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"This month"})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h2",{className:"text-lg text-gray-900",children:"Payout History"})}),p.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ri,{className:"w-8 h-8 text-gray-400"})}),o.jsx("h3",{className:"text-lg text-gray-900 mb-2",children:"No Payouts Yet"}),o.jsx("p",{className:"text-gray-600",children:"No payouts recorded for the selected month."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600",children:"Amount"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600",children:"Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:p.sort((j,w)=>new Date(w.date).getTime()-new Date(j.date).getTime()).map(j=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(j.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),o.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-green-600",children:["",j.amount.toLocaleString()]}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.type==="permanent"?"Salary":"Daily Wage"}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" Paid"})})]},j.id))})]})})]}),o.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx("span",{className:"text-white text-sm",children:""})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"About Your Payouts"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsx("li",{children:" All payouts are processed and recorded by your manager or cluster head"}),o.jsx("li",{children:" This dashboard shows only your personal payout history"}),o.jsx("li",{children:" For any discrepancies, please contact your manager"}),o.jsx("li",{children:" Payment history is available for the last 12 months"})]})]})]})})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 max-w-md w-full text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-3xl",children:""})}),o.jsx("h2",{className:"text-xl text-gray-900 mb-2",children:"Employee Not Found"}),o.jsx("p",{className:"text-gray-600",children:"Your employee profile hasn't been set up yet. Please contact your manager or cluster head."})]})})}function bX({onLogin:t,onSignup:e,error:r}){const[n,a]=R.useState(!1),[s,l]=R.useState({email:"",password:"",name:"",role:"employee",employeeId:""}),[u,d]=R.useState(!1),h=async m=>{m.preventDefault(),d(!0);try{n?await e(s.email,s.password,s.name,s.role):await t(s.email,s.password)}finally{d(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 sm:p-8",children:[o.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-full mb-3 sm:mb-4",children:o.jsx(si,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),o.jsx("h1",{className:"text-gray-900 mb-2",children:"Inventory Management"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:n?"Create your account":"Sign in to your account"})]}),r&&o.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-xs sm:text-sm text-red-600",children:r})}),o.jsxs("form",{onSubmit:h,className:"space-y-3 sm:space-y-4",children:[n&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Full Name"}),o.jsx("input",{type:"text",value:s.name,onChange:m=>l({...s,name:m.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"Enter your name",required:n})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Role"}),o.jsxs("select",{value:s.role,onChange:m=>l({...s,role:m.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",required:n,children:[o.jsx("option",{value:"employee",children:"Employee (View your payouts)"}),o.jsx("option",{value:"manager",children:"Manager (Manage inventory)"}),o.jsx("option",{value:"cluster_head",children:"Cluster Head (View & approve)"})]})]}),s.role==="employee"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Employee ID"}),o.jsx("input",{type:"text",value:s.employeeId,onChange:m=>l({...s,employeeId:m.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"Enter your Employee ID",required:n&&s.role==="employee"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must match the ID created by your manager"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:s.email,onChange:m=>l({...s,email:m.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"Enter your email",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Password"}),o.jsx("input",{type:"password",value:s.password,onChange:m=>l({...s,password:m.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"Enter your password",required:!0,minLength:6}),n&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),o.jsx("button",{type:"submit",disabled:u,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-base touch-manipulation",children:u?o.jsx("span",{children:"Processing..."}):o.jsxs(o.Fragment,{children:[n?o.jsx(ka,{className:"w-5 h-5"}):o.jsx(UD,{className:"w-5 h-5"}),n?"Create Account":"Sign In"]})})]}),o.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:o.jsx("button",{onClick:()=>{a(!n),l({email:"",password:"",name:"",role:"employee",employeeId:""})},className:"text-sm text-blue-600 hover:text-blue-700 active:text-blue-800 touch-manipulation",children:n?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}function wX({user:t}){const[e,r]=R.useState(h(new Date)),[n,a]=R.useState([]),[s,l]=R.useState(!1),[u,d]=R.useState([]);R.useEffect(()=>{p(),g()},[e]);function h(D){const $=new Date(D),I=$.getDay(),C=$.getDate()-I+(I===0?-6:1);return new Date($.setDate(C))}function m(D){const $=[];for(let I=0;I<7;I++){const C=new Date(D);C.setDate(D.getDate()+I),$.push(C)}return $}const p=async()=>{try{l(!0);const D=await Jd(t.employeeId);a(D)}catch(D){console.error("Error loading timesheet:",D)}finally{l(!1)}},g=async()=>{try{const D=await Bf(t.employeeId);d(D.filter($=>$.status==="approved"||$.status==="pending"))}catch(D){console.error("Error loading leaves:",D)}},v=D=>{const $=D.toISOString().split("T")[0];return u.some(I=>I.leaveDate===$)},j=D=>{const $=D.toISOString().split("T")[0],I=n.find(C=>C.date===$);return I||{employeeId:t.employeeId,date:$,startTime:"",endTime:"",totalHours:0,status:"pending",isLeave:v(D)}},w=(D,$)=>{if(!D||!$)return 0;const[I,C]=D.split(":").map(Number),[B,U]=$.split(":").map(Number),G=I*60+C;return(B*60+U-G)/60},x=(D,$,I)=>{const C=D.toISOString().split("T")[0],B=n.find(Y=>Y.date===C);let U;B?U={...B,[$]:I}:U={employeeId:t.employeeId,date:C,startTime:$==="startTime"?I:"",endTime:$==="endTime"?I:"",totalHours:0,status:"pending",isLeave:!1},U.totalHours=w(U.startTime,U.endTime);const G=n.filter(Y=>Y.date!==C);a([...G,U])},_=async D=>{const $=j(D);if(!$.startTime||!$.endTime){alert("Please enter both start and end times");return}if($.totalHours<4){alert("For half day, minimum 4 hours required");return}try{l(!0),await rX($),await p(),alert("Timesheet saved successfully")}catch(I){console.error("Error saving timesheet:",I),alert("Error saving timesheet")}finally{l(!1)}},N=async()=>{const $=m(e).map(I=>j(I)).filter(I=>I.startTime&&I.endTime);if($.length===0){alert("Please enter timesheet data for at least one day");return}for(const I of $)if(I.totalHours<4){alert(`${I.date}: Minimum 4 hours required for half day`);return}try{l(!0),await nX($),await p(),alert("Week timesheet saved successfully")}catch(I){console.error("Error saving week timesheet:",I),alert("Error saving week timesheet")}finally{l(!1)}},E=()=>{const D=new Date(e);D.setDate(D.getDate()-7),r(D)},A=()=>{const D=new Date(e);D.setDate(D.getDate()+7),r(D)},O=async()=>{try{l(!0);const D=new Date(e);D.setDate(D.getDate()-7);const $=m(D),I=await Jd(t.employeeId),C=$.map(Y=>{const Q=Y.toISOString().split("T")[0];return I.find(re=>re.date===Q)}).filter(Boolean);if(C.length===0){alert("No timesheet data found in previous week to copy"),l(!1);return}const B=m(e),U=[];if(B.forEach((Y,Q)=>{const re=Y.toISOString().split("T")[0],V=C[Q],ee=n.find(M=>M.date===re);!v(Y)&&V&&V.startTime&&V.endTime&&(!ee||ee.status!=="approved")&&U.push({employeeId:t.employeeId,date:re,startTime:V.startTime,endTime:V.endTime,totalHours:V.totalHours,status:"pending",isLeave:!1})}),U.length===0){alert("All days in current week are either on leave or already have approved entries"),l(!1);return}const G=[...n];U.forEach(Y=>{const Q=G.findIndex(re=>re.date===Y.date);Q>=0?G[Q]=Y:G.push(Y)}),a(G),alert(`Copied ${U.length} day(s) from previous week! Don't forget to save.`)}catch(D){console.error("Error copying from previous week:",D),alert("Error copying data from previous week")}finally{l(!1)}},k=m(e),P=new Date(e);return P.setDate(P.getDate()+6),o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"My Timesheet"}),o.jsx("p",{className:"text-gray-600",children:"Track your daily working hours"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",children:[o.jsx(Gv,{className:"w-4 h-4"}),"Previous Week"]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center gap-2 justify-center mb-1",children:[o.jsx(lr,{className:"w-5 h-5 text-purple-600"}),o.jsxs("span",{className:"text-lg text-gray-900",children:[e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," - ",P.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Week View"})]}),o.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",children:["Next Week",o.jsx(ml,{className:"w-4 h-4"})]})]}),o.jsx("div",{className:"flex justify-center pt-2 border-t border-gray-200",children:o.jsxs("button",{onClick:O,disabled:s,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg hover:from-blue-600 hover:to-cyan-600 transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(ED,{className:"w-4 h-4"}),"Copy from Previous Week"]})})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left",children:"Date"}),o.jsx("th",{className:"px-6 py-4 text-left",children:"Day"}),o.jsx("th",{className:"px-6 py-4 text-left",children:"Start Time"}),o.jsx("th",{className:"px-6 py-4 text-left",children:"End Time"}),o.jsx("th",{className:"px-6 py-4 text-left",children:"Total Hours"}),o.jsx("th",{className:"px-6 py-4 text-left",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-left",children:"Action"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:k.map((D,$)=>{const I=j(D),C=v(D);return o.jsxs("tr",{className:C?"bg-yellow-50":$%2===0?"bg-gray-50":"bg-white",children:[o.jsx("td",{className:"px-6 py-4 text-gray-900",children:D.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:D.toLocaleDateString("en-US",{weekday:"short"})}),o.jsx("td",{className:"px-6 py-4",children:C?o.jsx("span",{className:"text-yellow-700 text-sm",children:"On Leave"}):o.jsx("input",{type:"time",value:I.startTime,onChange:B=>x(D,"startTime",B.target.value),disabled:I.status==="approved",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100"})}),o.jsx("td",{className:"px-6 py-4",children:C?o.jsx("span",{className:"text-yellow-700 text-sm",children:"On Leave"}):o.jsx("input",{type:"time",value:I.endTime,onChange:B=>x(D,"endTime",B.target.value),disabled:I.status==="approved",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100"})}),o.jsx("td",{className:"px-6 py-4",children:C?o.jsx("span",{className:"text-yellow-700",children:"-"}):o.jsx("span",{className:`${I.totalHours>=4?"text-green-700":I.totalHours>0?"text-red-700":"text-gray-500"}`,children:I.totalHours>0?`${I.totalHours.toFixed(2)} hrs`:"-"})}),o.jsx("td",{className:"px-6 py-4",children:C?o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:[o.jsx(Cr,{className:"w-4 h-4"}),"Leave"]}):I.status==="approved"?o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:[o.jsx(Xr,{className:"w-4 h-4"}),"Approved"]}):I.status==="rejected"?o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:[o.jsx(Ns,{className:"w-4 h-4"}),"Rejected"]}):I.startTime&&I.endTime?o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:[o.jsx(Or,{className:"w-4 h-4"}),"Pending"]}):o.jsx("span",{className:"text-gray-400 text-sm",children:"Not filled"})}),o.jsx("td",{className:"px-6 py-4",children:!C&&I.status!=="approved"&&o.jsxs("button",{onClick:()=>_(D),disabled:s||!I.startTime||!I.endTime,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:[o.jsx(Gu,{className:"w-4 h-4"}),"Save"]})})]},$)})})]})})}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsxs("button",{onClick:N,disabled:s,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg disabled:opacity-50",children:[o.jsx(Gu,{className:"w-5 h-5"}),"Save Entire Week"]})})]})})}function jX({user:t}){const[e,r]=R.useState([]),[n,a]=R.useState(0),[s,l]=R.useState(!1),[u,d]=R.useState(!1),[h,m]=R.useState({leaveDate:"",reason:""});R.useEffect(()=>{p(),g()},[]);const p=async()=>{try{l(!0);const x=await Bf(t.employeeId);r(x)}catch(x){console.error("Error loading leaves:",x)}finally{l(!1)}},g=async()=>{try{const x=await sX(t.employeeId,t.joiningDate||"2024-01-01");a(x)}catch(x){console.error("Error calculating leave balance:",x)}},v=async()=>{if(!h.leaveDate||!h.reason){alert("Please fill all fields");return}if(e.find(_=>_.leaveDate===h.leaveDate)){alert("Leave already applied for this date");return}if(n<=0){alert("Insufficient leave balance");return}try{l(!0);const _={employeeId:t.employeeId,leaveDate:h.leaveDate,reason:h.reason,status:"pending",appliedAt:new Date().toISOString()};await oX(_),await p(),await g(),m({leaveDate:"",reason:""}),d(!1),alert("Leave application submitted successfully")}catch(_){console.error("Error applying leave:",_),alert("Error applying leave")}finally{l(!1)}},j=x=>{switch(x){case"approved":return o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:[o.jsx(Xr,{className:"w-4 h-4"}),"Approved"]});case"rejected":return o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:[o.jsx(Ns,{className:"w-4 h-4"}),"Rejected"]});default:return o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:[o.jsx(Or,{className:"w-4 h-4"}),"Pending"]})}},w=[...e].sort((x,_)=>new Date(_.leaveDate).getTime()-new Date(x.leaveDate).getTime());return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Leave Management"}),o.jsx("p",{className:"text-gray-600",children:"Apply for leaves and track your leave balance"})]}),o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl shadow-lg p-6 mb-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg mb-2 opacity-90",children:"Available Leave Balance"}),o.jsx("div",{className:"text-5xl mb-2",children:n}),o.jsx("p",{className:"text-sm opacity-90",children:"leaves remaining (4 leaves/month, resets yearly)"})]}),o.jsx("div",{className:"bg-white/20 rounded-full p-6",children:o.jsx(lr,{className:"w-16 h-16"})})]})}),o.jsx("div",{className:"mb-6",children:o.jsxs("button",{onClick:()=>d(!u),className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-md",children:[o.jsx(yl,{className:"w-5 h-5"}),"Apply for Leave"]})}),u&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[o.jsx("h3",{className:"text-lg text-gray-900 mb-4",children:"Apply for Leave"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Leave Date"}),o.jsx("input",{type:"date",value:h.leaveDate,onChange:x=>m({...h,leaveDate:x.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Reason"}),o.jsx("input",{type:"text",value:h.reason,onChange:x=>m({...h,reason:x.target.value}),placeholder:"Enter reason for leave",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:v,disabled:s,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-300",children:"Submit Application"}),o.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-100 to-pink-100 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg text-gray-900",children:"Leave History"})}),s?o.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):w.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(lr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No leave applications yet"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Reason"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Applied On"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Approved By"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:w.map((x,_)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-gray-900",children:new Date(x.leaveDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:x.reason}),o.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:x.appliedAt?new Date(x.appliedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-"}),o.jsx("td",{className:"px-6 py-4",children:j(x.status)}),o.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:x.approvedBy||"-"})]},_))})]})})]}),o.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Cr,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-sm text-blue-900",children:[o.jsx("p",{className:"mb-2",children:o.jsx("strong",{children:"Leave Policy:"})}),o.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[o.jsx("li",{children:"4 leaves are credited on the 1st of each month"}),o.jsx("li",{children:"Unused leaves do not carry forward to the next year"}),o.jsx("li",{children:"Leave balance resets to 0 on January 1st each year"}),o.jsx("li",{children:"All leave applications require manager approval"}),o.jsx("li",{children:"Approved leaves will prevent timesheet entry for that day"})]})]})]})})]})})}function _X({managerId:t}){const[e,r]=R.useState(!1),[n,a]=R.useState(null),s=async()=>{r(!0),a(null);const l={serverVersion:null,managerRoute:null,allEmployees:null};try{console.log("Testing server health...");const u=await fetch(`https://${ji}.supabase.co/functions/v1/make-server-c2dd9b9d/unified-employees`,{headers:{Authorization:`Bearer ${Ye}`}});l.allEmployees={status:u.status,ok:u.ok,data:u.ok?await u.json():await u.text()},console.log("Testing manager route with ID:",t);const d=`https://${ji}.supabase.co/functions/v1/make-server-c2dd9b9d/unified-employees/manager/${t}`;console.log("Full URL:",d);const h=await fetch(d,{headers:{Authorization:`Bearer ${Ye}`}});console.log("Manager route status:",h.status);const m=await h.text();console.log("Manager route response:",m),l.managerRoute={url:d,status:h.status,ok:h.ok,data:m?JSON.parse(m):null},a(l)}catch(u){console.error("Route test error:",u),a({error:u instanceof Error?u.message:String(u),tests:l})}finally{r(!1)}};return o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(M1,{className:"w-6 h-6 text-yellow-600"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Route Debugger"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Test if the manager route is working"})]})]}),o.jsx("button",{onClick:s,disabled:e,className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:e?o.jsxs(o.Fragment,{children:[o.jsx(MD,{className:"w-4 h-4 animate-spin"}),"Testing Routes..."]}):o.jsxs(o.Fragment,{children:[o.jsx(M1,{className:"w-4 h-4"}),"Test Routes"]})}),n&&o.jsxs("div",{className:"mt-4 space-y-3",children:[n.error&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-3",children:o.jsxs("p",{className:"text-sm text-red-800",children:[o.jsx("strong",{children:"Error:"})," ",n.error]})}),n.allEmployees&&o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.allEmployees.ok?o.jsx(Xr,{className:"w-4 h-4 text-green-600"}):o.jsx(Ns,{className:"w-4 h-4 text-red-600"}),o.jsxs("span",{className:"font-medium text-sm",children:["GET /unified-employees - ",n.allEmployees.status]})]}),o.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded overflow-auto max-h-32",children:JSON.stringify(n.allEmployees.data,null,2)})]}),n.managerRoute&&o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.managerRoute.ok?o.jsx(Xr,{className:"w-4 h-4 text-green-600"}):o.jsx(Ns,{className:"w-4 h-4 text-red-600"}),o.jsxs("span",{className:"font-medium text-sm",children:["GET /unified-employees/manager/",t," - ",n.managerRoute.status]})]}),o.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["URL: ",n.managerRoute.url]}),o.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded overflow-auto max-h-32",children:JSON.stringify(n.managerRoute.data,null,2)})]})]})]})}function SX({managerId:t,role:e}){const[r,n]=R.useState([]),[a,s]=R.useState(""),[l,u]=R.useState([]),[d,h]=R.useState(!1);console.log("ApproveTimesheets: managerId prop =",t),console.log("ApproveTimesheets: role prop =",e),R.useEffect(()=>{m()},[]),R.useEffect(()=>{a&&p()},[a]);const m=async()=>{try{console.log("ApproveTimesheets: Loading employees/managers for role:",e);let N;e==="cluster_head"?(console.log("ApproveTimesheets: Calling getManagersByClusterHead with clusterHeadId:",t),N=await Bb(t),console.log("ApproveTimesheets: Received managers:",N)):(console.log("ApproveTimesheets: Calling getEmployeesByManager with managerId:",t),N=await Qd(t),console.log("ApproveTimesheets: Received employees:",N)),n(N),N.length>0?s(N[0].employeeId):console.log("ApproveTimesheets: No employees/managers found")}catch(N){console.error("Error loading employees:",N)}},p=async()=>{try{h(!0);const N=await Jd(a);u(N.filter(E=>E.status==="pending"))}catch(N){console.error("Error loading timesheets:",N)}finally{h(!1)}},g=async N=>{try{h(!0),await aX(N,t),await p(),alert("Timesheet approved successfully")}catch(E){console.error("Error approving timesheet:",E),alert("Error approving timesheet")}finally{h(!1)}},v=async N=>{const E=prompt("Enter rejection reason:");if(E)try{h(!0),await iX(N,t,E),await p(),alert("Timesheet rejected")}catch(A){console.error("Error rejecting timesheet:",A),alert("Error rejecting timesheet")}finally{h(!1)}},j=l.length,w=r.find(N=>N.employeeId===a),x=e==="cluster_head"?"Manager":"Employee",_=e==="cluster_head"?"Managers":"Employees";return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("h1",{className:"text-3xl text-gray-900 mb-2",children:["Approve ",x," Timesheets"]}),o.jsx("p",{className:"text-gray-600",children:e==="cluster_head"?"Review and approve manager timesheet entries. Contract workers are paid per day worked and do not require attendance approval.":"Review and approve employee timesheet entries"})]}),!t&&o.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Cr,{className:"w-5 h-5 text-red-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-red-900 font-medium",children:"Manager ID Not Found"}),o.jsx("p",{className:"text-sm text-red-700",children:"Your account doesn't have an employee ID set. Please contact the administrator or log out and log back in."})]})]})}),t&&r.length===0&&o.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Cr,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-blue-900 font-medium",children:["No ",_," Found"]}),o.jsxs("p",{className:"text-sm text-blue-700",children:["You don't have any ",_.toLowerCase()," assigned to you yet. ",_," created through Employee Management will appear here."]}),o.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Manager ID: ",t]})]})]})}),t&&r.length===0&&o.jsx(_X,{managerId:t}),j>0&&o.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Cr,{className:"w-5 h-5 text-yellow-600"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-yellow-900 font-medium",children:[j," timesheet",j>1?"s":""," pending approval"]}),o.jsx("p",{className:"text-sm text-yellow-700",children:"Review and take action on pending requests"})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:[o.jsxs("label",{className:"block text-sm text-gray-700 mb-2",children:["Select ",x]}),o.jsxs("select",{value:a,onChange:N=>s(N.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[o.jsxs("option",{value:"",children:["-- Select ",x," --"]}),r.map(N=>o.jsxs("option",{value:N.employeeId,children:[N.name," (",N.employeeId,")"]},N.employeeId))]})]}),w&&o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl shadow-lg p-6 mb-6 text-white",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(gl,{className:"w-8 h-8"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl mb-1",children:w.name}),o.jsxs("p",{className:"text-sm opacity-90",children:["Employee ID: ",w.employeeId]}),o.jsxs("p",{className:"text-sm opacity-90",children:["Email: ",w.email]})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-100 to-pink-100 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg text-gray-900",children:"Pending Timesheets"})}),d?o.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):l.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(Or,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No pending timesheets for this employee"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Day"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Start Time"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"End Time"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Total Hours"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map((N,E)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-gray-900",children:new Date(N.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:new Date(N.date).toLocaleDateString("en-US",{weekday:"short"})}),o.jsx("td",{className:"px-6 py-4 text-gray-900",children:N.startTime}),o.jsx("td",{className:"px-6 py-4 text-gray-900",children:N.endTime}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("span",{className:`${N.totalHours>=8?"text-green-700":N.totalHours>=4?"text-yellow-700":"text-red-700"}`,children:[N.totalHours.toFixed(2)," hrs"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:[o.jsx(Or,{className:"w-4 h-4"}),"Pending"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>g(N.id),disabled:d,className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm disabled:opacity-50",children:[o.jsx(Xr,{className:"w-4 h-4"}),"Approve"]}),o.jsxs("button",{onClick:()=>v(N.id),disabled:d,className:"flex items-center gap-1 px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm disabled:opacity-50",children:[o.jsx(Ns,{className:"w-4 h-4"}),"Reject"]})]})})]},E))})]})})]})]})})}function NX({managerId:t,managerName:e,role:r}){const[n,a]=R.useState([]),[s,l]=R.useState(""),[u,d]=R.useState([]),[h,m]=R.useState(!1);console.log("ApproveLeaves: managerId prop =",t),console.log("ApproveLeaves: role prop =",r),R.useEffect(()=>{p()},[]),R.useEffect(()=>{s&&g()},[s]);const p=async()=>{try{console.log("ApproveLeaves: Loading employees/managers for role:",r);let E;r==="cluster_head"?(console.log("ApproveLeaves: Calling getManagersByClusterHead with clusterHeadId:",t),E=await Bb(t),console.log("ApproveLeaves: Received managers:",E)):(console.log("ApproveLeaves: Calling getEmployeesByManager with managerId:",t),E=await Qd(t),console.log("ApproveLeaves: Received employees:",E)),a(E),E.length>0?l(E[0].employeeId):console.log("ApproveLeaves: No employees/managers found")}catch(E){console.error("Error loading employees:",E)}},g=async()=>{try{m(!0);const E=await Bf(s);d(E.filter(A=>A.status==="pending"))}catch(E){console.error("Error loading leaves:",E)}finally{m(!1)}},v=async E=>{try{m(!0),await lX(E,t,e),await g(),alert("Leave approved successfully")}catch(A){console.error("Error approving leave:",A),alert("Error approving leave")}finally{m(!1)}},j=async E=>{const A=prompt("Enter rejection reason:");if(A)try{m(!0),await cX(E,t,e,A),await g(),alert("Leave rejected")}catch(O){console.error("Error rejecting leave:",O),alert("Error rejecting leave")}finally{m(!1)}},w=u.length,x=n.find(E=>E.employeeId===s),_=r==="cluster_head"?"Manager":"Employee",N=r==="cluster_head"?"Managers":"Employees";return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("h1",{className:"text-3xl text-gray-900 mb-2",children:["Approve ",_," Leaves"]}),o.jsx("p",{className:"text-gray-600",children:r==="cluster_head"?"Review and approve manager leave applications. Contract workers do not require leave approval.":"Review and approve employee leave applications"})]}),w>0&&o.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Cr,{className:"w-5 h-5 text-yellow-600"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-yellow-900 font-medium",children:[w," leave application",w>1?"s":""," pending approval"]}),o.jsx("p",{className:"text-sm text-yellow-700",children:"Review and take action on pending requests"})]})]})}),t&&n.length===0&&o.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Cr,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-blue-900 font-medium",children:["No ",N," Found"]}),o.jsxs("p",{className:"text-sm text-blue-700",children:["You don't have any ",N.toLowerCase()," assigned to you yet. ",N," created through Employee Management will appear here."]})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:[o.jsxs("label",{className:"block text-sm text-gray-700 mb-2",children:["Select ",_]}),o.jsxs("select",{value:s,onChange:E=>l(E.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[o.jsxs("option",{value:"",children:["-- Select ",_," --"]}),n.map(E=>o.jsxs("option",{value:E.employeeId,children:[E.name," (",E.employeeId,")"]},E.employeeId))]})]}),x&&o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl shadow-lg p-6 mb-6 text-white",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(gl,{className:"w-8 h-8"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl mb-1",children:x.name}),o.jsxs("p",{className:"text-sm opacity-90",children:["Employee ID: ",x.employeeId]}),o.jsxs("p",{className:"text-sm opacity-90",children:["Email: ",x.email]})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-100 to-pink-100 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg text-gray-900",children:"Pending Leave Applications"})}),h?o.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):u.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(lr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No pending leave applications for this employee"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Leave Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Reason"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Applied On"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map((E,A)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-gray-900",children:new Date(E.leaveDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:E.reason}),o.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:E.appliedAt?new Date(E.appliedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-"}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>v(E.id),disabled:h,className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm disabled:opacity-50",children:[o.jsx(Xr,{className:"w-4 h-4"}),"Approve"]}),o.jsxs("button",{onClick:()=>j(E.id),disabled:h,className:"flex items-center gap-1 px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm disabled:opacity-50",children:[o.jsx(Ns,{className:"w-4 h-4"}),"Reject"]})]})})]},A))})]})})]})]})})}function EX({managerId:t,role:e}){const[r,n]=R.useState([]),[a,s]=R.useState([]),[l,u]=R.useState(!1),[d,h]=R.useState({});R.useEffect(()=>{m()},[]);const m=async()=>{try{if(u(!0),e==="manager"){const p=await Qd(t);n(p);const g={};for(const v of p){const[j,w]=await Promise.all([Jd(v.employeeId),Bf(v.employeeId)]);g[v.employeeId]={pendingTimesheets:j.filter(x=>x.status==="pending").length,pendingLeaves:w.filter(x=>x.status==="pending").length,approvedTimesheets:j.filter(x=>x.status==="approved").length,totalLeaves:w.filter(x=>x.status==="approved").length}}h(g)}else{const p=await Bb(t);s(p);const g={};for(const v of p){const j=await Qd(v.employeeId);g[v.employeeId]={employeeCount:j.length,...v.stats}}h(g)}}catch(p){console.error("Error loading data:",p)}finally{u(!1)}};return l?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-500",children:"Loading..."})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:e==="manager"?"My Team":"Manager Overview"}),o.jsx("p",{className:"text-gray-600",children:e==="manager"?"View all employees under your management":"View all managers and their team performance"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(kt,{className:"w-12 h-12 opacity-80"}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-3xl",children:e==="manager"?r.length:a.length}),o.jsx("div",{className:"text-sm opacity-90",children:e==="manager"?"Total Employees":"Total Managers"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl shadow-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(Or,{className:"w-12 h-12 opacity-80"}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-3xl",children:Object.values(d).reduce((p,g)=>p+(g.pendingTimesheets||0),0)}),o.jsx("div",{className:"text-sm opacity-90",children:"Pending Timesheets"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl shadow-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(lr,{className:"w-12 h-12 opacity-80"}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-3xl",children:Object.values(d).reduce((p,g)=>p+(g.pendingLeaves||0),0)}),o.jsx("div",{className:"text-sm opacity-90",children:"Pending Leaves"})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-100 to-pink-100 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg text-gray-900",children:e==="manager"?"Employee List":"Manager List"})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:(e==="manager"?r:a).map(p=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white text-xl",children:p.name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg text-gray-900",children:p.name}),o.jsx("p",{className:"text-sm text-gray-600",children:p.employeeId})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(c2,{className:"w-4 h-4"}),p.email]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(lr,{className:"w-4 h-4"}),"Joined: ",p.joiningDate?new Date(p.joiningDate).toLocaleDateString():"N/A"]})]}),d[p.employeeId]&&o.jsx("div",{className:"border-t border-gray-200 pt-4",children:o.jsx("div",{className:"grid grid-cols-2 gap-3",children:e==="manager"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3",children:[o.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Pending Timesheets"}),o.jsx("div",{className:"text-xl text-yellow-700",children:d[p.employeeId].pendingTimesheets})]}),o.jsxs("div",{className:"bg-pink-50 rounded-lg p-3",children:[o.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Pending Leaves"}),o.jsx("div",{className:"text-xl text-pink-700",children:d[p.employeeId].pendingLeaves})]}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[o.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Approved Timesheets"}),o.jsx("div",{className:"text-xl text-green-700",children:d[p.employeeId].approvedTimesheets})]}),o.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[o.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Total Leaves"}),o.jsx("div",{className:"text-xl text-blue-700",children:d[p.employeeId].totalLeaves})]})]}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 col-span-2",children:[o.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Employees"}),o.jsx("div",{className:"text-2xl text-purple-700",children:d[p.employeeId].employeeCount})]})})})})]},p.employeeId))}),(e==="manager"?r:a).length===0&&o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(gl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:e==="manager"?"No employees found":"No managers found"})]})]})]})})}function OX({clusterHeadId:t}){const[e,r]=R.useState([]),[n,a]=R.useState([]),[s,l]=R.useState(!1),[u,d]=R.useState(null),[h,m]=R.useState({});R.useEffect(()=>{p()},[]);const p=async()=>{try{l(!0);const _=await sc(),N=_.filter(O=>O.role==="employee");r(N);const E=_.filter(O=>O.role==="manager"&&O.clusterHeadId===t);a(E);const A={};N.forEach(O=>{O.managerId&&(A[O.employeeId]=O.managerId)}),m(A)}catch(_){console.error("Error loading data:",_),alert("Failed to load data")}finally{l(!1)}},g=(_,N)=>{m(E=>({...E,[_]:N}))},v=async _=>{try{d(_);const N=h[_];if(!N){alert("Please select a manager");return}await tI(_,N),alert("Manager assigned successfully!"),await p()}catch(N){console.error("Error assigning manager:",N),alert("Failed to assign manager")}finally{d(null)}},j=e.filter(_=>!_.managerId),w=e.filter(_=>_.managerId),x=_=>{if(!_)return"Unassigned";const N=n.find(E=>E.employeeId===_);return N?N.name:"Unknown Manager"};return s?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"text-gray-500",children:"Loading..."})}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Assign Managers to Employees"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Manage employee-manager relationships across your organization"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(kt,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Employees"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(Xr,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Assigned"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.length})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:o.jsx(Cr,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Unassigned"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.length})]})]})})]}),n.length===0?o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 text-center",children:[o.jsx(Cr,{className:"w-12 h-12 text-yellow-600 mx-auto mb-3"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"No Managers Available"}),o.jsx("p",{className:"text-yellow-700",children:"You need to create managers first before assigning them to employees."})]}):o.jsxs(o.Fragment,{children:[j.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-t-xl px-6 py-4",children:[o.jsxs("h2",{className:"text-lg font-semibold text-red-900 flex items-center gap-2",children:[o.jsx(Cr,{className:"w-5 h-5"}),"Unassigned Employees (",j.length,")"]}),o.jsx("p",{className:"text-sm text-red-700 mt-1",children:"These employees need to be assigned to a manager"})]}),o.jsx("div",{className:"bg-white rounded-b-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assign Manager"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(_=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name}),o.jsx("div",{className:"text-sm text-gray-500",children:_.email})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:_.employeeId})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("select",{value:h[_.employeeId]||"",onChange:N=>g(_.employeeId,N.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"Select a manager..."}),n.map(N=>o.jsxs("option",{value:N.employeeId,children:[N.name," (",N.employeeId,")"]},N.employeeId))]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("button",{onClick:()=>v(_.employeeId),disabled:!h[_.employeeId]||u===_.employeeId,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors text-sm",children:[o.jsx(Gu,{className:"w-4 h-4"}),u===_.employeeId?"Saving...":"Assign"]})})]},_.employeeId))})]})})]}),w.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-t-xl px-6 py-4",children:[o.jsxs("h2",{className:"text-lg font-semibold text-green-900 flex items-center gap-2",children:[o.jsx(Xr,{className:"w-5 h-5"}),"Assigned Employees (",w.length,")"]}),o.jsx("p",{className:"text-sm text-green-700 mt-1",children:"These employees are already assigned to managers"})]}),o.jsx("div",{className:"bg-white rounded-b-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Manager"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reassign Manager"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(_=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name}),o.jsx("div",{className:"text-sm text-gray-500",children:_.email})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:_.employeeId})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900",children:x(_.managerId)}),_.managerId&&o.jsx("div",{className:"text-xs text-gray-500",children:_.managerId})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("select",{value:h[_.employeeId]||_.managerId||"",onChange:N=>g(_.employeeId,N.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"Select a manager..."}),n.map(N=>o.jsxs("option",{value:N.employeeId,children:[N.name," (",N.employeeId,")"]},N.employeeId))]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("button",{onClick:()=>v(_.employeeId),disabled:!h[_.employeeId]||h[_.employeeId]===_.managerId||u===_.employeeId,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors text-sm",children:[o.jsx(Gu,{className:"w-4 h-4"}),u===_.employeeId?"Saving...":"Update"]})})]},_.employeeId))})]})})]}),e.length===0&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-12 text-center",children:[o.jsx(kt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Employees Found"}),o.jsx("p",{className:"text-gray-600",children:"There are no employees in the system yet. Create employees first through the Employee Management tab."})]})]})]})}function s2({currentUser:t}){const[e,r]=R.useState({clusterHead:null,managers:[],employees:[]}),[n,a]=R.useState(!0),[s,l]=R.useState(null),[u,d]=R.useState(null);R.useEffect(()=>{h()},[]);const h=async()=>{try{a(!0);const g=await sc(),v=g.find(j=>j.employeeId===t.employeeId);if(!v){a(!1);return}if(t.role==="employee"){const j=g.find(N=>N.employeeId===v.managerId);l(j||null);let w=null;j&&(w=g.find(N=>N.employeeId===j.clusterHeadId)),d(w||null);const x=g.filter(N=>N.role==="employee"&&N.managerId===v.managerId),_=g.filter(N=>N.role==="manager"&&(j?N.clusterHeadId===j.clusterHeadId:!1));r({clusterHead:w,managers:_,employees:x})}else if(t.role==="manager"){const j=g.find(_=>_.employeeId===v.clusterHeadId);d(j||null);const w=g.filter(_=>_.role==="manager"&&_.clusterHeadId===v.clusterHeadId),x=g.filter(_=>_.role==="employee"&&_.managerId===t.employeeId);r({clusterHead:j,managers:w,employees:x})}else if(t.role==="cluster_head"){const j=g.filter(x=>x.role==="manager"&&x.clusterHeadId===t.employeeId),w=g.filter(x=>x.role==="employee"&&j.some(_=>_.employeeId===x.managerId));r({clusterHead:v,managers:j,employees:w})}}catch(g){console.error("Error loading hierarchy:",g)}finally{a(!1)}},m=g=>g.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2),p=g=>e.employees.filter(v=>v.managerId===g);return n?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"text-gray-500",children:"Loading hierarchy..."})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Employee Hierarchy"}),o.jsx("p",{className:"text-gray-600",children:"View your organizational structure and reporting lines"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.clusterHead&&o.jsx("div",{className:"flex justify-center mb-12",children:o.jsx("div",{className:"text-center",children:o.jsxs("div",{className:"inline-block",children:[o.jsx("div",{className:`w-32 h-32 rounded-2xl flex items-center justify-center mb-4 ${e.clusterHead.employeeId===t.employeeId?"bg-gradient-to-br from-purple-500 to-pink-500 ring-4 ring-purple-200":"bg-gradient-to-br from-blue-500 to-indigo-500"}`,children:o.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-2xl text-gray-700",children:m(e.clusterHead.name)})})}),o.jsxs("div",{className:"px-6 py-3 bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg border-2 border-purple-300",children:[o.jsx("p",{className:"font-semibold text-gray-900",children:e.clusterHead.name}),o.jsx("p",{className:"text-sm text-purple-700",children:"Cluster Manager"}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.clusterHead.employeeId})]})]})})}),e.clusterHead&&e.managers.length>0&&o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("div",{className:"w-px h-12 bg-gray-300"})}),e.managers.length>1&&o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("div",{className:"relative w-full max-w-5xl",children:o.jsx("div",{className:"absolute top-0 left-1/4 right-1/4 h-px bg-gray-300"})})}),e.managers.length>0&&o.jsx("div",{className:"flex justify-center gap-12 mb-12",children:e.managers.map(g=>o.jsxs("div",{className:"text-center relative",children:[o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-12 w-px h-12 bg-gray-300"}),o.jsxs("div",{className:"inline-block",children:[o.jsx("div",{className:`w-28 h-28 rounded-2xl flex items-center justify-center mb-4 ${g.employeeId===t.employeeId?"bg-gradient-to-br from-purple-500 to-pink-500 ring-4 ring-purple-200":"bg-gradient-to-br from-green-400 to-emerald-500"}`,children:o.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-xl text-gray-700",children:m(g.name)})})}),o.jsxs("div",{className:"px-4 py-3 bg-gradient-to-r from-green-100 to-emerald-100 rounded-lg border-2 border-green-300",children:[o.jsx("p",{className:"font-semibold text-gray-900",children:g.name}),o.jsx("p",{className:"text-sm text-green-700",children:g.role==="manager"?"Manager":g.role}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:g.employeeId})]})]}),p(g.employeeId).length>0&&o.jsx("div",{className:"flex justify-center mt-8",children:o.jsx("div",{className:"w-px h-12 bg-gray-300"})}),p(g.employeeId).length>1&&o.jsx("div",{className:"flex justify-center mt-12",children:o.jsx("div",{className:"relative w-full",children:o.jsx("div",{className:"absolute top-0 left-1/4 right-1/4 h-px bg-gray-300"})})}),p(g.employeeId).length>0&&o.jsx("div",{className:"flex justify-center gap-6 mt-12",children:p(g.employeeId).map(v=>o.jsxs("div",{className:"text-center relative",children:[o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-12 w-px h-12 bg-gray-300"}),o.jsxs("div",{className:"inline-block",children:[o.jsx("div",{className:`w-20 h-20 rounded-xl flex items-center justify-center mb-3 ${v.employeeId===t.employeeId?"bg-gradient-to-br from-purple-500 to-pink-500 ring-4 ring-purple-200":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:o.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-700",children:m(v.name)})})}),o.jsxs("div",{className:"px-3 py-2 bg-gray-100 rounded-lg border-2 border-gray-300 max-w-[140px]",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:v.name}),o.jsx("p",{className:"text-xs text-gray-600",children:v.role==="employee"?"Employee":v.role}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:v.employeeId})]})]})]},v.employeeId))})]},g.employeeId))}),e.managers.length===0&&e.employees.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("div",{className:"w-px h-12 bg-gray-300"})}),e.employees.length>1&&o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("div",{className:"relative w-full max-w-4xl",children:o.jsx("div",{className:"absolute top-0 left-1/4 right-1/4 h-px bg-gray-300"})})}),o.jsx("div",{className:"flex justify-center gap-6 flex-wrap",children:e.employees.map(g=>o.jsxs("div",{className:"text-center relative",children:[o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-12 w-px h-12 bg-gray-300"}),o.jsxs("div",{className:"inline-block",children:[o.jsx("div",{className:`w-20 h-20 rounded-xl flex items-center justify-center mb-3 ${g.employeeId===t.employeeId?"bg-gradient-to-br from-purple-500 to-pink-500 ring-4 ring-purple-200":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:o.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-700",children:m(g.name)})})}),o.jsxs("div",{className:"px-3 py-2 bg-gray-100 rounded-lg border-2 border-gray-300 max-w-[140px]",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:g.name}),o.jsx("p",{className:"text-xs text-gray-600",children:"Employee"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.employeeId})]})]})]},g.employeeId))})]}),!e.clusterHead&&e.managers.length===0&&e.employees.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ku,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg text-gray-600 mb-2",children:"No Hierarchy Found"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Your organizational hierarchy hasn't been set up yet."})]})]}),o.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Legend"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 ring-4 ring-purple-200 rounded-lg"}),o.jsx("span",{className:"text-sm text-gray-700",children:"You (Current User)"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Cluster Manager"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-emerald-500 rounded-lg"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Manager"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-400 to-gray-500 rounded-lg"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Employee"})]})]})]})]})})}function o2({user:t}){const[e,r]=R.useState(()=>t.role==="employee"||t.role==="manager"?"timesheet":t.role==="cluster_head"?"approve-timesheet":"timesheet"),[n,a]=R.useState(0),[s,l]=R.useState(!1),u=t.role==="employee",d=t.role==="manager",h=t.role==="cluster_head";return console.log("AttendancePortal: user =",t),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:[(d||h)&&!t.employeeId&&o.jsx("div",{className:"bg-red-50 border-b border-red-200 p-4",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-red-600 text-white rounded-full flex items-center justify-center text-sm",children:"!"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-red-900 font-medium",children:"Employee ID Not Found"}),o.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Your account doesn't have an employee ID associated with it. This means:"}),o.jsxs("ul",{className:"text-sm text-red-700 mt-2 list-disc list-inside space-y-1",children:[o.jsx("li",{children:"You won't be able to see employees assigned to you"}),o.jsx("li",{children:"Approval workflows won't work properly"}),o.jsx("li",{children:"Employees you create won't be linked to your account"})]}),o.jsxs("p",{className:"text-sm text-red-800 mt-2 font-medium",children:[o.jsx("strong",{children:"Solution:"})," Log out and log back in. If the problem persists, your account needs to be recreated through the Employee Management system."]}),o.jsxs("p",{className:"text-xs text-red-600 mt-2",children:["Debug Info: email=",t.email,", role=",t.role,", employeeId=",t.employeeId||"NULL"]})]})]})})}),o.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-40",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center overflow-x-auto py-4 gap-2 scrollbar-hide",children:[u&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>r("timesheet"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${e==="timesheet"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(Or,{className:"w-4 h-4"}),"Update Timesheet"]}),o.jsxs("button",{onClick:()=>r("leave"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${e==="leave"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(lr,{className:"w-4 h-4"}),"Apply for Leave"]}),o.jsxs("button",{onClick:()=>r("hierarchy"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${e==="hierarchy"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(u2,{className:"w-4 h-4"}),"My Manager"]})]}),d&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>r("timesheet"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${e==="timesheet"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(Or,{className:"w-4 h-4"}),"My Timesheet"]}),o.jsxs("button",{onClick:()=>r("leave"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${e==="leave"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(lr,{className:"w-4 h-4"}),"My Leave"]}),o.jsxs("button",{onClick:()=>r("approve-timesheet"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${e==="approve-timesheet"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(ds,{className:"w-4 h-4"}),"Approve Timesheets"]}),o.jsxs("button",{onClick:()=>r("approve-leave"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${e==="approve-leave"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(ds,{className:"w-4 h-4"}),"Approve Leaves"]}),o.jsxs("button",{onClick:()=>r("team"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${e==="team"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(kt,{className:"w-4 h-4"}),"My Team"]})]}),h&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>r("approve-timesheet"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${e==="approve-timesheet"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(ds,{className:"w-4 h-4"}),"Approve Manager Timesheets"]}),o.jsxs("button",{onClick:()=>r("approve-leave"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${e==="approve-leave"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(ds,{className:"w-4 h-4"}),"Approve Manager Leaves"]}),o.jsxs("button",{onClick:()=>r("managers"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${e==="managers"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(kt,{className:"w-4 h-4"}),"Manager Overview"]}),o.jsxs("button",{onClick:()=>r("assign-managers"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${e==="assign-managers"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(pR,{className:"w-4 h-4"}),"Assign Managers"]})]})]})})}),o.jsxs("div",{children:[e==="timesheet"&&o.jsx(wX,{user:{employeeId:t.employeeId||"",name:t.name,email:t.email}}),e==="leave"&&o.jsx(jX,{user:{employeeId:t.employeeId||"",name:t.name,email:t.email,joiningDate:t.joiningDate}}),e==="approve-timesheet"&&(d||h)&&o.jsx(SX,{managerId:t.employeeId||"",role:t.role}),e==="approve-leave"&&(d||h)&&o.jsx(NX,{managerId:t.employeeId||"",managerName:t.name,role:t.role}),e==="team"&&d&&o.jsx(EX,{managerId:t.employeeId||"",role:"manager"},n),e==="hierarchy"&&u&&o.jsx(s2,{currentUser:{employeeId:t.employeeId||"",role:t.role,email:t.email,name:t.name}},n),e==="managers"&&h&&o.jsx(s2,{currentUser:{employeeId:t.employeeId||"",role:t.role,email:t.email,name:t.name}},n),e==="assign-managers"&&h&&o.jsx(OX,{clusterHeadId:t.employeeId||""},n)]})]})}function kX({userRole:t}){const[e,r]=R.useState([]),[n,a]=R.useState([]),[s,l]=R.useState([]),[u,d]=R.useState({totalClusterHeads:0,totalManagers:0,totalEmployees:0}),[h,m]=R.useState(!1),[p,g]=R.useState(!1),[v,j]=R.useState(!1),[w,x]=R.useState(null),[_,N]=R.useState(null),[E,A]=R.useState([]),[O,k]=R.useState([]);R.useEffect(()=>{P()},[]);const P=async()=>{try{m(!0);const I=await pX();r(I.hierarchy||[]),a(I.unassignedManagers||[]),l(I.unassignedEmployees||[]),d(I.stats||{totalClusterHeads:0,totalManagers:0,totalEmployees:0});const C=await mX();A(C);const U=(await sc()).filter(G=>G.role==="manager");k(U)}catch(I){console.error("Error loading hierarchy:",I),alert("Failed to load organizational hierarchy")}finally{m(!1)}},D=async(I,C)=>{try{await hX(I,C),alert("Cluster head assigned successfully!"),g(!1),x(null),await P()}catch(B){console.error("Error assigning cluster head:",B),alert("Failed to assign cluster head")}},$=async(I,C)=>{try{await tI(I,C),alert("Manager assigned successfully!"),j(!1),N(null),await P()}catch(B){console.error("Error assigning manager:",B),alert("Failed to assign manager")}};return h?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-500",children:"Loading hierarchy..."})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Organizational Hierarchy"}),o.jsx("p",{className:"text-gray-600",children:"Manage reporting relationships across the organization"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ku,{className:"w-12 h-12 opacity-80"}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-3xl",children:u.totalClusterHeads}),o.jsx("div",{className:"text-sm opacity-90",children:"Cluster Heads"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Dp,{className:"w-12 h-12 opacity-80"}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-3xl",children:u.totalManagers}),o.jsx("div",{className:"text-sm opacity-90",children:"Managers"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl shadow-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(kt,{className:"w-12 h-12 opacity-80"}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-3xl",children:u.totalEmployees}),o.jsx("div",{className:"text-sm opacity-90",children:"Employees"})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl text-gray-900",children:"Organizational Structure"}),o.jsx(u2,{className:"w-6 h-6 text-purple-600"})]}),e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ku,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No hierarchy structure found. Create cluster heads to get started."})]}):o.jsx("div",{className:"space-y-6",children:e.map(I=>o.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white",children:o.jsx(Ku,{className:"w-6 h-6"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"text-lg text-gray-900",children:I.name}),o.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded",children:"Cluster Head"})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[I.employeeId,"  ",I.email]})]})]})}),I.managers&&I.managers.length>0&&o.jsx("div",{className:"p-4 bg-gray-50",children:I.managers.map(C=>o.jsxs("div",{className:"mb-4 last:mb-0 border border-gray-200 rounded-lg bg-white",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ml,{className:"w-5 h-5 text-gray-400"}),o.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white",children:o.jsx(Dp,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"text-gray-900",children:C.name}),o.jsx("span",{className:"px-2 py-1 bg-purple-600 text-white text-xs rounded",children:"Manager"})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[C.employeeId,"  ",C.email]})]})]})}),C.employees&&C.employees.length>0&&o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:C.employees.map(B=>o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-pink-50 rounded-lg",children:[o.jsx(ml,{className:"w-4 h-4 text-gray-400"}),o.jsx("div",{className:"w-8 h-8 bg-pink-600 rounded-full flex items-center justify-center text-white text-sm",children:o.jsx(gl,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm text-gray-900 truncate",children:B.name}),o.jsx("div",{className:"text-xs text-gray-600 truncate",children:B.employeeId})]})]},B.employeeId))})})]},C.employeeId))})]},I.employeeId))})]}),(n.length>0||s.length>0)&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.length>0&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg text-gray-900",children:"Unassigned Managers"}),o.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm rounded-full",children:n.length})]}),o.jsx("div",{className:"space-y-3",children:n.map(I=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:o.jsx(Dp,{className:"w-5 h-5 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900",children:I.name}),o.jsx("div",{className:"text-sm text-gray-600",children:I.employeeId})]})]})}),t==="cluster_head"&&o.jsx("button",{onClick:()=>{x(I),g(!0)},className:"w-full px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Assign Cluster Head"})]},I.employeeId))})]}),s.length>0&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg text-gray-900",children:"Unassigned Employees"}),o.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm rounded-full",children:s.length})]}),o.jsx("div",{className:"space-y-3",children:s.map(I=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center",children:o.jsx(gl,{className:"w-5 h-5 text-pink-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900",children:I.name}),o.jsx("div",{className:"text-sm text-gray-600",children:I.employeeId})]})]})}),(t==="cluster_head"||t==="manager")&&o.jsx("button",{onClick:()=>{N(I),j(!0)},className:"w-full px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Assign Manager"})]},I.employeeId))})]})]}),p&&w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-xl text-gray-900 mb-4",children:"Assign Cluster Head to Manager"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Manager: ",o.jsx("strong",{children:w.name})," (",w.employeeId,")"]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Select Cluster Head"}),o.jsxs("select",{id:"clusterHeadSelect",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[o.jsx("option",{value:"",disabled:!0,children:"Choose a cluster head..."}),E.map(I=>o.jsxs("option",{value:I.employeeId,children:[I.name," (",I.employeeId,")"]},I.employeeId))]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{const I=document.getElementById("clusterHeadSelect");I.value?D(w.employeeId,I.value):alert("Please select a cluster head")},className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:shadow-lg transition-all",children:"Assign"}),o.jsx("button",{onClick:()=>{g(!1),x(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})}),v&&_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-xl text-gray-900 mb-4",children:"Assign Manager to Employee"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Employee: ",o.jsx("strong",{children:_.name})," (",_.employeeId,")"]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Select Manager"}),o.jsxs("select",{id:"managerSelect",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",defaultValue:"",children:[o.jsx("option",{value:"",disabled:!0,children:"Choose a manager..."}),O.map(I=>o.jsxs("option",{value:I.employeeId,children:[I.name," (",I.employeeId,")"]},I.employeeId))]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{const I=document.getElementById("managerSelect");I.value?$(_.employeeId,I.value):alert("Please select a manager")},className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:shadow-lg transition-all",children:"Assign"}),o.jsx("button",{onClick:()=>{j(!1),N(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})})]})})}function AX({user:t}){const[e,r]=R.useState("employees"),[n,a]=R.useState([]),[s,l]=R.useState(!1),[u,d]=R.useState(!1),[h,m]=R.useState(!1),[p,g]=R.useState(null),[v,j]=R.useState(""),[w,x]=R.useState(null),[_,N]=R.useState(!1),[E,A]=R.useState(""),[O,k]=R.useState(""),[P,D]=R.useState({name:"",email:"",password:"",role:"employee",employmentType:"fulltime",joiningDate:new Date().toISOString().split("T")[0],dob:"",phone:""});console.log("EmployeeManagement: Current user:",t),console.log("EmployeeManagement: User employeeId:",t.employeeId),console.log("EmployeeManagement: User role:",t.role);const $=t.role==="manager",I=t.role==="cluster_head";R.useEffect(()=>{P.role==="cluster_head"&&D(F=>({...F,employmentType:"fulltime"}))},[P.role]),R.useEffect(()=>{C()},[]);const C=async()=>{try{l(!0);const F=await sc();let M=F;$?M=F.filter(H=>H.managerId===t.employeeId):I&&(M=F),a(M)}catch(F){console.error("Error loading employees:",F),alert("Failed to load employees")}finally{l(!1)}},B=async()=>{try{const M=(await sc()).map(oe=>{const K=oe.employeeId.match(/BM(\d+)/);return K?parseInt(K[1]):0}).filter(oe=>oe>0);return`BM${(M.length>0?Math.max(...M)+1:1).toString().padStart(3,"0")}`}catch(F){return console.error("Error generating employee ID:",F),`BM${Date.now().toString().slice(-3)}`}},U=(F,M)=>{const H=F.target.files?.[0];if(!H)return;const oe=new FileReader;oe.onloadend=()=>{const K=oe.result;M==="front"?A(K):k(K)},oe.readAsDataURL(H)},G=async()=>{if(!P.name||!P.email||!P.password){alert("Please fill all required fields");return}if($&&P.role==="manager"){alert("Only Cluster Heads can create managers");return}try{l(!0);const F=await B(),M={employeeId:F,name:P.name,email:P.email,password:P.password,role:P.role,employmentType:P.employmentType,joiningDate:P.joiningDate,dob:P.dob,phone:P.phone,status:"active",createdBy:t.email,createdAt:new Date().toISOString()};P.role==="employee"?M.managerId=t.employeeId:P.role==="manager"&&(M.clusterHeadId=t.employeeId),E&&(M.aadharFront=E),O&&(M.aadharBack=O),await uX(M),alert(`Employee created successfully! ID: ${F}`),D({name:"",email:"",password:"",role:"employee",employmentType:"fulltime",joiningDate:new Date().toISOString().split("T")[0],dob:"",phone:""}),A(""),k(""),d(!1),await C()}catch(F){console.error("Error creating employee:",F),alert("Failed to create employee. Email might already be in use.")}finally{l(!1)}},Y=async F=>{if(confirm("Are you sure you want to delete this employee?"))try{l(!0),await dX(F),alert("Employee deleted successfully"),await C()}catch(M){console.error("Error deleting employee:",M),alert("Failed to delete employee")}finally{l(!1)}},Q=F=>{g(F),m(!0)},re=async()=>{if(p)try{l(!0);const F={name:p.name,email:p.email,role:p.role,employmentType:p.employmentType,joiningDate:p.joiningDate,dob:p.dob,phone:p.phone,status:p.status};console.log("Updating employee with data:",F),await fX(p.employeeId,F),alert("Employee updated successfully!"),m(!1),g(null),await C()}catch(F){console.error("Error updating employee - full error:",F),console.error("Error updating employee - error message:",F instanceof Error?F.message:String(F)),alert(`Failed to update employee: ${F instanceof Error?F.message:String(F)}`)}finally{l(!1)}},ee=(()=>{const F=n.length,M=n.filter(J=>J.role==="manager").length,H=n.filter(J=>J.employmentType==="fulltime").length,oe=n.filter(J=>J.employmentType==="contract").length,K=n.filter(J=>J.status==="active").length;return{total:F,managers:M,fulltime:H,contract:oe,active:K}})();return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Employee Management"}),o.jsx("p",{className:"text-gray-600",children:"Unified employee, manager, and contract worker management"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),o.jsx("p",{className:"text-2xl text-gray-900",children:ee.total})]}),o.jsx(kt,{className:"w-8 h-8 text-purple-500"})]})}),I&&o.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Managers"}),o.jsx("p",{className:"text-2xl text-gray-900",children:ee.managers})]}),o.jsx(kt,{className:"w-8 h-8 text-blue-500"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Full-Time"}),o.jsx("p",{className:"text-2xl text-gray-900",children:ee.fulltime})]}),o.jsx(vs,{className:"w-8 h-8 text-green-500"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Contract"}),o.jsx("p",{className:"text-2xl text-gray-900",children:ee.contract})]}),o.jsx(vs,{className:"w-8 h-8 text-orange-500"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),o.jsx("p",{className:"text-2xl text-gray-900",children:ee.active})]}),o.jsx(kt,{className:"w-8 h-8 text-pink-500"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md mb-6",children:o.jsxs("div",{className:"flex border-b border-gray-200",children:[o.jsx("button",{onClick:()=>r("employees"),className:`flex-1 px-6 py-4 text-center transition-colors ${e==="employees"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-gray-900"}`,children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(kt,{className:"w-5 h-5"}),o.jsx("span",{children:"Employee List"})]})}),o.jsx("button",{onClick:()=>r("hierarchy"),className:`flex-1 px-6 py-4 text-center transition-colors ${e==="hierarchy"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-gray-900"}`,children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(kt,{className:"w-5 h-5"}),o.jsx("span",{children:"Hierarchy"})]})})]})}),e==="hierarchy"?o.jsx(kX,{userRole:t.role}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(ZD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search by name, ID, or email...",value:v,onChange:F=>j(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(ka,{className:"w-5 h-5"}),"Add ",I?"Employee/Manager":"Employee"]}),I&&o.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(ID,{className:"w-5 h-5"}),"Create Login Accounts"]})]})]})}),u&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 rounded-t-xl",children:o.jsxs("h2",{className:"text-2xl",children:["Create New ",I?"Employee/Manager":"Employee"]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[I&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Role *"}),o.jsxs("select",{value:P.role,onChange:F=>D({...P,role:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[o.jsx("option",{value:"employee",children:"Employee"}),o.jsx("option",{value:"manager",children:"Manager"}),o.jsx("option",{value:"cluster_head",children:"Cluster Head"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Employment Type *"}),o.jsxs("select",{value:P.employmentType,onChange:F=>D({...P,employmentType:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:P.role==="cluster_head",children:[o.jsx("option",{value:"fulltime",children:"Full-Time"}),P.role!=="cluster_head"&&o.jsx("option",{value:"contract",children:"Contract"})]}),P.role==="cluster_head"&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cluster heads are always full-time employees"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Full Name *"}),o.jsx("input",{type:"text",value:P.name,onChange:F=>D({...P,name:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter full name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Email *"}),o.jsx("input",{type:"email",value:P.email,onChange:F=>D({...P,email:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"employee@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Password *"}),o.jsx("input",{type:"password",value:P.password,onChange:F=>D({...P,password:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Create a password"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Date of Birth"}),o.jsx("input",{type:"date",value:P.dob,onChange:F=>D({...P,dob:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",value:P.phone,onChange:F=>D({...P,phone:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"+91 9876543210"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Joining Date *"}),o.jsx("input",{type:"date",value:P.joiningDate,onChange:F=>D({...P,joiningDate:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),P.role==="employee"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Aadhar Card (Front)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors",children:[o.jsx(ku,{className:"w-5 h-5"}),E?"Change Front":"Upload Front",o.jsx("input",{type:"file",accept:"image/*",onChange:F=>U(F,"front"),className:"hidden"})]}),E&&o.jsx("span",{className:"text-sm text-green-600",children:" Uploaded"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Aadhar Card (Back)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors",children:[o.jsx(ku,{className:"w-5 h-5"}),O?"Change Back":"Upload Back",o.jsx("input",{type:"file",accept:"image/*",onChange:F=>U(F,"back"),className:"hidden"})]}),O&&o.jsx("span",{className:"text-sm text-green-600",children:" Uploaded"})]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{onClick:G,disabled:s,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg hover:shadow-lg transition-all disabled:opacity-50",children:s?"Creating...":"Create Employee"}),o.jsx("button",{onClick:()=>{d(!1),D({name:"",email:"",password:"",role:"employee",employmentType:"fulltime",joiningDate:new Date().toISOString().split("T")[0],dob:"",phone:""}),A(""),k("")},className:"px-6 bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),h&&p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 rounded-t-xl",children:o.jsx("h2",{className:"text-2xl",children:"Edit Employee"})}),o.jsxs("div",{className:"p-6 space-y-4",children:[I&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Role *"}),o.jsxs("select",{value:p.role,onChange:F=>g({...p,role:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[o.jsx("option",{value:"employee",children:"Employee"}),o.jsx("option",{value:"manager",children:"Manager"}),o.jsx("option",{value:"cluster_head",children:"Cluster Head"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Employment Type *"}),o.jsxs("select",{value:p.employmentType,onChange:F=>g({...p,employmentType:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[o.jsx("option",{value:"fulltime",children:"Full-Time"}),o.jsx("option",{value:"contract",children:"Contract"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Full Name *"}),o.jsx("input",{type:"text",value:p.name,onChange:F=>g({...p,name:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter full name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Email *"}),o.jsx("input",{type:"email",value:p.email,onChange:F=>g({...p,email:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"employee@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Date of Birth"}),o.jsx("input",{type:"date",value:p.dob,onChange:F=>g({...p,dob:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",value:p.phone,onChange:F=>g({...p,phone:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"+91 9876543210"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Joining Date *"}),o.jsx("input",{type:"date",value:p.joiningDate,onChange:F=>g({...p,joiningDate:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),p.role==="employee"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Aadhar Card (Front)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors",children:[o.jsx(ku,{className:"w-5 h-5"}),E?"Change Front":"Upload Front",o.jsx("input",{type:"file",accept:"image/*",onChange:F=>U(F,"front"),className:"hidden"})]}),E&&o.jsx("span",{className:"text-sm text-green-600",children:" Uploaded"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Aadhar Card (Back)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors",children:[o.jsx(ku,{className:"w-5 h-5"}),O?"Change Back":"Upload Back",o.jsx("input",{type:"file",accept:"image/*",onChange:F=>U(F,"back"),className:"hidden"})]}),O&&o.jsx("span",{className:"text-sm text-green-600",children:" Uploaded"})]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{onClick:re,disabled:s,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg hover:shadow-lg transition-all disabled:opacity-50",children:s?"Updating...":"Update Employee"}),o.jsx("button",{onClick:()=>{m(!1),g(null),A(""),k("")},className:"px-6 bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Employee ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Email"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Joining Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:"Loading employees..."})}):n.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:"No employees found"})}):n.map(F=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:F.employeeId})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:F.name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:F.email}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${F.role==="manager"?"bg-blue-100 text-blue-700":F.role==="cluster_head"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:F.role==="manager"?"Manager":F.role==="cluster_head"?"Cluster Head":"Employee"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${F.employmentType==="fulltime"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:F.employmentType==="fulltime"?"Full-Time":"Contract"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:new Date(F.joiningDate).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${F.status==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:F.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>x(F),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:o.jsx(vs,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>Y(F.employeeId),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(qn,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>Q(F),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:o.jsx(oi,{className:"w-5 h-5"})})]})})]},F.employeeId))})]})})}),w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 rounded-t-xl",children:o.jsx("h2",{className:"text-2xl",children:"Employee Details"})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Employee ID"}),o.jsx("p",{className:"text-gray-900",children:w.employeeId})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),o.jsx("p",{className:"text-gray-900",children:w.name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),o.jsx("p",{className:"text-gray-900",children:w.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Role"}),o.jsx("p",{className:"text-gray-900",children:w.role})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Employment Type"}),o.jsx("p",{className:"text-gray-900",children:w.employmentType})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Joining Date"}),o.jsx("p",{className:"text-gray-900",children:new Date(w.joiningDate).toLocaleDateString()})]}),w.dob&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Date of Birth"}),o.jsx("p",{className:"text-gray-900",children:new Date(w.dob).toLocaleDateString()})]}),w.phone&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),o.jsx("p",{className:"text-gray-900",children:w.phone})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),o.jsx("p",{className:"text-gray-900",children:w.status})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Created By"}),o.jsx("p",{className:"text-gray-900",children:w.createdBy})]})]}),w.aadharFront&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Aadhar Card (Front)"}),o.jsx("img",{src:w.aadharFront,alt:"Aadhar Front",className:"w-full rounded-lg border border-gray-300"})]}),w.aadharBack&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Aadhar Card (Back)"}),o.jsx("img",{src:w.aadharBack,alt:"Aadhar Back",className:"w-full rounded-lg border border-gray-300"})]}),o.jsx("button",{onClick:()=>x(null),className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-all",children:"Close"})]})]})}),_&&o.jsx(rI,{onClose:()=>N(!1),employees:n.filter(F=>F.status==="active")})]})]})})}function PX(){const[t,e]=R.useState(!1),[r,n]=R.useState(!1),[a,s]=R.useState(""),[l,u]=R.useState(null),d=async()=>{try{e(!0),s(""),n(!1);const h=await fetch(`https://${ji}.supabase.co/functions/v1/make-server-c2dd9b9d/setup-cluster-head`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify({email:"subham.tewari@bunnymomos.com",password:"Subham@186",name:"Subham Tewari"})}),m=await h.json();if(!h.ok)throw new Error(m.error||m.details||"Failed to setup account");n(!0),u(m),console.log("Setup successful:",m)}catch(h){console.error("Setup error:",h),s(h instanceof Error?h.message:"Failed to setup account")}finally{e(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-6",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ka,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Setup Cluster Head Account"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"This will create a cluster head account for Subham Tewari"})]}),a&&o.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[o.jsx(Cr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-900",children:"Error"}),o.jsx("p",{className:"text-sm text-red-700 mt-1",children:a})]})]}),r&&l&&o.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx(Xr,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-900",children:"Success!"}),o.jsx("p",{className:"text-sm text-green-700 mt-1",children:l.message})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Email:"}),o.jsx("span",{className:"font-medium text-gray-900",children:l.email})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Employee ID:"}),o.jsx("span",{className:"font-medium text-purple-600",children:l.employeeId})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Password:"}),o.jsx("span",{className:"font-medium text-gray-900",children:"Subham@186"})]})]}),o.jsx("p",{className:"text-xs text-green-700 mt-3",children:"You can now log in with these credentials"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Email:"}),o.jsx("span",{className:"font-medium text-gray-900",children:"subham.tewari@bunnymomos.com"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Password:"}),o.jsx("span",{className:"font-medium text-gray-900",children:"Subham@186"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Name:"}),o.jsx("span",{className:"font-medium text-gray-900",children:"Subham Tewari"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Role:"}),o.jsx("span",{className:"font-medium text-purple-600",children:"Cluster Head"})]})]}),o.jsx("button",{onClick:d,disabled:t||r,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Setting up..."]}):r?o.jsxs(o.Fragment,{children:[o.jsx(Xr,{className:"w-5 h-5"}),"Account Created"]}):o.jsxs(o.Fragment,{children:[o.jsx(ka,{className:"w-5 h-5"}),"Create Cluster Head Account"]})}),r&&o.jsx("a",{href:"/login",className:"block w-full text-center bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-all",children:"Go to Login"})]}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-blue-900 font-medium mb-2",children:"What this will do:"}),o.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[o.jsx("li",{children:" Delete any existing account with this email"}),o.jsx("li",{children:" Create a new cluster head account"}),o.jsx("li",{children:" Generate a unique employee ID (e.g., BM001)"}),o.jsx("li",{children:" Set up proper permissions and access"})]})]})]})})}function TX(){const[t,e]=R.useState("analytics"),[r,n]=R.useState(null),[a,s]=R.useState(null),[l,u]=R.useState(!0),[d,h]=R.useState([]),[m,p]=R.useState([]),[g,v]=R.useState([]),[j,w]=R.useState(!1),[x,_]=R.useState(null),[N,E]=R.useState(!1),A=io(),k=new URLSearchParams(window.location.search).get("setup")==="cluster-head",P=async K=>{w(!0),_(null);try{const[J,ne,pe]=await Promise.all([JC(K),QC(K),ZC(K)]);h(J),p(ne),v(pe)}catch(J){console.error("Error loading data:",J),_("Failed to load inventory data. Please refresh the page.")}finally{w(!1)}};R.useEffect(()=>{(async()=>{try{try{console.log("Attempting to delete old cluster head accounts..."),await yX("subham.tewari@bunnymomos.com"),console.log("Successfully deleted old cluster head account")}catch(ne){console.log("No old cluster head account to delete or deletion error:",ne)}const{data:{session:J}}=await A.auth.getSession();if(J?.user){const ne={email:J.user.email||"",name:J.user.user_metadata?.name||J.user.email?.split("@")[0]||"User",role:J.user.user_metadata?.role||"manager",employeeId:J.user.user_metadata?.employeeId||null,accessToken:J.access_token};n(ne),await P(J.access_token)}}catch(J){console.log("Session check error:",J)}finally{u(!1)}})()},[]);const D=async(K,J)=>{s(null);try{const{data:ne,error:pe}=await A.auth.signInWithPassword({email:K,password:J});if(pe){s(pe.message);return}if(ne.user&&ne.session){const xe={email:ne.user.email||"",name:ne.user.user_metadata?.name||ne.user.email?.split("@")[0]||"User",role:ne.user.user_metadata?.role||"manager",employeeId:ne.user.user_metadata?.employeeId||null,accessToken:ne.session.access_token};n(xe),await P(ne.session.access_token)}}catch(ne){console.log("Login error:",ne),s("Failed to sign in. Please try again.")}},$=async(K,J,ne,pe)=>{s(null);try{const xe=await fetch(`https://${ji}.supabase.co/functions/v1/make-server-c2dd9b9d/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ye}`},body:JSON.stringify({email:K,password:J,name:ne,role:pe})}),le=await xe.json();if(!xe.ok){s(le.error||"Failed to create account");return}await D(K,J)}catch(xe){console.log("Signup error:",xe),s("Failed to create account. Please try again.")}},I=async()=>{await A.auth.signOut(),n(null),h([]),p([]),v([]),e("sales")},C=async K=>{if(r)try{const J=await qY(r.accessToken,K);h([...d,J])}catch(J){throw console.error("Error adding inventory item:",J),J}},B=async K=>{if(r)try{const J=await WY(r.accessToken,K);p([...m,J])}catch(J){throw console.error("Error adding overhead item:",J),J}},U=async K=>{if(r)try{await HY(r.accessToken,K),h(d.filter(J=>J.id!==K))}catch(J){throw console.error("Error deleting inventory item:",J),J}},G=async K=>{if(r)try{await VY(r.accessToken,K),p(m.filter(J=>J.id!==K))}catch(J){throw console.error("Error deleting overhead item:",J),J}},Y=async(K,J)=>{if(r)try{const ne=await zY(r.accessToken,K,J);h(d.map(pe=>pe.id===K?ne:pe))}catch(ne){throw console.error("Error updating inventory item:",ne),ne}},Q=async(K,J)=>{if(r)try{const ne=await KY(r.accessToken,K,J);p(m.map(pe=>pe.id===K?ne:pe))}catch(ne){throw console.error("Error updating overhead item:",ne),ne}},re=async K=>{if(r)try{console.log("Frontend - Current user:",r),console.log("Frontend - User role:",r.role),console.log("Frontend - Access token (first 50 chars):",r.accessToken.substring(0,50));const J=await GY(r.accessToken,K);v([...g,J])}catch(J){throw console.error("Error adding sales data:",J),J}},V=async(K,J)=>{if(r)try{const ne=await YY(r.accessToken,K,J);v(g.map(pe=>pe.id===K?ne:pe))}catch(ne){throw console.error("Error updating sales data:",ne),ne}},ee=async K=>{if(r)try{const J=await XY(r.accessToken,K);v(g.map(ne=>ne.id===K?J:ne))}catch(J){throw console.error("Error approving sales data:",J),J}},F=async()=>{if(r&&confirm(" WARNING: This will delete ALL inventory, overhead, and sales data. This action cannot be undone. Are you sure?"))try{await JY(r.accessToken),h([]),p([]),v([]),alert("All data has been cleared successfully.")}catch(K){console.error("Error clearing data:",K),alert("Failed to clear data. Please try again.")}},M={inventory:d,overheads:m,salesData:g,addInventoryItem:C,addOverheadItem:B,updateInventoryItem:Y,updateOverheadItem:Q,deleteInventoryItem:U,deleteOverheadItem:G,addSalesData:re,updateSalesData:V,approveSalesData:ee,isManager:r?.role==="manager",user:r};if(l)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(si,{className:"w-12 h-12 text-[#B0A8D8] mx-auto mb-4 animate-pulse"}),o.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(k)return o.jsx(PX,{});if(!r)return o.jsx(bX,{onLogin:D,onSignup:$,error:a});const H=r.role==="cluster_head";return r.role==="employee"?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg sm:text-xl text-gray-900",children:"Employee Portal"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:r.name})]}),o.jsx("button",{onClick:()=>E(!N),className:"lg:hidden flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:N?o.jsx(pn,{className:"w-5 h-5"}):o.jsx(L1,{className:"w-5 h-5"})}),o.jsxs("div",{className:"hidden lg:flex gap-2",children:[o.jsxs("button",{onClick:()=>e("analytics"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${t==="analytics"?"bg-[#D4A5FF] text-gray-800 border-2 border-[#C7A7FF]":"bg-gray-50 text-gray-700 hover:bg-[#F5F0FF] border-2 border-transparent"}`,children:[o.jsx(mr,{className:"w-4 h-4"}),o.jsx("span",{children:"Analytics"})]}),o.jsxs("button",{onClick:()=>e("payroll"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${t==="payroll"?"bg-[#B0E0E6] text-gray-800 border-2 border-[#AEC6CF]":"bg-gray-50 text-gray-700 hover:bg-[#F0F8FF] border-2 border-transparent"}`,children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{children:"My Payouts"})]}),o.jsxs("button",{onClick:()=>e("attendance"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${t==="attendance"?"bg-[#FFDAB9] text-gray-800 border-2 border-[#FFB347]":"bg-gray-50 text-gray-700 hover:bg-[#FFF5EE] border-2 border-transparent"}`,children:[o.jsx(Or,{className:"w-4 h-4"}),o.jsx("span",{children:"Attendance"})]}),o.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[o.jsx(Ou,{className:"w-4 h-4"}),o.jsx("span",{children:"Logout"})]})]})]}),N&&o.jsxs("div",{className:"lg:hidden border-t border-gray-200 py-4 space-y-2",children:[o.jsxs("button",{onClick:()=>{e("analytics"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="analytics"?"bg-[#D4A5FF] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#F5F0FF]"}`,children:[o.jsx(mr,{className:"w-5 h-5"}),o.jsx("span",{children:"Analytics"})]}),o.jsxs("button",{onClick:()=>{e("payroll"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="payroll"?"bg-[#B0E0E6] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#F0F8FF]"}`,children:[o.jsx(kt,{className:"w-5 h-5"}),o.jsx("span",{children:"My Payouts"})]}),o.jsxs("button",{onClick:()=>{e("attendance"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="attendance"?"bg-[#FFDAB9] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF5EE]"}`,children:[o.jsx(Or,{className:"w-5 h-5"}),o.jsx("span",{children:"Attendance"})]}),o.jsxs("button",{onClick:I,className:"w-full flex items-center gap-3 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[o.jsx(Ou,{className:"w-5 h-5"}),o.jsx("span",{children:"Logout"})]})]})]})}),o.jsx("main",{className:"pb-6",children:t==="analytics"?o.jsx(a2,{context:M}):t==="payroll"?o.jsx(i2,{employeeId:r.employeeId||""}):t==="attendance"?o.jsx(o2,{user:{employeeId:r.employeeId,name:r.name,email:r.email,role:r.role}}):o.jsx(i2,{employeeId:r.employeeId||""})})]}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg sm:text-xl text-gray-900",children:"Bhandar-IMS"}),o.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[r.name," (",r.role==="manager"?"Manager":"Cluster Head",")"]})]}),o.jsx("button",{onClick:()=>E(!N),className:"lg:hidden flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:N?o.jsx(pn,{className:"w-5 h-5"}):o.jsx(L1,{className:"w-5 h-5"})}),o.jsxs("div",{className:"hidden lg:flex gap-2 flex-wrap",children:[H?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>e("analytics"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t==="analytics"?"bg-[#D4A5FF] text-gray-800 border-2 border-[#C7A7FF]":"bg-gray-50 text-gray-700 hover:bg-[#F5F0FF] border-2 border-transparent"}`,children:[o.jsx(mr,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Analytics"})]}),o.jsxs("button",{onClick:()=>e("sales"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t==="sales"?"bg-[#FFD4E5] text-gray-800 border-2 border-[#FFC0D9]":"bg-gray-50 text-gray-700 hover:bg-[#FFF5F8] border-2 border-transparent"}`,children:[o.jsx(Gr,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Sales"})]}),o.jsxs("button",{onClick:()=>e("payroll"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t==="payroll"?"bg-[#B0E0E6] text-gray-800 border-2 border-[#AEC6CF]":"bg-gray-50 text-gray-700 hover:bg-[#F0F8FF] border-2 border-transparent"}`,children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Payroll"})]}),o.jsxs("button",{onClick:()=>e("export"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t==="export"?"bg-[#FFE5B4] text-gray-800 border-2 border-[#FFD700]":"bg-gray-50 text-gray-700 hover:bg-[#FFF8DC] border-2 border-transparent"}`,children:[o.jsx(tl,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Export"})]}),o.jsxs("button",{onClick:()=>e("attendance"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t==="attendance"?"bg-[#FFDAB9] text-gray-800 border-2 border-[#FFB347]":"bg-gray-50 text-gray-700 hover:bg-[#FFF5EE] border-2 border-transparent"}`,children:[o.jsx(Or,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Attendance"})]}),o.jsxs("button",{onClick:()=>e("employees"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t==="employees"?"bg-[#E6E6FA] text-gray-800 border-2 border-[#D8BFD8]":"bg-gray-50 text-gray-700 hover:bg-[#F8F8FF] border-2 border-transparent"}`,children:[o.jsx(ka,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Employees"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>e("analytics"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t==="analytics"?"bg-[#D4A5FF] text-gray-800 border-2 border-[#C7A7FF]":"bg-gray-50 text-gray-700 hover:bg-[#F5F0FF] border-2 border-transparent"}`,children:[o.jsx(mr,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Analytics"})]}),o.jsxs("button",{onClick:()=>e("sales"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t==="sales"?"bg-[#FFD4E5] text-gray-800 border-2 border-[#FFC0D9]":"bg-gray-50 text-gray-700 hover:bg-[#FFF5F8] border-2 border-transparent"}`,children:[o.jsx(Gr,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Sales"})]}),o.jsxs("button",{onClick:()=>e("inventory"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t==="inventory"?"bg-[#C1E1C1] text-gray-800 border-2 border-[#B4E7CE]":"bg-gray-50 text-gray-700 hover:bg-[#F0FFF0] border-2 border-transparent"}`,children:[o.jsx(si,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Inventory"})]}),o.jsxs("button",{onClick:()=>e("payroll"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t==="payroll"?"bg-[#B0E0E6] text-gray-800 border-2 border-[#AEC6CF]":"bg-gray-50 text-gray-700 hover:bg-[#F0F8FF] border-2 border-transparent"}`,children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Payroll"})]}),o.jsxs("button",{onClick:()=>e("export"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t==="export"?"bg-[#FFE5B4] text-gray-800 border-2 border-[#FFD700]":"bg-gray-50 text-gray-700 hover:bg-[#FFF8DC] border-2 border-transparent"}`,children:[o.jsx(tl,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Export"})]}),o.jsxs("button",{onClick:()=>e("attendance"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t==="attendance"?"bg-[#FFDAB9] text-gray-800 border-2 border-[#FFB347]":"bg-gray-50 text-gray-700 hover:bg-[#FFF5EE] border-2 border-transparent"}`,children:[o.jsx(Or,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Attendance"})]})]}),o.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-3 py-2 bg-[#FFD4D4] text-gray-700 rounded-lg hover:bg-[#FFC0CB] transition-colors border-2 border-[#FFB6C1]",title:"Clear all data for testing",children:[o.jsx(qn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Clear"})]}),o.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[o.jsx(Ou,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"Logout"})]})]})]}),N&&o.jsxs("div",{className:"lg:hidden border-t border-gray-200 py-4 space-y-2",children:[H?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{e("analytics"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="analytics"?"bg-[#D4A5FF] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#F5F0FF]"}`,children:[o.jsx(mr,{className:"w-5 h-5"}),o.jsx("span",{children:"Analytics"})]}),o.jsxs("button",{onClick:()=>{e("sales"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="sales"?"bg-[#FFD4E5] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF5F8]"}`,children:[o.jsx(Gr,{className:"w-5 h-5"}),o.jsx("span",{children:"Sales"})]}),o.jsxs("button",{onClick:()=>{e("payroll"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="payroll"?"bg-[#B0E0E6] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#F0F8FF]"}`,children:[o.jsx(kt,{className:"w-5 h-5"}),o.jsx("span",{children:"Payroll"})]}),o.jsxs("button",{onClick:()=>{e("export"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="export"?"bg-[#FFE5B4] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF8DC]"}`,children:[o.jsx(tl,{className:"w-5 h-5"}),o.jsx("span",{children:"Export"})]}),o.jsxs("button",{onClick:()=>{e("attendance"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="attendance"?"bg-[#FFDAB9] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF5EE]"}`,children:[o.jsx(Or,{className:"w-5 h-5"}),o.jsx("span",{children:"Attendance"})]}),o.jsxs("button",{onClick:()=>{e("employees"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="employees"?"bg-[#E6E6FA] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#F8F8FF]"}`,children:[o.jsx(ka,{className:"w-5 h-5"}),o.jsx("span",{children:"Employees"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{e("analytics"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="analytics"?"bg-[#D4A5FF] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#F5F0FF]"}`,children:[o.jsx(mr,{className:"w-5 h-5"}),o.jsx("span",{children:"Analytics"})]}),o.jsxs("button",{onClick:()=>{e("sales"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="sales"?"bg-[#FFD4E5] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF5F8]"}`,children:[o.jsx(Gr,{className:"w-5 h-5"}),o.jsx("span",{children:"Sales"})]}),o.jsxs("button",{onClick:()=>{e("inventory"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="inventory"?"bg-[#C1E1C1] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#F0FFF0]"}`,children:[o.jsx(si,{className:"w-5 h-5"}),o.jsx("span",{children:"Inventory"})]}),o.jsxs("button",{onClick:()=>{e("payroll"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="payroll"?"bg-[#B0E0E6] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#F0F8FF]"}`,children:[o.jsx(kt,{className:"w-5 h-5"}),o.jsx("span",{children:"Payroll"})]}),o.jsxs("button",{onClick:()=>{e("export"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="export"?"bg-[#FFE5B4] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF8DC]"}`,children:[o.jsx(tl,{className:"w-5 h-5"}),o.jsx("span",{children:"Export"})]}),o.jsxs("button",{onClick:()=>{e("attendance"),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="attendance"?"bg-[#FFDAB9] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF5EE]"}`,children:[o.jsx(Or,{className:"w-5 h-5"}),o.jsx("span",{children:"Attendance"})]})]}),o.jsxs("button",{onClick:F,className:"w-full flex items-center gap-3 px-4 py-3 bg-[#FFD4D4] text-gray-700 rounded-lg hover:bg-[#FFC0CB] transition-colors",children:[o.jsx(qn,{className:"w-5 h-5"}),o.jsx("span",{children:"Clear All Data"})]}),o.jsxs("button",{onClick:I,className:"w-full flex items-center gap-3 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[o.jsx(Ou,{className:"w-5 h-5"}),o.jsx("span",{children:"Logout"})]})]})]})}),x&&o.jsx("div",{className:"bg-red-50 border-b border-red-200 px-4 py-3",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-2 text-red-800",children:[o.jsx(Cr,{className:"w-5 h-5"}),o.jsx("p",{className:"text-sm",children:x}),o.jsx("button",{onClick:()=>r&&P(r.accessToken),className:"ml-auto text-sm text-red-600 hover:text-red-700 underline",children:"Retry"})]})}),j&&o.jsx("div",{className:"bg-blue-50 border-b border-blue-200 px-4 py-3",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-2 text-blue-800",children:[o.jsx(si,{className:"w-5 h-5 animate-pulse"}),o.jsx("p",{className:"text-sm",children:"Loading inventory data..."})]})}),o.jsx("main",{className:"pb-6",children:t==="sales"?o.jsx(gX,{context:M}):t==="inventory"?o.jsx(ER,{context:M}):t==="payroll"?o.jsx(vX,{userRole:r.role,selectedDate:new Date().toISOString().split("T")[0],userEmployeeId:r.employeeId,userName:r.name}):t==="analytics"?o.jsx(a2,{context:M}):t==="export"?o.jsx(xX,{userRole:r.role}):t==="attendance"?o.jsx(o2,{user:{employeeId:r.employeeId,name:r.name,email:r.email,role:r.role}}):t==="employees"?o.jsx(AX,{user:{role:r.role,email:r.email,employeeId:r.employeeId,name:r.name}}):o.jsx(cV,{context:M})})]})}oD.createRoot(document.getElementById("root")).render(o.jsx(TX,{}));
