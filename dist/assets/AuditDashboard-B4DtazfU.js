import{c as D,r as x,j as e,V as a,Y as P,Z as k,D as A,_ as C,w as O,$ as V,a0 as R}from"./index-BWZpdZV9.js";import{C as L,A as H}from"./Analytics-5g9LM8FM.js";import{ProductionManagement as M}from"./ProductionManagement-CHV1dQpK.js";import"./trending-down-aB28BmeZ.js";import"./settings-fJ7XmbYr.js";import"./send-0T6r7yBU.js";import"./chevron-up-CkL4FlHT.js";import"./file-spreadsheet-ChLFIFh8.js";import"./logger-DDvOuVyC.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],E=D("shield-check",q);function Q({user:l,inventory:m,overheads:h,fixedCosts:y,salesData:n,categorySalesData:p,productionData:g,productionHouses:j,stockRequests:u,productionRequests:N,employees:o,stores:c,inventoryItems:b,onLogout:v,onDataUpdate:F}){const[s,f]=x.useState("analytics"),[r,z]=x.useState(null),[w,T]=x.useState(new Date().toISOString().split("T")[0]),d={inventory:m,overheads:h,fixedCosts:y,salesData:n,categorySalesData:p,productionData:g,productionHouses:j,stockRequests:u,productionRequests:N,employees:o,stores:c,managedStoreIds:[],managedProductionHouseIds:[],inventoryItems:b,loadInventoryItems:async()=>{},addInventoryItem:async()=>{},addOverheadItem:async()=>{},addFixedCostItem:async()=>{},updateInventoryItem:async()=>{},updateOverheadItem:async()=>{},updateFixedCostItem:async()=>{},deleteInventoryItem:async()=>{},deleteOverheadItem:async()=>{},deleteFixedCostItem:async()=>{},addSalesData:async()=>{},updateSalesData:async()=>{},approveSalesData:async()=>{},requestSalesApproval:async()=>{},approveDiscrepancy:async()=>{},rejectDiscrepancy:async()=>{},addProductionData:async()=>{},updateProductionData:async()=>{},approveProductionData:async()=>{},addProductionHouse:async()=>{},updateProductionHouse:async()=>{},updateProductionHouseInventory:async()=>{},deleteProductionHouse:async()=>{},setProductionHouses:()=>{},createStockRequest:async()=>{},fulfillStockRequest:async()=>{},cancelStockRequest:async()=>{},isManager:!1,user:l},S=[{id:"analytics",label:"Analytics",icon:L},{id:"inventory",label:"Inventory",icon:k},{id:"sales",label:"Sales",icon:A},{id:"production",label:"Production",icon:C},{id:"payroll",label:"Payroll",icon:O}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("nav",{className:"bg-gradient-to-r from-slate-600 via-slate-700 to-slate-800 shadow-xl sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(E,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-white text-lg font-bold",children:"Bhandar-IMS"}),e.jsx("p",{className:"text-xs text-slate-200",children:"Audit Dashboard"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:l.name}),e.jsxs("p",{className:"text-xs text-slate-200 flex items-center justify-end gap-1",children:[e.jsx(a,{className:"w-3 h-3"}),"Read-Only Access"]})]}),e.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all backdrop-blur-sm",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),e.jsx("div",{className:"flex gap-2 pb-3 overflow-x-auto",children:S.map(t=>e.jsxs("button",{onClick:()=>f(t.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap ${s===t.id?"bg-white text-slate-800 shadow-lg":"text-white hover:bg-white/10"}`,children:[e.jsx(t.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:t.label})]},t.id))})]})}),e.jsx("div",{className:"bg-amber-50 border-b border-amber-200 px-4 py-3",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-2 text-amber-800",children:[e.jsx(a,{className:"w-5 h-5 flex-shrink-0"}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Audit Mode:"})," You have read-only access to all data. You cannot create, edit, or delete any records."]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s==="analytics"&&e.jsx(H,{context:d,selectedStoreId:r}),s==="inventory"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Inventory View"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View-only access to inventory data"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg",children:[e.jsx(a,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Read-Only"})]})]}),e.jsx(V,{context:d,selectedStoreId:r})]}),s==="sales"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sales Data"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View-only access to sales records"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg",children:[e.jsx(a,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Read-Only"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Date"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Store"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Offline Sales"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Online Sales"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Cash"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Paytm"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Status"})]})}),e.jsx("tbody",{children:n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center py-12 text-gray-500",children:"No sales data available"})}):n.sort((t,i)=>new Date(i.date).getTime()-new Date(t.date).getTime()).slice(0,50).map(t=>{const i=c.find(I=>I.id===t.storeId);return e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:new Date(t.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:i?.name||"Unknown Store"}),e.jsxs("td",{className:"py-3 px-4 text-sm text-gray-900 text-right",children:["₹",t.offlineSales.toLocaleString("en-IN")]}),e.jsxs("td",{className:"py-3 px-4 text-sm text-gray-900 text-right",children:["₹",t.onlineSales.toLocaleString("en-IN")]}),e.jsxs("td",{className:"py-3 px-4 text-sm text-gray-900 text-right",children:["₹",t.cashAmount.toLocaleString("en-IN")]}),e.jsxs("td",{className:"py-3 px-4 text-sm text-gray-900 text-right",children:["₹",t.paytmAmount.toLocaleString("en-IN")]}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${t.approvalStatus==="approved"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.approvalStatus==="approved"?"Approved":"Pending"})})]},t.id)})})]})})]}),s==="production"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Production Data"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View-only access to production records"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg",children:[e.jsx(a,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Read-Only"})]})]}),e.jsx(M,{context:d,selectedStoreId:r})]}),s==="payroll"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payroll Data"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View-only access to payroll records"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg",children:[e.jsx(a,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Read-Only"})]})]}),e.jsx(R,{userRole:"audit",selectedDate:w,userName:l.name,userEmail:l.email,employees:o,stores:c})]})]})]})}export{Q as AuditDashboard};
