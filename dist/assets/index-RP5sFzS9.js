const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SalesManagement-D_AwZOBu.js","assets/trending-down-DL1x9TwU.js","assets/Analytics-Bl2leUrE.js","assets/settings-BuyoiAGJ.js","assets/send-Dn-athx5.js","assets/chevron-up-BmpRtKF5.js","assets/file-spreadsheet-Bh8TDl86.js","assets/logger-_tZMN4hm.js","assets/ExportData-DvEgKHYn.js","assets/EmployeeDashboard-D7acDapS.js","assets/phone-CbaEWjyE.js","assets/AuditDashboard-BHBZ9Ev5.js","assets/ProductionManagement-BfKOwz--.js","assets/AssetsManagement-DHBS8c4L.js","assets/ProductionHouseManagement-DkQUIzx9.js","assets/StockRequestManagement-WLDujjoR.js","assets/AdvancedInventoryManagement-B5b4YtGv.js","assets/badge-DPMKMFmx.js","assets/InventoryItemsManagement-DrjARvHV.js"])))=>i.map(i=>d[i]);
function iR(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function St(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tm={exports:{}},Wl={},Cm={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function oR(){if(mN)return lt;mN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=p&&M[p]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function b(M,U,te){this.props=M,this.context=U,this.refs=w,this.updater=te||v}b.prototype.isReactComponent={},b.prototype.setState=function(M,U){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,U,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function N(){}N.prototype=b.prototype;function k(M,U,te){this.props=M,this.context=U,this.refs=w,this.updater=te||v}var S=k.prototype=new N;S.constructor=k,j(S,b.prototype),S.isPureReactComponent=!0;var P=Array.isArray,E=Object.prototype.hasOwnProperty,O={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function T(M,U,te){var me,ge={},Me=null,Ke=null;if(U!=null)for(me in U.ref!==void 0&&(Ke=U.ref),U.key!==void 0&&(Me=""+U.key),U)E.call(U,me)&&!A.hasOwnProperty(me)&&(ge[me]=U[me]);var De=arguments.length-2;if(De===1)ge.children=te;else if(1<De){for(var ue=Array(De),xe=0;xe<De;xe++)ue[xe]=arguments[xe+2];ge.children=ue}if(M&&M.defaultProps)for(me in De=M.defaultProps,De)ge[me]===void 0&&(ge[me]=De[me]);return{$$typeof:t,type:M,key:Me,ref:Ke,props:ge,_owner:O.current}}function R(M,U){return{$$typeof:t,type:M.type,key:U,ref:M.ref,props:M.props,_owner:M._owner}}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function F(M){var U={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return U[te]})}var I=/\/+/g;function q(M,U){return typeof M=="object"&&M!==null&&M.key!=null?F(""+M.key):U.toString(36)}function K(M,U,te,me,ge){var Me=typeof M;(Me==="undefined"||Me==="boolean")&&(M=null);var Ke=!1;if(M===null)Ke=!0;else switch(Me){case"string":case"number":Ke=!0;break;case"object":switch(M.$$typeof){case t:case e:Ke=!0}}if(Ke)return Ke=M,ge=ge(Ke),M=me===""?"."+q(Ke,0):me,P(ge)?(te="",M!=null&&(te=M.replace(I,"$&/")+"/"),K(ge,U,te,"",function(xe){return xe})):ge!=null&&(D(ge)&&(ge=R(ge,te+(!ge.key||Ke&&Ke.key===ge.key?"":(""+ge.key).replace(I,"$&/")+"/")+M)),U.push(ge)),1;if(Ke=0,me=me===""?".":me+":",P(M))for(var De=0;De<M.length;De++){Me=M[De];var ue=me+q(Me,De);Ke+=K(Me,U,te,ue,ge)}else if(ue=g(M),typeof ue=="function")for(M=ue.call(M),De=0;!(Me=M.next()).done;)Me=Me.value,ue=me+q(Me,De++),Ke+=K(Me,U,te,ue,ge);else if(Me==="object")throw U=String(M),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Ke}function W(M,U,te){if(M==null)return M;var me=[],ge=0;return K(M,me,"","",function(Me){return U.call(te,Me,ge++)}),me}function J(M){if(M._status===-1){var U=M._result;U=U(),U.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=U)}if(M._status===1)return M._result.default;throw M._result}var re={current:null},G={transition:null},oe={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:G,ReactCurrentOwner:O};function Z(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:W,forEach:function(M,U,te){W(M,function(){U.apply(this,arguments)},te)},count:function(M){var U=0;return W(M,function(){U++}),U},toArray:function(M){return W(M,function(U){return U})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},lt.Component=b,lt.Fragment=r,lt.Profiler=a,lt.PureComponent=k,lt.StrictMode=n,lt.Suspense=d,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,lt.act=Z,lt.cloneElement=function(M,U,te){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var me=j({},M.props),ge=M.key,Me=M.ref,Ke=M._owner;if(U!=null){if(U.ref!==void 0&&(Me=U.ref,Ke=O.current),U.key!==void 0&&(ge=""+U.key),M.type&&M.type.defaultProps)var De=M.type.defaultProps;for(ue in U)E.call(U,ue)&&!A.hasOwnProperty(ue)&&(me[ue]=U[ue]===void 0&&De!==void 0?De[ue]:U[ue])}var ue=arguments.length-2;if(ue===1)me.children=te;else if(1<ue){De=Array(ue);for(var xe=0;xe<ue;xe++)De[xe]=arguments[xe+2];me.children=De}return{$$typeof:t,type:M.type,key:ge,ref:Me,props:me,_owner:Ke}},lt.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:i,_context:M},M.Consumer=M},lt.createElement=T,lt.createFactory=function(M){var U=T.bind(null,M);return U.type=M,U},lt.createRef=function(){return{current:null}},lt.forwardRef=function(M){return{$$typeof:u,render:M}},lt.isValidElement=D,lt.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:J}},lt.memo=function(M,U){return{$$typeof:h,type:M,compare:U===void 0?null:U}},lt.startTransition=function(M){var U=G.transition;G.transition={};try{M()}finally{G.transition=U}},lt.unstable_act=Z,lt.useCallback=function(M,U){return re.current.useCallback(M,U)},lt.useContext=function(M){return re.current.useContext(M)},lt.useDebugValue=function(){},lt.useDeferredValue=function(M){return re.current.useDeferredValue(M)},lt.useEffect=function(M,U){return re.current.useEffect(M,U)},lt.useId=function(){return re.current.useId()},lt.useImperativeHandle=function(M,U,te){return re.current.useImperativeHandle(M,U,te)},lt.useInsertionEffect=function(M,U){return re.current.useInsertionEffect(M,U)},lt.useLayoutEffect=function(M,U){return re.current.useLayoutEffect(M,U)},lt.useMemo=function(M,U){return re.current.useMemo(M,U)},lt.useReducer=function(M,U,te){return re.current.useReducer(M,U,te)},lt.useRef=function(M){return re.current.useRef(M)},lt.useState=function(M){return re.current.useState(M)},lt.useSyncExternalStore=function(M,U,te){return re.current.useSyncExternalStore(M,U,te)},lt.useTransition=function(){return re.current.useTransition()},lt.version="18.3.1",lt}var gN;function Tb(){return gN||(gN=1,Cm.exports=oR()),Cm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function lR(){if(yN)return Wl;yN=1;var t=Tb(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var m,p={},g=null,v=null;h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(v=d.ref);for(m in d)n.call(d,m)&&!i.hasOwnProperty(m)&&(p[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)p[m]===void 0&&(p[m]=d[m]);return{$$typeof:e,type:u,key:g,ref:v,props:p,_owner:a.current}}return Wl.Fragment=r,Wl.jsx=l,Wl.jsxs=l,Wl}var vN;function cR(){return vN||(vN=1,Tm.exports=lR()),Tm.exports}var s=cR(),wd={},Im={exports:{}},en={},$m={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN;function uR(){return xN||(xN=1,(function(t){function e(G,oe){var Z=G.length;G.push(oe);e:for(;0<Z;){var M=Z-1>>>1,U=G[M];if(0<a(U,oe))G[M]=oe,G[Z]=U,Z=M;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var oe=G[0],Z=G.pop();if(Z!==oe){G[0]=Z;e:for(var M=0,U=G.length,te=U>>>1;M<te;){var me=2*(M+1)-1,ge=G[me],Me=me+1,Ke=G[Me];if(0>a(ge,Z))Me<U&&0>a(Ke,ge)?(G[M]=Ke,G[Me]=Z,M=Me):(G[M]=ge,G[me]=Z,M=me);else if(Me<U&&0>a(Ke,Z))G[M]=Ke,G[Me]=Z,M=Me;else break e}}return oe}function a(G,oe){var Z=G.sortIndex-oe.sortIndex;return Z!==0?Z:G.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,p=null,g=3,v=!1,j=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var oe=r(h);oe!==null;){if(oe.callback===null)n(h);else if(oe.startTime<=G)n(h),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=r(h)}}function P(G){if(w=!1,S(G),!j)if(r(d)!==null)j=!0,J(E);else{var oe=r(h);oe!==null&&re(P,oe.startTime-G)}}function E(G,oe){j=!1,w&&(w=!1,N(T),T=-1),v=!0;var Z=g;try{for(S(oe),p=r(d);p!==null&&(!(p.expirationTime>oe)||G&&!F());){var M=p.callback;if(typeof M=="function"){p.callback=null,g=p.priorityLevel;var U=M(p.expirationTime<=oe);oe=t.unstable_now(),typeof U=="function"?p.callback=U:p===r(d)&&n(d),S(oe)}else n(d);p=r(d)}if(p!==null)var te=!0;else{var me=r(h);me!==null&&re(P,me.startTime-oe),te=!1}return te}finally{p=null,g=Z,v=!1}}var O=!1,A=null,T=-1,R=5,D=-1;function F(){return!(t.unstable_now()-D<R)}function I(){if(A!==null){var G=t.unstable_now();D=G;var oe=!0;try{oe=A(!0,G)}finally{oe?q():(O=!1,A=null)}}else O=!1}var q;if(typeof k=="function")q=function(){k(I)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,W=K.port2;K.port1.onmessage=I,q=function(){W.postMessage(null)}}else q=function(){b(I,0)};function J(G){A=G,O||(O=!0,q())}function re(G,oe){T=b(function(){G(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){j||v||(j=!0,J(E))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var oe=3;break;default:oe=g}var Z=g;g=oe;try{return G()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Z=g;g=G;try{return oe()}finally{g=Z}},t.unstable_scheduleCallback=function(G,oe,Z){var M=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?M+Z:M):Z=M,G){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Z+U,G={id:m++,callback:oe,priorityLevel:G,startTime:Z,expirationTime:U,sortIndex:-1},Z>M?(G.sortIndex=Z,e(h,G),r(d)===null&&G===r(h)&&(w?(N(T),T=-1):w=!0,re(P,Z-M))):(G.sortIndex=U,e(d,G),j||v||(j=!0,J(E))),G},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(G){var oe=g;return function(){var Z=g;g=oe;try{return G.apply(this,arguments)}finally{g=Z}}}})(Mm)),Mm}var bN;function dR(){return bN||(bN=1,$m.exports=uR()),$m.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN;function hR(){if(wN)return en;wN=1;var t=Tb(),e=dR();function r(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(a[o]=c,o=0;o<c.length;o++)n.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function g(o){return d.call(p,o)?!0:d.call(m,o)?!1:h.test(o)?p[o]=!0:(m[o]=!0,!1)}function v(o,c,f,y){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function j(o,c,f,y){if(c===null||typeof c>"u"||v(o,c,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(o,c,f,y,x,_,C){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=o,this.type=c,this.sanitizeURL=_,this.removeEmptyString=C}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];b[c]=new w(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function k(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(N,k);b[c]=new w(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(N,k);b[c]=new w(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(N,k);b[c]=new w(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function S(o,c,f,y){var x=b.hasOwnProperty(c)?b[c]:null;(x!==null?x.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(j(c,f,x,y)&&(f=null),y||x===null?g(c)&&(f===null?o.removeAttribute(c):o.setAttribute(c,""+f)):x.mustUseProperty?o[x.propertyName]=f===null?x.type===3?!1:"":f:(c=x.attributeName,y=x.attributeNamespace,f===null?o.removeAttribute(c):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,y?o.setAttributeNS(y,c,f):o.setAttribute(c,f))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),O=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),F=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),G=Symbol.iterator;function oe(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var Z=Object.assign,M;function U(o){if(M===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);M=c&&c[1]||""}return`
`+M+o}var te=!1;function me(o,c){if(!o||te)return"";te=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ae){var y=ae}Reflect.construct(o,[],c)}else{try{c.call()}catch(ae){y=ae}o.call(c.prototype)}else{try{throw Error()}catch(ae){y=ae}o()}}catch(ae){if(ae&&y&&typeof ae.stack=="string"){for(var x=ae.stack.split(`
`),_=y.stack.split(`
`),C=x.length-1,B=_.length-1;1<=C&&0<=B&&x[C]!==_[B];)B--;for(;1<=C&&0<=B;C--,B--)if(x[C]!==_[B]){if(C!==1||B!==1)do if(C--,B--,0>B||x[C]!==_[B]){var H=`
`+x[C].replace(" at new "," at ");return o.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",o.displayName)),H}while(1<=C&&0<=B);break}}}finally{te=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?U(o):""}function ge(o){switch(o.tag){case 5:return U(o.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return o=me(o.type,!1),o;case 11:return o=me(o.type.render,!1),o;case 1:return o=me(o.type,!0),o;default:return""}}function Me(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case O:return"Portal";case R:return"Profiler";case T:return"StrictMode";case q:return"Suspense";case K:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case F:return(o.displayName||"Context")+".Consumer";case D:return(o._context.displayName||"Context")+".Provider";case I:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case W:return c=o.displayName||null,c!==null?c:Me(o.type)||"Memo";case J:c=o._payload,o=o._init;try{return Me(o(c))}catch{}}return null}function Ke(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(c);case 8:return c===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function De(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ue(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function xe(o){var c=ue(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),y=""+o[c];if(!o.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,_=f.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return x.call(this)},set:function(C){y=""+C,_.call(this,C)}}),Object.defineProperty(o,c,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(C){y=""+C},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Oe(o){o._valueTracker||(o._valueTracker=xe(o))}function Y(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),y="";return o&&(y=ue(o)?o.checked?"true":"false":o.value),o=y,o!==f?(c.setValue(o),!0):!1}function je(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ie(o,c){var f=c.checked;return Z({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function ot(o,c){var f=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;f=De(c.value!=null?c.value:f),o._wrapperState={initialChecked:y,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Pe(o,c){c=c.checked,c!=null&&S(o,"checked",c,!1)}function Ae(o,c){Pe(o,c);var f=De(c.value),y=c.type;if(f!=null)y==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?Xe(o,c.type,f):c.hasOwnProperty("defaultValue")&&Xe(o,c.type,De(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function Ne(o,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,f||c===o.value||(o.value=c),o.defaultValue=c}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function Xe(o,c,f){(c!=="number"||je(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var ye=Array.isArray;function $e(o,c,f,y){if(o=o.options,c){c={};for(var x=0;x<f.length;x++)c["$"+f[x]]=!0;for(f=0;f<o.length;f++)x=c.hasOwnProperty("$"+o[f].value),o[f].selected!==x&&(o[f].selected=x),x&&y&&(o[f].defaultSelected=!0)}else{for(f=""+De(f),c=null,x=0;x<o.length;x++){if(o[x].value===f){o[x].selected=!0,y&&(o[x].defaultSelected=!0);return}c!==null||o[x].disabled||(c=o[x])}c!==null&&(c.selected=!0)}}function ct(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return Z({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function jt(o,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(r(92));if(ye(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),f=c}o._wrapperState={initialValue:De(f)}}function Rt(o,c){var f=De(c.value),y=De(c.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),c.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),y!=null&&(o.defaultValue=""+y)}function vr(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function oa(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function la(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?oa(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Zt,Bn=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,y,x){MSApp.execUnsafeLocalFunction(function(){return o(c,f,y,x)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(Zt=Zt||document.createElement("div"),Zt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Zt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function er(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var Vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_a=["Webkit","ms","Moz","O"];Object.keys(Vr).forEach(function(o){_a.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Vr[c]=Vr[o]})});function jn(o,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||Vr.hasOwnProperty(o)&&Vr[o]?(""+c).trim():c+"px"}function nn(o,c){o=o.style;for(var f in c)if(c.hasOwnProperty(f)){var y=f.indexOf("--")===0,x=jn(f,c[f],y);f==="float"&&(f="cssFloat"),y?o.setProperty(f,x):o[f]=x}}var Za=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Un(o,c){if(c){if(Za[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function le(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ee=null;function ze(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ce=null,_e=null,Te=null;function Ve(o){if(o=Pl(o)){if(typeof ce!="function")throw Error(r(280));var c=o.stateNode;c&&(c=Mu(c),ce(o.stateNode,o.type,c))}}function ht(o){_e?Te?Te.push(o):Te=[o]:_e=o}function Nt(){if(_e){var o=_e,c=Te;if(Te=_e=null,Ve(o),c)for(o=0;o<c.length;o++)Ve(c[o])}}function xr(o,c){return o(c)}function an(){}var Ce=!1;function Kt(o,c,f){if(Ce)return o(c,f);Ce=!0;try{return xr(o,c,f)}finally{Ce=!1,(_e!==null||Te!==null)&&(an(),Nt())}}function yt(o,c){var f=o.stateNode;if(f===null)return null;var y=Mu(f);if(y===null)return null;f=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var Lr=!1;if(u)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{Lr=!1}function Sa(o,c,f,y,x,_,C,B,H){var ae=Array.prototype.slice.call(arguments,3);try{c.apply(f,ae)}catch(be){this.onError(be)}}var qr=!1,Or=null,ut=!1,zn=null,Gr={onError:function(o){qr=!0,Or=o}};function qt(o,c,f,y,x,_,C,B,H){qr=!1,Or=null,Sa.apply(Gr,arguments)}function ie(o,c,f,y,x,_,C,B,H){if(qt.apply(this,arguments),qr){if(qr){var ae=Or;qr=!1,Or=null}else throw Error(r(198));ut||(ut=!0,zn=ae)}}function ne(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function de(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function Se(o){if(ne(o)!==o)throw Error(r(188))}function L(o){var c=o.alternate;if(!c){if(c=ne(o),c===null)throw Error(r(188));return c!==o?null:o}for(var f=o,y=c;;){var x=f.return;if(x===null)break;var _=x.alternate;if(_===null){if(y=x.return,y!==null){f=y;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===f)return Se(x),o;if(_===y)return Se(x),c;_=_.sibling}throw Error(r(188))}if(f.return!==y.return)f=x,y=_;else{for(var C=!1,B=x.child;B;){if(B===f){C=!0,f=x,y=_;break}if(B===y){C=!0,y=x,f=_;break}B=B.sibling}if(!C){for(B=_.child;B;){if(B===f){C=!0,f=_,y=x;break}if(B===y){C=!0,y=_,f=x;break}B=B.sibling}if(!C)throw Error(r(189))}}if(f.alternate!==y)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:c}function pe(o){return o=L(o),o!==null?st(o):null}function st(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=st(o);if(c!==null)return c;o=o.sibling}return null}var ft=e.unstable_scheduleCallback,vt=e.unstable_cancelCallback,br=e.unstable_shouldYield,Nn=e.unstable_requestPaint,Ot=e.unstable_now,ca=e.unstable_getCurrentPriorityLevel,Ti=e.unstable_ImmediatePriority,Ds=e.unstable_UserBlockingPriority,ka=e.unstable_NormalPriority,Ci=e.unstable_LowPriority,Rs=e.unstable_IdlePriority,es=null,_n=null;function Vf(o){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(es,o,void 0,(o.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:Jf,Gf=Math.log,Yf=Math.LN2;function Jf(o){return o>>>=0,o===0?32:31-(Gf(o)/Yf|0)|0}var wr=64,Gt=4194304;function Hn(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ii(o,c){var f=o.pendingLanes;if(f===0)return 0;var y=0,x=o.suspendedLanes,_=o.pingedLanes,C=f&268435455;if(C!==0){var B=C&~x;B!==0?y=Hn(B):(_&=C,_!==0&&(y=Hn(_)))}else C=f&~x,C!==0?y=Hn(C):_!==0&&(y=Hn(_));if(y===0)return 0;if(c!==0&&c!==y&&(c&x)===0&&(x=y&-y,_=c&-c,x>=_||x===16&&(_&4194240)!==0))return c;if((y&4)!==0&&(y|=f&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=y;0<c;)f=31-sn(c),x=1<<f,y|=o[f],c&=~x;return y}function Xf(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kM(o,c){for(var f=o.suspendedLanes,y=o.pingedLanes,x=o.expirationTimes,_=o.pendingLanes;0<_;){var C=31-sn(_),B=1<<C,H=x[C];H===-1?((B&f)===0||(B&y)!==0)&&(x[C]=Xf(B,c)):H<=c&&(o.expiredLanes|=B),_&=~B}}function Qf(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Kw(){var o=wr;return wr<<=1,(wr&4194240)===0&&(wr=64),o}function Zf(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function fl(o,c,f){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-sn(c),o[c]=f}function OM(o,c){var f=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<f;){var x=31-sn(f),_=1<<x;c[x]=0,y[x]=-1,o[x]=-1,f&=~_}}function ep(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var y=31-sn(f),x=1<<y;x&c|o[y]&c&&(o[y]|=c),f&=~x}}var _t=0;function Vw(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Gw,tp,Yw,Jw,Xw,rp=!1,bu=[],ts=null,rs=null,ns=null,pl=new Map,ml=new Map,as=[],EM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qw(o,c){switch(o){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":pl.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(c.pointerId)}}function gl(o,c,f,y,x,_){return o===null||o.nativeEvent!==_?(o={blockedOn:c,domEventName:f,eventSystemFlags:y,nativeEvent:_,targetContainers:[x]},c!==null&&(c=Pl(c),c!==null&&tp(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),o)}function AM(o,c,f,y,x){switch(c){case"focusin":return ts=gl(ts,o,c,f,y,x),!0;case"dragenter":return rs=gl(rs,o,c,f,y,x),!0;case"mouseover":return ns=gl(ns,o,c,f,y,x),!0;case"pointerover":var _=x.pointerId;return pl.set(_,gl(pl.get(_)||null,o,c,f,y,x)),!0;case"gotpointercapture":return _=x.pointerId,ml.set(_,gl(ml.get(_)||null,o,c,f,y,x)),!0}return!1}function Zw(o){var c=Ls(o.target);if(c!==null){var f=ne(c);if(f!==null){if(c=f.tag,c===13){if(c=de(f),c!==null){o.blockedOn=c,Xw(o.priority,function(){Yw(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function wu(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=ap(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);ee=y,f.target.dispatchEvent(y),ee=null}else return c=Pl(f),c!==null&&tp(c),o.blockedOn=f,!1;c.shift()}return!0}function ej(o,c,f){wu(o)&&f.delete(c)}function PM(){rp=!1,ts!==null&&wu(ts)&&(ts=null),rs!==null&&wu(rs)&&(rs=null),ns!==null&&wu(ns)&&(ns=null),pl.forEach(ej),ml.forEach(ej)}function yl(o,c){o.blockedOn===c&&(o.blockedOn=null,rp||(rp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,PM)))}function vl(o){function c(x){return yl(x,o)}if(0<bu.length){yl(bu[0],o);for(var f=1;f<bu.length;f++){var y=bu[f];y.blockedOn===o&&(y.blockedOn=null)}}for(ts!==null&&yl(ts,o),rs!==null&&yl(rs,o),ns!==null&&yl(ns,o),pl.forEach(c),ml.forEach(c),f=0;f<as.length;f++)y=as[f],y.blockedOn===o&&(y.blockedOn=null);for(;0<as.length&&(f=as[0],f.blockedOn===null);)Zw(f),f.blockedOn===null&&as.shift()}var $i=P.ReactCurrentBatchConfig,ju=!0;function TM(o,c,f,y){var x=_t,_=$i.transition;$i.transition=null;try{_t=1,np(o,c,f,y)}finally{_t=x,$i.transition=_}}function CM(o,c,f,y){var x=_t,_=$i.transition;$i.transition=null;try{_t=4,np(o,c,f,y)}finally{_t=x,$i.transition=_}}function np(o,c,f,y){if(ju){var x=ap(o,c,f,y);if(x===null)wp(o,c,y,Nu,f),Qw(o,y);else if(AM(x,o,c,f,y))y.stopPropagation();else if(Qw(o,y),c&4&&-1<EM.indexOf(o)){for(;x!==null;){var _=Pl(x);if(_!==null&&Gw(_),_=ap(o,c,f,y),_===null&&wp(o,c,y,Nu,f),_===x)break;x=_}x!==null&&y.stopPropagation()}else wp(o,c,y,null,f)}}var Nu=null;function ap(o,c,f,y){if(Nu=null,o=ze(y),o=Ls(o),o!==null)if(c=ne(o),c===null)o=null;else if(f=c.tag,f===13){if(o=de(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return Nu=o,null}function tj(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ca()){case Ti:return 1;case Ds:return 4;case ka:case Ci:return 16;case Rs:return 536870912;default:return 16}default:return 16}}var ss=null,sp=null,_u=null;function rj(){if(_u)return _u;var o,c=sp,f=c.length,y,x="value"in ss?ss.value:ss.textContent,_=x.length;for(o=0;o<f&&c[o]===x[o];o++);var C=f-o;for(y=1;y<=C&&c[f-y]===x[_-y];y++);return _u=x.slice(o,1<y?1-y:void 0)}function Su(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function ku(){return!0}function nj(){return!1}function on(o){function c(f,y,x,_,C){this._reactName=f,this._targetInst=x,this.type=y,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var B in o)o.hasOwnProperty(B)&&(f=o[B],this[B]=f?f(_):_[B]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ku:nj,this.isPropagationStopped=nj,this}return Z(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),c}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ip=on(Mi),xl=Z({},Mi,{view:0,detail:0}),IM=on(xl),op,lp,bl,Ou=Z({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:up,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==bl&&(bl&&o.type==="mousemove"?(op=o.screenX-bl.screenX,lp=o.screenY-bl.screenY):lp=op=0,bl=o),op)},movementY:function(o){return"movementY"in o?o.movementY:lp}}),aj=on(Ou),$M=Z({},Ou,{dataTransfer:0}),MM=on($M),DM=Z({},xl,{relatedTarget:0}),cp=on(DM),RM=Z({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),LM=on(RM),FM=Z({},Mi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),qM=on(FM),BM=Z({},Mi,{data:0}),sj=on(BM),UM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WM(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=HM[o])?!!c[o]:!1}function up(){return WM}var KM=Z({},xl,{key:function(o){if(o.key){var c=UM[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Su(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?zM[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:up,charCode:function(o){return o.type==="keypress"?Su(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Su(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),VM=on(KM),GM=Z({},Ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ij=on(GM),YM=Z({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:up}),JM=on(YM),XM=Z({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),QM=on(XM),ZM=Z({},Ou,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),eD=on(ZM),tD=[9,13,27,32],dp=u&&"CompositionEvent"in window,wl=null;u&&"documentMode"in document&&(wl=document.documentMode);var rD=u&&"TextEvent"in window&&!wl,oj=u&&(!dp||wl&&8<wl&&11>=wl),lj=" ",cj=!1;function uj(o,c){switch(o){case"keyup":return tD.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dj(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Di=!1;function nD(o,c){switch(o){case"compositionend":return dj(c);case"keypress":return c.which!==32?null:(cj=!0,lj);case"textInput":return o=c.data,o===lj&&cj?null:o;default:return null}}function aD(o,c){if(Di)return o==="compositionend"||!dp&&uj(o,c)?(o=rj(),_u=sp=ss=null,Di=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return oj&&c.locale!=="ko"?null:c.data;default:return null}}var sD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hj(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!sD[o.type]:c==="textarea"}function fj(o,c,f,y){ht(y),c=Cu(c,"onChange"),0<c.length&&(f=new ip("onChange","change",null,f,y),o.push({event:f,listeners:c}))}var jl=null,Nl=null;function iD(o){Tj(o,0)}function Eu(o){var c=Bi(o);if(Y(c))return o}function oD(o,c){if(o==="change")return c}var pj=!1;if(u){var hp;if(u){var fp="oninput"in document;if(!fp){var mj=document.createElement("div");mj.setAttribute("oninput","return;"),fp=typeof mj.oninput=="function"}hp=fp}else hp=!1;pj=hp&&(!document.documentMode||9<document.documentMode)}function gj(){jl&&(jl.detachEvent("onpropertychange",yj),Nl=jl=null)}function yj(o){if(o.propertyName==="value"&&Eu(Nl)){var c=[];fj(c,Nl,o,ze(o)),Kt(iD,c)}}function lD(o,c,f){o==="focusin"?(gj(),jl=c,Nl=f,jl.attachEvent("onpropertychange",yj)):o==="focusout"&&gj()}function cD(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Eu(Nl)}function uD(o,c){if(o==="click")return Eu(c)}function dD(o,c){if(o==="input"||o==="change")return Eu(c)}function hD(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Wn=typeof Object.is=="function"?Object.is:hD;function _l(o,c){if(Wn(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),y=Object.keys(c);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var x=f[y];if(!d.call(c,x)||!Wn(o[x],c[x]))return!1}return!0}function vj(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function xj(o,c){var f=vj(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=c&&y>=c)return{node:f,offset:c-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=vj(f)}}function bj(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?bj(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function wj(){for(var o=window,c=je();c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=je(o.document)}return c}function pp(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function fD(o){var c=wj(),f=o.focusedElem,y=o.selectionRange;if(c!==f&&f&&f.ownerDocument&&bj(f.ownerDocument.documentElement,f)){if(y!==null&&pp(f)){if(c=y.start,o=y.end,o===void 0&&(o=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(o,f.value.length);else if(o=(c=f.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var x=f.textContent.length,_=Math.min(y.start,x);y=y.end===void 0?_:Math.min(y.end,x),!o.extend&&_>y&&(x=y,y=_,_=x),x=xj(f,_);var C=xj(f,y);x&&C&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==C.node||o.focusOffset!==C.offset)&&(c=c.createRange(),c.setStart(x.node,x.offset),o.removeAllRanges(),_>y?(o.addRange(c),o.extend(C.node,C.offset)):(c.setEnd(C.node,C.offset),o.addRange(c)))}}for(c=[],o=f;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)o=c[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var pD=u&&"documentMode"in document&&11>=document.documentMode,Ri=null,mp=null,Sl=null,gp=!1;function jj(o,c,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;gp||Ri==null||Ri!==je(y)||(y=Ri,"selectionStart"in y&&pp(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Sl&&_l(Sl,y)||(Sl=y,y=Cu(mp,"onSelect"),0<y.length&&(c=new ip("onSelect","select",null,c,f),o.push({event:c,listeners:y}),c.target=Ri)))}function Au(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var Li={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},yp={},Nj={};u&&(Nj=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Pu(o){if(yp[o])return yp[o];if(!Li[o])return o;var c=Li[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in Nj)return yp[o]=c[f];return o}var _j=Pu("animationend"),Sj=Pu("animationiteration"),kj=Pu("animationstart"),Oj=Pu("transitionend"),Ej=new Map,Aj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(o,c){Ej.set(o,c),i(c,[o])}for(var vp=0;vp<Aj.length;vp++){var xp=Aj[vp],mD=xp.toLowerCase(),gD=xp[0].toUpperCase()+xp.slice(1);is(mD,"on"+gD)}is(_j,"onAnimationEnd"),is(Sj,"onAnimationIteration"),is(kj,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(Oj,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yD=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function Pj(o,c,f){var y=o.type||"unknown-event";o.currentTarget=f,ie(y,c,void 0,o),o.currentTarget=null}function Tj(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],x=y.event;y=y.listeners;e:{var _=void 0;if(c)for(var C=y.length-1;0<=C;C--){var B=y[C],H=B.instance,ae=B.currentTarget;if(B=B.listener,H!==_&&x.isPropagationStopped())break e;Pj(x,B,ae),_=H}else for(C=0;C<y.length;C++){if(B=y[C],H=B.instance,ae=B.currentTarget,B=B.listener,H!==_&&x.isPropagationStopped())break e;Pj(x,B,ae),_=H}}}if(ut)throw o=zn,ut=!1,zn=null,o}function $t(o,c){var f=c[Op];f===void 0&&(f=c[Op]=new Set);var y=o+"__bubble";f.has(y)||(Cj(c,o,2,!1),f.add(y))}function bp(o,c,f){var y=0;c&&(y|=4),Cj(f,o,y,c)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function Ol(o){if(!o[Tu]){o[Tu]=!0,n.forEach(function(f){f!=="selectionchange"&&(yD.has(f)||bp(f,!1,o),bp(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Tu]||(c[Tu]=!0,bp("selectionchange",!1,c))}}function Cj(o,c,f,y){switch(tj(c)){case 1:var x=TM;break;case 4:x=CM;break;default:x=np}f=x.bind(null,c,f,o),x=void 0,!Lr||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),y?x!==void 0?o.addEventListener(c,f,{capture:!0,passive:x}):o.addEventListener(c,f,!0):x!==void 0?o.addEventListener(c,f,{passive:x}):o.addEventListener(c,f,!1)}function wp(o,c,f,y,x){var _=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var C=y.tag;if(C===3||C===4){var B=y.stateNode.containerInfo;if(B===x||B.nodeType===8&&B.parentNode===x)break;if(C===4)for(C=y.return;C!==null;){var H=C.tag;if((H===3||H===4)&&(H=C.stateNode.containerInfo,H===x||H.nodeType===8&&H.parentNode===x))return;C=C.return}for(;B!==null;){if(C=Ls(B),C===null)return;if(H=C.tag,H===5||H===6){y=_=C;continue e}B=B.parentNode}}y=y.return}Kt(function(){var ae=_,be=ze(f),we=[];e:{var ve=Ej.get(o);if(ve!==void 0){var Re=ip,qe=o;switch(o){case"keypress":if(Su(f)===0)break e;case"keydown":case"keyup":Re=VM;break;case"focusin":qe="focus",Re=cp;break;case"focusout":qe="blur",Re=cp;break;case"beforeblur":case"afterblur":Re=cp;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=aj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=MM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=JM;break;case _j:case Sj:case kj:Re=LM;break;case Oj:Re=QM;break;case"scroll":Re=IM;break;case"wheel":Re=eD;break;case"copy":case"cut":case"paste":Re=qM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=ij}var Be=(c&4)!==0,Vt=!Be&&o==="scroll",X=Be?ve!==null?ve+"Capture":null:ve;Be=[];for(var V=ae,Q;V!==null;){Q=V;var ke=Q.stateNode;if(Q.tag===5&&ke!==null&&(Q=ke,X!==null&&(ke=yt(V,X),ke!=null&&Be.push(El(V,ke,Q)))),Vt)break;V=V.return}0<Be.length&&(ve=new Re(ve,qe,null,f,be),we.push({event:ve,listeners:Be}))}}if((c&7)===0){e:{if(ve=o==="mouseover"||o==="pointerover",Re=o==="mouseout"||o==="pointerout",ve&&f!==ee&&(qe=f.relatedTarget||f.fromElement)&&(Ls(qe)||qe[Oa]))break e;if((Re||ve)&&(ve=be.window===be?be:(ve=be.ownerDocument)?ve.defaultView||ve.parentWindow:window,Re?(qe=f.relatedTarget||f.toElement,Re=ae,qe=qe?Ls(qe):null,qe!==null&&(Vt=ne(qe),qe!==Vt||qe.tag!==5&&qe.tag!==6)&&(qe=null)):(Re=null,qe=ae),Re!==qe)){if(Be=aj,ke="onMouseLeave",X="onMouseEnter",V="mouse",(o==="pointerout"||o==="pointerover")&&(Be=ij,ke="onPointerLeave",X="onPointerEnter",V="pointer"),Vt=Re==null?ve:Bi(Re),Q=qe==null?ve:Bi(qe),ve=new Be(ke,V+"leave",Re,f,be),ve.target=Vt,ve.relatedTarget=Q,ke=null,Ls(be)===ae&&(Be=new Be(X,V+"enter",qe,f,be),Be.target=Q,Be.relatedTarget=Vt,ke=Be),Vt=ke,Re&&qe)t:{for(Be=Re,X=qe,V=0,Q=Be;Q;Q=Fi(Q))V++;for(Q=0,ke=X;ke;ke=Fi(ke))Q++;for(;0<V-Q;)Be=Fi(Be),V--;for(;0<Q-V;)X=Fi(X),Q--;for(;V--;){if(Be===X||X!==null&&Be===X.alternate)break t;Be=Fi(Be),X=Fi(X)}Be=null}else Be=null;Re!==null&&Ij(we,ve,Re,Be,!1),qe!==null&&Vt!==null&&Ij(we,Vt,qe,Be,!0)}}e:{if(ve=ae?Bi(ae):window,Re=ve.nodeName&&ve.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ve.type==="file")var Ue=oD;else if(hj(ve))if(pj)Ue=dD;else{Ue=cD;var Ge=lD}else(Re=ve.nodeName)&&Re.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Ue=uD);if(Ue&&(Ue=Ue(o,ae))){fj(we,Ue,f,be);break e}Ge&&Ge(o,ve,ae),o==="focusout"&&(Ge=ve._wrapperState)&&Ge.controlled&&ve.type==="number"&&Xe(ve,"number",ve.value)}switch(Ge=ae?Bi(ae):window,o){case"focusin":(hj(Ge)||Ge.contentEditable==="true")&&(Ri=Ge,mp=ae,Sl=null);break;case"focusout":Sl=mp=Ri=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,jj(we,f,be);break;case"selectionchange":if(pD)break;case"keydown":case"keyup":jj(we,f,be)}var Ye;if(dp)e:{switch(o){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Di?uj(o,f)&&(rt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(rt="onCompositionStart");rt&&(oj&&f.locale!=="ko"&&(Di||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Di&&(Ye=rj()):(ss=be,sp="value"in ss?ss.value:ss.textContent,Di=!0)),Ge=Cu(ae,rt),0<Ge.length&&(rt=new sj(rt,o,null,f,be),we.push({event:rt,listeners:Ge}),Ye?rt.data=Ye:(Ye=dj(f),Ye!==null&&(rt.data=Ye)))),(Ye=rD?nD(o,f):aD(o,f))&&(ae=Cu(ae,"onBeforeInput"),0<ae.length&&(be=new sj("onBeforeInput","beforeinput",null,f,be),we.push({event:be,listeners:ae}),be.data=Ye))}Tj(we,c)})}function El(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Cu(o,c){for(var f=c+"Capture",y=[];o!==null;){var x=o,_=x.stateNode;x.tag===5&&_!==null&&(x=_,_=yt(o,f),_!=null&&y.unshift(El(o,_,x)),_=yt(o,c),_!=null&&y.push(El(o,_,x))),o=o.return}return y}function Fi(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Ij(o,c,f,y,x){for(var _=c._reactName,C=[];f!==null&&f!==y;){var B=f,H=B.alternate,ae=B.stateNode;if(H!==null&&H===y)break;B.tag===5&&ae!==null&&(B=ae,x?(H=yt(f,_),H!=null&&C.unshift(El(f,H,B))):x||(H=yt(f,_),H!=null&&C.push(El(f,H,B)))),f=f.return}C.length!==0&&o.push({event:c,listeners:C})}var vD=/\r\n?/g,xD=/\u0000|\uFFFD/g;function $j(o){return(typeof o=="string"?o:""+o).replace(vD,`
`).replace(xD,"")}function Iu(o,c,f){if(c=$j(c),$j(o)!==c&&f)throw Error(r(425))}function $u(){}var jp=null,Np=null;function _p(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Sp=typeof setTimeout=="function"?setTimeout:void 0,bD=typeof clearTimeout=="function"?clearTimeout:void 0,Mj=typeof Promise=="function"?Promise:void 0,wD=typeof queueMicrotask=="function"?queueMicrotask:typeof Mj<"u"?function(o){return Mj.resolve(null).then(o).catch(jD)}:Sp;function jD(o){setTimeout(function(){throw o})}function kp(o,c){var f=c,y=0;do{var x=f.nextSibling;if(o.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(y===0){o.removeChild(x),vl(c);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=x}while(f);vl(c)}function os(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function Dj(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return o;c--}else f==="/$"&&c++}o=o.previousSibling}return null}var qi=Math.random().toString(36).slice(2),ua="__reactFiber$"+qi,Al="__reactProps$"+qi,Oa="__reactContainer$"+qi,Op="__reactEvents$"+qi,ND="__reactListeners$"+qi,_D="__reactHandles$"+qi;function Ls(o){var c=o[ua];if(c)return c;for(var f=o.parentNode;f;){if(c=f[Oa]||f[ua]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=Dj(o);o!==null;){if(f=o[ua])return f;o=Dj(o)}return c}o=f,f=o.parentNode}return null}function Pl(o){return o=o[ua]||o[Oa],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Bi(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Mu(o){return o[Al]||null}var Ep=[],Ui=-1;function ls(o){return{current:o}}function Mt(o){0>Ui||(o.current=Ep[Ui],Ep[Ui]=null,Ui--)}function At(o,c){Ui++,Ep[Ui]=o.current,o.current=c}var cs={},Er=ls(cs),Yr=ls(!1),Fs=cs;function zi(o,c){var f=o.type.contextTypes;if(!f)return cs;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var x={},_;for(_ in f)x[_]=c[_];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=x),x}function Jr(o){return o=o.childContextTypes,o!=null}function Du(){Mt(Yr),Mt(Er)}function Rj(o,c,f){if(Er.current!==cs)throw Error(r(168));At(Er,c),At(Yr,f)}function Lj(o,c,f){var y=o.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var x in y)if(!(x in c))throw Error(r(108,Ke(o)||"Unknown",x));return Z({},f,y)}function Ru(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||cs,Fs=Er.current,At(Er,o),At(Yr,Yr.current),!0}function Fj(o,c,f){var y=o.stateNode;if(!y)throw Error(r(169));f?(o=Lj(o,c,Fs),y.__reactInternalMemoizedMergedChildContext=o,Mt(Yr),Mt(Er),At(Er,o)):Mt(Yr),At(Yr,f)}var Ea=null,Lu=!1,Ap=!1;function qj(o){Ea===null?Ea=[o]:Ea.push(o)}function SD(o){Lu=!0,qj(o)}function us(){if(!Ap&&Ea!==null){Ap=!0;var o=0,c=_t;try{var f=Ea;for(_t=1;o<f.length;o++){var y=f[o];do y=y(!0);while(y!==null)}Ea=null,Lu=!1}catch(x){throw Ea!==null&&(Ea=Ea.slice(o+1)),ft(Ti,us),x}finally{_t=c,Ap=!1}}return null}var Hi=[],Wi=0,Fu=null,qu=0,Sn=[],kn=0,qs=null,Aa=1,Pa="";function Bs(o,c){Hi[Wi++]=qu,Hi[Wi++]=Fu,Fu=o,qu=c}function Bj(o,c,f){Sn[kn++]=Aa,Sn[kn++]=Pa,Sn[kn++]=qs,qs=o;var y=Aa;o=Pa;var x=32-sn(y)-1;y&=~(1<<x),f+=1;var _=32-sn(c)+x;if(30<_){var C=x-x%5;_=(y&(1<<C)-1).toString(32),y>>=C,x-=C,Aa=1<<32-sn(c)+x|f<<x|y,Pa=_+o}else Aa=1<<_|f<<x|y,Pa=o}function Pp(o){o.return!==null&&(Bs(o,1),Bj(o,1,0))}function Tp(o){for(;o===Fu;)Fu=Hi[--Wi],Hi[Wi]=null,qu=Hi[--Wi],Hi[Wi]=null;for(;o===qs;)qs=Sn[--kn],Sn[kn]=null,Pa=Sn[--kn],Sn[kn]=null,Aa=Sn[--kn],Sn[kn]=null}var ln=null,cn=null,Lt=!1,Kn=null;function Uj(o,c){var f=Pn(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=o,c=o.deletions,c===null?(o.deletions=[f],o.flags|=16):c.push(f)}function zj(o,c){switch(o.tag){case 5:var f=o.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,ln=o,cn=os(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,ln=o,cn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=qs!==null?{id:Aa,overflow:Pa}:null,o.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=Pn(18,null,null,0),f.stateNode=c,f.return=o,o.child=f,ln=o,cn=null,!0):!1;default:return!1}}function Cp(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Ip(o){if(Lt){var c=cn;if(c){var f=c;if(!zj(o,c)){if(Cp(o))throw Error(r(418));c=os(f.nextSibling);var y=ln;c&&zj(o,c)?Uj(y,f):(o.flags=o.flags&-4097|2,Lt=!1,ln=o)}}else{if(Cp(o))throw Error(r(418));o.flags=o.flags&-4097|2,Lt=!1,ln=o}}}function Hj(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ln=o}function Bu(o){if(o!==ln)return!1;if(!Lt)return Hj(o),Lt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!_p(o.type,o.memoizedProps)),c&&(c=cn)){if(Cp(o))throw Wj(),Error(r(418));for(;c;)Uj(o,c),c=os(c.nextSibling)}if(Hj(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(c===0){cn=os(o.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}o=o.nextSibling}cn=null}}else cn=ln?os(o.stateNode.nextSibling):null;return!0}function Wj(){for(var o=cn;o;)o=os(o.nextSibling)}function Ki(){cn=ln=null,Lt=!1}function $p(o){Kn===null?Kn=[o]:Kn.push(o)}var kD=P.ReactCurrentBatchConfig;function Tl(o,c,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var y=f.stateNode}if(!y)throw Error(r(147,o));var x=y,_=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===_?c.ref:(c=function(C){var B=x.refs;C===null?delete B[_]:B[_]=C},c._stringRef=_,c)}if(typeof o!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,o))}return o}function Uu(o,c){throw o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function Kj(o){var c=o._init;return c(o._payload)}function Vj(o){function c(X,V){if(o){var Q=X.deletions;Q===null?(X.deletions=[V],X.flags|=16):Q.push(V)}}function f(X,V){if(!o)return null;for(;V!==null;)c(X,V),V=V.sibling;return null}function y(X,V){for(X=new Map;V!==null;)V.key!==null?X.set(V.key,V):X.set(V.index,V),V=V.sibling;return X}function x(X,V){return X=vs(X,V),X.index=0,X.sibling=null,X}function _(X,V,Q){return X.index=Q,o?(Q=X.alternate,Q!==null?(Q=Q.index,Q<V?(X.flags|=2,V):Q):(X.flags|=2,V)):(X.flags|=1048576,V)}function C(X){return o&&X.alternate===null&&(X.flags|=2),X}function B(X,V,Q,ke){return V===null||V.tag!==6?(V=Sm(Q,X.mode,ke),V.return=X,V):(V=x(V,Q),V.return=X,V)}function H(X,V,Q,ke){var Ue=Q.type;return Ue===A?be(X,V,Q.props.children,ke,Q.key):V!==null&&(V.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===J&&Kj(Ue)===V.type)?(ke=x(V,Q.props),ke.ref=Tl(X,V,Q),ke.return=X,ke):(ke=hd(Q.type,Q.key,Q.props,null,X.mode,ke),ke.ref=Tl(X,V,Q),ke.return=X,ke)}function ae(X,V,Q,ke){return V===null||V.tag!==4||V.stateNode.containerInfo!==Q.containerInfo||V.stateNode.implementation!==Q.implementation?(V=km(Q,X.mode,ke),V.return=X,V):(V=x(V,Q.children||[]),V.return=X,V)}function be(X,V,Q,ke,Ue){return V===null||V.tag!==7?(V=Ys(Q,X.mode,ke,Ue),V.return=X,V):(V=x(V,Q),V.return=X,V)}function we(X,V,Q){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Sm(""+V,X.mode,Q),V.return=X,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return Q=hd(V.type,V.key,V.props,null,X.mode,Q),Q.ref=Tl(X,null,V),Q.return=X,Q;case O:return V=km(V,X.mode,Q),V.return=X,V;case J:var ke=V._init;return we(X,ke(V._payload),Q)}if(ye(V)||oe(V))return V=Ys(V,X.mode,Q,null),V.return=X,V;Uu(X,V)}return null}function ve(X,V,Q,ke){var Ue=V!==null?V.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ue!==null?null:B(X,V,""+Q,ke);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return Q.key===Ue?H(X,V,Q,ke):null;case O:return Q.key===Ue?ae(X,V,Q,ke):null;case J:return Ue=Q._init,ve(X,V,Ue(Q._payload),ke)}if(ye(Q)||oe(Q))return Ue!==null?null:be(X,V,Q,ke,null);Uu(X,Q)}return null}function Re(X,V,Q,ke,Ue){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return X=X.get(Q)||null,B(V,X,""+ke,Ue);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case E:return X=X.get(ke.key===null?Q:ke.key)||null,H(V,X,ke,Ue);case O:return X=X.get(ke.key===null?Q:ke.key)||null,ae(V,X,ke,Ue);case J:var Ge=ke._init;return Re(X,V,Q,Ge(ke._payload),Ue)}if(ye(ke)||oe(ke))return X=X.get(Q)||null,be(V,X,ke,Ue,null);Uu(V,ke)}return null}function qe(X,V,Q,ke){for(var Ue=null,Ge=null,Ye=V,rt=V=0,hr=null;Ye!==null&&rt<Q.length;rt++){Ye.index>rt?(hr=Ye,Ye=null):hr=Ye.sibling;var pt=ve(X,Ye,Q[rt],ke);if(pt===null){Ye===null&&(Ye=hr);break}o&&Ye&&pt.alternate===null&&c(X,Ye),V=_(pt,V,rt),Ge===null?Ue=pt:Ge.sibling=pt,Ge=pt,Ye=hr}if(rt===Q.length)return f(X,Ye),Lt&&Bs(X,rt),Ue;if(Ye===null){for(;rt<Q.length;rt++)Ye=we(X,Q[rt],ke),Ye!==null&&(V=_(Ye,V,rt),Ge===null?Ue=Ye:Ge.sibling=Ye,Ge=Ye);return Lt&&Bs(X,rt),Ue}for(Ye=y(X,Ye);rt<Q.length;rt++)hr=Re(Ye,X,rt,Q[rt],ke),hr!==null&&(o&&hr.alternate!==null&&Ye.delete(hr.key===null?rt:hr.key),V=_(hr,V,rt),Ge===null?Ue=hr:Ge.sibling=hr,Ge=hr);return o&&Ye.forEach(function(xs){return c(X,xs)}),Lt&&Bs(X,rt),Ue}function Be(X,V,Q,ke){var Ue=oe(Q);if(typeof Ue!="function")throw Error(r(150));if(Q=Ue.call(Q),Q==null)throw Error(r(151));for(var Ge=Ue=null,Ye=V,rt=V=0,hr=null,pt=Q.next();Ye!==null&&!pt.done;rt++,pt=Q.next()){Ye.index>rt?(hr=Ye,Ye=null):hr=Ye.sibling;var xs=ve(X,Ye,pt.value,ke);if(xs===null){Ye===null&&(Ye=hr);break}o&&Ye&&xs.alternate===null&&c(X,Ye),V=_(xs,V,rt),Ge===null?Ue=xs:Ge.sibling=xs,Ge=xs,Ye=hr}if(pt.done)return f(X,Ye),Lt&&Bs(X,rt),Ue;if(Ye===null){for(;!pt.done;rt++,pt=Q.next())pt=we(X,pt.value,ke),pt!==null&&(V=_(pt,V,rt),Ge===null?Ue=pt:Ge.sibling=pt,Ge=pt);return Lt&&Bs(X,rt),Ue}for(Ye=y(X,Ye);!pt.done;rt++,pt=Q.next())pt=Re(Ye,X,rt,pt.value,ke),pt!==null&&(o&&pt.alternate!==null&&Ye.delete(pt.key===null?rt:pt.key),V=_(pt,V,rt),Ge===null?Ue=pt:Ge.sibling=pt,Ge=pt);return o&&Ye.forEach(function(sR){return c(X,sR)}),Lt&&Bs(X,rt),Ue}function Vt(X,V,Q,ke){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:e:{for(var Ue=Q.key,Ge=V;Ge!==null;){if(Ge.key===Ue){if(Ue=Q.type,Ue===A){if(Ge.tag===7){f(X,Ge.sibling),V=x(Ge,Q.props.children),V.return=X,X=V;break e}}else if(Ge.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===J&&Kj(Ue)===Ge.type){f(X,Ge.sibling),V=x(Ge,Q.props),V.ref=Tl(X,Ge,Q),V.return=X,X=V;break e}f(X,Ge);break}else c(X,Ge);Ge=Ge.sibling}Q.type===A?(V=Ys(Q.props.children,X.mode,ke,Q.key),V.return=X,X=V):(ke=hd(Q.type,Q.key,Q.props,null,X.mode,ke),ke.ref=Tl(X,V,Q),ke.return=X,X=ke)}return C(X);case O:e:{for(Ge=Q.key;V!==null;){if(V.key===Ge)if(V.tag===4&&V.stateNode.containerInfo===Q.containerInfo&&V.stateNode.implementation===Q.implementation){f(X,V.sibling),V=x(V,Q.children||[]),V.return=X,X=V;break e}else{f(X,V);break}else c(X,V);V=V.sibling}V=km(Q,X.mode,ke),V.return=X,X=V}return C(X);case J:return Ge=Q._init,Vt(X,V,Ge(Q._payload),ke)}if(ye(Q))return qe(X,V,Q,ke);if(oe(Q))return Be(X,V,Q,ke);Uu(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,V!==null&&V.tag===6?(f(X,V.sibling),V=x(V,Q),V.return=X,X=V):(f(X,V),V=Sm(Q,X.mode,ke),V.return=X,X=V),C(X)):f(X,V)}return Vt}var Vi=Vj(!0),Gj=Vj(!1),zu=ls(null),Hu=null,Gi=null,Mp=null;function Dp(){Mp=Gi=Hu=null}function Rp(o){var c=zu.current;Mt(zu),o._currentValue=c}function Lp(o,c,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===f)break;o=o.return}}function Yi(o,c){Hu=o,Mp=Gi=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(Xr=!0),o.firstContext=null)}function On(o){var c=o._currentValue;if(Mp!==o)if(o={context:o,memoizedValue:c,next:null},Gi===null){if(Hu===null)throw Error(r(308));Gi=o,Hu.dependencies={lanes:0,firstContext:o}}else Gi=Gi.next=o;return c}var Us=null;function Fp(o){Us===null?Us=[o]:Us.push(o)}function Yj(o,c,f,y){var x=c.interleaved;return x===null?(f.next=f,Fp(c)):(f.next=x.next,x.next=f),c.interleaved=f,Ta(o,y)}function Ta(o,c){o.lanes|=c;var f=o.alternate;for(f!==null&&(f.lanes|=c),f=o,o=o.return;o!==null;)o.childLanes|=c,f=o.alternate,f!==null&&(f.childLanes|=c),f=o,o=o.return;return f.tag===3?f.stateNode:null}var ds=!1;function qp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jj(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ca(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function hs(o,c,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(dt&2)!==0){var x=y.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),y.pending=c,Ta(o,f)}return x=y.interleaved,x===null?(c.next=c,Fp(y)):(c.next=x.next,x.next=c),y.interleaved=c,Ta(o,f)}function Wu(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var y=c.lanes;y&=o.pendingLanes,f|=y,c.lanes=f,ep(o,f)}}function Xj(o,c){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var x=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var C={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?x=_=C:_=_.next=C,f=f.next}while(f!==null);_===null?x=_=c:_=_.next=c}else x=_=c;f={baseState:y.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:y.shared,effects:y.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}function Ku(o,c,f,y){var x=o.updateQueue;ds=!1;var _=x.firstBaseUpdate,C=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var H=B,ae=H.next;H.next=null,C===null?_=ae:C.next=ae,C=H;var be=o.alternate;be!==null&&(be=be.updateQueue,B=be.lastBaseUpdate,B!==C&&(B===null?be.firstBaseUpdate=ae:B.next=ae,be.lastBaseUpdate=H))}if(_!==null){var we=x.baseState;C=0,be=ae=H=null,B=_;do{var ve=B.lane,Re=B.eventTime;if((y&ve)===ve){be!==null&&(be=be.next={eventTime:Re,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var qe=o,Be=B;switch(ve=c,Re=f,Be.tag){case 1:if(qe=Be.payload,typeof qe=="function"){we=qe.call(Re,we,ve);break e}we=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Be.payload,ve=typeof qe=="function"?qe.call(Re,we,ve):qe,ve==null)break e;we=Z({},we,ve);break e;case 2:ds=!0}}B.callback!==null&&B.lane!==0&&(o.flags|=64,ve=x.effects,ve===null?x.effects=[B]:ve.push(B))}else Re={eventTime:Re,lane:ve,tag:B.tag,payload:B.payload,callback:B.callback,next:null},be===null?(ae=be=Re,H=we):be=be.next=Re,C|=ve;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;ve=B,B=ve.next,ve.next=null,x.lastBaseUpdate=ve,x.shared.pending=null}}while(!0);if(be===null&&(H=we),x.baseState=H,x.firstBaseUpdate=ae,x.lastBaseUpdate=be,c=x.shared.interleaved,c!==null){x=c;do C|=x.lane,x=x.next;while(x!==c)}else _===null&&(x.shared.lanes=0);Ws|=C,o.lanes=C,o.memoizedState=we}}function Qj(o,c,f){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var y=o[c],x=y.callback;if(x!==null){if(y.callback=null,y=f,typeof x!="function")throw Error(r(191,x));x.call(y)}}}var Cl={},da=ls(Cl),Il=ls(Cl),$l=ls(Cl);function zs(o){if(o===Cl)throw Error(r(174));return o}function Bp(o,c){switch(At($l,c),At(Il,o),At(da,Cl),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:la(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=la(c,o)}Mt(da),At(da,c)}function Ji(){Mt(da),Mt(Il),Mt($l)}function Zj(o){zs($l.current);var c=zs(da.current),f=la(c,o.type);c!==f&&(At(Il,o),At(da,f))}function Up(o){Il.current===o&&(Mt(da),Mt(Il))}var Bt=ls(0);function Vu(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var zp=[];function Hp(){for(var o=0;o<zp.length;o++)zp[o]._workInProgressVersionPrimary=null;zp.length=0}var Gu=P.ReactCurrentDispatcher,Wp=P.ReactCurrentBatchConfig,Hs=0,Ut=null,tr=null,ur=null,Yu=!1,Ml=!1,Dl=0,OD=0;function Ar(){throw Error(r(321))}function Kp(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!Wn(o[f],c[f]))return!1;return!0}function Vp(o,c,f,y,x,_){if(Hs=_,Ut=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Gu.current=o===null||o.memoizedState===null?TD:CD,o=f(y,x),Ml){_=0;do{if(Ml=!1,Dl=0,25<=_)throw Error(r(301));_+=1,ur=tr=null,c.updateQueue=null,Gu.current=ID,o=f(y,x)}while(Ml)}if(Gu.current=Qu,c=tr!==null&&tr.next!==null,Hs=0,ur=tr=Ut=null,Yu=!1,c)throw Error(r(300));return o}function Gp(){var o=Dl!==0;return Dl=0,o}function ha(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Ut.memoizedState=ur=o:ur=ur.next=o,ur}function En(){if(tr===null){var o=Ut.alternate;o=o!==null?o.memoizedState:null}else o=tr.next;var c=ur===null?Ut.memoizedState:ur.next;if(c!==null)ur=c,tr=o;else{if(o===null)throw Error(r(310));tr=o,o={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},ur===null?Ut.memoizedState=ur=o:ur=ur.next=o}return ur}function Rl(o,c){return typeof c=="function"?c(o):c}function Yp(o){var c=En(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var y=tr,x=y.baseQueue,_=f.pending;if(_!==null){if(x!==null){var C=x.next;x.next=_.next,_.next=C}y.baseQueue=x=_,f.pending=null}if(x!==null){_=x.next,y=y.baseState;var B=C=null,H=null,ae=_;do{var be=ae.lane;if((Hs&be)===be)H!==null&&(H=H.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),y=ae.hasEagerState?ae.eagerState:o(y,ae.action);else{var we={lane:be,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};H===null?(B=H=we,C=y):H=H.next=we,Ut.lanes|=be,Ws|=be}ae=ae.next}while(ae!==null&&ae!==_);H===null?C=y:H.next=B,Wn(y,c.memoizedState)||(Xr=!0),c.memoizedState=y,c.baseState=C,c.baseQueue=H,f.lastRenderedState=y}if(o=f.interleaved,o!==null){x=o;do _=x.lane,Ut.lanes|=_,Ws|=_,x=x.next;while(x!==o)}else x===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function Jp(o){var c=En(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var y=f.dispatch,x=f.pending,_=c.memoizedState;if(x!==null){f.pending=null;var C=x=x.next;do _=o(_,C.action),C=C.next;while(C!==x);Wn(_,c.memoizedState)||(Xr=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),f.lastRenderedState=_}return[_,y]}function e1(){}function t1(o,c){var f=Ut,y=En(),x=c(),_=!Wn(y.memoizedState,x);if(_&&(y.memoizedState=x,Xr=!0),y=y.queue,Xp(a1.bind(null,f,y,o),[o]),y.getSnapshot!==c||_||ur!==null&&ur.memoizedState.tag&1){if(f.flags|=2048,Ll(9,n1.bind(null,f,y,x,c),void 0,null),dr===null)throw Error(r(349));(Hs&30)!==0||r1(f,c,x)}return x}function r1(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=Ut.updateQueue,c===null?(c={lastEffect:null,stores:null},Ut.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function n1(o,c,f,y){c.value=f,c.getSnapshot=y,s1(c)&&i1(o)}function a1(o,c,f){return f(function(){s1(c)&&i1(o)})}function s1(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!Wn(o,f)}catch{return!0}}function i1(o){var c=Ta(o,1);c!==null&&Jn(c,o,1,-1)}function o1(o){var c=ha();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:o},c.queue=o,o=o.dispatch=PD.bind(null,Ut,o),[c.memoizedState,o]}function Ll(o,c,f,y){return o={tag:o,create:c,destroy:f,deps:y,next:null},c=Ut.updateQueue,c===null?(c={lastEffect:null,stores:null},Ut.updateQueue=c,c.lastEffect=o.next=o):(f=c.lastEffect,f===null?c.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,c.lastEffect=o)),o}function l1(){return En().memoizedState}function Ju(o,c,f,y){var x=ha();Ut.flags|=o,x.memoizedState=Ll(1|c,f,void 0,y===void 0?null:y)}function Xu(o,c,f,y){var x=En();y=y===void 0?null:y;var _=void 0;if(tr!==null){var C=tr.memoizedState;if(_=C.destroy,y!==null&&Kp(y,C.deps)){x.memoizedState=Ll(c,f,_,y);return}}Ut.flags|=o,x.memoizedState=Ll(1|c,f,_,y)}function c1(o,c){return Ju(8390656,8,o,c)}function Xp(o,c){return Xu(2048,8,o,c)}function u1(o,c){return Xu(4,2,o,c)}function d1(o,c){return Xu(4,4,o,c)}function h1(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function f1(o,c,f){return f=f!=null?f.concat([o]):null,Xu(4,4,h1.bind(null,c,o),f)}function Qp(){}function p1(o,c){var f=En();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&Kp(c,y[1])?y[0]:(f.memoizedState=[o,c],o)}function m1(o,c){var f=En();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&Kp(c,y[1])?y[0]:(o=o(),f.memoizedState=[o,c],o)}function g1(o,c,f){return(Hs&21)===0?(o.baseState&&(o.baseState=!1,Xr=!0),o.memoizedState=f):(Wn(f,c)||(f=Kw(),Ut.lanes|=f,Ws|=f,o.baseState=!0),c)}function ED(o,c){var f=_t;_t=f!==0&&4>f?f:4,o(!0);var y=Wp.transition;Wp.transition={};try{o(!1),c()}finally{_t=f,Wp.transition=y}}function y1(){return En().memoizedState}function AD(o,c,f){var y=gs(o);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},v1(o))x1(c,f);else if(f=Yj(o,c,f,y),f!==null){var x=Ur();Jn(f,o,y,x),b1(f,c,y)}}function PD(o,c,f){var y=gs(o),x={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(v1(o))x1(c,x);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var C=c.lastRenderedState,B=_(C,f);if(x.hasEagerState=!0,x.eagerState=B,Wn(B,C)){var H=c.interleaved;H===null?(x.next=x,Fp(c)):(x.next=H.next,H.next=x),c.interleaved=x;return}}catch{}finally{}f=Yj(o,c,x,y),f!==null&&(x=Ur(),Jn(f,o,y,x),b1(f,c,y))}}function v1(o){var c=o.alternate;return o===Ut||c!==null&&c===Ut}function x1(o,c){Ml=Yu=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function b1(o,c,f){if((f&4194240)!==0){var y=c.lanes;y&=o.pendingLanes,f|=y,c.lanes=f,ep(o,f)}}var Qu={readContext:On,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},TD={readContext:On,useCallback:function(o,c){return ha().memoizedState=[o,c===void 0?null:c],o},useContext:On,useEffect:c1,useImperativeHandle:function(o,c,f){return f=f!=null?f.concat([o]):null,Ju(4194308,4,h1.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Ju(4194308,4,o,c)},useInsertionEffect:function(o,c){return Ju(4,2,o,c)},useMemo:function(o,c){var f=ha();return c=c===void 0?null:c,o=o(),f.memoizedState=[o,c],o},useReducer:function(o,c,f){var y=ha();return c=f!==void 0?f(c):c,y.memoizedState=y.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},y.queue=o,o=o.dispatch=AD.bind(null,Ut,o),[y.memoizedState,o]},useRef:function(o){var c=ha();return o={current:o},c.memoizedState=o},useState:o1,useDebugValue:Qp,useDeferredValue:function(o){return ha().memoizedState=o},useTransition:function(){var o=o1(!1),c=o[0];return o=ED.bind(null,o[1]),ha().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,f){var y=Ut,x=ha();if(Lt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),dr===null)throw Error(r(349));(Hs&30)!==0||r1(y,c,f)}x.memoizedState=f;var _={value:f,getSnapshot:c};return x.queue=_,c1(a1.bind(null,y,_,o),[o]),y.flags|=2048,Ll(9,n1.bind(null,y,_,f,c),void 0,null),f},useId:function(){var o=ha(),c=dr.identifierPrefix;if(Lt){var f=Pa,y=Aa;f=(y&~(1<<32-sn(y)-1)).toString(32)+f,c=":"+c+"R"+f,f=Dl++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=OD++,c=":"+c+"r"+f.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},CD={readContext:On,useCallback:p1,useContext:On,useEffect:Xp,useImperativeHandle:f1,useInsertionEffect:u1,useLayoutEffect:d1,useMemo:m1,useReducer:Yp,useRef:l1,useState:function(){return Yp(Rl)},useDebugValue:Qp,useDeferredValue:function(o){var c=En();return g1(c,tr.memoizedState,o)},useTransition:function(){var o=Yp(Rl)[0],c=En().memoizedState;return[o,c]},useMutableSource:e1,useSyncExternalStore:t1,useId:y1,unstable_isNewReconciler:!1},ID={readContext:On,useCallback:p1,useContext:On,useEffect:Xp,useImperativeHandle:f1,useInsertionEffect:u1,useLayoutEffect:d1,useMemo:m1,useReducer:Jp,useRef:l1,useState:function(){return Jp(Rl)},useDebugValue:Qp,useDeferredValue:function(o){var c=En();return tr===null?c.memoizedState=o:g1(c,tr.memoizedState,o)},useTransition:function(){var o=Jp(Rl)[0],c=En().memoizedState;return[o,c]},useMutableSource:e1,useSyncExternalStore:t1,useId:y1,unstable_isNewReconciler:!1};function Vn(o,c){if(o&&o.defaultProps){c=Z({},c),o=o.defaultProps;for(var f in o)c[f]===void 0&&(c[f]=o[f]);return c}return c}function Zp(o,c,f,y){c=o.memoizedState,f=f(y,c),f=f==null?c:Z({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Zu={isMounted:function(o){return(o=o._reactInternals)?ne(o)===o:!1},enqueueSetState:function(o,c,f){o=o._reactInternals;var y=Ur(),x=gs(o),_=Ca(y,x);_.payload=c,f!=null&&(_.callback=f),c=hs(o,_,x),c!==null&&(Jn(c,o,x,y),Wu(c,o,x))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var y=Ur(),x=gs(o),_=Ca(y,x);_.tag=1,_.payload=c,f!=null&&(_.callback=f),c=hs(o,_,x),c!==null&&(Jn(c,o,x,y),Wu(c,o,x))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=Ur(),y=gs(o),x=Ca(f,y);x.tag=2,c!=null&&(x.callback=c),c=hs(o,x,y),c!==null&&(Jn(c,o,y,f),Wu(c,o,y))}};function w1(o,c,f,y,x,_,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,_,C):c.prototype&&c.prototype.isPureReactComponent?!_l(f,y)||!_l(x,_):!0}function j1(o,c,f){var y=!1,x=cs,_=c.contextType;return typeof _=="object"&&_!==null?_=On(_):(x=Jr(c)?Fs:Er.current,y=c.contextTypes,_=(y=y!=null)?zi(o,x):cs),c=new c(f,_),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Zu,o.stateNode=c,c._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=_),c}function N1(o,c,f,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,y),c.state!==o&&Zu.enqueueReplaceState(c,c.state,null)}function em(o,c,f,y){var x=o.stateNode;x.props=f,x.state=o.memoizedState,x.refs={},qp(o);var _=c.contextType;typeof _=="object"&&_!==null?x.context=On(_):(_=Jr(c)?Fs:Er.current,x.context=zi(o,_)),x.state=o.memoizedState,_=c.getDerivedStateFromProps,typeof _=="function"&&(Zp(o,c,_,f),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(c=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),c!==x.state&&Zu.enqueueReplaceState(x,x.state,null),Ku(o,f,x,y),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function Xi(o,c){try{var f="",y=c;do f+=ge(y),y=y.return;while(y);var x=f}catch(_){x=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:c,stack:x,digest:null}}function tm(o,c,f){return{value:o,source:null,stack:f??null,digest:c??null}}function rm(o,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var $D=typeof WeakMap=="function"?WeakMap:Map;function _1(o,c,f){f=Ca(-1,f),f.tag=3,f.payload={element:null};var y=c.value;return f.callback=function(){id||(id=!0,ym=y),rm(o,c)},f}function S1(o,c,f){f=Ca(-1,f),f.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var x=c.value;f.payload=function(){return y(x)},f.callback=function(){rm(o,c)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){rm(o,c),typeof y!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})}),f}function k1(o,c,f){var y=o.pingCache;if(y===null){y=o.pingCache=new $D;var x=new Set;y.set(c,x)}else x=y.get(c),x===void 0&&(x=new Set,y.set(c,x));x.has(f)||(x.add(f),o=GD.bind(null,o,c,f),c.then(o,o))}function O1(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function E1(o,c,f,y,x){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=Ca(-1,1),c.tag=2,hs(f,c,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var MD=P.ReactCurrentOwner,Xr=!1;function Br(o,c,f,y){c.child=o===null?Gj(c,null,f,y):Vi(c,o.child,f,y)}function A1(o,c,f,y,x){f=f.render;var _=c.ref;return Yi(c,x),y=Vp(o,c,f,y,_,x),f=Gp(),o!==null&&!Xr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~x,Ia(o,c,x)):(Lt&&f&&Pp(c),c.flags|=1,Br(o,c,y,x),c.child)}function P1(o,c,f,y,x){if(o===null){var _=f.type;return typeof _=="function"&&!_m(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=_,T1(o,c,_,y,x)):(o=hd(f.type,null,y,c,c.mode,x),o.ref=c.ref,o.return=c,c.child=o)}if(_=o.child,(o.lanes&x)===0){var C=_.memoizedProps;if(f=f.compare,f=f!==null?f:_l,f(C,y)&&o.ref===c.ref)return Ia(o,c,x)}return c.flags|=1,o=vs(_,y),o.ref=c.ref,o.return=c,c.child=o}function T1(o,c,f,y,x){if(o!==null){var _=o.memoizedProps;if(_l(_,y)&&o.ref===c.ref)if(Xr=!1,c.pendingProps=y=_,(o.lanes&x)!==0)(o.flags&131072)!==0&&(Xr=!0);else return c.lanes=o.lanes,Ia(o,c,x)}return nm(o,c,f,y,x)}function C1(o,c,f){var y=c.pendingProps,x=y.children,_=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(Zi,un),un|=f;else{if((f&1073741824)===0)return o=_!==null?_.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,At(Zi,un),un|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=_!==null?_.baseLanes:f,At(Zi,un),un|=y}else _!==null?(y=_.baseLanes|f,c.memoizedState=null):y=f,At(Zi,un),un|=y;return Br(o,c,x,f),c.child}function I1(o,c){var f=c.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function nm(o,c,f,y,x){var _=Jr(f)?Fs:Er.current;return _=zi(c,_),Yi(c,x),f=Vp(o,c,f,y,_,x),y=Gp(),o!==null&&!Xr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~x,Ia(o,c,x)):(Lt&&y&&Pp(c),c.flags|=1,Br(o,c,f,x),c.child)}function $1(o,c,f,y,x){if(Jr(f)){var _=!0;Ru(c)}else _=!1;if(Yi(c,x),c.stateNode===null)td(o,c),j1(c,f,y),em(c,f,y,x),y=!0;else if(o===null){var C=c.stateNode,B=c.memoizedProps;C.props=B;var H=C.context,ae=f.contextType;typeof ae=="object"&&ae!==null?ae=On(ae):(ae=Jr(f)?Fs:Er.current,ae=zi(c,ae));var be=f.getDerivedStateFromProps,we=typeof be=="function"||typeof C.getSnapshotBeforeUpdate=="function";we||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(B!==y||H!==ae)&&N1(c,C,y,ae),ds=!1;var ve=c.memoizedState;C.state=ve,Ku(c,y,C,x),H=c.memoizedState,B!==y||ve!==H||Yr.current||ds?(typeof be=="function"&&(Zp(c,f,be,y),H=c.memoizedState),(B=ds||w1(c,f,B,y,ve,H,ae))?(we||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(c.flags|=4194308)):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=H),C.props=y,C.state=H,C.context=ae,y=B):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{C=c.stateNode,Jj(o,c),B=c.memoizedProps,ae=c.type===c.elementType?B:Vn(c.type,B),C.props=ae,we=c.pendingProps,ve=C.context,H=f.contextType,typeof H=="object"&&H!==null?H=On(H):(H=Jr(f)?Fs:Er.current,H=zi(c,H));var Re=f.getDerivedStateFromProps;(be=typeof Re=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(B!==we||ve!==H)&&N1(c,C,y,H),ds=!1,ve=c.memoizedState,C.state=ve,Ku(c,y,C,x);var qe=c.memoizedState;B!==we||ve!==qe||Yr.current||ds?(typeof Re=="function"&&(Zp(c,f,Re,y),qe=c.memoizedState),(ae=ds||w1(c,f,ae,y,ve,qe,H)||!1)?(be||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,qe,H),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,qe,H)),typeof C.componentDidUpdate=="function"&&(c.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof C.componentDidUpdate!="function"||B===o.memoizedProps&&ve===o.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&ve===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=qe),C.props=y,C.state=qe,C.context=H,y=ae):(typeof C.componentDidUpdate!="function"||B===o.memoizedProps&&ve===o.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&ve===o.memoizedState||(c.flags|=1024),y=!1)}return am(o,c,f,y,_,x)}function am(o,c,f,y,x,_){I1(o,c);var C=(c.flags&128)!==0;if(!y&&!C)return x&&Fj(c,f,!1),Ia(o,c,_);y=c.stateNode,MD.current=c;var B=C&&typeof f.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,o!==null&&C?(c.child=Vi(c,o.child,null,_),c.child=Vi(c,null,B,_)):Br(o,c,B,_),c.memoizedState=y.state,x&&Fj(c,f,!0),c.child}function M1(o){var c=o.stateNode;c.pendingContext?Rj(o,c.pendingContext,c.pendingContext!==c.context):c.context&&Rj(o,c.context,!1),Bp(o,c.containerInfo)}function D1(o,c,f,y,x){return Ki(),$p(x),c.flags|=256,Br(o,c,f,y),c.child}var sm={dehydrated:null,treeContext:null,retryLane:0};function im(o){return{baseLanes:o,cachePool:null,transitions:null}}function R1(o,c,f){var y=c.pendingProps,x=Bt.current,_=!1,C=(c.flags&128)!==0,B;if((B=C)||(B=o!==null&&o.memoizedState===null?!1:(x&2)!==0),B?(_=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),At(Bt,x&1),o===null)return Ip(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(C=y.children,o=y.fallback,_?(y=c.mode,_=c.child,C={mode:"hidden",children:C},(y&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=C):_=fd(C,y,0,null),o=Ys(o,y,f,null),_.return=c,o.return=c,_.sibling=o,c.child=_,c.child.memoizedState=im(f),c.memoizedState=sm,o):om(c,C));if(x=o.memoizedState,x!==null&&(B=x.dehydrated,B!==null))return DD(o,c,C,y,B,x,f);if(_){_=y.fallback,C=c.mode,x=o.child,B=x.sibling;var H={mode:"hidden",children:y.children};return(C&1)===0&&c.child!==x?(y=c.child,y.childLanes=0,y.pendingProps=H,c.deletions=null):(y=vs(x,H),y.subtreeFlags=x.subtreeFlags&14680064),B!==null?_=vs(B,_):(_=Ys(_,C,f,null),_.flags|=2),_.return=c,y.return=c,y.sibling=_,c.child=y,y=_,_=c.child,C=o.child.memoizedState,C=C===null?im(f):{baseLanes:C.baseLanes|f,cachePool:null,transitions:C.transitions},_.memoizedState=C,_.childLanes=o.childLanes&~f,c.memoizedState=sm,y}return _=o.child,o=_.sibling,y=vs(_,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=f),y.return=c,y.sibling=null,o!==null&&(f=c.deletions,f===null?(c.deletions=[o],c.flags|=16):f.push(o)),c.child=y,c.memoizedState=null,y}function om(o,c){return c=fd({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function ed(o,c,f,y){return y!==null&&$p(y),Vi(c,o.child,null,f),o=om(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function DD(o,c,f,y,x,_,C){if(f)return c.flags&256?(c.flags&=-257,y=tm(Error(r(422))),ed(o,c,C,y)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(_=y.fallback,x=c.mode,y=fd({mode:"visible",children:y.children},x,0,null),_=Ys(_,x,C,null),_.flags|=2,y.return=c,_.return=c,y.sibling=_,c.child=y,(c.mode&1)!==0&&Vi(c,o.child,null,C),c.child.memoizedState=im(C),c.memoizedState=sm,_);if((c.mode&1)===0)return ed(o,c,C,null);if(x.data==="$!"){if(y=x.nextSibling&&x.nextSibling.dataset,y)var B=y.dgst;return y=B,_=Error(r(419)),y=tm(_,y,void 0),ed(o,c,C,y)}if(B=(C&o.childLanes)!==0,Xr||B){if(y=dr,y!==null){switch(C&-C){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(y.suspendedLanes|C))!==0?0:x,x!==0&&x!==_.retryLane&&(_.retryLane=x,Ta(o,x),Jn(y,o,x,-1))}return Nm(),y=tm(Error(r(421))),ed(o,c,C,y)}return x.data==="$?"?(c.flags|=128,c.child=o.child,c=YD.bind(null,o),x._reactRetry=c,null):(o=_.treeContext,cn=os(x.nextSibling),ln=c,Lt=!0,Kn=null,o!==null&&(Sn[kn++]=Aa,Sn[kn++]=Pa,Sn[kn++]=qs,Aa=o.id,Pa=o.overflow,qs=c),c=om(c,y.children),c.flags|=4096,c)}function L1(o,c,f){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),Lp(o.return,c,f)}function lm(o,c,f,y,x){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:x}:(_.isBackwards=c,_.rendering=null,_.renderingStartTime=0,_.last=y,_.tail=f,_.tailMode=x)}function F1(o,c,f){var y=c.pendingProps,x=y.revealOrder,_=y.tail;if(Br(o,c,y.children,f),y=Bt.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&L1(o,f,c);else if(o.tag===19)L1(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(At(Bt,y),(c.mode&1)===0)c.memoizedState=null;else switch(x){case"forwards":for(f=c.child,x=null;f!==null;)o=f.alternate,o!==null&&Vu(o)===null&&(x=f),f=f.sibling;f=x,f===null?(x=c.child,c.child=null):(x=f.sibling,f.sibling=null),lm(c,!1,x,f,_);break;case"backwards":for(f=null,x=c.child,c.child=null;x!==null;){if(o=x.alternate,o!==null&&Vu(o)===null){c.child=x;break}o=x.sibling,x.sibling=f,f=x,x=o}lm(c,!0,f,null,_);break;case"together":lm(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function td(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Ia(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),Ws|=c.lanes,(f&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,f=vs(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=vs(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function RD(o,c,f){switch(c.tag){case 3:M1(c),Ki();break;case 5:Zj(c);break;case 1:Jr(c.type)&&Ru(c);break;case 4:Bp(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,x=c.memoizedProps.value;At(zu,y._currentValue),y._currentValue=x;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(At(Bt,Bt.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?R1(o,c,f):(At(Bt,Bt.current&1),o=Ia(o,c,f),o!==null?o.sibling:null);At(Bt,Bt.current&1);break;case 19:if(y=(f&c.childLanes)!==0,(o.flags&128)!==0){if(y)return F1(o,c,f);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),At(Bt,Bt.current),y)break;return null;case 22:case 23:return c.lanes=0,C1(o,c,f)}return Ia(o,c,f)}var q1,cm,B1,U1;q1=function(o,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},cm=function(){},B1=function(o,c,f,y){var x=o.memoizedProps;if(x!==y){o=c.stateNode,zs(da.current);var _=null;switch(f){case"input":x=Ie(o,x),y=Ie(o,y),_=[];break;case"select":x=Z({},x,{value:void 0}),y=Z({},y,{value:void 0}),_=[];break;case"textarea":x=ct(o,x),y=ct(o,y),_=[];break;default:typeof x.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=$u)}Un(f,y);var C;f=null;for(ae in x)if(!y.hasOwnProperty(ae)&&x.hasOwnProperty(ae)&&x[ae]!=null)if(ae==="style"){var B=x[ae];for(C in B)B.hasOwnProperty(C)&&(f||(f={}),f[C]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(a.hasOwnProperty(ae)?_||(_=[]):(_=_||[]).push(ae,null));for(ae in y){var H=y[ae];if(B=x?.[ae],y.hasOwnProperty(ae)&&H!==B&&(H!=null||B!=null))if(ae==="style")if(B){for(C in B)!B.hasOwnProperty(C)||H&&H.hasOwnProperty(C)||(f||(f={}),f[C]="");for(C in H)H.hasOwnProperty(C)&&B[C]!==H[C]&&(f||(f={}),f[C]=H[C])}else f||(_||(_=[]),_.push(ae,f)),f=H;else ae==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,B=B?B.__html:void 0,H!=null&&B!==H&&(_=_||[]).push(ae,H)):ae==="children"?typeof H!="string"&&typeof H!="number"||(_=_||[]).push(ae,""+H):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(a.hasOwnProperty(ae)?(H!=null&&ae==="onScroll"&&$t("scroll",o),_||B===H||(_=[])):(_=_||[]).push(ae,H))}f&&(_=_||[]).push("style",f);var ae=_;(c.updateQueue=ae)&&(c.flags|=4)}},U1=function(o,c,f,y){f!==y&&(c.flags|=4)};function Fl(o,c){if(!Lt)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Pr(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(c)for(var x=o.child;x!==null;)f|=x.lanes|x.childLanes,y|=x.subtreeFlags&14680064,y|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)f|=x.lanes|x.childLanes,y|=x.subtreeFlags,y|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=y,o.childLanes=f,c}function LD(o,c,f){var y=c.pendingProps;switch(Tp(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(c),null;case 1:return Jr(c.type)&&Du(),Pr(c),null;case 3:return y=c.stateNode,Ji(),Mt(Yr),Mt(Er),Hp(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Bu(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Kn!==null&&(bm(Kn),Kn=null))),cm(o,c),Pr(c),null;case 5:Up(c);var x=zs($l.current);if(f=c.type,o!==null&&c.stateNode!=null)B1(o,c,f,y,x),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(r(166));return Pr(c),null}if(o=zs(da.current),Bu(c)){y=c.stateNode,f=c.type;var _=c.memoizedProps;switch(y[ua]=c,y[Al]=_,o=(c.mode&1)!==0,f){case"dialog":$t("cancel",y),$t("close",y);break;case"iframe":case"object":case"embed":$t("load",y);break;case"video":case"audio":for(x=0;x<kl.length;x++)$t(kl[x],y);break;case"source":$t("error",y);break;case"img":case"image":case"link":$t("error",y),$t("load",y);break;case"details":$t("toggle",y);break;case"input":ot(y,_),$t("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!_.multiple},$t("invalid",y);break;case"textarea":jt(y,_),$t("invalid",y)}Un(f,_),x=null;for(var C in _)if(_.hasOwnProperty(C)){var B=_[C];C==="children"?typeof B=="string"?y.textContent!==B&&(_.suppressHydrationWarning!==!0&&Iu(y.textContent,B,o),x=["children",B]):typeof B=="number"&&y.textContent!==""+B&&(_.suppressHydrationWarning!==!0&&Iu(y.textContent,B,o),x=["children",""+B]):a.hasOwnProperty(C)&&B!=null&&C==="onScroll"&&$t("scroll",y)}switch(f){case"input":Oe(y),Ne(y,_,!0);break;case"textarea":Oe(y),vr(y);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(y.onclick=$u)}y=x,c.updateQueue=y,y!==null&&(c.flags|=4)}else{C=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=oa(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=C.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=C.createElement(f,{is:y.is}):(o=C.createElement(f),f==="select"&&(C=o,y.multiple?C.multiple=!0:y.size&&(C.size=y.size))):o=C.createElementNS(o,f),o[ua]=c,o[Al]=y,q1(o,c,!1,!1),c.stateNode=o;e:{switch(C=le(f,y),f){case"dialog":$t("cancel",o),$t("close",o),x=y;break;case"iframe":case"object":case"embed":$t("load",o),x=y;break;case"video":case"audio":for(x=0;x<kl.length;x++)$t(kl[x],o);x=y;break;case"source":$t("error",o),x=y;break;case"img":case"image":case"link":$t("error",o),$t("load",o),x=y;break;case"details":$t("toggle",o),x=y;break;case"input":ot(o,y),x=Ie(o,y),$t("invalid",o);break;case"option":x=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},x=Z({},y,{value:void 0}),$t("invalid",o);break;case"textarea":jt(o,y),x=ct(o,y),$t("invalid",o);break;default:x=y}Un(f,x),B=x;for(_ in B)if(B.hasOwnProperty(_)){var H=B[_];_==="style"?nn(o,H):_==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Bn(o,H)):_==="children"?typeof H=="string"?(f!=="textarea"||H!=="")&&er(o,H):typeof H=="number"&&er(o,""+H):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(a.hasOwnProperty(_)?H!=null&&_==="onScroll"&&$t("scroll",o):H!=null&&S(o,_,H,C))}switch(f){case"input":Oe(o),Ne(o,y,!1);break;case"textarea":Oe(o),vr(o);break;case"option":y.value!=null&&o.setAttribute("value",""+De(y.value));break;case"select":o.multiple=!!y.multiple,_=y.value,_!=null?$e(o,!!y.multiple,_,!1):y.defaultValue!=null&&$e(o,!!y.multiple,y.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=$u)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Pr(c),null;case 6:if(o&&c.stateNode!=null)U1(o,c,o.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(f=zs($l.current),zs(da.current),Bu(c)){if(y=c.stateNode,f=c.memoizedProps,y[ua]=c,(_=y.nodeValue!==f)&&(o=ln,o!==null))switch(o.tag){case 3:Iu(y.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Iu(y.nodeValue,f,(o.mode&1)!==0)}_&&(c.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[ua]=c,c.stateNode=y}return Pr(c),null;case 13:if(Mt(Bt),y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Lt&&cn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Wj(),Ki(),c.flags|=98560,_=!1;else if(_=Bu(c),y!==null&&y.dehydrated!==null){if(o===null){if(!_)throw Error(r(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[ua]=c}else Ki(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Pr(c),_=!1}else Kn!==null&&(bm(Kn),Kn=null),_=!0;if(!_)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(Bt.current&1)!==0?rr===0&&(rr=3):Nm())),c.updateQueue!==null&&(c.flags|=4),Pr(c),null);case 4:return Ji(),cm(o,c),o===null&&Ol(c.stateNode.containerInfo),Pr(c),null;case 10:return Rp(c.type._context),Pr(c),null;case 17:return Jr(c.type)&&Du(),Pr(c),null;case 19:if(Mt(Bt),_=c.memoizedState,_===null)return Pr(c),null;if(y=(c.flags&128)!==0,C=_.rendering,C===null)if(y)Fl(_,!1);else{if(rr!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(C=Vu(o),C!==null){for(c.flags|=128,Fl(_,!1),y=C.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=f,f=c.child;f!==null;)_=f,o=y,_.flags&=14680066,C=_.alternate,C===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=C.childLanes,_.lanes=C.lanes,_.child=C.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=C.memoizedProps,_.memoizedState=C.memoizedState,_.updateQueue=C.updateQueue,_.type=C.type,o=C.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return At(Bt,Bt.current&1|2),c.child}o=o.sibling}_.tail!==null&&Ot()>eo&&(c.flags|=128,y=!0,Fl(_,!1),c.lanes=4194304)}else{if(!y)if(o=Vu(C),o!==null){if(c.flags|=128,y=!0,f=o.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),Fl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!C.alternate&&!Lt)return Pr(c),null}else 2*Ot()-_.renderingStartTime>eo&&f!==1073741824&&(c.flags|=128,y=!0,Fl(_,!1),c.lanes=4194304);_.isBackwards?(C.sibling=c.child,c.child=C):(f=_.last,f!==null?f.sibling=C:c.child=C,_.last=C)}return _.tail!==null?(c=_.tail,_.rendering=c,_.tail=c.sibling,_.renderingStartTime=Ot(),c.sibling=null,f=Bt.current,At(Bt,y?f&1|2:f&1),c):(Pr(c),null);case 22:case 23:return jm(),y=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(un&1073741824)!==0&&(Pr(c),c.subtreeFlags&6&&(c.flags|=8192)):Pr(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function FD(o,c){switch(Tp(c),c.tag){case 1:return Jr(c.type)&&Du(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ji(),Mt(Yr),Mt(Er),Hp(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return Up(c),null;case 13:if(Mt(Bt),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Ki()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Mt(Bt),null;case 4:return Ji(),null;case 10:return Rp(c.type._context),null;case 22:case 23:return jm(),null;case 24:return null;default:return null}}var rd=!1,Tr=!1,qD=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Qi(o,c){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){zt(o,c,y)}else f.current=null}function um(o,c,f){try{f()}catch(y){zt(o,c,y)}}var z1=!1;function BD(o,c){if(jp=ju,o=wj(),pp(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var x=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var C=0,B=-1,H=-1,ae=0,be=0,we=o,ve=null;t:for(;;){for(var Re;we!==f||x!==0&&we.nodeType!==3||(B=C+x),we!==_||y!==0&&we.nodeType!==3||(H=C+y),we.nodeType===3&&(C+=we.nodeValue.length),(Re=we.firstChild)!==null;)ve=we,we=Re;for(;;){if(we===o)break t;if(ve===f&&++ae===x&&(B=C),ve===_&&++be===y&&(H=C),(Re=we.nextSibling)!==null)break;we=ve,ve=we.parentNode}we=Re}f=B===-1||H===-1?null:{start:B,end:H}}else f=null}f=f||{start:0,end:0}}else f=null;for(Np={focusedElem:o,selectionRange:f},ju=!1,Le=c;Le!==null;)if(c=Le,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Le=o;else for(;Le!==null;){c=Le;try{var qe=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(qe!==null){var Be=qe.memoizedProps,Vt=qe.memoizedState,X=c.stateNode,V=X.getSnapshotBeforeUpdate(c.elementType===c.type?Be:Vn(c.type,Be),Vt);X.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var Q=c.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ke){zt(c,c.return,ke)}if(o=c.sibling,o!==null){o.return=c.return,Le=o;break}Le=c.return}return qe=z1,z1=!1,qe}function ql(o,c,f){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var x=y=y.next;do{if((x.tag&o)===o){var _=x.destroy;x.destroy=void 0,_!==void 0&&um(c,f,_)}x=x.next}while(x!==y)}}function nd(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&o)===o){var y=f.create;f.destroy=y()}f=f.next}while(f!==c)}}function dm(o){var c=o.ref;if(c!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof c=="function"?c(o):c.current=o}}function H1(o){var c=o.alternate;c!==null&&(o.alternate=null,H1(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[ua],delete c[Al],delete c[Op],delete c[ND],delete c[_D])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function W1(o){return o.tag===5||o.tag===3||o.tag===4}function K1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||W1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function hm(o,c,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(o,c):f.insertBefore(o,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(o,f)):(c=f,c.appendChild(o)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=$u));else if(y!==4&&(o=o.child,o!==null))for(hm(o,c,f),o=o.sibling;o!==null;)hm(o,c,f),o=o.sibling}function fm(o,c,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(fm(o,c,f),o=o.sibling;o!==null;)fm(o,c,f),o=o.sibling}var jr=null,Gn=!1;function fs(o,c,f){for(f=f.child;f!==null;)V1(o,c,f),f=f.sibling}function V1(o,c,f){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(es,f)}catch{}switch(f.tag){case 5:Tr||Qi(f,c);case 6:var y=jr,x=Gn;jr=null,fs(o,c,f),jr=y,Gn=x,jr!==null&&(Gn?(o=jr,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):jr.removeChild(f.stateNode));break;case 18:jr!==null&&(Gn?(o=jr,f=f.stateNode,o.nodeType===8?kp(o.parentNode,f):o.nodeType===1&&kp(o,f),vl(o)):kp(jr,f.stateNode));break;case 4:y=jr,x=Gn,jr=f.stateNode.containerInfo,Gn=!0,fs(o,c,f),jr=y,Gn=x;break;case 0:case 11:case 14:case 15:if(!Tr&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){x=y=y.next;do{var _=x,C=_.destroy;_=_.tag,C!==void 0&&((_&2)!==0||(_&4)!==0)&&um(f,c,C),x=x.next}while(x!==y)}fs(o,c,f);break;case 1:if(!Tr&&(Qi(f,c),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(B){zt(f,c,B)}fs(o,c,f);break;case 21:fs(o,c,f);break;case 22:f.mode&1?(Tr=(y=Tr)||f.memoizedState!==null,fs(o,c,f),Tr=y):fs(o,c,f);break;default:fs(o,c,f)}}function G1(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new qD),c.forEach(function(y){var x=JD.bind(null,o,y);f.has(y)||(f.add(y),y.then(x,x))})}}function Yn(o,c){var f=c.deletions;if(f!==null)for(var y=0;y<f.length;y++){var x=f[y];try{var _=o,C=c,B=C;e:for(;B!==null;){switch(B.tag){case 5:jr=B.stateNode,Gn=!1;break e;case 3:jr=B.stateNode.containerInfo,Gn=!0;break e;case 4:jr=B.stateNode.containerInfo,Gn=!0;break e}B=B.return}if(jr===null)throw Error(r(160));V1(_,C,x),jr=null,Gn=!1;var H=x.alternate;H!==null&&(H.return=null),x.return=null}catch(ae){zt(x,c,ae)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Y1(c,o),c=c.sibling}function Y1(o,c){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Yn(c,o),fa(o),y&4){try{ql(3,o,o.return),nd(3,o)}catch(Be){zt(o,o.return,Be)}try{ql(5,o,o.return)}catch(Be){zt(o,o.return,Be)}}break;case 1:Yn(c,o),fa(o),y&512&&f!==null&&Qi(f,f.return);break;case 5:if(Yn(c,o),fa(o),y&512&&f!==null&&Qi(f,f.return),o.flags&32){var x=o.stateNode;try{er(x,"")}catch(Be){zt(o,o.return,Be)}}if(y&4&&(x=o.stateNode,x!=null)){var _=o.memoizedProps,C=f!==null?f.memoizedProps:_,B=o.type,H=o.updateQueue;if(o.updateQueue=null,H!==null)try{B==="input"&&_.type==="radio"&&_.name!=null&&Pe(x,_),le(B,C);var ae=le(B,_);for(C=0;C<H.length;C+=2){var be=H[C],we=H[C+1];be==="style"?nn(x,we):be==="dangerouslySetInnerHTML"?Bn(x,we):be==="children"?er(x,we):S(x,be,we,ae)}switch(B){case"input":Ae(x,_);break;case"textarea":Rt(x,_);break;case"select":var ve=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!_.multiple;var Re=_.value;Re!=null?$e(x,!!_.multiple,Re,!1):ve!==!!_.multiple&&(_.defaultValue!=null?$e(x,!!_.multiple,_.defaultValue,!0):$e(x,!!_.multiple,_.multiple?[]:"",!1))}x[Al]=_}catch(Be){zt(o,o.return,Be)}}break;case 6:if(Yn(c,o),fa(o),y&4){if(o.stateNode===null)throw Error(r(162));x=o.stateNode,_=o.memoizedProps;try{x.nodeValue=_}catch(Be){zt(o,o.return,Be)}}break;case 3:if(Yn(c,o),fa(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{vl(c.containerInfo)}catch(Be){zt(o,o.return,Be)}break;case 4:Yn(c,o),fa(o);break;case 13:Yn(c,o),fa(o),x=o.child,x.flags&8192&&(_=x.memoizedState!==null,x.stateNode.isHidden=_,!_||x.alternate!==null&&x.alternate.memoizedState!==null||(gm=Ot())),y&4&&G1(o);break;case 22:if(be=f!==null&&f.memoizedState!==null,o.mode&1?(Tr=(ae=Tr)||be,Yn(c,o),Tr=ae):Yn(c,o),fa(o),y&8192){if(ae=o.memoizedState!==null,(o.stateNode.isHidden=ae)&&!be&&(o.mode&1)!==0)for(Le=o,be=o.child;be!==null;){for(we=Le=be;Le!==null;){switch(ve=Le,Re=ve.child,ve.tag){case 0:case 11:case 14:case 15:ql(4,ve,ve.return);break;case 1:Qi(ve,ve.return);var qe=ve.stateNode;if(typeof qe.componentWillUnmount=="function"){y=ve,f=ve.return;try{c=y,qe.props=c.memoizedProps,qe.state=c.memoizedState,qe.componentWillUnmount()}catch(Be){zt(y,f,Be)}}break;case 5:Qi(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Q1(we);continue}}Re!==null?(Re.return=ve,Le=Re):Q1(we)}be=be.sibling}e:for(be=null,we=o;;){if(we.tag===5){if(be===null){be=we;try{x=we.stateNode,ae?(_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(B=we.stateNode,H=we.memoizedProps.style,C=H!=null&&H.hasOwnProperty("display")?H.display:null,B.style.display=jn("display",C))}catch(Be){zt(o,o.return,Be)}}}else if(we.tag===6){if(be===null)try{we.stateNode.nodeValue=ae?"":we.memoizedProps}catch(Be){zt(o,o.return,Be)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===o)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===o)break e;for(;we.sibling===null;){if(we.return===null||we.return===o)break e;be===we&&(be=null),we=we.return}be===we&&(be=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:Yn(c,o),fa(o),y&4&&G1(o);break;case 21:break;default:Yn(c,o),fa(o)}}function fa(o){var c=o.flags;if(c&2){try{e:{for(var f=o.return;f!==null;){if(W1(f)){var y=f;break e}f=f.return}throw Error(r(160))}switch(y.tag){case 5:var x=y.stateNode;y.flags&32&&(er(x,""),y.flags&=-33);var _=K1(o);fm(o,_,x);break;case 3:case 4:var C=y.stateNode.containerInfo,B=K1(o);hm(o,B,C);break;default:throw Error(r(161))}}catch(H){zt(o,o.return,H)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function UD(o,c,f){Le=o,J1(o)}function J1(o,c,f){for(var y=(o.mode&1)!==0;Le!==null;){var x=Le,_=x.child;if(x.tag===22&&y){var C=x.memoizedState!==null||rd;if(!C){var B=x.alternate,H=B!==null&&B.memoizedState!==null||Tr;B=rd;var ae=Tr;if(rd=C,(Tr=H)&&!ae)for(Le=x;Le!==null;)C=Le,H=C.child,C.tag===22&&C.memoizedState!==null?Z1(x):H!==null?(H.return=C,Le=H):Z1(x);for(;_!==null;)Le=_,J1(_),_=_.sibling;Le=x,rd=B,Tr=ae}X1(o)}else(x.subtreeFlags&8772)!==0&&_!==null?(_.return=x,Le=_):X1(o)}}function X1(o){for(;Le!==null;){var c=Le;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Tr||nd(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!Tr)if(f===null)y.componentDidMount();else{var x=c.elementType===c.type?f.memoizedProps:Vn(c.type,f.memoizedProps);y.componentDidUpdate(x,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var _=c.updateQueue;_!==null&&Qj(c,_,y);break;case 3:var C=c.updateQueue;if(C!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}Qj(c,C,f)}break;case 5:var B=c.stateNode;if(f===null&&c.flags&4){f=B;var H=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&f.focus();break;case"img":H.src&&(f.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ae=c.alternate;if(ae!==null){var be=ae.memoizedState;if(be!==null){var we=be.dehydrated;we!==null&&vl(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Tr||c.flags&512&&dm(c)}catch(ve){zt(c,c.return,ve)}}if(c===o){Le=null;break}if(f=c.sibling,f!==null){f.return=c.return,Le=f;break}Le=c.return}}function Q1(o){for(;Le!==null;){var c=Le;if(c===o){Le=null;break}var f=c.sibling;if(f!==null){f.return=c.return,Le=f;break}Le=c.return}}function Z1(o){for(;Le!==null;){var c=Le;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{nd(4,c)}catch(H){zt(c,f,H)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var x=c.return;try{y.componentDidMount()}catch(H){zt(c,x,H)}}var _=c.return;try{dm(c)}catch(H){zt(c,_,H)}break;case 5:var C=c.return;try{dm(c)}catch(H){zt(c,C,H)}}}catch(H){zt(c,c.return,H)}if(c===o){Le=null;break}var B=c.sibling;if(B!==null){B.return=c.return,Le=B;break}Le=c.return}}var zD=Math.ceil,ad=P.ReactCurrentDispatcher,pm=P.ReactCurrentOwner,An=P.ReactCurrentBatchConfig,dt=0,dr=null,Yt=null,Nr=0,un=0,Zi=ls(0),rr=0,Bl=null,Ws=0,sd=0,mm=0,Ul=null,Qr=null,gm=0,eo=1/0,$a=null,id=!1,ym=null,ps=null,od=!1,ms=null,ld=0,zl=0,vm=null,cd=-1,ud=0;function Ur(){return(dt&6)!==0?Ot():cd!==-1?cd:cd=Ot()}function gs(o){return(o.mode&1)===0?1:(dt&2)!==0&&Nr!==0?Nr&-Nr:kD.transition!==null?(ud===0&&(ud=Kw()),ud):(o=_t,o!==0||(o=window.event,o=o===void 0?16:tj(o.type)),o)}function Jn(o,c,f,y){if(50<zl)throw zl=0,vm=null,Error(r(185));fl(o,f,y),((dt&2)===0||o!==dr)&&(o===dr&&((dt&2)===0&&(sd|=f),rr===4&&ys(o,Nr)),Zr(o,y),f===1&&dt===0&&(c.mode&1)===0&&(eo=Ot()+500,Lu&&us()))}function Zr(o,c){var f=o.callbackNode;kM(o,c);var y=Ii(o,o===dr?Nr:0);if(y===0)f!==null&&vt(f),o.callbackNode=null,o.callbackPriority=0;else if(c=y&-y,o.callbackPriority!==c){if(f!=null&&vt(f),c===1)o.tag===0?SD(tN.bind(null,o)):qj(tN.bind(null,o)),wD(function(){(dt&6)===0&&us()}),f=null;else{switch(Vw(y)){case 1:f=Ti;break;case 4:f=Ds;break;case 16:f=ka;break;case 536870912:f=Rs;break;default:f=ka}f=cN(f,eN.bind(null,o))}o.callbackPriority=c,o.callbackNode=f}}function eN(o,c){if(cd=-1,ud=0,(dt&6)!==0)throw Error(r(327));var f=o.callbackNode;if(to()&&o.callbackNode!==f)return null;var y=Ii(o,o===dr?Nr:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||c)c=dd(o,y);else{c=y;var x=dt;dt|=2;var _=nN();(dr!==o||Nr!==c)&&($a=null,eo=Ot()+500,Vs(o,c));do try{KD();break}catch(B){rN(o,B)}while(!0);Dp(),ad.current=_,dt=x,Yt!==null?c=0:(dr=null,Nr=0,c=rr)}if(c!==0){if(c===2&&(x=Qf(o),x!==0&&(y=x,c=xm(o,x))),c===1)throw f=Bl,Vs(o,0),ys(o,y),Zr(o,Ot()),f;if(c===6)ys(o,y);else{if(x=o.current.alternate,(y&30)===0&&!HD(x)&&(c=dd(o,y),c===2&&(_=Qf(o),_!==0&&(y=_,c=xm(o,_))),c===1))throw f=Bl,Vs(o,0),ys(o,y),Zr(o,Ot()),f;switch(o.finishedWork=x,o.finishedLanes=y,c){case 0:case 1:throw Error(r(345));case 2:Gs(o,Qr,$a);break;case 3:if(ys(o,y),(y&130023424)===y&&(c=gm+500-Ot(),10<c)){if(Ii(o,0)!==0)break;if(x=o.suspendedLanes,(x&y)!==y){Ur(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=Sp(Gs.bind(null,o,Qr,$a),c);break}Gs(o,Qr,$a);break;case 4:if(ys(o,y),(y&4194240)===y)break;for(c=o.eventTimes,x=-1;0<y;){var C=31-sn(y);_=1<<C,C=c[C],C>x&&(x=C),y&=~_}if(y=x,y=Ot()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*zD(y/1960))-y,10<y){o.timeoutHandle=Sp(Gs.bind(null,o,Qr,$a),y);break}Gs(o,Qr,$a);break;case 5:Gs(o,Qr,$a);break;default:throw Error(r(329))}}}return Zr(o,Ot()),o.callbackNode===f?eN.bind(null,o):null}function xm(o,c){var f=Ul;return o.current.memoizedState.isDehydrated&&(Vs(o,c).flags|=256),o=dd(o,c),o!==2&&(c=Qr,Qr=f,c!==null&&bm(c)),o}function bm(o){Qr===null?Qr=o:Qr.push.apply(Qr,o)}function HD(o){for(var c=o;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var x=f[y],_=x.getSnapshot;x=x.value;try{if(!Wn(_(),x))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ys(o,c){for(c&=~mm,c&=~sd,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var f=31-sn(c),y=1<<f;o[f]=-1,c&=~y}}function tN(o){if((dt&6)!==0)throw Error(r(327));to();var c=Ii(o,0);if((c&1)===0)return Zr(o,Ot()),null;var f=dd(o,c);if(o.tag!==0&&f===2){var y=Qf(o);y!==0&&(c=y,f=xm(o,y))}if(f===1)throw f=Bl,Vs(o,0),ys(o,c),Zr(o,Ot()),f;if(f===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,Gs(o,Qr,$a),Zr(o,Ot()),null}function wm(o,c){var f=dt;dt|=1;try{return o(c)}finally{dt=f,dt===0&&(eo=Ot()+500,Lu&&us())}}function Ks(o){ms!==null&&ms.tag===0&&(dt&6)===0&&to();var c=dt;dt|=1;var f=An.transition,y=_t;try{if(An.transition=null,_t=1,o)return o()}finally{_t=y,An.transition=f,dt=c,(dt&6)===0&&us()}}function jm(){un=Zi.current,Mt(Zi)}function Vs(o,c){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,bD(f)),Yt!==null)for(f=Yt.return;f!==null;){var y=f;switch(Tp(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Du();break;case 3:Ji(),Mt(Yr),Mt(Er),Hp();break;case 5:Up(y);break;case 4:Ji();break;case 13:Mt(Bt);break;case 19:Mt(Bt);break;case 10:Rp(y.type._context);break;case 22:case 23:jm()}f=f.return}if(dr=o,Yt=o=vs(o.current,null),Nr=un=c,rr=0,Bl=null,mm=sd=Ws=0,Qr=Ul=null,Us!==null){for(c=0;c<Us.length;c++)if(f=Us[c],y=f.interleaved,y!==null){f.interleaved=null;var x=y.next,_=f.pending;if(_!==null){var C=_.next;_.next=x,y.next=C}f.pending=y}Us=null}return o}function rN(o,c){do{var f=Yt;try{if(Dp(),Gu.current=Qu,Yu){for(var y=Ut.memoizedState;y!==null;){var x=y.queue;x!==null&&(x.pending=null),y=y.next}Yu=!1}if(Hs=0,ur=tr=Ut=null,Ml=!1,Dl=0,pm.current=null,f===null||f.return===null){rr=1,Bl=c,Yt=null;break}e:{var _=o,C=f.return,B=f,H=c;if(c=Nr,B.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=H,be=B,we=be.tag;if((be.mode&1)===0&&(we===0||we===11||we===15)){var ve=be.alternate;ve?(be.updateQueue=ve.updateQueue,be.memoizedState=ve.memoizedState,be.lanes=ve.lanes):(be.updateQueue=null,be.memoizedState=null)}var Re=O1(C);if(Re!==null){Re.flags&=-257,E1(Re,C,B,_,c),Re.mode&1&&k1(_,ae,c),c=Re,H=ae;var qe=c.updateQueue;if(qe===null){var Be=new Set;Be.add(H),c.updateQueue=Be}else qe.add(H);break e}else{if((c&1)===0){k1(_,ae,c),Nm();break e}H=Error(r(426))}}else if(Lt&&B.mode&1){var Vt=O1(C);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),E1(Vt,C,B,_,c),$p(Xi(H,B));break e}}_=H=Xi(H,B),rr!==4&&(rr=2),Ul===null?Ul=[_]:Ul.push(_),_=C;do{switch(_.tag){case 3:_.flags|=65536,c&=-c,_.lanes|=c;var X=_1(_,H,c);Xj(_,X);break e;case 1:B=H;var V=_.type,Q=_.stateNode;if((_.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(ps===null||!ps.has(Q)))){_.flags|=65536,c&=-c,_.lanes|=c;var ke=S1(_,B,c);Xj(_,ke);break e}}_=_.return}while(_!==null)}sN(f)}catch(Ue){c=Ue,Yt===f&&f!==null&&(Yt=f=f.return);continue}break}while(!0)}function nN(){var o=ad.current;return ad.current=Qu,o===null?Qu:o}function Nm(){(rr===0||rr===3||rr===2)&&(rr=4),dr===null||(Ws&268435455)===0&&(sd&268435455)===0||ys(dr,Nr)}function dd(o,c){var f=dt;dt|=2;var y=nN();(dr!==o||Nr!==c)&&($a=null,Vs(o,c));do try{WD();break}catch(x){rN(o,x)}while(!0);if(Dp(),dt=f,ad.current=y,Yt!==null)throw Error(r(261));return dr=null,Nr=0,rr}function WD(){for(;Yt!==null;)aN(Yt)}function KD(){for(;Yt!==null&&!br();)aN(Yt)}function aN(o){var c=lN(o.alternate,o,un);o.memoizedProps=o.pendingProps,c===null?sN(o):Yt=c,pm.current=null}function sN(o){var c=o;do{var f=c.alternate;if(o=c.return,(c.flags&32768)===0){if(f=LD(f,c,un),f!==null){Yt=f;return}}else{if(f=FD(f,c),f!==null){f.flags&=32767,Yt=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{rr=6,Yt=null;return}}if(c=c.sibling,c!==null){Yt=c;return}Yt=c=o}while(c!==null);rr===0&&(rr=5)}function Gs(o,c,f){var y=_t,x=An.transition;try{An.transition=null,_t=1,VD(o,c,f,y)}finally{An.transition=x,_t=y}return null}function VD(o,c,f,y){do to();while(ms!==null);if((dt&6)!==0)throw Error(r(327));f=o.finishedWork;var x=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var _=f.lanes|f.childLanes;if(OM(o,_),o===dr&&(Yt=dr=null,Nr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||od||(od=!0,cN(ka,function(){return to(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=An.transition,An.transition=null;var C=_t;_t=1;var B=dt;dt|=4,pm.current=null,BD(o,f),Y1(f,o),fD(Np),ju=!!jp,Np=jp=null,o.current=f,UD(f),Nn(),dt=B,_t=C,An.transition=_}else o.current=f;if(od&&(od=!1,ms=o,ld=x),_=o.pendingLanes,_===0&&(ps=null),Vf(f.stateNode),Zr(o,Ot()),c!==null)for(y=o.onRecoverableError,f=0;f<c.length;f++)x=c[f],y(x.value,{componentStack:x.stack,digest:x.digest});if(id)throw id=!1,o=ym,ym=null,o;return(ld&1)!==0&&o.tag!==0&&to(),_=o.pendingLanes,(_&1)!==0?o===vm?zl++:(zl=0,vm=o):zl=0,us(),null}function to(){if(ms!==null){var o=Vw(ld),c=An.transition,f=_t;try{if(An.transition=null,_t=16>o?16:o,ms===null)var y=!1;else{if(o=ms,ms=null,ld=0,(dt&6)!==0)throw Error(r(331));var x=dt;for(dt|=4,Le=o.current;Le!==null;){var _=Le,C=_.child;if((Le.flags&16)!==0){var B=_.deletions;if(B!==null){for(var H=0;H<B.length;H++){var ae=B[H];for(Le=ae;Le!==null;){var be=Le;switch(be.tag){case 0:case 11:case 15:ql(8,be,_)}var we=be.child;if(we!==null)we.return=be,Le=we;else for(;Le!==null;){be=Le;var ve=be.sibling,Re=be.return;if(H1(be),be===ae){Le=null;break}if(ve!==null){ve.return=Re,Le=ve;break}Le=Re}}}var qe=_.alternate;if(qe!==null){var Be=qe.child;if(Be!==null){qe.child=null;do{var Vt=Be.sibling;Be.sibling=null,Be=Vt}while(Be!==null)}}Le=_}}if((_.subtreeFlags&2064)!==0&&C!==null)C.return=_,Le=C;else e:for(;Le!==null;){if(_=Le,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:ql(9,_,_.return)}var X=_.sibling;if(X!==null){X.return=_.return,Le=X;break e}Le=_.return}}var V=o.current;for(Le=V;Le!==null;){C=Le;var Q=C.child;if((C.subtreeFlags&2064)!==0&&Q!==null)Q.return=C,Le=Q;else e:for(C=V;Le!==null;){if(B=Le,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:nd(9,B)}}catch(Ue){zt(B,B.return,Ue)}if(B===C){Le=null;break e}var ke=B.sibling;if(ke!==null){ke.return=B.return,Le=ke;break e}Le=B.return}}if(dt=x,us(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(es,o)}catch{}y=!0}return y}finally{_t=f,An.transition=c}}return!1}function iN(o,c,f){c=Xi(f,c),c=_1(o,c,1),o=hs(o,c,1),c=Ur(),o!==null&&(fl(o,1,c),Zr(o,c))}function zt(o,c,f){if(o.tag===3)iN(o,o,f);else for(;c!==null;){if(c.tag===3){iN(c,o,f);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ps===null||!ps.has(y))){o=Xi(f,o),o=S1(c,o,1),c=hs(c,o,1),o=Ur(),c!==null&&(fl(c,1,o),Zr(c,o));break}}c=c.return}}function GD(o,c,f){var y=o.pingCache;y!==null&&y.delete(c),c=Ur(),o.pingedLanes|=o.suspendedLanes&f,dr===o&&(Nr&f)===f&&(rr===4||rr===3&&(Nr&130023424)===Nr&&500>Ot()-gm?Vs(o,0):mm|=f),Zr(o,c)}function oN(o,c){c===0&&((o.mode&1)===0?c=1:(c=Gt,Gt<<=1,(Gt&130023424)===0&&(Gt=4194304)));var f=Ur();o=Ta(o,c),o!==null&&(fl(o,c,f),Zr(o,f))}function YD(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),oN(o,f)}function JD(o,c){var f=0;switch(o.tag){case 13:var y=o.stateNode,x=o.memoizedState;x!==null&&(f=x.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(c),oN(o,f)}var lN;lN=function(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps||Yr.current)Xr=!0;else{if((o.lanes&f)===0&&(c.flags&128)===0)return Xr=!1,RD(o,c,f);Xr=(o.flags&131072)!==0}else Xr=!1,Lt&&(c.flags&1048576)!==0&&Bj(c,qu,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;td(o,c),o=c.pendingProps;var x=zi(c,Er.current);Yi(c,f),x=Vp(null,c,y,o,x,f);var _=Gp();return c.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Jr(y)?(_=!0,Ru(c)):_=!1,c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,qp(c),x.updater=Zu,c.stateNode=x,x._reactInternals=c,em(c,y,o,f),c=am(null,c,y,!0,_,f)):(c.tag=0,Lt&&_&&Pp(c),Br(null,c,x,f),c=c.child),c;case 16:y=c.elementType;e:{switch(td(o,c),o=c.pendingProps,x=y._init,y=x(y._payload),c.type=y,x=c.tag=QD(y),o=Vn(y,o),x){case 0:c=nm(null,c,y,o,f);break e;case 1:c=$1(null,c,y,o,f);break e;case 11:c=A1(null,c,y,o,f);break e;case 14:c=P1(null,c,y,Vn(y.type,o),f);break e}throw Error(r(306,y,""))}return c;case 0:return y=c.type,x=c.pendingProps,x=c.elementType===y?x:Vn(y,x),nm(o,c,y,x,f);case 1:return y=c.type,x=c.pendingProps,x=c.elementType===y?x:Vn(y,x),$1(o,c,y,x,f);case 3:e:{if(M1(c),o===null)throw Error(r(387));y=c.pendingProps,_=c.memoizedState,x=_.element,Jj(o,c),Ku(c,y,null,f);var C=c.memoizedState;if(y=C.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){x=Xi(Error(r(423)),c),c=D1(o,c,y,f,x);break e}else if(y!==x){x=Xi(Error(r(424)),c),c=D1(o,c,y,f,x);break e}else for(cn=os(c.stateNode.containerInfo.firstChild),ln=c,Lt=!0,Kn=null,f=Gj(c,null,y,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ki(),y===x){c=Ia(o,c,f);break e}Br(o,c,y,f)}c=c.child}return c;case 5:return Zj(c),o===null&&Ip(c),y=c.type,x=c.pendingProps,_=o!==null?o.memoizedProps:null,C=x.children,_p(y,x)?C=null:_!==null&&_p(y,_)&&(c.flags|=32),I1(o,c),Br(o,c,C,f),c.child;case 6:return o===null&&Ip(c),null;case 13:return R1(o,c,f);case 4:return Bp(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=Vi(c,null,y,f):Br(o,c,y,f),c.child;case 11:return y=c.type,x=c.pendingProps,x=c.elementType===y?x:Vn(y,x),A1(o,c,y,x,f);case 7:return Br(o,c,c.pendingProps,f),c.child;case 8:return Br(o,c,c.pendingProps.children,f),c.child;case 12:return Br(o,c,c.pendingProps.children,f),c.child;case 10:e:{if(y=c.type._context,x=c.pendingProps,_=c.memoizedProps,C=x.value,At(zu,y._currentValue),y._currentValue=C,_!==null)if(Wn(_.value,C)){if(_.children===x.children&&!Yr.current){c=Ia(o,c,f);break e}}else for(_=c.child,_!==null&&(_.return=c);_!==null;){var B=_.dependencies;if(B!==null){C=_.child;for(var H=B.firstContext;H!==null;){if(H.context===y){if(_.tag===1){H=Ca(-1,f&-f),H.tag=2;var ae=_.updateQueue;if(ae!==null){ae=ae.shared;var be=ae.pending;be===null?H.next=H:(H.next=be.next,be.next=H),ae.pending=H}}_.lanes|=f,H=_.alternate,H!==null&&(H.lanes|=f),Lp(_.return,f,c),B.lanes|=f;break}H=H.next}}else if(_.tag===10)C=_.type===c.type?null:_.child;else if(_.tag===18){if(C=_.return,C===null)throw Error(r(341));C.lanes|=f,B=C.alternate,B!==null&&(B.lanes|=f),Lp(C,f,c),C=_.sibling}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===c){C=null;break}if(_=C.sibling,_!==null){_.return=C.return,C=_;break}C=C.return}_=C}Br(o,c,x.children,f),c=c.child}return c;case 9:return x=c.type,y=c.pendingProps.children,Yi(c,f),x=On(x),y=y(x),c.flags|=1,Br(o,c,y,f),c.child;case 14:return y=c.type,x=Vn(y,c.pendingProps),x=Vn(y.type,x),P1(o,c,y,x,f);case 15:return T1(o,c,c.type,c.pendingProps,f);case 17:return y=c.type,x=c.pendingProps,x=c.elementType===y?x:Vn(y,x),td(o,c),c.tag=1,Jr(y)?(o=!0,Ru(c)):o=!1,Yi(c,f),j1(c,y,x),em(c,y,x,f),am(null,c,y,!0,o,f);case 19:return F1(o,c,f);case 22:return C1(o,c,f)}throw Error(r(156,c.tag))};function cN(o,c){return ft(o,c)}function XD(o,c,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(o,c,f,y){return new XD(o,c,f,y)}function _m(o){return o=o.prototype,!(!o||!o.isReactComponent)}function QD(o){if(typeof o=="function")return _m(o)?1:0;if(o!=null){if(o=o.$$typeof,o===I)return 11;if(o===W)return 14}return 2}function vs(o,c){var f=o.alternate;return f===null?(f=Pn(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function hd(o,c,f,y,x,_){var C=2;if(y=o,typeof o=="function")_m(o)&&(C=1);else if(typeof o=="string")C=5;else e:switch(o){case A:return Ys(f.children,x,_,c);case T:C=8,x|=8;break;case R:return o=Pn(12,f,c,x|2),o.elementType=R,o.lanes=_,o;case q:return o=Pn(13,f,c,x),o.elementType=q,o.lanes=_,o;case K:return o=Pn(19,f,c,x),o.elementType=K,o.lanes=_,o;case re:return fd(f,x,_,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case D:C=10;break e;case F:C=9;break e;case I:C=11;break e;case W:C=14;break e;case J:C=16,y=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return c=Pn(C,f,c,x),c.elementType=o,c.type=y,c.lanes=_,c}function Ys(o,c,f,y){return o=Pn(7,o,y,c),o.lanes=f,o}function fd(o,c,f,y){return o=Pn(22,o,y,c),o.elementType=re,o.lanes=f,o.stateNode={isHidden:!1},o}function Sm(o,c,f){return o=Pn(6,o,null,c),o.lanes=f,o}function km(o,c,f){return c=Pn(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function ZD(o,c,f,y,x){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zf(0),this.expirationTimes=Zf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zf(0),this.identifierPrefix=y,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Om(o,c,f,y,x,_,C,B,H){return o=new ZD(o,c,f,B,H),c===1?(c=1,_===!0&&(c|=8)):c=0,_=Pn(3,null,null,c),o.current=_,_.stateNode=o,_.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},qp(_),o}function eR(o,c,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:y==null?null:""+y,children:o,containerInfo:c,implementation:f}}function uN(o){if(!o)return cs;o=o._reactInternals;e:{if(ne(o)!==o||o.tag!==1)throw Error(r(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Jr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(o.tag===1){var f=o.type;if(Jr(f))return Lj(o,f,c)}return c}function dN(o,c,f,y,x,_,C,B,H){return o=Om(f,y,!0,o,x,_,C,B,H),o.context=uN(null),f=o.current,y=Ur(),x=gs(f),_=Ca(y,x),_.callback=c??null,hs(f,_,x),o.current.lanes=x,fl(o,x,y),Zr(o,y),o}function pd(o,c,f,y){var x=c.current,_=Ur(),C=gs(x);return f=uN(f),c.context===null?c.context=f:c.pendingContext=f,c=Ca(_,C),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=hs(x,c,C),o!==null&&(Jn(o,x,C,_),Wu(o,x,C)),C}function md(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function hN(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function Em(o,c){hN(o,c),(o=o.alternate)&&hN(o,c)}function tR(){return null}var fN=typeof reportError=="function"?reportError:function(o){console.error(o)};function Am(o){this._internalRoot=o}gd.prototype.render=Am.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));pd(o,c,null,null)},gd.prototype.unmount=Am.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Ks(function(){pd(null,o,null,null)}),c[Oa]=null}};function gd(o){this._internalRoot=o}gd.prototype.unstable_scheduleHydration=function(o){if(o){var c=Jw();o={blockedOn:null,target:o,priority:c};for(var f=0;f<as.length&&c!==0&&c<as[f].priority;f++);as.splice(f,0,o),f===0&&Zw(o)}};function Pm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function yd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function pN(){}function rR(o,c,f,y,x){if(x){if(typeof y=="function"){var _=y;y=function(){var ae=md(C);_.call(ae)}}var C=dN(c,y,o,0,null,!1,!1,"",pN);return o._reactRootContainer=C,o[Oa]=C.current,Ol(o.nodeType===8?o.parentNode:o),Ks(),C}for(;x=o.lastChild;)o.removeChild(x);if(typeof y=="function"){var B=y;y=function(){var ae=md(H);B.call(ae)}}var H=Om(o,0,!1,null,null,!1,!1,"",pN);return o._reactRootContainer=H,o[Oa]=H.current,Ol(o.nodeType===8?o.parentNode:o),Ks(function(){pd(c,H,f,y)}),H}function vd(o,c,f,y,x){var _=f._reactRootContainer;if(_){var C=_;if(typeof x=="function"){var B=x;x=function(){var H=md(C);B.call(H)}}pd(c,C,o,x)}else C=rR(f,c,o,x,y);return md(C)}Gw=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var f=Hn(c.pendingLanes);f!==0&&(ep(c,f|1),Zr(c,Ot()),(dt&6)===0&&(eo=Ot()+500,us()))}break;case 13:Ks(function(){var y=Ta(o,1);if(y!==null){var x=Ur();Jn(y,o,1,x)}}),Em(o,1)}},tp=function(o){if(o.tag===13){var c=Ta(o,134217728);if(c!==null){var f=Ur();Jn(c,o,134217728,f)}Em(o,134217728)}},Yw=function(o){if(o.tag===13){var c=gs(o),f=Ta(o,c);if(f!==null){var y=Ur();Jn(f,o,c,y)}Em(o,c)}},Jw=function(){return _t},Xw=function(o,c){var f=_t;try{return _t=o,c()}finally{_t=f}},ce=function(o,c,f){switch(c){case"input":if(Ae(o,f),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var y=f[c];if(y!==o&&y.form===o.form){var x=Mu(y);if(!x)throw Error(r(90));Y(y),Ae(y,x)}}}break;case"textarea":Rt(o,f);break;case"select":c=f.value,c!=null&&$e(o,!!f.multiple,c,!1)}},xr=wm,an=Ks;var nR={usingClientEntryPoint:!1,Events:[Pl,Bi,Mu,ht,Nt,wm]},Hl={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aR={bundleType:Hl.bundleType,version:Hl.version,rendererPackageName:Hl.rendererPackageName,rendererConfig:Hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=pe(o),o===null?null:o.stateNode},findFiberByHostInstance:Hl.findFiberByHostInstance||tR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{es=xd.inject(aR),_n=xd}catch{}}return en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nR,en.createPortal=function(o,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pm(c))throw Error(r(200));return eR(o,c,null,f)},en.createRoot=function(o,c){if(!Pm(o))throw Error(r(299));var f=!1,y="",x=fN;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),c=Om(o,1,!1,null,null,f,!1,y,x),o[Oa]=c.current,Ol(o.nodeType===8?o.parentNode:o),new Am(c)},en.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=pe(c),o=o===null?null:o.stateNode,o},en.flushSync=function(o){return Ks(o)},en.hydrate=function(o,c,f){if(!yd(c))throw Error(r(200));return vd(null,o,c,!0,f)},en.hydrateRoot=function(o,c,f){if(!Pm(o))throw Error(r(405));var y=f!=null&&f.hydratedSources||null,x=!1,_="",C=fN;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(C=f.onRecoverableError)),c=dN(c,null,o,1,f??null,x,!1,_,C),o[Oa]=c.current,Ol(o),y)for(o=0;o<y.length;o++)f=y[o],x=f._getVersion,x=x(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,x]:c.mutableSourceEagerHydrationData.push(f,x);return new gd(c)},en.render=function(o,c,f){if(!yd(c))throw Error(r(200));return vd(null,o,c,!1,f)},en.unmountComponentAtNode=function(o){if(!yd(o))throw Error(r(40));return o._reactRootContainer?(Ks(function(){vd(null,null,o,!1,function(){o._reactRootContainer=null,o[Oa]=null})}),!0):!1},en.unstable_batchedUpdates=wm,en.unstable_renderSubtreeIntoContainer=function(o,c,f,y){if(!yd(f))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return vd(o,c,f,!1,y)},en.version="18.3.1-next-f1338f8080-20240426",en}var jN;function gP(){if(jN)return Im.exports;jN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Im.exports=hR(),Im.exports}var NN;function fR(){if(NN)return wd;NN=1;var t=gP();return wd.createRoot=t.createRoot,wd.hydrateRoot=t.hydrateRoot,wd}var pR=fR();const mR="modulepreload",gR=function(t){return"/"+t},_N={},wn=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let l=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");a=l(r.map(h=>{if(h=gR(h),h in _N)return;_N[h]=!0;const m=h.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":mR,m||(g.as="script"),g.crossOrigin="",g.href=h,d&&g.setAttribute("nonce",d),document.head.appendChild(g),m)return new Promise((v,j)=>{g.addEventListener("load",v),g.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};var $=Tb();const z=St($),nee=iR({__proto__:null,default:z},[$]),Cb={fresh_produce:" Fresh Vegetables",spices_seasonings:" Grocery",dairy:" Dairy Products",meat:" Meat",packaging:" Packaging Materials",staff_essentials:" Staff Essentials"},SN={fresh_produce:["Tomato","Capsicum","Onion","Cabbage","Gandhoraj Lemon","Lemon","Pudina","Coriander Leaves","Garlic","Green Chilli","Ginger","Red Chilli","Carrot","Potato"],spices_seasonings:["Soya Sauce","Chilli Sauce","Vinegar","Oil","Salt","Sugar","Ajinomoto","Black Pepper","White Pepper","Peri Peri Masala","Baking Powder","Corn Flour","Maida"],dairy:["Butter","Cheese"],meat:["Chicken"],packaging:["Butter Paper","Carry Bag","Container","Tissue Paper"],staff_essentials:["Labour","Cleaning","Water","Electricity"]},yP={fuel:" Fuel Cost",travel:" Travel by Employee",transportation:" Goods Transportation Cost",marketing:" Marketing Cost",service_charge:" Service Charge (Food Aggregators)",repair:" Repair Cost",party:" Party Cost",lunch:" Lunch Cost",emergency_online:" Emergency Online Order (Blinkit)",personal_expense:" Personal Expense By an Employee",utensils:" Utensils",equipments:" Equipments",license:" License Cost",water_jar:" Water Jar",miscellaneous:" Miscellaneous Cost"},vP={electricity:" Electricity",rent:" Rent",lpg_gas:" LPG Gas Cost (Cylinders)"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),kN=t=>{const e=vR(t);return e.charAt(0).toUpperCase()+e.slice(1)},xP=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=$.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...u},d)=>$.createElement("svg",{ref:d,...xR,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:xP("lucide",a),...u},[...l.map(([h,m])=>$.createElement(h,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(t,e)=>{const r=$.forwardRef(({className:n,...a},i)=>$.createElement(bR,{ref:i,iconNode:e,className:xP(`lucide-${yR(kN(t))}`,`lucide-${t}`,n),...a}));return r.displayName=kN(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ON=We("activity",wR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],EN=We("bell",jR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],AN=We("briefcase",NR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],PN=We("bug",_R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],_o=We("building-2",SR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kr=We("calendar",kR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ER=We("check",OR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ib=We("chevron-down",AR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],K0=We("chevron-left",PR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ps=We("chevron-right",TR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gr=We("circle-alert",CR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],TN=We("circle-arrow-up",IR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ir=We("circle-check-big",$R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],aa=We("circle-x",MR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Dr=We("clock",DR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],LR=We("copy",RR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Vd=We("credit-card",FR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],jd=We("database",qR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ir=We("dollar-sign",BR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ti=We("download",UR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HR=We("eye",zR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],ro=We("factory",WR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lc=We("file-text",KR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],GR=We("key-round",VR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],JR=We("key",YR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],QR=We("layers",XR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lu=We("loader-circle",ZR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],t4=We("loader",e4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],V0=We("lock",r4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],a4=We("log-in",n4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Nd=We("log-out",s4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],$b=We("mail",i4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],l4=We("map-pin",o4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],CN=We("menu",c4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M5 12h14",key:"1ays0h"}]],d4=We("minus",u4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],bP=We("network",h4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],fr=We("package",f4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ks=We("pen",p4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gd=We("plus",m4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],y4=We("receipt",g4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Os=We("refresh-cw",v4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ao=We("save",x4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],wP=We("search",b4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],j4=We("shopping-cart",w4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_d=We("square-check-big",N4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],IN=We("square-pen",_4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],G0=We("store",S4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Es=We("trash-2",k4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ws=We("trending-up",O4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jd=We("triangle-alert",E4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Sd=We("upload",A4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],T4=We("user-check",P4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],pa=We("user-cog",C4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ma=We("user-plus",I4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ba=We("user",$4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Mr=We("users",M4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],R4=We("wallet",D4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vn=We("x",L4),Ln="xssxnhrzxvtejavoqgwg",Rr="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhzc3huaHJ6eHZ0ZWphdm9xZ3dnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwODAzNjksImV4cCI6MjA4MTY1NjM2OX0.boONpQZ8Xv2AzlDylEoKnAlGEW7DFsMQ0zEQ1S5LPGE";function tf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function F4(t,e,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function u(m){try{h(n.next(m))}catch(p){l(p)}}function d(m){try{h(n.throw(m))}catch(p){l(p)}}function h(m){m.done?i(m.value):a(m.value).then(u,d)}h((n=n.apply(t,e||[])).next())})}const q4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Mb extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class B4 extends Mb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $N extends Mb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class MN extends Mb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Y0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Y0||(Y0={}));class U4{constructor(e,{headers:r={},customFetch:n,region:a=Y0.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=q4(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return F4(this,arguments,void 0,function*(r,n={}){var a;let i,l;try{const{headers:u,method:d,body:h,signal:m,timeout:p}=n;let g={},{region:v}=n;v||(v=this.region);const j=new URL(`${this.url}/${r}`);v&&v!=="any"&&(g["x-region"]=v,j.searchParams.set("forceFunctionRegion",v));let w;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(g["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(g["Content-Type"]="application/json",w=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?w=JSON.stringify(h):w=h;let b=m;p&&(l=new AbortController,i=setTimeout(()=>l.abort(),p),m?(b=l.signal,m.addEventListener("abort",()=>l.abort())):b=l.signal);const N=yield this.fetch(j.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:w,signal:b}).catch(E=>{throw new B4(E)}),k=N.headers.get("x-relay-error");if(k&&k==="true")throw new $N(N);if(!N.ok)throw new MN(N);let S=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),P;return S==="application/json"?P=yield N.json():S==="application/octet-stream"||S==="application/pdf"?P=yield N.blob():S==="text/event-stream"?P=N:S==="multipart/form-data"?P=yield N.formData():P=yield N.text(),{data:P,error:null,response:N}}catch(u){return{data:null,error:u,response:u instanceof MN||u instanceof $N?u.context:void 0}}finally{i&&clearTimeout(i)}})}}var z4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},H4=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let l=null,u=null,d=null,h=i.status,m=i.statusText;if(i.ok){var p,g;if(r.method!=="HEAD"){var v;const N=await i.text();N===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?u=N:u=JSON.parse(N))}const w=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),b=(g=i.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");w&&b&&b.length>1&&(d=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var j;const w=await i.text();try{l=JSON.parse(w),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,m="OK")}catch{i.status===404&&w===""?(h=204,m="No Content"):l={message:w}}if(l&&r.isMaybeSingle&&(!(l==null||(j=l.details)===null||j===void 0)&&j.includes("0 rows"))&&(l=null,h=200,m="OK"),l&&r.shouldThrowOnError)throw new z4(l)}return{error:l,data:u,count:d,status:h,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var l;let u="",d="",h="";const m=i?.cause;if(m){var p,g,v,j;const N=(p=m?.message)!==null&&p!==void 0?p:"",k=(g=m?.code)!==null&&g!==void 0?g:"";u=`${(v=i?.name)!==null&&v!==void 0?v:"FetchError"}: ${i?.message}`,u+=`

Caused by: ${(j=m?.name)!==null&&j!==void 0?j:"Error"}: ${N}`,k&&(u+=` (${k})`),m?.stack&&(u+=`
${m.stack}`)}else{var w;u=(w=i?.stack)!==null&&w!==void 0?w:""}const b=this.url.toString().length;return i?.name==="AbortError"||i?.code==="ABORT_ERR"?(h="",d="Request was aborted (timeout or manual cancellation)",b>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${b} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(m?.name==="HeadersOverflowError"||m?.code==="UND_ERR_HEADERS_OVERFLOW")&&(h="",d="HTTP headers exceeded server limits (typically 16KB)",b>this.urlLengthLimit&&(d+=`. Your request URL is ${b} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=i?.name)!==null&&l!==void 0?l:"FetchError"}: ${i?.message}`,details:u,hint:d,code:h},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},W4=class extends H4{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var l;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${u};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const DN=new RegExp("[,()]");var po=class extends W4{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&DN.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&DN.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},K4=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},a=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(h=>/\s/.test(h)&&!i?"":(h==='"'&&(i=!i),h)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",l),n&&d.append("Prefer",`count=${n}`),new po({method:a,url:u,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),r||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);i.searchParams.set("columns",d.join(","))}}return new po({method:a,url:i,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),n&&d.append("Prefer",`count=${n}`),a||d.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);u.searchParams.set("columns",m.join(","))}}return new po({method:l,url:u,headers:d,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new po({method:n,url:a,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new po({method:r,url:n,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function V4(t,e){if(vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G4(t){var e=V4(t,"string");return vc(e)=="symbol"?e:e+""}function Y4(t,e,r){return(e=G4(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(r),!0).forEach(function(n){Y4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var J4=class jP{constructor(e,{headers:r={},schema:n,fetch:a,timeout:i,urlLengthLimit:l=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=l;const u=a??globalThis.fetch;i!==void 0&&i>0?this.fetch=(d,h)=>{const m=new AbortController,p=setTimeout(()=>m.abort(),i),g=h?.signal;if(g){if(g.aborted)return clearTimeout(p),u(d,h);const v=()=>{clearTimeout(p),m.abort()};return g.addEventListener("abort",v,{once:!0}),u(d,kd(kd({},h),{},{signal:m.signal})).finally(()=>{clearTimeout(p),g.removeEventListener("abort",v)})}return u(d,kd(kd({},h),{},{signal:m.signal})).finally(()=>clearTimeout(p))}:this.fetch=u}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new K4(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new jP(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){var l;let u;const d=new URL(`${this.url}/rpc/${e}`);let h;const m=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(m)),p=n&&Object.values(r).some(m);p?(u="POST",h=r):n||a?(u=n?"HEAD":"GET",Object.entries(r).filter(([v,j])=>j!==void 0).map(([v,j])=>[v,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([v,j])=>{d.searchParams.append(v,j)})):(u="POST",h=r);const g=new Headers(this.headers);return p?g.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&g.set("Prefer",`count=${i}`),new po({method:u,url:d,headers:g,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class X4{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Q4="2.95.3",Z4=`realtime-js/${Q4}`,e6="1.0.0",NP="2.0.0",LN=NP,J0=1e4,t6=1e3,r6=100;var js;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(js||(js={}));var sr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(sr||(sr={}));var ea;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ea||(ea={}));var X0;(function(t){t.websocket="websocket"})(X0||(X0={}));var si;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(si||(si={}));class n6{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,r,n){var a,i;const l=e.topic,u=(a=e.ref)!==null&&a!==void 0?a:"",d=(i=e.join_ref)!==null&&i!==void 0?i:"",h=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+h.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let j=new DataView(v),w=0;j.setUint8(w++,this.KINDS.userBroadcastPush),j.setUint8(w++,d.length),j.setUint8(w++,u.length),j.setUint8(w++,l.length),j.setUint8(w++,h.length),j.setUint8(w++,p.length),j.setUint8(w++,r),Array.from(d,N=>j.setUint8(w++,N.charCodeAt(0))),Array.from(u,N=>j.setUint8(w++,N.charCodeAt(0))),Array.from(l,N=>j.setUint8(w++,N.charCodeAt(0))),Array.from(h,N=>j.setUint8(w++,N.charCodeAt(0))),Array.from(p,N=>j.setUint8(w++,N.charCodeAt(0)));var b=new Uint8Array(v.byteLength+n.byteLength);return b.set(new Uint8Array(v),0),b.set(new Uint8Array(n),v.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,i,l,u,d]=n;return r({join_ref:a,ref:i,topic:l,event:u,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const h=n.decode(e.slice(d,d+a));d=d+a;const m=n.decode(e.slice(d,d+i));d=d+i;const p=n.decode(e.slice(d,d+l));d=d+l;const g=e.slice(d,e.byteLength),v=u===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,j={type:this.BROADCAST_EVENT,event:m,payload:v};return l>0&&(j.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class _P{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Pt||(Pt={}));const FN=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,l)=>(i[l]=a6(l,t,e,a),i),{}):{}},a6=(t,e,r,n)=>{const a=e.find(u=>u.name===t),i=a?.type,l=r[t];return i&&!n.includes(i)?SP(i,l):Q0(l)},SP=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return l6(e,r)}switch(t){case Pt.bool:return s6(e);case Pt.float4:case Pt.float8:case Pt.int2:case Pt.int4:case Pt.int8:case Pt.numeric:case Pt.oid:return i6(e);case Pt.json:case Pt.jsonb:return o6(e);case Pt.timestamp:return c6(e);case Pt.abstime:case Pt.date:case Pt.daterange:case Pt.int4range:case Pt.int8range:case Pt.money:case Pt.reltime:case Pt.text:case Pt.time:case Pt.timestamptz:case Pt.timetz:case Pt.tsrange:case Pt.tstzrange:return Q0(e);default:return Q0(e)}},Q0=t=>t,s6=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},i6=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},o6=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},l6=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const l=t.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(u=>SP(e,u))}return t},c6=t=>typeof t=="string"?t.replace(" ","T"):t,kP=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Dm{constructor(e,r,n={},a=J0){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(qN||(qN={}));class cc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cc.syncState(this.state,a,i,l),this.pendingDiffs.forEach(d=>{this.state=cc.syncDiff(this.state,d,i,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=cc.syncDiff(this.state,a,i,l),u())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),l=this.transformState(r),u={},d={};return this.map(i,(h,m)=>{l[h]||(d[h]=m)}),this.map(l,(h,m)=>{const p=i[h];if(p){const g=m.map(b=>b.presence_ref),v=p.map(b=>b.presence_ref),j=m.filter(b=>v.indexOf(b.presence_ref)<0),w=p.filter(b=>g.indexOf(b.presence_ref)<0);j.length>0&&(u[h]=j),w.length>0&&(d[h]=w)}else u[h]=m}),this.syncDiff(i,{joins:u,leaves:d},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(u,d)=>{var h;const m=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(d),m.length>0){const p=e[u].map(v=>v.presence_ref),g=m.filter(v=>p.indexOf(v.presence_ref)<0);e[u].unshift(...g)}n(u,m,d)}),this.map(l,(u,d)=>{let h=e[u];if(!h)return;const m=d.map(p=>p.presence_ref);h=h.filter(p=>m.indexOf(p.presence_ref)<0),e[u]=h,a(u,h,d),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var BN;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(BN||(BN={}));var uc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(uc||(uc={}));var Da;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Da||(Da={}));class yo{constructor(e,r={config:{}},n){var a,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Dm(this,ea.join,this.params,this.timeout),this.rejoinTimer=new _P(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ea.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new cc(this),this.broadcastEndpointURL=kP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==sr.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[uc.PRESENCE]&&this.bindings[uc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},g={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(Da.CHANNEL_ERROR,v)),this._onClose(()=>e?.(Da.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e?.(Da.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(j=w?.length)!==null&&j!==void 0?j:0,N=[];for(let k=0;k<b;k++){const S=w[k],{filter:{event:P,schema:E,table:O,filter:A}}=S,T=v&&v[k];if(T&&T.event===P&&yo.isFilterValueEqual(T.schema,E)&&yo.isFilterValueEqual(T.table,O)&&yo.isFilterValueEqual(T.filter,A))N.push(Object.assign(Object.assign({},S),{id:T.id}));else{this.unsubscribe(),this.state=sr.errored,e?.(Da.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(Da.SUBSCRIBED);return}}).receive("error",v=>{this.state=sr.errored,e?.(Da.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(Da.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===sr.joined&&e===uc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,u,d;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=sr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ea.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Dm(this,ea.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=sr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Dm(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>r6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:h,join:m}=ea;if(n&&[u,d,h,m].indexOf(l)>=0&&n!==this._joinRef())return;let g=this._onMessage(l,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var j,w,b;return((j=v.filter)===null||j===void 0?void 0:j.event)==="*"||((b=(w=v.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(v=>v.callback(g,n)):(i=this.bindings[l])===null||i===void 0||i.filter(v=>{var j,w,b,N,k,S;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const P=v.id,E=(j=v.filter)===null||j===void 0?void 0:j.event;return P&&((w=r.ids)===null||w===void 0?void 0:w.includes(P))&&(E==="*"||E?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const P=(k=(N=v?.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return P==="*"||P===((S=r?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof g=="object"&&"ids"in g){const j=g.data,{schema:w,table:b,commit_timestamp:N,type:k,errors:S}=j;g=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:N,eventType:k,new:{},old:{},errors:S}),this._getPayloadRecords(j))}v.callback(g,n)})}_isClosed(){return this.state===sr.closed}_isJoined(){return this.state===sr.joined}_isJoining(){return this.state===sr.joining}_isLeaving(){return this.state===sr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&yo.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ea.close,{},e)}_onError(e){this._on(ea.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=FN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=FN(e.columns,e.old_record)),r}}const Rm=()=>{},Od={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},u6=[1e3,2e3,5e3,1e4],d6=1e4,h6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class f6{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=J0,this.transport=null,this.heartbeatIntervalMs=Od.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rm,this.ref=0,this.reconnectTimer=null,this.vsn=LN,this.logger=Rm,this.conn=null,this.sendBuffer=[],this.serializer=new n6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${X0.websocket}`,this.httpEndpoint=kP(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=X4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case js.connecting:return si.Connecting;case js.open:return si.Open;case js.closing:return si.Closing;default:return si.Closed}}isConnected(){return this.connectionState()===si.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new yo(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(t6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Od.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:l}=r,u=l?`(${l})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),i),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===js.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===js.open||this.conn.readyState===js.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(ea.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([h6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:Z4};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(ea.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new _P(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Od.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,l,u,d,h,m,p,g,v;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:J0,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Od.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:Rm,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:LN,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(j=>u6[j-1]||d6),this.vsn){case e6:this.encode=(m=e?.encode)!==null&&m!==void 0?m:((j,w)=>w(JSON.stringify(j))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:((j,w)=>w(JSON.parse(j)));break;case NP:this.encode=(g=e?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var xc=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function p6(t,e,r){const n=new URL(e,t);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function m6(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function g6(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:l}){const u=p6(t.baseUrl,n,a),d=await m6(t.auth),h=await e(u,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...d,...l},body:i?JSON.stringify(i):void 0}),m=await h.text(),p=(h.headers.get("content-type")||"").includes("application/json"),g=p&&m?JSON.parse(m):m;if(!h.ok){const v=p?g:void 0,j=v?.error;throw new xc(j?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:j?.type,icebergCode:j?.code,details:v})}return{status:h.status,headers:h.headers,data:g}}}}function Ed(t){return t.join("")}var y6=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ed(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ed(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ed(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ed(t.namespace)}`}),!0}catch(e){if(e instanceof xc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof xc&&r.status===409)return;throw r}}};function no(t){return t.join("")}var v6=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${no(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${no(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${no(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${no(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof xc&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof xc&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},x6=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=g6({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new y6(this.client,e),this.tableOps=new v6(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},rf=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function nf(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ad=class extends rf{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},OP=class extends rf{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const b6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),w6=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Z0=t=>{if(Array.isArray(t))return t.map(r=>Z0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=Z0(n)}),e},j6=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function N6(t,e){if(bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _6(t){var e=N6(t,"string");return bc(e)=="symbol"?e:e+""}function S6(t,e,r){return(e=_6(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(r),!0).forEach(function(n){S6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const zN=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},k6=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const a=t,i=a.status||500;if(typeof a.json=="function")a.json().then(l=>{const u=l?.statusCode||l?.code||i+"";e(new Ad(zN(l),i,u,n))}).catch(()=>{if(n==="vectors"){const l=i+"";e(new Ad(a.statusText||`HTTP ${i} error`,i,l,n))}else{const l=i+"";e(new Ad(a.statusText||`HTTP ${i} error`,i,l,n))}});else{const l=i+"";e(new Ad(a.statusText||`HTTP ${i} error`,i,l,n))}}else e(new OP(zN(t),t,n))},O6=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!n?et(et({},a),r):(w6(n)?(a.headers=et({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,e?.duplex&&(a.duplex=e.duplex),et(et({},a),r))};async function Kl(t,e,r,n,a,i,l){return new Promise((u,d)=>{t(r,O6(e,n,a,i)).then(h=>{if(!h.ok)throw h;if(n?.noResolveJson)return h;if(l==="vectors"){const m=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!m||!m.includes("application/json"))return{}}return h.json()}).then(h=>u(h)).catch(h=>k6(h,d,n,l))})}function EP(t="storage"){return{get:async(e,r,n,a)=>Kl(e,"GET",r,n,a,void 0,t),post:async(e,r,n,a,i)=>Kl(e,"POST",r,a,i,n,t),put:async(e,r,n,a,i)=>Kl(e,"PUT",r,a,i,n,t),head:async(e,r,n,a)=>Kl(e,"HEAD",r,et(et({},n),{},{noResolveJson:!0}),a,void 0,t),remove:async(e,r,n,a,i)=>Kl(e,"DELETE",r,a,i,n,t)}}const E6=EP("storage"),{get:wc,post:Zn,put:ex,head:A6,remove:Db}=E6,gn=EP("vectors");var al=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=b6(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nf(r))return{data:null,error:r};throw r}}},P6=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(nf(e))return{data:null,error:e};throw e}}};let AP;AP=Symbol.toStringTag;var T6=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[AP]="BlobDownloadBuilder",this.promise=null}asStream(){return new P6(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(nf(e))return{data:null,error:e};throw e}}};const C6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var I6=class extends al{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var a=this;return a.handleOperation(async()=>{let i;const l=et(et({},HN),n);let u=et(et({},a.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),d&&i.append("metadata",a.encodeMetadata(d)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),d&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(d))):(i=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),n?.headers&&(u=et(et({},u),n.headers));const h=a._removeEmptyFolders(e),m=a._getFinalPath(h),p=await(t=="PUT"?ex:Zn)(a.fetch,`${a.url}/object/${m}`,i,et({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{path:h,id:p.Id,fullPath:p.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var a=this;const i=a._removeEmptyFolders(t),l=a._getFinalPath(i),u=new URL(a.url+`/object/upload/sign/${l}`);return u.searchParams.set("token",e),a.handleOperation(async()=>{let d;const h=et({upsert:HN.upsert},n),m=et(et({},a.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType),{path:i,fullPath:(await ex(a.fetch,u.toString(),d,{headers:m})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const a=et({},r.headers);e?.upsert&&(a["x-upsert"]="true");const i=await Zn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(r.url+i.url),u=l.searchParams.get("token");if(!u)throw new rf("No token returned by API");return{signedUrl:l.toString(),path:t,token:u}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await Zn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await Zn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(t),i=await Zn(n.fetch,`${n.url}/object/sign/${a}`,et({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${l}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const a=await Zn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(l=>et(et({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${i}`):null}))})}download(t,e,r){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(e?.transform||{}),i=a?`?${a}`:"",l=this._getFinalPath(t),u=()=>wc(this.fetch,`${this.url}/${n}/${l}${i}`,{headers:this.headers,noResolveJson:!0},r);return new T6(u,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>Z0(await wc(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await A6(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nf(n)&&n instanceof OP){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&n.push(a);const i=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${u}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Db(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const a=et(et(et({},C6),e),{},{prefix:t||""});return await Zn(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=et({},t);return await Zn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const $6="2.95.3",cu={"X-Client-Info":`storage-js/${$6}`};var M6=class extends al{constructor(t,e={},r,n){const a=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),l=et(et({},cu),e);super(i,l,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await wc(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await wc(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Zn(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await ex(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Zn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Db(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},D6=class extends al{constructor(t,e={},r){const n=t.replace(/\/$/,""),a=et(et({},cu),e);super(n,a,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Zn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await wc(e.fetch,a,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Db(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!j6(t))throw new rf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new x6({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const l=a[i];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(a,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}},R6=class extends al{constructor(t,e={},r){const n=t.replace(/\/$/,""),a=et(et({},cu),{},{"Content-Type":"application/json"},e);super(n,a,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await gn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await gn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},L6=class extends al{constructor(t,e={},r){const n=t.replace(/\/$/,""),a=et(et({},cu),{},{"Content-Type":"application/json"},e);super(n,a,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},F6=class extends al{constructor(t,e={},r){const n=t.replace(/\/$/,""),a=et(et({},cu),{},{"Content-Type":"application/json"},e);super(n,a,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},q6=class extends F6{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new B6(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},B6=class extends R6{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,et(et({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,et(et({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new U6(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},U6=class extends L6{constructor(t,e,r,n,a){super(t,e,a),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,et(et({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,et(et({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,et(et({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,et(et({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,et(et({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},z6=class extends M6{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new I6(this.url,this.headers,t,this.fetch)}get vectors(){return new q6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new D6(this.url+"/iceberg",this.headers,this.fetch)}};const PP="2.95.3",mo=30*1e3,tx=3,Lm=tx*mo,H6="http://localhost:9999",W6="supabase.auth.token",K6={"X-Client-Info":`gotrue-js/${PP}`},rx="X-Supabase-Api-Version",TP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},V6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,G6=600*1e3;class jc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function He(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Y6 extends jc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function J6(t){return He(t)&&t.name==="AuthApiError"}class ii extends jc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ga extends jc{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class dn extends Ga{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fm(t){return He(t)&&t.name==="AuthSessionMissingError"}class ao extends Ga{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pd extends Ga{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Td extends Ga{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function X6(t){return He(t)&&t.name==="AuthImplicitGrantRedirectError"}class WN extends Ga{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Q6 extends Ga{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class nx extends Ga{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function qm(t){return He(t)&&t.name==="AuthRetryableFetchError"}class KN extends Ga{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ax extends Ga{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),VN=` 	
\r=`.split(""),Z6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<VN.length;e+=1)t[VN[e].charCodeAt(0)]=-2;for(let e=0;e<Xd.length;e+=1)t[Xd[e].charCodeAt(0)]=e;return t})();function GN(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Xd[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Xd[n]),e.queuedBits-=6}}function CP(t,e,r){const n=Z6[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function YN(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{r3(l,n,r)};for(let l=0;l<t.length;l+=1)CP(t.charCodeAt(l),a,i);return e.join("")}function e3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function t3(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}e3(n,e)}}function r3(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function So(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)CP(t.charCodeAt(a),r,n);return new Uint8Array(e)}function n3(t){const e=[];return t3(t,r=>e.push(r)),new Uint8Array(e)}function li(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>GN(a,r,n)),GN(null,r,n),e.join("")}function a3(t){return Math.round(Date.now()/1e3)+t}function s3(){return Symbol("auth-callback")}const Sr=()=>typeof window<"u"&&typeof document<"u",Js={tested:!1,writable:!1},IP=()=>{if(!Sr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Js.tested)return Js.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Js.tested=!0,Js.writable=!0}catch{Js.tested=!0,Js.writable=!1}return Js.writable};function i3(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const $P=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),o3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",go=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Xs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_r=async(t,e)=>{await t.removeItem(e)};class af{constructor(){this.promise=new af.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}af.promiseConstructor=Promise;function Cd(t){const e=t.split(".");if(e.length!==3)throw new ax("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!V6.test(e[n]))throw new ax("JWT not in base64url format");return{header:JSON.parse(YN(e[0])),payload:JSON.parse(YN(e[1])),signature:So(e[2]),raw:{header:e[0],payload:e[1]}}}async function l3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function c3(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await t(i);if(!e(i,null,l)){n(l);return}}catch(l){if(!e(i,l)){a(l);return}}})()})}function u3(t){return("0"+t.toString(16)).substr(-2)}function d3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,u3).join("")}async function h3(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function f3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await h3(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function so(t,e,r=!1){const n=d3();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await go(t,`${e}-code-verifier`,a);const i=await f3(n);return[i,n===i?"plain":"s256"]}const p3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function m3(t){const e=t.headers.get(rx);if(!e||!e.match(p3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function g3(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function y3(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const v3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function io(t){if(!v3.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x3(t,e){return new Proxy(t,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,a)}})}function JN(t){return JSON.parse(JSON.stringify(t))}const ri=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),b3=[502,503,504];async function XN(t){var e;if(!o3(t))throw new nx(ri(t),0);if(b3.includes(t.status))throw new nx(ri(t),t.status);let r;try{r=await t.json()}catch(i){throw new ii(ri(i),i)}let n;const a=m3(t);if(a&&a.getTime()>=TP["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new KN(ri(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new dn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new KN(ri(r),t.status,r.weak_password.reasons);throw new Y6(ri(r),t.status||500,n)}const w3=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ze(t,e,r,n){var a;const i=Object.assign({},n?.headers);i[rx]||(i[rx]=TP["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await j3(t,e,r+u,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function j3(t,e,r,n,a,i){const l=w3(e,n,a,i);let u;try{u=await t(r,Object.assign({},l))}catch(d){throw console.error(d),new nx(ri(d),0)}if(u.ok||await XN(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await XN(d)}}function Qn(t){var e;let r=null;S3(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=a3(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function QN(t){const e=Qn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _s(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function N3(t){return{data:t,error:null}}function _3(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,l=tf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function ZN(t){return t}function S3(t){return t.access_token&&t.refresh_token&&t.expires_in}const Um=["global","local","others"];class k3{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=$P(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Um[0]){if(Um.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Um.join(", ")}`);try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_s})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=tf(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:_3,redirectTo:r?.redirectTo})}catch(r){if(He(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_s})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},m=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:ZN});if(m.error)throw m.error;const p=await m.json(),g=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(j.split(";")[1].split("=")[1]);h[`${b}Page`]=w}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(He(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){io(e);try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_s})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){io(e);try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:_s})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){io(e);try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:_s})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){io(e.userId);try{const{data:r,error:n}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _deleteFactor(e){io(e.userId),io(e.id);try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,i,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},m=await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:ZN});if(m.error)throw m.error;const p=await m.json(),g=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(j=>{const w=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(j.split(";")[1].split("=")[1]);h[`${b}Page`]=w}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(He(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}}function e_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const oo={debug:!!(globalThis&&IP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class MP extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class O3 extends MP{}async function E3(t,e,r){oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),oo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new O3(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(oo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function A3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function DP(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function P3(t){return parseInt(t,16)}function T3(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function C3(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:l,notBefore:u,requestId:d,resources:h,scheme:m,uri:p,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=DP(t.address),j=m?`${m}://${n}`:n,w=t.statement?`${t.statement}
`:"",b=`${j} wants you to sign in with your Ethereum account:
${v}

${w}`;let N=`URI: ${p}
Version: ${g}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),u&&(N+=`
Not Before: ${u.toISOString()}`),d&&(N+=`
Request ID: ${d}`),h){let k=`
Resources:`;for(const S of h){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);k+=`
- ${S}`}N+=k}return`${b}
${N}`}class Xt extends Error{constructor({message:e,code:r,cause:n,name:a}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Qd extends Xt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function I3({error:t,options:e}){var r,n,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Xt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(RP(l)){if(i.rp.id!==l)return new Xt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $3({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Xt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(RP(n)){if(r.rpId!==n)return new Xt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class M3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const D3=new M3;function R3(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=tf(t,["challenge","user","excludeCredentials"]),i=So(e).buffer,l=Object.assign(Object.assign({},r),{id:So(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:i,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:So(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function L3(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=tf(t,["challenge","allowCredentials"]),a=So(e).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];i.allowCredentials[l]=Object.assign(Object.assign({},u),{id:So(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function F3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:li(new Uint8Array(t.response.attestationObject)),clientDataJSON:li(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function q3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:li(new Uint8Array(a.authenticatorData)),clientDataJSON:li(new Uint8Array(a.clientDataJSON)),signature:li(new Uint8Array(a.signature)),userHandle:a.userHandle?li(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function RP(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function t_(){var t,e;return!!(Sr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function B3(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qd("Browser returned unexpected credential type",e)}:{data:null,error:new Qd("Empty credential response",e)}}catch(e){return{data:null,error:I3({error:e,options:t})}}}async function U3(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qd("Browser returned unexpected credential type",e)}:{data:null,error:new Qd("Empty credential response",e)}}catch(e){return{data:null,error:$3({error:e,options:t})}}}const z3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},H3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zd(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const i in a){const l=a[i];if(l!==void 0)if(Array.isArray(l))n[i]=l;else if(r(l))n[i]=l;else if(e(l)){const u=n[i];e(u)?n[i]=Zd(u,l):n[i]=Zd(l)}else n[i]=l}return n}function W3(t,e){return Zd(z3,t,e||{})}function K3(t,e){return Zd(H3,t,e||{})}class V3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},i){var l;try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:d};const h=a??D3.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;if(!m.name){const p=n;if(p)m.name=`${m.id}:${p}`;else{const v=(await this.client.getUser()).data.user,j=((l=v?.user_metadata)===null||l===void 0?void 0:l.name)||v?.email||v?.id||"User";m.name=`${m.id}:${j}`}}m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=W3(u.webauthn.credential_options.publicKey,i?.create),{data:p,error:g}=await B3({publicKey:m,signal:h});return p?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const m=K3(u.webauthn.credential_options.publicKey,i?.request),{data:p,error:g}=await U3(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:h}));return p?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(u){return He(u)?{data:null,error:u}:{data:null,error:new ii("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new jc("rpId is required for WebAuthn authentication")};try{if(!t_())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return He(l)?{data:null,error:l}:{data:null,error:new ii("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new jc("rpId is required for WebAuthn registration")};try{if(!t_())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return He(l)?{data:null,error:l}:{data:null,error:new ii("Unexpected error in register",l)}}}}A3();const G3={url:H6,storageKey:W6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:K6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function r_(t,e,r){return await r()}const lo={};class Nc{get jwks(){var e,r;return(r=(e=lo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){lo[this.storageKey]=Object.assign(Object.assign({},lo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=lo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){lo[this.storageKey]=Object.assign(Object.assign({},lo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},G3),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Nc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Nc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Sr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new k3({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$P(i.fetch),this.lock=i.lock||r_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Sr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=E3:this.lock=r_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new V3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:IP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=e_(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=e_(this.memoryStorage)),Sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${PP}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Sr()&&(r=i3(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Sr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),X6(i)){const d=(e=i.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return He(r)?this._returnResult({error:r}):this._returnResult({error:new ii("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Qn}),{data:l,error:u}=i;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(He(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:m,password:p,options:g}=e;let v=null,j=null;this.flowType==="pkce"&&([v,j]=await so(this.storage,this.storageKey)),i=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:m,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:j},xform:Qn})}else if("phone"in e){const{phone:m,password:p,options:g}=e;i=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(a=g?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Qn})}else throw new Pd("You must provide either an email or phone number and a password");const{data:l,error:u}=i;if(u||!l)return await _r(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(await _r(this.storage,`${this.storageKey}-code-verifier`),He(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:l,options:u}=e;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:QN})}else if("phone"in e){const{phone:i,password:l,options:u}=e;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:QN})}else throw new Pd("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new ao;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,i,l,u,d,h,m,p,g;let v,j;if("message"in e)v=e.message,j=e.signature;else{const{chain:w,wallet:b,statement:N,options:k}=e;let S;if(Sr())if(typeof b=="object")S=b;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")S=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const P=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),E=await S.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=DP(E[0]);let A=(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!A){const R=await S.request({method:"eth_chainId"});A=P3(R)}const T={domain:P.host,address:O,statement:N,uri:P.href,version:"1",chainId:A,nonce:(a=k?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=k?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=k?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=k?.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=C3(T),j=await S.request({method:"personal_sign",params:[T3(v),O]})}try{const{data:w,error:b}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:j},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Qn});if(b)throw b;if(!w||!w.session||!w.user){const N=new ao;return this._returnResult({data:{user:null,session:null},error:N})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(He(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,a,i,l,u,d,h,m,p,g,v;let j,w;if("message"in e)j=e.message,w=e.signature;else{const{chain:b,wallet:N,statement:k,options:S}=e;let P;if(Sr())if(typeof N=="object")P=N;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))P=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=N}const E=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const O=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),k?{statement:k}:null));let A;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")A=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)A=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)j=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),w=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${E.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(a=(n=S?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=S?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((l=S?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((u=S?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((d=S?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((h=S?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(m=S?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const O=await P.signMessage(new TextEncoder().encode(j),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=O}}try{const{data:b,error:N}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:li(w)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Qn});if(N)throw N;if(!b||!b.session||!b.user){const k=new ao;return this._returnResult({data:{user:null,session:null},error:k})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:N})}catch(b){if(He(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await Xs(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Q6;const{data:i,error:l}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Qn});if(await _r(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const u=new ao;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(await _r(this.storage,`${this.storageKey}-code-verifier`),He(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:l}=e,u=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Qn}),{data:d,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const m=new ao;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,a,i,l;try{if("email"in e){const{email:u,options:d}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await so(this.storage,this.storageKey));const{error:p}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:u,options:d}=e,{data:h,error:m}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new Pd("You must provide either an email or phone number.")}catch(u){if(await _r(this.storage,`${this.storageKey}-code-verifier`),He(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Qn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(He(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,n,a,i,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await so(this.storage,this.storageKey));const h=await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:N3});return!((i=h.data)===null||i===void 0)&&i.url&&Sr()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await _r(this.storage,`${this.storageKey}-code-verifier`),He(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new dn;const{error:a}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(He(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:l}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:l,error:u}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new Pd("You must provide either an email or phone number and a type")}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Lm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await Xs(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=Bm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=x3(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_s}):await this._useSession(async r=>{var n,a,i;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:_s})})}catch(r){if(He(r))return Fm(r)&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new dn;const l=a.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await so(this.storage,this.storageKey));const{data:h,error:m}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:_s});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await _r(this.storage,`${this.storageKey}-code-verifier`),He(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new dn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:l}=Cd(e.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(He(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:u}=r;if(u)throw u;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new dn;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Sr())throw new Td("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Td(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new WN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Td("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new WN("No code detected.");const{data:k,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:u,expires_at:d,token_type:h}=e;if(!i||!u||!l||!h)throw new Td("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(u);let g=m+p;d&&(g=parseInt(d));const v=g-m;v*1e3<=mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const j=g-p;m-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,g,m):m-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,g,m);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const N={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:p,expires_at:g,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(n){if(He(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Xs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i&&!Fm(i))return this._returnResult({error:i});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(J6(u)&&(u.status===404||u.status===401||u.status===403)||Fm(u)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=s3(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await so(this.storage,this.storageKey,!0));try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await _r(this.storage,`${this.storageKey}-code-verifier`),He(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var l,u,d,h,m;const{data:p,error:g}=i;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return Sr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(He(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:l,provider:u,token:d,access_token:h,nonce:m}=e,p=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Qn}),{data:g,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new ao}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(a){if(await _r(this.storage,`${this.storageKey}-code-verifier`),He(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)throw l;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await c3(async a=>(a>0&&await l3(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qn})),(a,i)=>{const l=200*Math.pow(2,a);return i&&qm(i)&&Date.now()+l-n<mo})}catch(n){if(this._debug(r,"error",n),He(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Sr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Xs(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await go(this.userStorage,this.storageKey+"-user",l)),a.user=(e=l?.user)!==null&&e!==void 0?e:Bm()}else if(a&&!a.user&&!a.user){const l=await Xs(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await _r(this.storage,this.storageKey+"-user"),await go(this.storage,this.storageKey,a)):a.user=Bm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Lm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Lm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),qm(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new af;const{data:i,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!i.session)throw new dn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={data:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),He(i)){const l={data:null,error:i};return qm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){i.push(d)}});if(await Promise.all(l),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _r(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await go(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=JN(a);await go(this.storage,this.storageKey,i)}else{const a=JN(r);await go(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _r(this.storage,this.storageKey),await _r(this.storage,this.storageKey+"-code-verifier"),await _r(this.storage,this.storageKey+"-user"),this.userStorage&&await _r(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Sr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${mo}ms, refresh threshold is ${tx} ticks`),a<=tx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof MP)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await so(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ze(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?F3(e.webauthn.credential_response):q3(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await Ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=await Ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:R3(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:L3(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,a,i;if(e)try{const{payload:v}=Cd(e);let j=null;v.aal&&(j=v.aal);let w=j;const{data:{user:b},error:N}=await this.getUser(e);if(N)return this._returnResult({data:null,error:N});((n=(r=b?.factors)===null||r===void 0?void 0:r.filter(P=>P.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const S=v.amr||[];return{data:{currentLevel:j,nextLevel:w,currentAuthenticationMethods:S},error:null}}catch(v){if(He(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Cd(l.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((i=(a=l.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const g=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new dn})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new dn});const l=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Sr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(He(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new dn});const l=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Sr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(He(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new dn})})}catch(e){if(He(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dn})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+G6>a)return n;const{data:i,error:l}=await Ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:j}=await this.getSession();if(j||!v.session)return this._returnResult({data:null,error:j});n=v.session.access_token}const{header:a,payload:i,signature:l,raw:{header:u,payload:d}}=Cd(n);r?.allowExpired||g3(i.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:a,signature:l},error:null}}const m=y3(a.alg),p=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,l,n3(`${u}.${d}`)))throw new ax("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(He(n))return this._returnResult({data:null,error:n});throw n}}}Nc.nextInstanceID={};const Y3=Nc,J3="2.95.3";let nc="";typeof Deno<"u"?nc="deno":typeof document<"u"?nc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nc="react-native":nc="node";const X3={"X-Client-Info":`supabase-js-${nc}/${J3}`},Q3={headers:X3},Z3={schema:"public"},e5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t5={};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function r5(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n5(t){var e=r5(t,"string");return _c(e)=="symbol"?e:e+""}function a5(t,e,r){return(e=n5(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n_(Object(r),!0).forEach(function(n){a5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const s5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),i5=()=>Headers,o5=(t,e,r)=>{const n=s5(r),a=i5();return async(i,l)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let h=new a(l?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(i,Ht(Ht({},l),{},{headers:h}))}};function l5(t){return t.endsWith("/")?t:t+"/"}function c5(t,e){var r,n;const{db:a,auth:i,realtime:l,global:u}=t,{db:d,auth:h,realtime:m,global:p}=e,g={db:Ht(Ht({},d),a),auth:Ht(Ht({},h),i),realtime:Ht(Ht({},m),l),storage:{},global:Ht(Ht(Ht({},p),u),{},{headers:Ht(Ht({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function u5(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(l5(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var d5=class extends Y3{constructor(t){super(t)}},h5=class{constructor(t,e,r){var n,a;this.supabaseUrl=t,this.supabaseKey=e;const i=u5(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const l=`sb-${i.hostname.split(".")[0]}-auth-token`,u={db:Z3,realtime:t5,auth:Ht(Ht({},e5),{},{storageKey:l}),global:Q3},d=c5(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=o5(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Ht({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new J4(new URL("rest/v1",i).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new z6(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new U4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:l,lock:u,debug:d,throwOnError:h},m,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d5({url:this.authUrl.href,headers:Ht(Ht({},g),m),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,flowType:l,lock:u,debug:d,throwOnError:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new f6(this.realtimeUrl.href,Ht(Ht({},t),{},{params:Ht(Ht({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const f5=(t,e,r)=>new h5(t,e,r);function p5(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}p5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function LP(){return typeof window<"u"&&!window.__supabaseClient&&(window.__supabaseClient=f5(`https://${Ln}.supabase.co`,Rr,{auth:{storageKey:`sb-${Ln}-auth-token`,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})),window.__supabaseClient}const se=`https://${Ln}.supabase.co/functions/v1/make-server-c2dd9b9d`;function tt(){return LP()}async function _i(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e)return null;const{data:{session:r},error:n}=await t.auth.refreshSession();return n||!r?(console.warn("Token refresh failed, using existing session:",n?.message||"No session returned"),e):r}let a_=!1;async function fe(t,e,r){const n=await fetch(t,{...r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,...r?.headers}});if(!n.ok){let i="Request failed",l=!1;try{const u=await n.json();i=u.error||u.message||`HTTP ${n.status}: ${n.statusText}`,l=!!u.warning}catch{i=`HTTP ${n.status}: ${n.statusText}`}throw console.error(`API Error [${t}]:`,i),n.status===401&&!a_&&(a_=!0,console.error("Session expired or invalid. Please log in again."),await tt().auth.signOut(),sessionStorage.getItem("logout_redirect_in_progress")||(sessionStorage.setItem("logout_redirect_in_progress","true"),setTimeout(()=>{sessionStorage.removeItem("logout_redirect_in_progress"),window.location.reload()},100))),new Error(i)}const a=await n.json();return a.warning&&console.warn(`API Warning [${t}]:`,a.warning),a}async function Rb(t){return(await fe(`${se}/inventory`,t)).inventory||[]}async function FP(t,e){return(await fe(`${se}/inventory`,t,{method:"POST",body:JSON.stringify(e)})).item}async function qP(t,e,r){return(await fe(`${se}/inventory/${e}`,t,{method:"PUT",body:JSON.stringify(r)})).item}async function BP(t,e){await fe(`${se}/inventory/${e}`,t,{method:"DELETE"})}async function Lb(t){return(await fe(`${se}/overheads`,t)).overheads||[]}async function UP(t,e){return(await fe(`${se}/overheads`,t,{method:"POST",body:JSON.stringify(e)})).item}async function zP(t,e,r){return(await fe(`${se}/overheads/${e}`,t,{method:"PUT",body:JSON.stringify(r)})).item}async function HP(t,e){await fe(`${se}/overheads/${e}`,t,{method:"DELETE"})}async function WP(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e)throw new Error("Not authenticated");return Lb(e.access_token)}async function KP(t){return(await fe(`${se}/fixed-costs`,t)).fixedCosts||[]}async function VP(t,e){return(await fe(`${se}/fixed-costs`,t,{method:"POST",body:JSON.stringify(e)})).item}async function GP(t,e,r){return(await fe(`${se}/fixed-costs/${e}`,t,{method:"PUT",body:JSON.stringify(r)})).item}async function YP(t,e){await fe(`${se}/fixed-costs/${e}`,t,{method:"DELETE"})}async function JP(t){return await fe(`${se}/cleanup-duplicates`,t,{method:"POST"})}async function m5(t){return await fe(`${se}/sales/migrate-discrepancy`,t,{method:"POST"})}async function g5(t){return await fe(`${se}/migrate-stock-request-timestamps`,t,{method:"POST"})}async function y5(t,e,r,n){return await fe(`${se}/fix-orphaned-store-data`,t,{method:"POST",body:JSON.stringify({targetStoreId:e,dataType:r,recordIds:n})})}async function XP(t){return(await fe(`${se}/sales`,t)).sales||[]}async function QP(t,e){return(await fe(`${se}/sales`,t,{method:"POST",body:JSON.stringify(e)})).item}async function ZP(t,e,r){return(await fe(`${se}/sales/${e}`,t,{method:"PUT",body:JSON.stringify(r)})).item}async function eT(t,e){return(await fe(`${se}/sales/${e}/approve`,t,{method:"POST"})).item}async function tT(t,e,r,n){return(await fe(`${se}/sales/${e}/request-approval`,t,{method:"POST",body:JSON.stringify({requestedCashInHand:r,requestedOffset:n})})).item}async function rT(t,e){return(await fe(`${se}/sales/${e}/approve-discrepancy`,t,{method:"POST"})).item}async function nT(t,e,r){return(await fe(`${se}/sales/${e}/reject-discrepancy`,t,{method:"POST",body:JSON.stringify({reason:r})})).item}async function Fb(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/production`,e.access_token)).production||[]}async function aT(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/production`,r.access_token,{method:"POST",body:JSON.stringify(t)})).item}async function sT(t,e){const r=tt(),{data:{session:n}}=await r.auth.getSession();if(!n?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/production/${t}`,n.access_token,{method:"PUT",body:JSON.stringify(e)})).item}async function iT(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/production/${t}/approve`,r.access_token,{method:"POST"})).item}async function v5(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)throw new Error("Not authenticated");return await fe(`${se}/production/migrate-notifications`,e.access_token,{method:"POST"})}async function x5(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)throw new Error("Not authenticated");return await fe(`${se}/production/cleanup-duplicates`,e.access_token,{method:"POST"})}async function b5(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)throw new Error("Not authenticated");await fe(`${se}/clear-data`,e.access_token,{method:"DELETE"})}async function w5(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)throw new Error("Not authenticated");return await fe(`${se}/cleanup-production-data`,e.access_token,{method:"POST"})}async function oT(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)return[];try{return(await fe(`${se}/notifications`,e.access_token)).notifications}catch(r){return console.log("Unable to fetch notifications:",r instanceof Error?r.message:"Unknown error"),[]}}async function lT(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/notifications/${t}/read`,r.access_token,{method:"PUT"})).notification}async function cT(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)throw new Error("Not authenticated");await fe(`${se}/notifications/read-all`,e.access_token,{method:"PUT"})}async function sf(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/stores`,e.access_token)).stores}async function j5(t,e){const r=tt(),{data:{session:n}}=await r.auth.getSession();if(!n?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/stores`,n.access_token,{method:"POST",body:JSON.stringify({name:t,location:e})})).store}async function N5(t,e){const r=tt(),{data:{session:n}}=await r.auth.getSession();if(!n?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/stores/${t}/assign-manager`,n.access_token,{method:"PUT",body:JSON.stringify({managerId:e})})).store}async function _5(t,e){const r=tt(),{data:{session:n}}=await r.auth.getSession();if(!n?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/stores/${t}/assign-production-house`,n.access_token,{method:"PUT",body:JSON.stringify({productionHouseId:e})})).store}async function S5(t,e,r){const n=tt(),{data:{session:a}}=await n.auth.getSession();if(!a?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/stores/${t}`,a.access_token,{method:"PUT",body:JSON.stringify({name:e,location:r})})).store}async function k5(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");return await fe(`${se}/stores/${t}/migrate-data`,r.access_token,{method:"POST"})}async function O5(t){return await fe(`${se}/cleanup-duplicates`,t,{method:"POST"})}async function E5(t){return await fe(`${se}/migrate-production-house-system`,t,{method:"POST"})}async function ga(t){if(t)return(await fe(`${se}/employees`,t)).employees||[];const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/employees`,r.access_token)).employees||[]}async function eh(){return ga()}async function uT(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/archived-employees`,e.access_token)).employees||[]}async function dT(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");const n=await fetch(`${se}/unified-employees`,{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to create employee")}return await n.json()}async function hT(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");const n=await fetch(`${se}/unified-employees/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"}});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to delete employee")}return await n.json()}async function fT(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");const n=await fetch(`${se}/employees/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"}});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to delete employee")}return await n.json()}async function pT(t,e){const r=tt(),{data:{session:n}}=await r.auth.getSession();if(!n?.access_token)throw new Error("Not authenticated");const a=await fetch(`${se}/unified-employees/${t}/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({newPassword:e})});if(!a.ok){const i=await a.json();throw new Error(i.error||"Failed to reset password")}return await a.json()}async function Po(t,e){if(e)return(await fe(`${se}/unified-employees/manager/${t}`,e)).employees||[];const r=tt(),{data:{session:n}}=await r.auth.getSession();if(!n?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/unified-employees/manager/${t}`,n.access_token)).employees||[]}async function of(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/unified-employees/cluster-head/${t}`,r.access_token)).managers||[]}async function mT(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)throw new Error("Not authenticated");const r=await fetch(`${se}/migrate-employee-stores`,{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"}});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to run migration")}return await r.json()}async function lf(t,e){const r=await _i();if(!r)throw new Error("Not authenticated");const n=await fetch(`${se}/assign-manager-to-employee`,{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({employeeId:t,managerId:e})});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to assign manager")}return await n.json()}async function gT(t,e){const r=await _i();if(!r)throw new Error("Not authenticated");const n=await fetch(`${se}/employee/${t}/role`,{method:"PUT",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({newRole:e})});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to update role")}return await n.json()}async function yT(t,e){const r=await _i();if(!r)throw new Error("Not authenticated");const n=await fetch(`${se}/employee/${t}/store`,{method:"PUT",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({newStoreId:e})});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to update store")}return await n.json()}async function vT(t,e,r){const n=await _i();if(!n)throw new Error("Not authenticated");const a=await fetch(`${se}/employee/${t}/designation`,{method:"PUT",headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({designation:e,department:r})});if(!a.ok){const i=await a.json();throw new Error(i.error||"Failed to update designation")}return await a.json()}async function xT(t,e){const r=await _i();if(!r)throw new Error("Not authenticated");const n=await fetch(`${se}/employee/${t}/assign-incharge`,{method:"PUT",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({inchargeId:e})});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to assign incharge")}return await n.json()}async function qb(t){const e=await _i();if(!e)throw new Error("Not authenticated");const r=await fetch(`${se}/employees/by-incharge/${t}`,{headers:{Authorization:`Bearer ${e.access_token}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to fetch employees")}return await r.json()}async function bT(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)throw new Error("Not authenticated");const r=await fetch(`${se}/sync-designations`,{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"}});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to sync designations")}return await r.json()}async function cf(t,e){const r=await _i();if(!r)throw new Error("Not authenticated");const n=await fetch(`${se}/unified-employees/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to update employee")}return await n.json()}async function wT(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/payouts`,e.access_token)).payouts||[]}async function jT(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/payouts`,r.access_token,{method:"POST",body:JSON.stringify({payouts:t})})).payouts||[]}async function NT(t,e){const r=tt(),{data:{session:n}}=await r.auth.getSession();if(!n?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/payouts/${t}`,n.access_token,{method:"PUT",body:JSON.stringify(e)})).payout}async function _T(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");await fe(`${se}/payouts/${t}`,r.access_token,{method:"DELETE"})}async function A5(t){try{return(await fe(`${se}/online-sales`,t)).sales||[]}catch(e){return console.error("Error fetching online sales data:",e),[]}}async function P5(t,e){return(await fe(`${se}/online-sales`,t,{method:"POST",body:JSON.stringify(e)})).entry}async function T5(t){try{return(await fe(`${se}/online-payouts`,t)).payouts||[]}catch(e){return console.error("Error fetching online payout data:",e),[]}}async function C5(t,e){return(await fe(`${se}/online-payouts`,t,{method:"POST",body:JSON.stringify(e)})).entry}async function ST(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/salary-advances`,e.access_token)).salaryAdvances||[]}async function kT(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/salary-advances`,r.access_token,{method:"POST",body:JSON.stringify(t)})).salaryAdvance}async function sx(t,e){const r=tt(),{data:{session:n}}=await r.auth.getSession();if(!n?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/salary-advances/${t}`,n.access_token,{method:"PUT",body:JSON.stringify(e)})).salaryAdvance}async function I5(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");await fe(`${se}/salary-advances/${t}`,r.access_token,{method:"DELETE"})}async function ac(t,e,r){try{const n=new URLSearchParams;t&&n.append("entityType",t),e&&n.append("entityId",e),r&&n.append("category",r);const a=await fetch(`${se}/inventory-items?${n.toString()}`,{headers:{Authorization:`Bearer ${Rr}`}});if(!a.ok){const l=await a.text();return console.error(" Error fetching inventory items:",l),[]}return(await a.json()).items||[]}catch(n){return console.error(" Error fetching inventory items:",n),[]}}async function OT(t){const e=await fetch(`${se}/inventory-items`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rr}`},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.error||"Failed to create inventory item")}return(await e.json()).item}async function ET(t,e){const r=await fetch(`${se}/inventory-items/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rr}`},body:JSON.stringify(e)});if(!r.ok){const a=await r.json();throw new Error(a.error||"Failed to update inventory item")}return(await r.json()).item}async function $5(t){const e=await fetch(`${se}/inventory-items/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${Rr}`}});if(!e.ok){const r=await e.json();throw new Error(r.error||"Failed to delete inventory item")}}async function AT(){const t=await fetch(`${se}/inventory-items/initialize-defaults`,{method:"POST",headers:{Authorization:`Bearer ${Rr}`}});if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to initialize default items")}return(await t.json()).items||[]}async function M5(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");await fe(`${se}/cluster-heads/by-email/${encodeURIComponent(t)}`,r.access_token,{method:"DELETE"})}async function PT(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");const n=t?`${se}/organizational-hierarchy?storeId=${encodeURIComponent(t)}`:`${se}/organizational-hierarchy`,a=await fe(n,r.access_token);return{hierarchy:a.hierarchy||[],unassignedManagers:a.unassignedManagers||[],unassignedEmployees:a.unassignedEmployees||[],stats:a.stats||{totalClusterHeads:0,totalManagers:0,totalEmployees:0}}}async function Sc(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/timesheets/${t}`,r.access_token)).timesheets||[]}async function uu(t,e){if(e)return(await fe(`${se}/leaves/${t}`,e)).leaves||[];const r=tt(),{data:{session:n}}=await r.auth.getSession();if(!n?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/leaves/${t}`,n.access_token)).leaves||[]}async function D5(t){if(t)return(await fe(`${se}/leaves/all`,t)).leaves||[];const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/leaves/all`,r.access_token)).leaves||[]}async function TT(t){const e=tt(),{data:{session:r}}=await e.auth.getSession();if(!r?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/leaves`,r.access_token,{method:"POST",body:JSON.stringify(t)})).leave}async function CT(t,e){const r=tt(),{data:{session:n}}=await r.auth.getSession();if(!n?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/leaves/${t}/balance?joiningDate=${e}`,n.access_token)).balance||0}async function ix(t,e,r){const n=tt(),{data:{session:a}}=await n.auth.getSession();if(!a?.access_token)throw new Error("Not authenticated");await fe(`${se}/leaves/${t}/approve`,a.access_token,{method:"POST",body:JSON.stringify({managerId:e,managerName:r})})}async function IT(t,e,r,n){const a=tt(),{data:{session:i}}=await a.auth.getSession();if(!i?.access_token)throw new Error("Not authenticated");await fe(`${se}/leaves/${t}/reject`,i.access_token,{method:"POST",body:JSON.stringify({managerId:e,managerName:r,reason:n})})}async function $T(){try{const t=await fetch(`${se}/custom-items`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rr}`}});return t.ok?(await t.json()).customItems||[]:(console.error("Failed to fetch custom items:",t.status,t.statusText),[])}catch(t){return console.error("Error fetching custom items:",t),[]}}async function MT(t,e){const r=tt(),{data:{session:n}}=await r.auth.getSession();if(!n?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/custom-items`,n.access_token,{method:"POST",body:JSON.stringify({category:t,itemName:e})})).customItem}async function DT(t){return(await fe(`${se}/production-requests`,t)).requests||[]}async function R5(t,e){return(await fe(`${se}/production-requests`,t,{method:"POST",body:JSON.stringify(e)})).request}async function L5(t,e,r,n){return(await fe(`${se}/production-requests/${e}/status`,t,{method:"PUT",body:JSON.stringify({status:r,updatedBy:n})})).request}async function F5(t,e,r,n,a){return(await fe(`${se}/production-requests/${e}/ship`,t,{method:"PUT",body:JSON.stringify({shippedQuantities:r,shippingNotes:n,shippedBy:a})})).request}async function q5(t){return await fe(`${se}/production-requests/check-pending`,t,{method:"POST"})}async function RT(t){return await fe(`${se}/sales-data`,t)}async function B5(t,e){return(await fe(`${se}/sales-data`,e,{method:"POST",body:JSON.stringify(t)})).record}async function U5(t,e){await fe(`${se}/sales-data/${t}`,e,{method:"DELETE"})}async function ox(){const t=tt(),{data:{session:e}}=await t.auth.getSession();if(!e?.access_token)throw new Error("Not authenticated");return(await fe(`${se}/production-houses`,e.access_token)).productionHouses||[]}async function LT(t,e){return(await fe(`${se}/production-houses`,t,{method:"POST",body:JSON.stringify(e)})).productionHouse}async function FT(t,e,r){return(await fe(`${se}/production-houses/${e}`,t,{method:"PUT",body:JSON.stringify(r)})).productionHouse}async function qT(t,e,r){return(await fe(`${se}/production-houses/${e}/inventory`,t,{method:"PUT",body:JSON.stringify({inventory:r})})).productionHouse}async function z5(t,e,r){return(await fe(`${se}/production-houses/${e}/assign-head`,t,{method:"PUT",body:JSON.stringify({productionHeadId:r})})).productionHouse}async function H5(t,e,r){return(await fe(`${se}/stores/${e}/assign-production-house`,t,{method:"PUT",body:JSON.stringify({productionHouseId:r})})).store}async function W5(t,e,r){return await fe(`${se}/production-houses/${e}/fix-records`,t,{method:"POST",body:JSON.stringify({oldStoreId:r})})}async function BT(t,e){await fe(`${se}/production-houses/${e}`,t,{method:"DELETE"})}async function K5(t,e,r,n){const a=await fe(`${se}/production-houses/transfer-inventory`,t,{method:"POST",body:JSON.stringify({fromHouseId:e,toHouseId:r,quantities:n})});return{fromHouse:a.fromHouse,toHouse:a.toHouse}}async function UT(t){return(await fe(`${se}/stock-requests`,t)).stockRequests||[]}async function zT(t,e){return(await fe(`${se}/stock-requests`,t,{method:"POST",body:JSON.stringify(e)})).stockRequest}async function HT(t,e,r,n,a,i){return(await fe(`${se}/stock-requests/${e}/fulfill`,t,{method:"PUT",body:JSON.stringify({fulfilledQuantities:r,fulfilledBy:n,fulfilledByName:a,notes:i})})).stockRequest}async function WT(t,e){return(await fe(`${se}/stock-requests/${e}/cancel`,t,{method:"PUT"})).stockRequest}async function V5(t){return await fe(`${se}/fix-stock-requests`,t,{method:"POST"})}async function KT(t,e){return await fe(`${se}/stock-recalibration`,t,{method:"POST",body:JSON.stringify(e)})}async function vo(t,e,r){const n=new Date().getTime(),a=r?`${se}/stock-recalibration/latest/${e}?locationType=${r}&_t=${n}`:`${se}/stock-recalibration/latest/${e}?_t=${n}`;return await fe(a,t)}const G5=vo;async function Y5(t,e,r){const n=r?`${se}/stock-recalibration/history/${e}?locationType=${r}`:`${se}/stock-recalibration/history/${e}`;return await fe(n,t)}async function J5(t){return await fe(`${se}/stock-recalibration/pending-approval`,t)}async function X5(t,e){return await fe(`${se}/stock-recalibration/${e}/approve`,t,{method:"POST"})}async function Q5(t,e,r){return await fe(`${se}/stock-recalibration/${e}/reject`,t,{method:"POST",body:JSON.stringify({reason:r})})}async function Z5(t,e){return await fe(`${se}/online-cash-recalibration`,t,{method:"POST",body:JSON.stringify(e)})}async function eL(t,e){const r=new Date().getTime();return await fe(`${se}/online-cash-recalibration/latest/${e}?_t=${r}`,t)}async function tL(t,e){return await fe(`${se}/online-cash-recalibration/history/${e}`,t)}async function rL(t,e,r){return await fe(`${se}/online-cash-recalibration/${e}`,t,{method:"PUT",body:JSON.stringify(r)})}async function nL(t,e){return await fe(`${se}/online-cash-recalibration/${e}`,t,{method:"DELETE"})}async function VT(t){return(await fe(`${se}/online-cash-recalibration/all`,t))?.data||[]}async function aL(t,e,r,n,a){await fe(`${se}/cash-conversion`,t,{method:"POST",body:JSON.stringify({storeId:e,date:r,amount:n,performedBy:a})})}async function sL(t,e){return(await fe(`${se}/online-loans`,t,{method:"POST",body:JSON.stringify(e)})).loan}async function iL(t,e){const r=e?`${se}/online-loans?storeId=${e}`:`${se}/online-loans`;return(await fe(r,t)).loans||[]}async function oL(t,e,r){return(await fe(`${se}/online-loans/${e}/repay`,t,{method:"PUT",body:JSON.stringify(r)})).loan}async function lL(t,e){return(await fe(`${se}/stock-thresholds/${e}`,t)).thresholds}async function cL(t,e,r){return await fe(`${se}/stock-thresholds/${e}`,t,{method:"POST",body:JSON.stringify({thresholds:r})})}async function uL(t,e,r,n){let a=`${se}/stock-recalibration/wastage-report?month=${e}`;return r&&(a+=`&locationId=${r}`),n&&(a+=`&locationType=${n}`),await fe(a,t)}async function GT(t){return await fe(`${se}/cluster/info`,t)}async function dL(t,e,r,n){return await fe(`${se}/cluster/update-assignments`,t,{method:"POST",body:JSON.stringify({employeeId:e,managedStoreIds:r,managedProductionHouseIds:n})})}async function YT(t){return await fe(`${se}/cluster/all-cluster-heads`,t)}async function hL(t,e){return(await fe(`${se}/investors`,t,{method:"POST",body:JSON.stringify(e)})).investor}async function fL(t){return(await fe(`${se}/investors`,t)).investors||[]}async function pL(t,e,r){return(await fe(`${se}/investors/${e}`,t,{method:"PUT",body:JSON.stringify(r)})).investor}async function mL(t,e){return await fe(`${se}/investors/${e}`,t,{method:"DELETE"})}async function gL(t){return(await fe(`${se}/online-loans/all`,t)).loans||[]}async function yL(t){return(await fe(`${se}/online-loans/repayments`,t)).repayments||[]}const vL=Object.freeze(Object.defineProperty({__proto__:null,addCustomItem:MT,addFixedCost:VP,addInventory:FP,addInventoryItem:OT,addOverhead:UP,addPayouts:jT,addProductionData:aT,addSalesData:QP,applyLeave:TT,applyOnlineLoan:sL,approveDiscrepancy:rT,approveLeave:ix,approveProductionData:iT,approveRecalibration:X5,approveSalesData:eT,assignInchargeToEmployee:xT,assignManagerToEmployee:lf,assignManagerToStore:N5,assignProductionHeadToHouse:z5,assignProductionHouseToStore:_5,assignStoreToProductionHouse:H5,cancelStockRequest:WT,checkPendingProductionRequests:q5,cleanDuplicates:O5,cleanupDuplicateProduction:x5,cleanupDuplicates:JP,cleanupProductionData:w5,clearAllData:b5,convertCashToOnline:aL,createInvestor:hL,createProductionHouse:LT,createProductionRequest:R5,createSalaryAdvance:kT,createStockRequest:zT,createStore:j5,createUnifiedEmployee:dT,deleteClusterHeadByEmail:M5,deleteEmployee:fT,deleteFixedCost:YP,deleteInventory:BP,deleteInventoryItem:$5,deleteInvestor:mL,deleteOnlineCashRecalibration:nL,deleteOverhead:HP,deletePayout:_T,deleteProductionHouse:BT,deleteSalaryAdvance:I5,deleteSalesData:U5,deleteUnifiedEmployee:hT,fetchFixedCosts:KP,fetchInventory:Rb,fetchInventoryItems:ac,fetchLatestRecalibration:G5,fetchOnlineCashRecalibrations:VT,fetchOverheads:Lb,fetchProductionData:Fb,fetchProductionRequests:DT,fetchSalesData:XP,fixOrphanedStoreData:y5,fixProductionRecords:W5,fixStockRequests:V5,fulfillStockRequest:HT,getAllClusterHeads:YT,getAllEmployees:ga,getAllLeaves:D5,getAllLoanRepayments:yL,getAllOnlineLoans:gL,getAllRecalibrationsForApproval:J5,getArchivedEmployees:uT,getClusterInfo:GT,getCustomItems:$T,getEmployees:eh,getEmployeesByIncharge:qb,getEmployeesByManager:Po,getInvestors:fL,getLastOnlineCashRecalibration:eL,getLastRecalibration:vo,getLeaveBalance:CT,getLeaves:uu,getManagersByClusterHead:of,getMonthlyWastageReport:uL,getNotifications:oT,getOnlineCashRecalibrationHistory:tL,getOnlineLoans:iL,getOnlinePayoutData:T5,getOnlineSalesData:A5,getOrganizationalHierarchy:PT,getOverheads:WP,getPayouts:wT,getProductionHouses:ox,getRecalibrationHistory:Y5,getSalaryAdvances:ST,getSalesData:RT,getStockRequests:UT,getStockThresholds:lL,getStores:sf,getTimesheets:Sc,initializeDefaultInventoryItems:AT,markAllNotificationsAsRead:cT,markNotificationAsRead:lT,migrateDataToStore:k5,migrateEmployeeStores:mT,migrateProductionHouseSystem:E5,migrateProductionNotifications:v5,migrateSalesDiscrepancy:m5,migrateStockRequestTimestamps:g5,rejectDiscrepancy:nT,rejectLeave:IT,rejectRecalibration:Q5,repayOnlineLoan:oL,requestSalesApproval:tT,resetEmployeePassword:pT,saveOnlinePayoutData:C5,saveOnlineSalesData:P5,saveSalesData:B5,saveStockThresholds:cL,shipProductionRequest:F5,submitOnlineCashRecalibration:Z5,submitStockRecalibration:KT,syncDesignations:bT,transferInventoryBetweenHouses:K5,updateClusterAssignments:dL,updateEmployeeDesignation:vT,updateEmployeeRole:gT,updateEmployeeStore:yT,updateFixedCost:GP,updateInventory:qP,updateInventoryItem:ET,updateInvestor:pL,updateOnlineCashRecalibration:rL,updateOverhead:zP,updatePayout:NT,updateProductionData:sT,updateProductionHouse:FT,updateProductionHouseInventory:qT,updateProductionRequestStatus:L5,updateSalaryAdvance:sx,updateSalesData:ZP,updateStore:S5,updateUnifiedEmployee:cf},Symbol.toStringTag,{value:"Module"}));function xL({selectedDate:t,editingItem:e,onSubmit:r,onClose:n,onSuccess:a}){const[i,l]=$.useState({category:e?.category||"fresh_produce",itemName:e?.itemName||"",customItem:e?!SN[e.category].includes(e.itemName):!1,quantity:e?.quantity.toString()||"",unit:e?.unit||"kg",totalCost:e?.totalCost.toString()||"",paymentMethod:e?.paymentMethod||"cash",cashAmount:e?.cashAmount?.toString()||"",onlineAmount:e?.onlineAmount?.toString()||""}),[u,d]=$.useState({}),[h,m]=$.useState(!0),[p,g]=$.useState(!1),[v,j]=$.useState(""),[w,b]=$.useState(!1),N=$.useRef(null);$.useEffect(()=>{k()},[]),$.useEffect(()=>{const A=T=>{N.current&&!N.current.contains(T.target)&&b(!1)};return w&&document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[w]);const k=async()=>{try{const A=await $T(),T={};A.forEach(R=>{T[R.category]||(T[R.category]=[]),T[R.category].push(R.itemName)}),d(T)}catch(A){console.log("Could not load custom items:",A)}finally{m(!1)}},S=()=>{l({category:i.category,itemName:"",customItem:!1,quantity:"",unit:"kg",totalCost:"",paymentMethod:"cash",cashAmount:"",onlineAmount:""}),j("")},P=async A=>{if(A.preventDefault(),p){console.log(" Submission already in progress, ignoring duplicate request");return}if(!i.itemName||i.itemName.trim()===""){alert(" Please select an item name before submitting!"),console.error(" Attempted to submit inventory item without itemName:",i);return}if(i.paymentMethod==="both"){const W=parseFloat(i.cashAmount)||0,J=parseFloat(i.onlineAmount)||0,re=parseFloat(i.totalCost)||0;if(Math.abs(W+J-re)>.01){alert(` Split payment amounts (${W.toFixed(2)} + ${J.toFixed(2)} = ${(W+J).toFixed(2)}) must equal total cost (${re.toFixed(2)})`);return}}g(!0);const T=parseFloat(i.quantity),R=parseFloat(i.totalCost),D=T>0?R/T:0,F=Math.round(T*100)/100,I=Math.round(R*100)/100,q=Math.round(D*100)/100;if(console.log(" Submitting inventory item:",{itemName:i.itemName,quantity:F,totalCost:I,costPerUnit:q,paymentMethod:i.paymentMethod}),i.customItem&&i.itemName)try{await MT(i.category,i.itemName),console.log("Custom item saved:",i.itemName),await k()}catch(W){console.error("Error saving custom item:",W)}let K={paymentMethod:i.paymentMethod};if(i.paymentMethod==="both"){const W=parseFloat(i.cashAmount)||0,J=parseFloat(i.onlineAmount)||0;K.cashAmount=Math.round(W*100)/100,K.onlineAmount=Math.round(J*100)/100}else i.paymentMethod==="online"?(K.onlineAmount=I,K.cashAmount=0):i.paymentMethod==="cash"&&(K.cashAmount=I,K.onlineAmount=0);console.log(" Payment data being sent:",K),await r({date:t,category:i.category,itemName:i.itemName,quantity:F,unit:i.unit,costPerUnit:q,totalCost:I,...K}),g(!1),e||S(),a&&a()},E=[...new Set([...SN[i.category],...u[i.category]||[]])].sort((A,T)=>A.localeCompare(T)),O=v.trim()?E.filter(A=>A.toLowerCase().includes(v.toLowerCase())):E;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-gray-900",children:[e?"Edit":"Add"," Inventory Item"]}),s.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:s.jsx(vn,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:P,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Category"}),s.jsx("select",{value:i.category,onChange:A=>{l({...i,category:A.target.value,itemName:"",customItem:!1}),j("")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:Object.entries(Cb).map(([A,T])=>s.jsx("option",{value:A,children:T},A))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Item Name"}),i.customItem?s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:i.itemName,onChange:A=>l({...i,itemName:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Enter custom item name",required:!0}),s.jsx("button",{type:"button",onClick:()=>{l({...i,customItem:!1,itemName:""}),j("")},className:"text-sm text-blue-600 hover:text-blue-700",children:" Back to list"})]}):s.jsxs("div",{className:"relative space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(wP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",value:v,onChange:A=>{j(A.target.value),b(!0)},onFocus:()=>b(!0),placeholder:i.itemName||"Search items...",className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),i.itemName&&!v&&s.jsx("div",{className:"absolute inset-y-0 left-10 right-10 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-900",children:i.itemName})}),s.jsx(Ib,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 cursor-pointer",onClick:()=>b(!w)})]}),w&&s.jsxs("div",{ref:N,className:"absolute z-20 left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[O.length===0&&v?s.jsx("div",{className:"px-3 py-2 text-gray-500 text-sm",children:"No items found"}):O.map(A=>s.jsx("div",{onClick:()=>{l({...i,itemName:A}),j(""),b(!1)},className:`px-3 py-2 cursor-pointer hover:bg-blue-50 transition-colors ${i.itemName===A?"bg-blue-100 font-medium":""}`,children:A},A)),s.jsx("div",{onClick:()=>{l({...i,customItem:!0,itemName:""}),j(""),b(!1)},className:"px-3 py-2 cursor-pointer hover:bg-blue-50 transition-colors border-t border-gray-200 text-blue-600 font-medium",children:"+ Add Custom Item"})]}),v&&!w&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",O.length," of ",E.length," items"]}),s.jsx("input",{type:"hidden",value:i.itemName,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Quantity"}),s.jsx("input",{type:"number",step:"0.01",value:i.quantity,onChange:A=>l({...i,quantity:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Unit"}),s.jsxs("select",{value:i.unit,onChange:A=>l({...i,unit:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:[s.jsx("option",{value:"kg",children:"kg"}),s.jsx("option",{value:"g",children:"g"}),s.jsx("option",{value:"L",children:"L"}),s.jsx("option",{value:"mL",children:"mL"}),s.jsx("option",{value:"pcs",children:"pcs"}),s.jsx("option",{value:"units",children:"units"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Total Cost ()"}),s.jsx("input",{type:"number",step:"0.01",value:i.totalCost,onChange:A=>l({...i,totalCost:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Payment Method"}),s.jsxs("select",{value:i.paymentMethod,onChange:A=>{const T=A.target.value;l({...i,paymentMethod:T,cashAmount:T==="both"?i.cashAmount:"",onlineAmount:T==="both"?i.onlineAmount:""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white",required:!0,children:[s.jsx("option",{value:"cash",children:"Cash in Hand "}),s.jsx("option",{value:"online",children:"Online / Paytm "}),s.jsx("option",{value:"both",children:"Split Payment (Both) "})]})]}),i.paymentMethod==="both"&&s.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Split Payment Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-blue-900 mb-1",children:"Cash Amount ()"}),s.jsx("input",{type:"number",step:"0.01",value:i.cashAmount,onChange:A=>l({...i,cashAmount:A.target.value}),className:"w-full px-3 py-2 border border-blue-300 rounded-lg",placeholder:"0.00",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-blue-900 mb-1",children:"Online Amount ()"}),s.jsx("input",{type:"number",step:"0.01",value:i.onlineAmount,onChange:A=>l({...i,onlineAmount:A.target.value}),className:"w-full px-3 py-2 border border-blue-300 rounded-lg",placeholder:"0.00",required:!0})]})]}),i.cashAmount&&i.onlineAmount&&i.totalCost&&s.jsx("div",{className:"text-xs",children:parseFloat(i.cashAmount)+parseFloat(i.onlineAmount)===parseFloat(i.totalCost)?s.jsx("p",{className:"text-green-700 font-semibold",children:" Split amounts match total cost"}):s.jsxs("p",{className:"text-red-700 font-semibold",children:[" Split total: ",(parseFloat(i.cashAmount)+parseFloat(i.onlineAmount)).toFixed(2),"(Total Cost: ",parseFloat(i.totalCost).toFixed(2),")"]})})]}),i.quantity&&i.totalCost&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Cost per Unit"}),s.jsxs("p",{className:"text-gray-900",children:["",(parseFloat(i.totalCost)/parseFloat(i.quantity)).toFixed(2)]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:p,children:"Cancel"}),s.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",disabled:p,children:[p&&s.jsx(lu,{className:"w-4 h-4 animate-spin"}),p?"Saving...":e?"Update Item":"Add Item"]})]})]})]})})}const bL=[{value:"fuel",label:" Fuel Cost"},{value:"travel",label:" Travel by Employee"},{value:"transportation",label:" Goods Transportation Cost"},{value:"marketing",label:" Marketing Cost"},{value:"service_charge",label:" Service Charge (Food Aggregators)"},{value:"repair",label:" Repair Cost"},{value:"party",label:" Party Cost"},{value:"lunch",label:" Lunch Cost"},{value:"emergency_online",label:" Emergency Online Order (Blinkit)"},{value:"personal_expense",label:" Personal Expense By an Employee"},{value:"utensils",label:" Utensils"},{value:"equipments",label:" Equipments"},{value:"license",label:" License Cost"},{value:"water_jar",label:" Water Jar"},{value:"miscellaneous",label:" Miscellaneous Cost"}];function wL({selectedDate:t,onSubmit:e,onClose:r,editingItem:n,employees:a}){const[i,l]=$.useState({category:n?n.category:"fuel",description:n?n.description:"",amount:n?n.amount.toString():"",employeeId:n?.employeeId||"",employeeName:n?.employeeName||"",expenseMonth:n?.expenseMonth||t.slice(0,7),paymentMethod:n?.paymentMethod||"cash",cashAmount:n?.cashAmount?n.cashAmount.toString():"",onlineAmount:n?.onlineAmount?n.onlineAmount.toString():""}),[u,d]=$.useState(!1),h=parseFloat(i.amount||"0");$.useEffect(()=>{if(i.paymentMethod==="both"&&h>0&&!i.cashAmount&&!i.onlineAmount){const g=(h/2).toFixed(2);l(v=>({...v,cashAmount:g,onlineAmount:g}))}},[i.paymentMethod,h]),$.useEffect(()=>{if(i.category==="personal_expense"&&i.employeeId){const g=a.find(v=>v.employeeId===i.employeeId);g&&l(v=>({...v,employeeName:g.name}))}},[i.employeeId,i.category,a]);const m=()=>{if(i.paymentMethod!=="both")return!0;const g=parseFloat(i.cashAmount||"0"),v=parseFloat(i.onlineAmount||"0");return Math.abs(g+v-h)<.01},p=async g=>{if(g.preventDefault(),u){console.log(" Submission already in progress, ignoring duplicate request");return}if(!m()){alert("Cash and Online amounts must add up to the total amount!");return}d(!0);const v={date:t,category:i.category,description:i.description,amount:parseFloat(i.amount),paymentMethod:i.paymentMethod};i.category==="personal_expense"&&(v.employeeId=i.employeeId,v.employeeName=i.employeeName,v.expenseMonth=i.expenseMonth);let j={paymentMethod:i.paymentMethod};i.paymentMethod==="both"?(j.cashAmount=parseFloat(i.cashAmount),j.onlineAmount=parseFloat(i.onlineAmount)):i.paymentMethod==="online"?(j.onlineAmount=parseFloat(i.amount),j.cashAmount=0):i.paymentMethod==="cash"&&(j.cashAmount=parseFloat(i.amount),j.onlineAmount=0);const w={...v,...j};console.log(" Overhead payment data being sent:",j),await e(w),d(!1)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-gray-900",children:[n?"Edit":"Add"," Overhead Cost"]}),s.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:s.jsx(vn,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Category"}),s.jsx("select",{value:i.category,onChange:g=>l({...i,category:g.target.value,employeeId:"",employeeName:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:bL.map(g=>s.jsx("option",{value:g.value,children:g.label},g.value))})]}),i.category==="personal_expense"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Employee ID"}),s.jsxs("select",{value:i.employeeId,onChange:g=>l({...i,employeeId:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:[s.jsx("option",{value:"",children:"Select Employee"}),a.map(g=>s.jsx("option",{value:g.employeeId,children:g.employeeId},g.id))]})]}),i.employeeId&&i.employeeName&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Employee Name"}),s.jsx("input",{type:"text",value:i.employeeName,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm text-gray-700 mb-1",children:["Expense Month",s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(For which month is this salary/advance?)"})]}),s.jsx("input",{type:"month",value:i.expenseMonth,onChange:g=>l({...i,expenseMonth:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Select the month this expense belongs to (useful for backlogged salaries)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Expense Description"}),s.jsx("textarea",{value:i.description,onChange:g=>l({...i,description:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,placeholder:"What was the expense for?",required:!0})]})]}),i.category!=="personal_expense"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:i.description,onChange:g=>l({...i,description:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Amount ()"}),s.jsx("input",{type:"number",step:"0.01",value:i.amount,onChange:g=>l({...i,amount:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:i.paymentMethod==="cash",onChange:g=>l({...i,paymentMethod:"cash"}),className:"w-4 h-4 text-orange-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-gray-900",children:" Cash in Hand"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Will reduce Expected Cash in Hand"})]})]}),s.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:i.paymentMethod==="online",onChange:g=>l({...i,paymentMethod:"online"}),className:"w-4 h-4 text-orange-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-gray-900",children:" Online Cash (Paytm)"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Will reduce Online Cash in Hand (Paytm)"})]})]}),s.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"both",checked:i.paymentMethod==="both",onChange:g=>l({...i,paymentMethod:"both"}),className:"w-4 h-4 text-orange-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-gray-900",children:" Both (Split Payment)"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Paid using both Cash and Online"})]})]})]})]}),i.paymentMethod==="both"&&h>0&&s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Split Payment Details"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Cash Amount ()"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:h,value:i.cashAmount,onChange:g=>{const v=parseFloat(g.target.value||"0");l({...i,cashAmount:g.target.value,onlineAmount:(h-v).toFixed(2)})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Online Amount ()"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:h,value:i.onlineAmount,onChange:g=>{const v=parseFloat(g.target.value||"0");l({...i,onlineAmount:g.target.value,cashAmount:(h-v).toFixed(2)})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-purple-300",children:[s.jsx("span",{className:"text-gray-700",children:"Total:"}),s.jsxs("span",{className:`font-medium ${m()?"text-green-600":"text-red-600"}`,children:["",(parseFloat(i.cashAmount||"0")+parseFloat(i.onlineAmount||"0")).toFixed(2)," / ",h.toFixed(2)]})]}),!m()&&s.jsxs("p",{className:"text-xs text-red-600",children:[" Amounts must add up to ",h.toFixed(2)]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:u,children:"Cancel"}),s.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",disabled:u,children:[u&&s.jsx(lu,{className:"w-4 h-4 animate-spin"}),u?"Saving...":n?"Update Overhead":"Add Overhead"]})]})]})]})})}function jL({selectedDate:t,onSubmit:e,onClose:r,editingItem:n}){const[a,i]=$.useState({category:n?n.category:"electricity",description:n?n.description:"",amount:n?n.amount.toString():"",units:n?.units?n.units.toString():"",unitPrice:n?.unitPrice?n.unitPrice.toString():"",paymentMethod:n?.paymentMethod||"cash",cashAmount:n?.cashAmount?n.cashAmount.toString():"",onlineAmount:n?.onlineAmount?n.onlineAmount.toString():""}),[l,u]=$.useState(!1),d=a.category==="lpg_gas"&&a.units&&a.unitPrice?parseFloat(a.units)*parseFloat(a.unitPrice):parseFloat(a.amount||"0");$.useEffect(()=>{if(a.paymentMethod==="both"&&d>0&&!a.cashAmount&&!a.onlineAmount){const p=(d/2).toFixed(2);i(g=>({...g,cashAmount:p,onlineAmount:p}))}},[a.paymentMethod,d]);const h=()=>{if(a.paymentMethod!=="both")return!0;const p=parseFloat(a.cashAmount||"0"),g=parseFloat(a.onlineAmount||"0");return Math.abs(p+g-d)<.01},m=p=>{if(p.preventDefault(),!h()){alert("Cash and Online amounts must add up to the total amount!");return}const g=a.category==="lpg_gas"?parseFloat(a.units)*parseFloat(a.unitPrice):parseFloat(a.amount),v={date:t,category:a.category,description:a.description,amount:g,paymentMethod:a.paymentMethod};a.category==="lpg_gas"&&(v.units=parseFloat(a.units),v.unitPrice=parseFloat(a.unitPrice)),a.paymentMethod==="both"?(v.cashAmount=parseFloat(a.cashAmount),v.onlineAmount=parseFloat(a.onlineAmount)):a.paymentMethod==="online"?(v.onlineAmount=g,v.cashAmount=0):a.paymentMethod==="cash"&&(v.cashAmount=g,v.onlineAmount=0),console.log(" Fixed cost payment data being sent:",{paymentMethod:v.paymentMethod,cashAmount:v.cashAmount,onlineAmount:v.onlineAmount}),u(!0),e(v).finally(()=>u(!1))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-gray-900",children:[n?"Edit":"Add"," Fixed Cost"]}),s.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:s.jsx(vn,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Category"}),s.jsx("select",{value:a.category,onChange:p=>i({...a,category:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:Object.entries(vP).map(([p,g])=>s.jsx("option",{value:p,children:g},p))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:a.description,onChange:p=>i({...a,description:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,placeholder:a.category==="lpg_gas"?"e.g., Commercial LPG cylinder purchase":"e.g., Monthly electricity bill, Store rent for December",required:!0})]}),a.category==="lpg_gas"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Number of Cylinders"}),s.jsx("input",{type:"number",step:"1",min:"1",value:a.units,onChange:p=>i({...a,units:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., 2",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Price per Cylinder ()"}),s.jsx("input",{type:"number",step:"0.01",value:a.unitPrice,onChange:p=>i({...a,unitPrice:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., 1450.00",required:!0})]}),a.units&&a.unitPrice&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Total Amount:"})," ",d.toFixed(2)]})})]}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Amount ()"}),s.jsx("input",{type:"number",step:"0.01",value:a.amount,onChange:p=>i({...a,amount:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:a.paymentMethod==="cash",onChange:p=>i({...a,paymentMethod:"cash"}),className:"w-4 h-4 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-gray-900",children:" Cash in Hand"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Will reduce Expected Cash in Hand"})]})]}),s.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:a.paymentMethod==="online",onChange:p=>i({...a,paymentMethod:"online"}),className:"w-4 h-4 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-gray-900",children:" Online Cash (Paytm)"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Will reduce Online Cash in Hand (Paytm)"})]})]}),s.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"both",checked:a.paymentMethod==="both",onChange:p=>i({...a,paymentMethod:"both"}),className:"w-4 h-4 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-gray-900",children:" Both (Split Payment)"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Paid using both Cash and Online"})]})]})]})]}),a.paymentMethod==="both"&&d>0&&s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Split Payment Details"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Cash Amount ()"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:d,value:a.cashAmount,onChange:p=>{const g=parseFloat(p.target.value||"0");i({...a,cashAmount:p.target.value,onlineAmount:(d-g).toFixed(2)})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Online Amount ()"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:d,value:a.onlineAmount,onChange:p=>{const g=parseFloat(p.target.value||"0");i({...a,onlineAmount:p.target.value,cashAmount:(d-g).toFixed(2)})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-purple-300",children:[s.jsx("span",{className:"text-gray-700",children:"Total:"}),s.jsxs("span",{className:`font-medium ${h()?"text-green-600":"text-red-600"}`,children:["",(parseFloat(a.cashAmount||"0")+parseFloat(a.onlineAmount||"0")).toFixed(2)," / ",d.toFixed(2)]})]}),!h()&&s.jsxs("p",{className:"text-xs text-red-600",children:[" Amounts must add up to ",d.toFixed(2)]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:l,children:"Cancel"}),s.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",disabled:l,children:[l&&s.jsx(lu,{className:"w-4 h-4 animate-spin"}),l?"Saving...":n?"Update Fixed Cost":"Add Fixed Cost"]})]})]})]})})}function NL({inventory:t,overheads:e,fixedCosts:r,onEditInventory:n,onDeleteInventory:a,onEditOverhead:i,onDeleteOverhead:l,onEditFixedCost:u,onDeleteFixedCost:d,isManager:h=!0}){const[m,p]=$.useState(null),[g,v]=$.useState(!1),j=N=>{const k=Math.round(N*100)/100;return k%1===0?k.toString():k.toFixed(2)},w=t.reduce((N,k)=>(N[k.category]||(N[k.category]=[]),N[k.category].push(k),N),{}),b=(N,k)=>{v(!0),N==="inventory"?a(k):N==="overhead"?l(k):d(k),p(null),v(!1)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(fr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-gray-900",children:"Inventory Items"})]}),t.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No inventory items for this date"}):s.jsx("div",{className:"space-y-6",children:Object.entries(w).map(([N,k])=>s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm text-gray-700 mb-3",children:Cb[N]}),s.jsx("div",{className:"space-y-2",children:k.map(S=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors group",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-gray-900",children:S.itemName})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-blue-600",children:["",S.totalCost.toLocaleString()]}),h&&s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>n(S),className:"p-1.5 hover:bg-blue-50 rounded text-blue-600 transition-colors",title:"Edit",children:s.jsx(ks,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>p({type:"inventory",id:S.id}),className:"p-1.5 hover:bg-red-50 rounded text-red-600 transition-colors",title:"Delete",children:s.jsx(Es,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:[j(S.quantity||0)," ",S.unit]}),s.jsxs("span",{children:["",j(S.costPerUnit||0),"/",S.unit]}),S.paymentMethod&&s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${S.paymentMethod==="cash"?"bg-green-100 text-green-800":S.paymentMethod==="online"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:S.paymentMethod==="cash"?" Cash":S.paymentMethod==="online"?" Online":` Split (${j(S.cashAmount||0)} + ${j(S.onlineAmount||0)})`})]})]},S.id))})]},N))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(y4,{className:"w-5 h-5 text-orange-600"}),s.jsx("h3",{className:"text-gray-900",children:"Overhead Costs"})]}),e.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No overhead costs for this date"}):s.jsx("div",{className:"space-y-3",children:e.map(N=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-orange-300 transition-colors group",children:s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-900",children:yP[N.category]}),N.category==="personal_expense"&&N.employeeId&&N.employeeName&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Employee: ",N.employeeName," (ID: ",N.employeeId,")"]}),N.category==="personal_expense"&&N.expenseMonth&&s.jsxs("p",{className:"text-sm text-purple-600 mt-1 font-medium",children:[" Mapped to: ",new Date(N.expenseMonth+"-01").toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:N.description}),N.paymentMethod&&s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[N.paymentMethod==="cash"&&s.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:" Paid via Cash"}),N.paymentMethod==="online"&&s.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full",children:" Paid via Paytm"}),N.paymentMethod==="both"&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:[" Cash: ",N.cashAmount?.toLocaleString()]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full",children:[" Paytm: ",N.onlineAmount?.toLocaleString()]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-orange-600",children:["",N.amount.toLocaleString()]}),h&&s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>i(N),className:"p-1.5 hover:bg-orange-50 rounded text-orange-600 transition-colors",title:"Edit",children:s.jsx(ks,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>p({type:"overhead",id:N.id}),className:"p-1.5 hover:bg-red-50 rounded text-red-600 transition-colors",title:"Delete",children:s.jsx(Es,{className:"w-4 h-4"})})]})]})]})},N.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(R4,{className:"w-5 h-5 text-green-600"}),s.jsx("h3",{className:"text-gray-900",children:"Fixed Costs"})]}),r.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No fixed costs for this date"}):s.jsx("div",{className:"space-y-3",children:r.map(N=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-green-300 transition-colors group",children:s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-900",children:vP[N.category]}),s.jsx("p",{className:"text-sm text-gray-500",children:N.description}),N.category==="lpg_gas"&&N.units&&N.unitPrice&&s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[N.units," cylinder",N.units>1?"s":"","  ",N.unitPrice.toLocaleString()]}),N.paymentMethod&&s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[N.paymentMethod==="cash"&&s.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:" Paid via Cash"}),N.paymentMethod==="online"&&s.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full",children:" Paid via Paytm"}),N.paymentMethod==="both"&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:[" Cash: ",N.cashAmount?.toLocaleString()]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full",children:[" Paytm: ",N.onlineAmount?.toLocaleString()]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-green-600",children:["",N.amount.toLocaleString()]}),h&&s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>u(N),className:"p-1.5 hover:bg-green-50 rounded text-green-600 transition-colors",title:"Edit",children:s.jsx(ks,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>p({type:"fixedcost",id:N.id}),className:"p-1.5 hover:bg-red-50 rounded text-red-600 transition-colors",title:"Delete",children:s.jsx(Es,{className:"w-4 h-4"})})]})]})]})},N.id))})]})]}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-gray-900 mb-4",children:"Confirm Delete"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete this ",m.type==="inventory"?"inventory item":m.type==="overhead"?"overhead cost":"fixed cost","? This action cannot be undone."]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>p(null),disabled:g,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),s.jsxs("button",{onClick:()=>b(m.type,m.id),disabled:g,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[g&&s.jsx(lu,{className:"w-4 h-4 animate-spin"}),g?"Deleting...":"Delete"]})]})]})})]})}const _L=5,SL=30,JT=(_L*60+SL)*60*1e3;function kL(){const t=new Date;return new Date(t.getTime()+JT).toISOString()}function bs(){return kL().substring(0,10)}function OL(t,e=!0){if(!t)return"Invalid Date";try{const r=e?new Date(new Date(t).getTime()+JT):new Date(t);if(isNaN(r.getTime()))return"Invalid Date";const n=r.getUTCDate(),a=r.toLocaleString("en-US",{month:"short",timeZone:"UTC"}),i=r.getUTCFullYear();let l=r.getUTCHours();const u=r.getUTCMinutes(),d=l>=12?"PM":"AM";l=l%12||12;const h=u.toString().padStart(2,"0");return`${n} ${a} ${i}, ${l}:${h} ${d} IST`}catch{return"Invalid Date"}}function XT(t){if(!t)return"Invalid Date";const e=t.substring(0,10),[r,n,a]=e.split("-").map(Number);if(!r||!n||!a||isNaN(r)||isNaN(n)||isNaN(a))return"Invalid Date";const l=new Date(Date.UTC(r,n-1,a)).toLocaleString("en-US",{month:"short",timeZone:"UTC"});return`${a} ${l} ${r}`}const QT=$.memo(function({selectedDate:e,onDateChange:r}){const[n,a]=$.useState(0),[i,l]=$.useState(!1);$.useEffect(()=>{const p=()=>{l(window.innerWidth<768)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const u=$.useMemo(()=>{const p=bs(),g=new Date(p);g.setDate(g.getDate()+n*7);const v=[];for(let j=-3;j<=3;j++){const w=new Date(g);w.setDate(w.getDate()+j),v.push(w.toISOString().split("T")[0])}return v},[n]);$.useEffect(()=>{if(!u.includes(e)){const p=new Date(e),g=new Date(bs()),v=Math.floor((p.getTime()-g.getTime())/(1e3*60*60*24)),j=Math.floor(v/7);a(j)}},[e,u]);const d=()=>{a(0),r(bs())},h=()=>{const p=n-1;a(p);const g=bs(),v=new Date(g);v.setDate(v.getDate()+p*7);const j=v.toISOString().split("T")[0];r(j)},m=()=>{const p=n+1;a(p);const g=bs(),v=new Date(g);v.setDate(v.getDate()+p*7);const j=v.toISOString().split("T")[0];r(j)};return i?s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-gray-900",children:"Select Date"}),n!==0&&s.jsx("button",{type:"button",onClick:d,className:"px-3 py-1.5 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 transition-colors text-xs",children:"Jump to Today"})]}),s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"date",value:e,onChange:p=>r(p.target.value),className:"w-full px-4 py-3 text-base bg-gray-50 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all"})}),s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsxs("button",{type:"button",onClick:h,className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-1 text-sm",children:[s.jsx(K0,{className:"w-4 h-4"}),s.jsx("span",{children:"Prev Week"})]}),s.jsxs("button",{type:"button",onClick:m,className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-1 text-sm",children:[s.jsx("span",{children:"Next Week"}),s.jsx(Ps,{className:"w-4 h-4"})]})]}),s.jsx("div",{className:"overflow-x-auto -mx-4 px-4",children:s.jsx("div",{className:"flex gap-2 pb-2 min-w-max",children:u.map(p=>{const g=new Date(p),v=p===bs(),j=p===e;return s.jsxs("button",{type:"button",onClick:()=>r(p),className:`flex-shrink-0 p-2 rounded-lg text-center transition-all min-w-[60px] ${j?"bg-orange-600 text-white shadow-lg":v?"bg-orange-100 text-orange-800 border-2 border-orange-300":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[s.jsx("div",{className:"text-xs uppercase",children:g.toLocaleDateString("en-US",{weekday:"short"})}),s.jsx("div",{className:"text-base font-medium",children:g.getDate()}),s.jsx("div",{className:"text-xs",children:g.toLocaleDateString("en-US",{month:"short"})})]},p)})})})]}):s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-gray-900",children:"Select Date"}),n!==0&&s.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 transition-colors text-sm",children:"Jump to Today"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{type:"button",onClick:h,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2",title:"Previous Week",children:[s.jsx(K0,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm",children:"Prev"})]}),s.jsx("div",{className:"grid grid-cols-7 gap-2 flex-1",children:u.map(p=>{const g=new Date(p),v=p===bs(),j=p===e;return s.jsxs("button",{type:"button",onClick:()=>r(p),className:`p-3 rounded-lg text-center transition-all ${j?"bg-orange-600 text-white shadow-lg transform scale-105":v?"bg-orange-100 text-orange-800 border-2 border-orange-300":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[s.jsx("div",{className:"text-xs uppercase",children:g.toLocaleDateString("en-US",{weekday:"short"})}),s.jsx("div",{className:"text-lg font-medium",children:g.getDate()}),s.jsx("div",{className:"text-xs",children:g.toLocaleDateString("en-US",{month:"short"})})]},p)})}),s.jsxs("button",{type:"button",onClick:m,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2",title:"Next Week",children:[s.jsx("span",{className:"text-sm",children:"Next"}),s.jsx(Ps,{className:"w-5 h-5"})]})]})]})});gP();function EL(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Array(12).fill(0);let lx=1;class AL{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...a}=e,i=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:lx++,l=this.toasts.find(d=>d.id===i),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...e,id:i,title:n}),{...d,...e,id:i,dismissible:u,title:n}):d):this.addToast({title:n,...a,dismissible:u,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,l;const u=a.then(async h=>{if(l=["resolve",h],z.isValidElement(h))i=!1,this.create({id:n,type:"default",message:h});else if(TL(h)&&!h.ok){i=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${h.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${h.status}`):r.description,j=typeof p=="object"&&!z.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:g,...j})}else if(h instanceof Error){i=!1;const p=typeof r.error=="function"?await r.error(h):r.error,g=typeof r.description=="function"?await r.description(h):r.description,j=typeof p=="object"&&!z.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:g,...j})}else if(r.success!==void 0){i=!1;const p=typeof r.success=="function"?await r.success(h):r.success,g=typeof r.description=="function"?await r.description(h):r.description,j=typeof p=="object"&&!z.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:g,...j})}}).catch(async h=>{if(l=["reject",h],r.error!==void 0){i=!1;const m=typeof r.error=="function"?await r.error(h):r.error,p=typeof r.description=="function"?await r.description(h):r.description,v=typeof m=="object"&&!z.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...v})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((h,m)=>u.then(()=>l[0]==="reject"?m(l[1]):h(l[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(e,r)=>{const n=r?.id||lx++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const $n=new AL,PL=(t,e)=>{const r=e?.id||lx++;return $n.addToast({title:t,...e,id:r}),r},TL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",CL=PL,IL=()=>$n.toasts,$L=()=>$n.getActiveToasts(),Vl=Object.assign(CL,{success:$n.success,info:$n.info,warning:$n.warning,error:$n.error,custom:$n.custom,message:$n.message,promise:$n.promise,dismiss:$n.dismiss,loading:$n.loading},{getHistory:IL,getToasts:$L});EL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ML({context:t,selectedStoreId:e,employees:r}){const[n,a]=$.useState(bs()),[i,l]=$.useState(!1),[u,d]=$.useState(!1),[h,m]=$.useState(!1),[p,g]=$.useState(null),[v,j]=$.useState(null),[w,b]=$.useState(null),N=e||t.user?.storeId;console.log(" InventoryManagement - effectiveStoreId:",N),console.log(" InventoryManagement - selectedStoreId prop:",e),console.log(" InventoryManagement - user storeId:",t.user?.storeId);const k=t.inventory.filter(T=>{const R=T.date===n,D=N?T.storeId===N:!0;return R&&D}),S=t.overheads.filter(T=>{const R=T.date===n,D=N?T.storeId===N:!0;return R&&D}),P=t.fixedCosts.filter(T=>{const R=T.date===n,D=N?T.storeId===N:!0;return R&&D}),E=k.reduce((T,R)=>T+R.totalCost,0),O=S.reduce((T,R)=>T+R.amount,0),A=P.reduce((T,R)=>T+R.amount,0);return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(QT,{selectedDate:n,onDateChange:a}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6 mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 shadow-lg shadow-blue-500/30",children:[s.jsx("p",{className:"text-sm text-blue-100 uppercase tracking-wide",children:"Inventory Cost"}),s.jsxs("p",{className:"text-white text-2xl mt-2",children:["",E.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 shadow-lg shadow-orange-500/30",children:[s.jsx("p",{className:"text-sm text-orange-100 uppercase tracking-wide",children:"Overhead Cost"}),s.jsxs("p",{className:"text-white text-2xl mt-2",children:["",O.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 shadow-lg shadow-green-500/30",children:[s.jsx("p",{className:"text-sm text-green-100 uppercase tracking-wide",children:"Fixed Cost"}),s.jsxs("p",{className:"text-white text-2xl mt-2",children:["",A.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 shadow-lg shadow-purple-500/30",children:[s.jsx("p",{className:"text-sm text-purple-100 uppercase tracking-wide",children:"Total Expenses"}),s.jsxs("p",{className:"text-white text-2xl mt-2",children:["",(E+O+A).toLocaleString()]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:[s.jsxs("button",{onClick:()=>l(!0),disabled:!t.isManager,className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",title:t.isManager?"":"Only managers can add inventory items",children:[s.jsx(Gd,{className:"w-4 h-4"}),"Add Inventory Item"]}),s.jsxs("button",{onClick:()=>d(!0),disabled:!t.isManager,className:"flex items-center justify-center gap-2 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",title:t.isManager?"":"Only managers can add overhead costs",children:[s.jsx(Gd,{className:"w-4 h-4"}),"Add Overhead"]}),s.jsxs("button",{onClick:()=>m(!0),disabled:!t.isManager,className:"flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",title:t.isManager?"":"Only managers can add fixed costs",children:[s.jsx(Gd,{className:"w-4 h-4"}),"Add Fixed Cost"]})]}),s.jsx(NL,{inventory:k,overheads:S,fixedCosts:P,onEditInventory:T=>{g(T),l(!0)},onDeleteInventory:t.deleteInventoryItem,onEditOverhead:T=>{j(T),d(!0)},onDeleteOverhead:t.deleteOverheadItem,onEditFixedCost:T=>{b(T),m(!0)},onDeleteFixedCost:t.deleteFixedCostItem,isManager:t.isManager}),i&&s.jsx(xL,{selectedDate:n,editingItem:p,onSubmit:async T=>{try{p?(await t.updateInventoryItem(p.id,T),l(!1),g(null),Vl.success("Inventory item updated successfully!")):(await t.addInventoryItem(T),Vl.success("Inventory item added! You can add another item."))}catch{Vl.error("Failed to save inventory item. Please try again.")}},onClose:()=>{l(!1),g(null)}}),u&&s.jsx(wL,{selectedDate:n,editingItem:v,employees:r,onSubmit:async T=>{try{v?await t.updateOverheadItem(v.id,T):await t.addOverheadItem(T),d(!1),j(null),Vl.success("Overhead cost saved successfully!")}catch{alert("Failed to save overhead cost. Please try again.")}},onClose:()=>{d(!1),j(null)}}),h&&s.jsx(jL,{selectedDate:n,editingItem:w,onSubmit:async T=>{try{w?await t.updateFixedCostItem(w.id,T):await t.addFixedCostItem(T),m(!1),b(null),Vl.success("Fixed cost saved successfully!")}catch{alert("Failed to save fixed cost. Please try again.")}},onClose:()=>{m(!1),b(null)}})]})}function DL({context:t,selectedStoreId:e,onClose:r,onSaveSuccess:n,isProductionHouse:a,isStoreFinishedProducts:i=!1,currentCalculatedStock:l}){const[u,d]=$.useState([]),[h,m]=$.useState(!0),[p,g]=$.useState(!1),[v,j]=$.useState(null),[w,b]=$.useState(null),[N,k]=$.useState(!1),S=e||t.user?.storeId,P=t.stores?.find(M=>M.id===S),E=e||t.user?.storeId,O=a?t.productionHouses?.find(M=>M.id===E):t.stores?.find(M=>M.id===E),A=O?.name,T=new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"});new Date().getDate(),$.useEffect(()=>{R(),q()},[]);async function R(){try{if(m(!0),a||i)await D();else{const U=(await Rb(t.user?.accessToken||"")).filter(ge=>S?ge.storeId===S:!1),te=new Map;U.forEach(ge=>{te.has(ge.id)||te.set(ge.id,ge)});const me=Array.from(te.values()).map(ge=>({itemId:ge.id,itemName:ge.itemName,category:ge.category,unit:ge.unit,systemQuantity:ge.quantity,actualQuantity:ge.quantity,difference:0,adjustmentType:null,notes:""}));d(me)}}catch(M){console.error("Error loading inventory:",M),b("Failed to load inventory data")}finally{m(!1)}}async function D(){let M=[];try{M=await Fb(t.user?.accessToken||""),console.log(" Fetched raw production data for recalibration:",{totalRecords:M.length,sampleRecord:M[0]})}catch(Pe){console.error(" Failed to fetch production data for recalibration:",Pe),M=t.productionData||[]}const U=new Date().toISOString().substring(0,7);let te=S,me=S,ge=S;if(S&&!S.startsWith("STORE-")){const Pe=t.productionHouses?.find(Ae=>Ae.uuid===S);Pe&&(console.log(" Resolved UUID to production house:",{uuid:S,storeId:Pe.id,name:Pe.name}),te=Pe.id,me=S,ge=Pe.id)}let Me=te;if(i)ge=te;else if(te&&te.startsWith("STORE-")){const Pe=t.productionHouses?.find(Ae=>Ae.id===te);if(Pe)me=Pe.uuid,Me=te,ge=te;else{const Ae=t.stores?.find(Ne=>Ne.id===te);Ae?.productionHouseId&&(me=Ae.productionHouseId,ge=me)}}else ge=te;let Ke,De;if(i)Ke=(t.productionRequests||[]).filter(Ne=>{if(Ne.status!=="delivered"||Ne.storeId!==S)return!1;const Xe=Ne.deliveredDate||Ne.requestDate||Ne.createdAt;return Xe&&Xe.startsWith(U)}).reduce((Ne,Xe)=>({chicken:Ne.chicken+(Xe.chicken||0),chickenCheese:Ne.chickenCheese+(Xe.chickenCheese||0),veg:Ne.veg+(Xe.veg||0),cheeseCorn:Ne.cheeseCorn+(Xe.cheeseCorn||0),paneer:Ne.paneer+(Xe.paneer||0),vegKurkure:Ne.vegKurkure+(Xe.vegKurkure||0),chickenKurkure:Ne.chickenKurkure+(Xe.chickenKurkure||0)}),{chicken:0,chickenCheese:0,veg:0,cheeseCorn:0,paneer:0,vegKurkure:0,chickenKurkure:0}),De=(t.categorySalesData||[]).filter(Ne=>Ne.storeId!==S?!1:Ne.date&&Ne.date.startsWith(U)).reduce((Ne,Xe)=>({chicken:Ne.chicken+(Xe.data["Chicken Momos"]||0),chickenCheese:Ne.chickenCheese+(Xe.data["Chicken Cheese Momos"]||0),veg:Ne.veg+(Xe.data["Veg Momos"]||0),cheeseCorn:Ne.cheeseCorn+(Xe.data["Corn Cheese Momos"]||0),paneer:Ne.paneer+(Xe.data["Paneer Momos"]||0),vegKurkure:Ne.vegKurkure+(Xe.data["Veg Kurkure Momos"]||0),chickenKurkure:Ne.chickenKurkure+(Xe.data["Chicken Kurkure Momos"]||0)}),{chicken:0,chickenCheese:0,veg:0,cheeseCorn:0,paneer:0,vegKurkure:0,chickenKurkure:0});else{console.log(" Production filtering for recalibration:",{currentMonth:U,productionHouseUUID:me,effectiveStoreId:S,totalProductionRecords:M.length,sampleProductionRecord:M[0],firstProductionDates:M.slice(0,3).map(ye=>({date:ye.date,type:typeof ye.date}))});const Pe=M.filter(ye=>{const $e=ye.date||"",ct=$e.startsWith(U)||$e.substring(0,7)===U,jt=ye.storeId===me||ye.storeId===S||ye.storeId===Me,Rt=ye.productionHouseId===me||ye.productionHouseId===S||ye.productionHouseId===Me,vr=ct&&(jt||Rt);return console.log(" Checking production record:",{date:ye.date,dateSubstring:$e.substring(0,7),currentMonth:U,dateMatch:ct,pStoreId:ye.storeId,pProductionHouseId:ye.productionHouseId,productionHouseUUID:me,effectiveStoreId:S,originalStoreId:Me,matchesStoreId:jt,matchesProductionHouseId:Rt,finalMatch:vr}),vr});console.log(" Filtered production count:",Pe.length),console.log(" Sample filtered production:",Pe[0]);const Ae=Pe.reduce((ye,$e)=>({chicken:ye.chicken+($e.chickenMomos?.final||0),chickenCheese:ye.chickenCheese+($e.chickenCheeseMomos?.final||0),veg:ye.veg+($e.vegMomos?.final||0),cheeseCorn:ye.cheeseCorn+($e.cheeseCornMomos?.final||0),paneer:ye.paneer+($e.paneerMomos?.final||0),vegKurkure:ye.vegKurkure+($e.vegKurkureMomos?.final||0),chickenKurkure:ye.chickenKurkure+($e.chickenKurkureMomos?.final||0)}),{chicken:0,chickenCheese:0,veg:0,cheeseCorn:0,paneer:0,vegKurkure:0,chickenKurkure:0});Ke={chicken:Ae.chicken-Ae.chickenKurkure,chickenCheese:Ae.chickenCheese,veg:Ae.veg-Ae.vegKurkure,cheeseCorn:Ae.cheeseCorn,paneer:Ae.paneer,vegKurkure:Ae.vegKurkure,chickenKurkure:Ae.chickenKurkure},console.log(" Raw production (before parent-child adjustment):",Ae),console.log(" Total produced (after parent-child adjustment):",Ke),console.log(`    Chicken Momo: ${Ae.chicken} produced - ${Ae.chickenKurkure} used for kurkure = ${Ke.chicken} net`),console.log(`    Veg Momo: ${Ae.veg} produced - ${Ae.vegKurkure} used for kurkure = ${Ke.veg} net`),console.log(` Filtering requests - productionHouseUUID: ${me}, effectiveStoreId: ${S}, currentMonth: ${U}`),console.log(` Total production requests in context: ${(t.productionRequests||[]).length}`);let Ne=!1;De=(t.productionRequests||[]).filter(ye=>{if(ye.status!=="delivered")return!1;const $e=ye.deliveredDate||ye.requestDate||ye.createdAt;if(!$e||!$e.startsWith(U))return!1;const ct=t.stores?.find(Rt=>Rt.id===ye.storeId),jt=ct?.productionHouseId===me||ct?.productionHouseId===S;return ye.status==="delivered"&&$e?.startsWith(U)&&(console.log(` Request ${ye.requestId}: storeId=${ye.storeId}, store.productionHouseId=${ct?.productionHouseId}, comparing to UUID=${me} or storeId=${S}, matches=${jt}`),jt&&!Ne&&(console.log(" First matching request structure:",{requestId:ye.requestId,chickenMomos:ye.chickenMomos,cheeseCornMomos:ye.cheeseCornMomos,allKeys:Object.keys(ye)}),Ne=!0)),jt}).reduce((ye,$e)=>({chicken:ye.chicken+($e.chicken||0),chickenCheese:ye.chickenCheese+($e.chickenCheese||0),veg:ye.veg+($e.veg||0),cheeseCorn:ye.cheeseCorn+($e.cheeseCorn||0),paneer:ye.paneer+($e.paneer||0),vegKurkure:ye.vegKurkure+($e.vegKurkure||0),chickenKurkure:ye.chickenKurkure+($e.chickenKurkure||0)}),{chicken:0,chickenCheese:0,veg:0,cheeseCorn:0,paneer:0,vegKurkure:0,chickenKurkure:0})}const ue=await F(ge,U,i);let xe=null,Oe=null;try{const Pe=i?"store":"production_house",Ae=await vo(t.user?.accessToken||"",ge,Pe);if(Ae?.record){const Ne=Ae.record.date,Xe=Ne.substring(0,7),ye=parseInt(Ne.substring(8,10));if(console.log(" Latest recalibration check:",{recalDate:Ne,recalMonth:Xe,currentMonth:U,recalDay:ye,isSameMonth:Xe===U,isMidMonth:ye>1}),Xe===U&&ye>1){console.log(" Found mid-month recalibration - using as baseline!"),Oe=Ne,xe={};const $e=Ae.record.items||[];for(const ct of $e){const jt=t.inventoryItems?.find(Rt=>Rt.name===ct.itemId||Rt.id===ct.itemId);if(jt){const vr=jt.name.replace(/_([a-z])/g,oa=>oa[1].toUpperCase()).replace(/Momo(s)?$/i,"");xe[vr]=ct.actualQuantity,console.log(`   Recal stock: ${ct.itemId} -> ${vr} = ${ct.actualQuantity}`)}}console.log(" Mid-month recalibration stock:",xe)}}}catch(Pe){console.error("Error fetching latest recalibration for mid-month check:",Pe)}if(xe&&Oe&&!i){console.log(" Recalculating with mid-month recalibration baseline...");const Pe=Oe.substring(0,10),Ne=M.filter(ye=>(ye.date||"")>Pe&&(ye.storeId===me||ye.storeId===S||ye.storeId===Me||ye.productionHouseId===me||ye.productionHouseId===S||ye.productionHouseId===Me)).reduce((ye,$e)=>({chicken:ye.chicken+($e.chickenMomos?.final||0),chickenCheese:ye.chickenCheese+($e.chickenCheeseMomos?.final||0),veg:ye.veg+($e.vegMomos?.final||0),cheeseCorn:ye.cheeseCorn+($e.cheeseCornMomos?.final||0),paneer:ye.paneer+($e.paneerMomos?.final||0),vegKurkure:ye.vegKurkure+($e.vegKurkureMomos?.final||0),chickenKurkure:ye.chickenKurkure+($e.chickenKurkureMomos?.final||0)}),{chicken:0,chickenCheese:0,veg:0,cheeseCorn:0,paneer:0,vegKurkure:0,chickenKurkure:0});Ke={chicken:Ne.chicken-Ne.chickenKurkure,chickenCheese:Ne.chickenCheese,veg:Ne.veg-Ne.vegKurkure,cheeseCorn:Ne.cheeseCorn,paneer:Ne.paneer,vegKurkure:Ne.vegKurkure,chickenKurkure:Ne.chickenKurkure},De=(t.productionRequests||[]).filter(ye=>{if(ye.status!=="delivered")return!1;const $e=ye.deliveredDate||ye.requestDate||ye.createdAt;if(!$e||$e<Oe)return!1;const ct=t.stores?.find(jt=>jt.id===ye.storeId);return ct?.productionHouseId===me||ct?.productionHouseId===S}).reduce((ye,$e)=>({chicken:ye.chicken+($e.chicken||0),chickenCheese:ye.chickenCheese+($e.chickenCheese||0),veg:ye.veg+($e.veg||0),cheeseCorn:ye.cheeseCorn+($e.cheeseCorn||0),paneer:ye.paneer+($e.paneer||0),vegKurkure:ye.vegKurkure+($e.vegKurkure||0),chickenKurkure:ye.chickenKurkure+($e.chickenKurkure||0)}),{chicken:0,chickenCheese:0,veg:0,cheeseCorn:0,paneer:0,vegKurkure:0,chickenKurkure:0}),console.log("  Production AFTER recalibration:",Ke),console.log("  Deliveries AFTER recalibration:",De)}console.log(" Recalibration - Location ID:",ge),console.log(" Recalibration - Is Store Finished Products:",i),console.log(" Recalibration - Opening Balance:",ue),console.log(" Recalibration - Mid-Month Recal Stock:",xe),console.log(" Recalibration - Total Received/Produced:",Ke),console.log(" Recalibration - Total Sent/Sold:",De);const Y=t.inventoryItems?.filter(Pe=>Pe.category==="finished_product"&&Pe.isActive&&(Pe.linkedEntityType==="global"||Pe.linkedEntityType==="production_house"&&Pe.linkedEntityId===ge||Pe.linkedEntityType==="store"&&Pe.linkedEntityId===S))||[];console.log(" Recalibration - Finished Products from Context:",Y.length);const je=Pe=>Pe.replace(/_([a-z])/g,Ae=>Ae[1].toUpperCase()),Ie=Pe=>{const Ae=Pe.replace(/_momo(s)?$/i,"");return je(Ae)},ot=Y.map(Pe=>{const Ae=Ie(Pe.name);let Ne;if(l&&l[Ae]!==void 0)Ne=l[Ae],console.log(` ${Pe.displayName} (${Pe.name} -> ${Ae}): Using pre-calculated stock from Analytics = ${Ne}`);else{const Xe=ue[Ae]||0,ye=Ke[Ae]||0,$e=De[Ae]||0;Ne=Xe+ye-$e,console.log(` ${Pe.displayName} (${Pe.name} -> ${Ae}): Opening=${Xe}, Produced=${ye}, Sent=${$e}, Stock=${Ne}`)}return{itemId:Pe.name,itemName:Pe.displayName,category:Pe.category,unit:Pe.unit,systemQuantity:Ne,actualQuantity:Ne,difference:0,adjustmentType:null,notes:""}});d(ot)}async function F(M,U,te){if(!M)return{chicken:0,chickenCheese:0,veg:0,cheeseCorn:0,paneer:0,vegKurkure:0,chickenKurkure:0};try{const me=te?"store":"production_house",[ge,Me]=U.split("-").map(Number);let Ke=ge,De=Me-1;De===0&&(De=12,Ke=ge-1);const ue=`${Ke}-${String(De).padStart(2,"0")}`;console.log(" fetchOpeningBalance - Location ID:",M),console.log(" fetchOpeningBalance - Location Type:",me),console.log(" fetchOpeningBalance - Current Month:",U),console.log(" fetchOpeningBalance - Looking for recalibration from:",ue);let xe=await vo(t.user?.accessToken||"",M,me);if(!xe?.record&&!te){console.log("   No recalibration found with UUID, checking with mapped store ID...");const Oe=t.stores?.filter(Y=>Y.productionHouseId===M)||[];console.log("   Stores mapped to this production house:",Oe.map(Y=>Y.id));for(const Y of Oe)if(console.log(`   Trying to fetch recalibration with store ID: ${Y.id}`),xe=await vo(t.user?.accessToken||"",Y.id,me),xe?.record){console.log(`    Found recalibration using store ID: ${Y.id}`);break}}if(xe?.record){const Oe=xe.record.date.substring(0,7);console.log(" Recalibration Response:",xe.record);const Y=xe.record.isOpeningBalance;if(console.log(" Recalibration date comparison:",{recalDate:Oe,currentMonth:U,previousMonthStr:ue,isOpeningBalance:Y,isCurrentMonth:Oe===U,isPreviousMonth:Oe===ue,isOlder:Oe<ue}),Oe===U&&(Y===!0||Y===void 0)||Oe===ue||Oe<ue){const Ie=Ae=>Ae.replace(/_([a-z])/g,Ne=>Ne[1].toUpperCase()),ot=Ae=>{const Ne=Ae.replace(/_momo(s)?$/i,"");return Ie(Ne)},Pe={};return Oe===U&&Y?(console.log(" Using current month opening balance recalibration (done on 1st)"),console.log("   Recalibration items:",xe.record.items)):Oe===ue?console.log(" Using previous month recalibration as opening balance"):console.log(" Using older recalibration as opening balance from:",Oe),xe.record.items.forEach(Ae=>{const Ne=ot(Ae.itemId);Pe[Ne]=Ae.actualQuantity,console.log(`   Opening balance mapping: ${Ae.itemId} -> ${Ne} = ${Ae.actualQuantity}`)}),console.log("   Parsed opening balance:",Pe),console.log(" Opening Balance Calculated:",Pe),Pe}}return console.log(" fetchOpeningBalance - No suitable recalibration found, calculating from transactions"),await I(M,U,te)}catch(me){return console.error("Error fetching opening balance:",me),{chicken:0,chickenCheese:0,veg:0,cheeseCorn:0,paneer:0,vegKurkure:0,chickenKurkure:0}}}async function I(M,U,te){const[me,ge]=U.split("-").map(Number);let Me=me,Ke=ge-1;Ke===0&&(Ke=12,Me=me-1);const De=`${Me}-${String(Ke).padStart(2,"0")}`;if(console.log(" calculatePreviousMonthStock - Previous Month:",De),console.log(" calculatePreviousMonthStock - Is Store:",te),te){const ue=(t.productionRequests||[]).filter(Y=>{if(Y.status!=="delivered"||Y.storeId!==M)return!1;const je=Y.deliveredDate||Y.requestDate||Y.createdAt;return je&&je.startsWith(De)}).reduce((Y,je)=>({chicken:Y.chicken+(je.chickenMomos||0),chickenCheese:Y.chickenCheese+(je.chickenCheeseMomos||0),veg:Y.veg+(je.vegMomos||0),cheeseCorn:Y.cheeseCorn+(je.cheeseCornMomos||0),paneer:Y.paneer+(je.paneerMomos||0),vegKurkure:Y.vegKurkure+(je.vegKurkureMomos||0),chickenKurkure:Y.chickenKurkure+(je.chickenKurkureMomos||0)}),{chicken:0,chickenCheese:0,veg:0,cheeseCorn:0,paneer:0,vegKurkure:0,chickenKurkure:0});console.log(" calculatePreviousMonthStock - Previous Received:",ue),console.log(" calculatePreviousMonthStock - Context categorySalesData length:",(t.categorySalesData||[]).length);const xe=(t.categorySalesData||[]).filter(Y=>Y.storeId!==M?!1:Y.date&&Y.date.startsWith(De)).reduce((Y,je)=>({chicken:Y.chicken+(je.data["Chicken Momos"]||0),chickenCheese:Y.chickenCheese+(je.data["Chicken Cheese Momos"]||0),veg:Y.veg+(je.data["Veg Momos"]||0),cheeseCorn:Y.cheeseCorn+(je.data["Corn Cheese Momos"]||0),paneer:Y.paneer+(je.data["Paneer Momos"]||0),vegKurkure:Y.vegKurkure+(je.data["Veg Kurkure Momos"]||0),chickenKurkure:Y.chickenKurkure+(je.data["Chicken Kurkure Momos"]||0)}),{chicken:0,chickenCheese:0,veg:0,cheeseCorn:0,paneer:0,vegKurkure:0,chickenKurkure:0});console.log(" calculatePreviousMonthStock - Previous Sold:",xe);const Oe={chicken:ue.chicken-xe.chicken,chickenCheese:ue.chickenCheese-xe.chickenCheese,veg:ue.veg-xe.veg,cheeseCorn:ue.cheeseCorn-xe.cheeseCorn,paneer:ue.paneer-xe.paneer,vegKurkure:ue.vegKurkure-xe.vegKurkure,chickenKurkure:ue.chickenKurkure-xe.chickenKurkure};return console.log(" calculatePreviousMonthStock - Calculated Closing Stock:",Oe),Oe}else{const xe=(t.productionData||[]).filter(je=>je.date.startsWith(De)?je.storeId===M||je.productionHouseId===M:!1).reduce((je,Ie)=>({chicken:je.chicken+(Ie.chickenMomos?.final||0),chickenCheese:je.chickenCheese+(Ie.chickenCheeseMomos?.final||0),veg:je.veg+(Ie.vegMomos?.final||0),cheeseCorn:je.cheeseCorn+(Ie.cheeseCornMomos?.final||0),paneer:je.paneer+(Ie.paneerMomos?.final||0),vegKurkure:je.vegKurkure+(Ie.vegKurkureMomos?.final||0),chickenKurkure:je.chickenKurkure+(Ie.chickenKurkureMomos?.final||0)}),{chicken:0,chickenCheese:0,veg:0,cheeseCorn:0,paneer:0,vegKurkure:0,chickenKurkure:0}),Oe=(t.productionRequests||[]).filter(je=>{if(je.status!=="delivered")return!1;const Ie=je.deliveredDate||je.requestDate||je.createdAt;if(!Ie||!Ie.startsWith(De))return!1;const ot=t.stores?.find(Pe=>Pe.id===je.storeId);return ot?.productionHouseId===M||ot?.productionHouseId===S}).reduce((je,Ie)=>({chicken:je.chicken+(Ie.chickenMomos||0),chickenCheese:je.chickenCheese+(Ie.chickenCheeseMomos||0),veg:je.veg+(Ie.veg||0),cheeseCorn:je.cheeseCorn+(Ie.cheeseCorn||0),paneer:je.paneer+(Ie.paneerMomos||0),vegKurkure:je.vegKurkure+(Ie.vegKurkureMomos||0),chickenKurkure:je.chickenKurkure+(Ie.chickenKurkureMomos||0)}),{chicken:0,chickenCheese:0,veg:0,cheeseCorn:0,paneer:0,vegKurkure:0,chickenKurkure:0}),Y={chicken:xe.chicken-xe.chickenKurkure,chickenCheese:xe.chickenCheese,veg:xe.veg-xe.vegKurkure,cheeseCorn:xe.cheeseCorn,paneer:xe.paneer,vegKurkure:xe.vegKurkure,chickenKurkure:xe.chickenKurkure};return{chicken:Y.chicken-Oe.chicken,chickenCheese:Y.chickenCheese-Oe.chickenCheese,veg:Y.veg-Oe.veg,cheeseCorn:Y.cheeseCorn-Oe.cheeseCorn,paneer:Y.paneer-Oe.paneer,vegKurkure:Y.vegKurkure-Oe.vegKurkure,chickenKurkure:Y.chickenKurkure-Oe.chickenKurkure}}}async function q(){try{const M=S;if(!M)return;const U=a?"production_house":"store",te=await vo(t.user?.accessToken||"",M,U);te.lastRecalibration&&j(te.lastRecalibration)}catch(M){console.error("Error checking last recalibration:",M)}}function K(M,U){const te=parseFloat(U)||0;d(u.map(me=>{if(me.itemId===M){const ge=te-me.systemQuantity;return{...me,actualQuantity:te,difference:ge,adjustmentType:ge===0?null:me.adjustmentType}}return me}))}function W(M,U){d(u.map(te=>te.itemId===M?{...te,adjustmentType:U}:te))}function J(M,U){d(u.map(te=>te.itemId===M?{...te,notes:U}:te))}async function re(){if(u.filter(U=>U.difference!==0&&!U.adjustmentType).length>0){b("Please select adjustment type (Wastage or Counting Error) for all items with differences");return}try{g(!0),b(null),console.log(` Submitting recalibration:
        - locationId: ${E}
        - locationType: ${a?"production_house":"store"}
        - locationName: ${A}
        - isProductionHouse: ${a}`);const U={locationId:E,locationType:a?"production_house":"store",locationName:A,items:u.map(te=>({itemId:te.itemId,itemName:te.itemName,category:te.category,unit:te.unit,systemQuantity:te.systemQuantity,actualQuantity:te.actualQuantity,difference:te.difference,adjustmentType:te.adjustmentType,notes:te.notes}))};await KT(t.user?.accessToken||"",U),k(!0),setTimeout(()=>{r(),n&&n()},2e3)}catch(U){console.error("Error submitting recalibration:",U),b(U instanceof Error?U.message:"Failed to submit recalibration")}finally{g(!1)}}const G=u.length,oe=u.filter(M=>M.difference!==0).length,Z=u.filter(M=>M.adjustmentType==="wastage"&&M.difference<0).reduce((M,U)=>M+Math.abs(U.difference),0);return h?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-2xl p-8 max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Os,{className:"w-6 h-6 animate-spin text-purple-600"}),s.jsx("span",{className:"text-gray-700",children:"Loading inventory data..."})]})})}):N?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-2xl p-8 max-w-md",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(ir,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-xl text-gray-900",children:"Recalibration Submitted!"}),s.jsx("p",{className:"text-gray-600 text-center",children:"Your recalibration has been submitted for approval."}),s.jsx("p",{className:"text-sm text-gray-500 text-center",children:"A manager or cluster head will review and approve it."})]})})}):s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full my-8",children:[s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-purple-600 via-pink-500 to-purple-600 p-6 rounded-t-2xl",children:[s.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center border-2 border-white/30",children:s.jsx(Kr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl text-white",children:"Monthly Stock Recalibration"}),s.jsxs("p",{className:"text-white/80 text-sm",children:[A||P?.name," - ",T]})]})]}),s.jsx("button",{onClick:r,className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center border-2 border-white/30 hover:bg-white/30 transition-all",children:s.jsx(aa,{className:"w-6 h-6 text-white"})})]})]}),s.jsxs("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border-2 border-purple-200",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Items"}),s.jsx("div",{className:"text-2xl text-purple-600",children:G})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border-2 border-orange-200",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Items with Difference"}),s.jsx("div",{className:"text-2xl text-orange-600",children:oe})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border-2 border-red-200",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Wastage"}),s.jsx("div",{className:"text-2xl text-red-600",children:Z.toFixed(2)})]})]}),v&&s.jsxs("div",{className:"mt-4 bg-blue-50 border-2 border-blue-200 rounded-xl p-3 flex items-start gap-3",children:[s.jsx(Jd,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm text-blue-900 font-medium mb-1",children:"Last recalibration was performed on:"}),s.jsx("div",{className:"text-sm text-blue-700",children:OL(v,!0)}),s.jsxs("div",{className:"text-xs text-blue-600 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"inline-block w-2 h-2 bg-blue-500 rounded-full"}),"Timezone: Indian Standard Time (GMT+5:30)"]})]})]}),s.jsxs("div",{className:"mt-4 bg-green-50 border-2 border-green-200 rounded-xl p-3 flex items-start gap-3",children:[s.jsx(ir,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"text-sm text-green-900",children:"Stock recalibration is now enabled for the entire month. Operations Managers and Cluster Heads will be notified when you submit a recalibration."})]})]}),s.jsx("div",{className:"p-6 max-h-[500px] overflow-y-auto",children:s.jsx("div",{className:"space-y-4",children:u.map((M,U)=>s.jsxs("div",{className:`bg-gradient-to-r ${M.difference!==0?"from-red-50 to-orange-50 border-red-200":"from-gray-50 to-gray-100 border-gray-200"} border-2 rounded-xl p-4`,children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-start",children:[s.jsxs("div",{className:"md:col-span-3",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Item ",U+1]}),s.jsx("div",{className:"text-gray-900",children:M.itemName}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[M.category.replace(/_/g," "),"  ",M.unit]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Current Stock"}),s.jsxs("div",{className:"text-gray-900",children:[M.systemQuantity," ",M.unit]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Actual Count"}),s.jsx("input",{type:"number",step:"0.01",value:M.actualQuantity,onChange:te=>K(M.itemId,te.target.value),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter count"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Difference"}),s.jsxs("div",{className:`text-lg ${M.difference>0?"text-green-600":M.difference<0?"text-red-600":"text-gray-600"}`,children:[M.difference>0?"+":"",M.difference.toFixed(2)]})]}),s.jsx("div",{className:"md:col-span-3",children:M.difference!==0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Adjustment Type *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>W(M.itemId,"wastage"),className:`px-3 py-1.5 rounded-lg text-sm border-2 transition-all ${M.adjustmentType==="wastage"?"bg-red-600 text-white border-red-600":"bg-white text-gray-700 border-gray-300 hover:border-red-400"}`,children:"Wastage"}),s.jsx("button",{onClick:()=>W(M.itemId,"counting_error"),className:`px-3 py-1.5 rounded-lg text-sm border-2 transition-all ${M.adjustmentType==="counting_error"?"bg-orange-600 text-white border-orange-600":"bg-white text-gray-700 border-gray-300 hover:border-orange-400"}`,children:"Counting Error"})]})]})})]}),M.difference!==0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Notes (Optional)"}),s.jsx("input",{type:"text",value:M.notes,onChange:te=>J(M.itemId,te.target.value),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Add any additional notes..."})]})]},M.itemId))})}),w&&s.jsx("div",{className:"px-6 pb-4",children:s.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-3 flex items-start gap-3",children:[s.jsx(Jd,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"text-sm text-red-900",children:w})]})}),s.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-2xl border-t-2 border-gray-200 flex justify-between items-center",children:[s.jsx("button",{onClick:r,className:"px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all",children:"Cancel"}),s.jsx("button",{onClick:re,disabled:p,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-500 text-white rounded-xl hover:from-purple-700 hover:to-pink-600 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Os,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ao,{className:"w-5 h-5"}),"Save Recalibration"]})})]})]})})}function s_({context:t,selectedStoreId:e}){const[r,n]=$.useState(new Date().toISOString().split("T")[0]),[a,i]=$.useState(!1),l=e||t.user?.storeId,u=t.inventory.filter(N=>{const k=N.date===r,S=l?N.storeId===l:!0;return k&&S}),d=t.overheads.filter(N=>{const k=N.date===r,S=l?N.storeId===l:!0;return k&&S}),h=t.fixedCosts.filter(N=>{const k=N.date===r,S=l?N.storeId===l:!0;return k&&S}),m=u.reduce((N,k)=>N+k.totalCost,0),p=d.reduce((N,k)=>N+k.amount,0),g=h.reduce((N,k)=>N+k.amount,0),v=u.reduce((N,k)=>(N[k.category]||(N[k.category]=[]),N[k.category].push(k),N),{}),j=d.reduce((N,k)=>(N[k.category]||(N[k.category]=[]),N[k.category].push(k),N),{}),w={fresh_produce:"Fresh Vegetables",spices_seasonings:"Grocery",dairy:"Dairy Products",meat:"Meat",packaging:"Packaging Materials",staff_essentials:"Staff Essentials",fuel:"Fuel",travel:"Travel",transportation:"Transportation",marketing:"Marketing",service_charge:"Service Charge",repair:"Repair & Maintenance",party:"Party Expenses",lunch:"Lunch",miscellaneous:"Miscellaneous",electricity:"Electricity",rent:"Rent"},b=t.user?.role==="cluster_head";return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(HR,{className:"w-6 h-6 text-blue-600"}),s.jsx("h1",{className:"text-2xl text-gray-900",children:"Inventory Overview"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-amber-50 border-2 border-amber-200 rounded-lg",children:[s.jsx(V0,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-sm text-amber-800",children:"View Only"})]})]}),s.jsx(QT,{selectedDate:r,onDateChange:n}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6 mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 shadow-lg shadow-blue-500/30",children:[s.jsx("p",{className:"text-sm text-blue-100 uppercase tracking-wide",children:"Inventory Cost"}),s.jsxs("p",{className:"text-white text-2xl mt-2",children:["",m.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 shadow-lg shadow-orange-500/30",children:[s.jsx("p",{className:"text-sm text-orange-100 uppercase tracking-wide",children:"Overhead Cost"}),s.jsxs("p",{className:"text-white text-2xl mt-2",children:["",p.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 shadow-lg shadow-green-500/30",children:[s.jsx("p",{className:"text-sm text-green-100 uppercase tracking-wide",children:"Fixed Cost"}),s.jsxs("p",{className:"text-white text-2xl mt-2",children:["",g.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 shadow-lg shadow-purple-500/30",children:[s.jsx("p",{className:"text-sm text-purple-100 uppercase tracking-wide",children:"Total Expenses"}),s.jsxs("p",{className:"text-white text-2xl mt-2",children:["",(m+p+g).toLocaleString()]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(fr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h2",{className:"text-xl text-gray-900",children:"Inventory Items"})]}),Object.keys(v).length>0?s.jsx("div",{className:"space-y-6",children:Object.entries(v).map(([N,k])=>s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsx("h3",{className:"text-lg text-gray-900 mb-3",children:w[N]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-500 uppercase tracking-wider",children:"Item Name"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-500 uppercase tracking-wider",children:"Quantity"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-500 uppercase tracking-wider",children:"Cost/Unit"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-500 uppercase tracking-wider",children:"Total Cost"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(S=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:S.itemName||s.jsx("span",{className:"text-red-600 italic",children:" Missing Name"})}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:[S.quantity," ",S.unit]}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:["",(S.costPerUnit||0).toFixed(2)]}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-gray-900",children:["",(S.totalCost||0).toLocaleString()]})]},S.id))})]})})]},N))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(fr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No inventory items for this date"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ir,{className:"w-5 h-5 text-orange-600"}),s.jsx("h2",{className:"text-xl text-gray-900",children:"Overhead Costs"})]}),Object.keys(j).length>0?s.jsx("div",{className:"space-y-6",children:Object.entries(j).map(([N,k])=>s.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[s.jsx("h3",{className:"text-lg text-gray-900 mb-3",children:w[N]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(S=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:S.description}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-gray-900",children:["",S.amount.toLocaleString()]})]},S.id))})]})})]},N))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ir,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No overhead costs for this date"})]})]}),h.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ws,{className:"w-5 h-5 text-green-600"}),s.jsx("h2",{className:"text-xl text-gray-900",children:"Fixed Costs"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(N=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:w[N.category]}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:N.description}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-gray-900",children:["",N.amount.toLocaleString()]})]},N.id))})]})})]}),b&&s.jsx("div",{className:"mt-6",children:s.jsxs("button",{className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",onClick:()=>i(!0),children:[s.jsx(Kr,{className:"w-5 h-5 mr-2"}),"Monthly Stock Recalibration"]})}),a&&s.jsx(DL,{context:t,selectedStoreId:l,onClose:()=>i(!1)}),s.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(V0,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm text-blue-800",children:b?"You are viewing inventory data in read-only mode. Only Operations Managers can add or edit inventory items.":"You are viewing inventory data in read-only mode. To add or modify inventory items, please contact your Operations Manager."})})]})})]})}function ZT(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=ZT(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function it(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=ZT(t))&&(n&&(n+=" "),n+=e);return n}var zm,i_;function rn(){if(i_)return zm;i_=1;var t=Array.isArray;return zm=t,zm}var Hm,o_;function eC(){if(o_)return Hm;o_=1;var t=typeof bd=="object"&&bd&&bd.Object===Object&&bd;return Hm=t,Hm}var Wm,l_;function ja(){if(l_)return Wm;l_=1;var t=eC(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Wm=r,Wm}var Km,c_;function du(){if(c_)return Km;c_=1;var t=ja(),e=t.Symbol;return Km=e,Km}var Vm,u_;function RL(){if(u_)return Vm;u_=1;var t=du(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(l){var u=r.call(l,a),d=l[a];try{l[a]=void 0;var h=!0}catch{}var m=n.call(l);return h&&(u?l[a]=d:delete l[a]),m}return Vm=i,Vm}var Gm,d_;function LL(){if(d_)return Gm;d_=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Gm=r,Gm}var Ym,h_;function Ya(){if(h_)return Ym;h_=1;var t=du(),e=RL(),r=LL(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function l(u){return u==null?u===void 0?a:n:i&&i in Object(u)?e(u):r(u)}return Ym=l,Ym}var Jm,f_;function Ja(){if(f_)return Jm;f_=1;function t(e){return e!=null&&typeof e=="object"}return Jm=t,Jm}var Xm,p_;function sl(){if(p_)return Xm;p_=1;var t=Ya(),e=Ja(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return Xm=n,Xm}var Qm,m_;function Bb(){if(m_)return Qm;m_=1;var t=rn(),e=sl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){if(t(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||l!=null&&i in Object(l)}return Qm=a,Qm}var Zm,g_;function Cs(){if(g_)return Zm;g_=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Zm=t,Zm}var eg,y_;function Ub(){if(y_)return eg;y_=1;var t=Ya(),e=Cs(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function l(u){if(!e(u))return!1;var d=t(u);return d==n||d==a||d==r||d==i}return eg=l,eg}var tg,v_;function FL(){if(v_)return tg;v_=1;var t=ja(),e=t["__core-js_shared__"];return tg=e,tg}var rg,x_;function qL(){if(x_)return rg;x_=1;var t=FL(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return rg=r,rg}var ng,b_;function tC(){if(b_)return ng;b_=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return ng=r,ng}var ag,w_;function BL(){if(w_)return ag;w_=1;var t=Ub(),e=qL(),r=Cs(),n=tC(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,h=u.hasOwnProperty,m=RegExp("^"+d.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||e(g))return!1;var v=t(g)?m:i;return v.test(n(g))}return ag=p,ag}var sg,j_;function UL(){if(j_)return sg;j_=1;function t(e,r){return e?.[r]}return sg=t,sg}var ig,N_;function Si(){if(N_)return ig;N_=1;var t=BL(),e=UL();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return ig=r,ig}var og,__;function uf(){if(__)return og;__=1;var t=Si(),e=t(Object,"create");return og=e,og}var lg,S_;function zL(){if(S_)return lg;S_=1;var t=uf();function e(){this.__data__=t?t(null):{},this.size=0}return lg=e,lg}var cg,k_;function HL(){if(k_)return cg;k_=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return cg=t,cg}var ug,O_;function WL(){if(O_)return ug;O_=1;var t=uf(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var l=this.__data__;if(t){var u=l[i];return u===e?void 0:u}return n.call(l,i)?l[i]:void 0}return ug=a,ug}var dg,E_;function KL(){if(E_)return dg;E_=1;var t=uf(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return dg=n,dg}var hg,A_;function VL(){if(A_)return hg;A_=1;var t=uf(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return hg=r,hg}var fg,P_;function GL(){if(P_)return fg;P_=1;var t=zL(),e=HL(),r=WL(),n=KL(),a=VL();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,fg=i,fg}var pg,T_;function YL(){if(T_)return pg;T_=1;function t(){this.__data__=[],this.size=0}return pg=t,pg}var mg,C_;function zb(){if(C_)return mg;C_=1;function t(e,r){return e===r||e!==e&&r!==r}return mg=t,mg}var gg,I_;function df(){if(I_)return gg;I_=1;var t=zb();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return gg=e,gg}var yg,$_;function JL(){if($_)return yg;$_=1;var t=df(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,l=t(i,a);if(l<0)return!1;var u=i.length-1;return l==u?i.pop():r.call(i,l,1),--this.size,!0}return yg=n,yg}var vg,M_;function XL(){if(M_)return vg;M_=1;var t=df();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return vg=e,vg}var xg,D_;function QL(){if(D_)return xg;D_=1;var t=df();function e(r){return t(this.__data__,r)>-1}return xg=e,xg}var bg,R_;function ZL(){if(R_)return bg;R_=1;var t=df();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return bg=e,bg}var wg,L_;function hf(){if(L_)return wg;L_=1;var t=YL(),e=JL(),r=XL(),n=QL(),a=ZL();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,wg=i,wg}var jg,F_;function Hb(){if(F_)return jg;F_=1;var t=Si(),e=ja(),r=t(e,"Map");return jg=r,jg}var Ng,q_;function eF(){if(q_)return Ng;q_=1;var t=GL(),e=hf(),r=Hb();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Ng=n,Ng}var _g,B_;function tF(){if(B_)return _g;B_=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return _g=t,_g}var Sg,U_;function ff(){if(U_)return Sg;U_=1;var t=tF();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Sg=e,Sg}var kg,z_;function rF(){if(z_)return kg;z_=1;var t=ff();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return kg=e,kg}var Og,H_;function nF(){if(H_)return Og;H_=1;var t=ff();function e(r){return t(this,r).get(r)}return Og=e,Og}var Eg,W_;function aF(){if(W_)return Eg;W_=1;var t=ff();function e(r){return t(this,r).has(r)}return Eg=e,Eg}var Ag,K_;function sF(){if(K_)return Ag;K_=1;var t=ff();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Ag=e,Ag}var Pg,V_;function Wb(){if(V_)return Pg;V_=1;var t=eF(),e=rF(),r=nF(),n=aF(),a=sF();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Pg=i,Pg}var Tg,G_;function rC(){if(G_)return Tg;G_=1;var t=Wb(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var l=arguments,u=a?a.apply(this,l):l[0],d=i.cache;if(d.has(u))return d.get(u);var h=n.apply(this,l);return i.cache=d.set(u,h)||d,h};return i.cache=new(r.Cache||t),i}return r.Cache=t,Tg=r,Tg}var Cg,Y_;function iF(){if(Y_)return Cg;Y_=1;var t=rC(),e=500;function r(n){var a=t(n,function(l){return i.size===e&&i.clear(),l}),i=a.cache;return a}return Cg=r,Cg}var Ig,J_;function oF(){if(J_)return Ig;J_=1;var t=iF(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(l,u,d,h){i.push(d?h.replace(r,"$1"):u||l)}),i});return Ig=n,Ig}var $g,X_;function Kb(){if(X_)return $g;X_=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return $g=t,$g}var Mg,Q_;function lF(){if(Q_)return Mg;Q_=1;var t=du(),e=Kb(),r=rn(),n=sl(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return e(u,l)+"";if(n(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Mg=l,Mg}var Dg,Z_;function nC(){if(Z_)return Dg;Z_=1;var t=lF();function e(r){return r==null?"":t(r)}return Dg=e,Dg}var Rg,eS;function aC(){if(eS)return Rg;eS=1;var t=rn(),e=Bb(),r=oF(),n=nC();function a(i,l){return t(i)?i:e(i,l)?[i]:r(n(i))}return Rg=a,Rg}var Lg,tS;function pf(){if(tS)return Lg;tS=1;var t=sl();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Lg=e,Lg}var Fg,rS;function Vb(){if(rS)return Fg;rS=1;var t=aC(),e=pf();function r(n,a){a=t(a,n);for(var i=0,l=a.length;n!=null&&i<l;)n=n[e(a[i++])];return i&&i==l?n:void 0}return Fg=r,Fg}var qg,nS;function sC(){if(nS)return qg;nS=1;var t=Vb();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return qg=e,qg}var cF=sC();const xn=St(cF);var Bg,aS;function uF(){if(aS)return Bg;aS=1;function t(e){return e==null}return Bg=t,Bg}var dF=uF();const at=St(dF);var Ug,sS;function hF(){if(sS)return Ug;sS=1;var t=Ya(),e=rn(),r=Ja(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return Ug=a,Ug}var fF=hF();const yi=St(fF);var pF=Ub();const nt=St(pF);var mF=Cs();const il=St(mF);var zg={exports:{}},xt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function gF(){if(iS)return xt;iS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var N=b.$$typeof;switch(N){case t:switch(b=b.type,b){case r:case a:case n:case h:case m:return b;default:switch(b=b&&b.$$typeof,b){case u:case l:case d:case g:case p:case i:return b;default:return N}}case e:return N}}}return xt.ContextConsumer=l,xt.ContextProvider=i,xt.Element=t,xt.ForwardRef=d,xt.Fragment=r,xt.Lazy=g,xt.Memo=p,xt.Portal=e,xt.Profiler=a,xt.StrictMode=n,xt.Suspense=h,xt.SuspenseList=m,xt.isAsyncMode=function(){return!1},xt.isConcurrentMode=function(){return!1},xt.isContextConsumer=function(b){return w(b)===l},xt.isContextProvider=function(b){return w(b)===i},xt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},xt.isForwardRef=function(b){return w(b)===d},xt.isFragment=function(b){return w(b)===r},xt.isLazy=function(b){return w(b)===g},xt.isMemo=function(b){return w(b)===p},xt.isPortal=function(b){return w(b)===e},xt.isProfiler=function(b){return w(b)===a},xt.isStrictMode=function(b){return w(b)===n},xt.isSuspense=function(b){return w(b)===h},xt.isSuspenseList=function(b){return w(b)===m},xt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===h||b===m||b===v||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===p||b.$$typeof===i||b.$$typeof===l||b.$$typeof===d||b.$$typeof===j||b.getModuleId!==void 0)},xt.typeOf=w,xt}var oS;function yF(){return oS||(oS=1,zg.exports=gF()),zg.exports}var vF=yF(),Hg,lS;function iC(){if(lS)return Hg;lS=1;var t=Ya(),e=Ja(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return Hg=n,Hg}var Wg,cS;function xF(){if(cS)return Wg;cS=1;var t=iC();function e(r){return t(r)&&r!=+r}return Wg=e,Wg}var bF=xF();const hu=St(bF);var wF=iC();const jF=St(wF);var zr=function(e){return e===0?0:e>0?1:-1},ci=function(e){return yi(e)&&e.indexOf("%")===e.length-1},Ee=function(e){return jF(e)&&!hu(e)},NF=function(e){return at(e)},lr=function(e){return Ee(e)||yi(e)},_F=0,ol=function(e){var r=++_F;return"".concat(e||"").concat(r)},Hr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&!yi(e))return n;var i;if(ci(e)){var l=e.indexOf("%");i=r*parseFloat(e.slice(0,l))/100}else i=+e;return hu(i)&&(i=n),a&&i>r&&(i=r),i},Ss=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},SF=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},mn=function(e,r){return Ee(e)&&Ee(r)?function(n){return e+n*(r-e)}:function(){return r}};function th(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):xn(n,e))===r})}var kF=function(e,r){return Ee(e)&&Ee(r)?e-r:yi(e)&&yi(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ko(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function cx(t){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(t)}var OF=["viewBox","children"],EF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uS=["points","pathLength"],Kg={svg:OF,polygon:uS,polyline:uS},Gb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rh=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if($.isValidElement(e)&&(n=e.props),!il(n))return null;var a={};return Object.keys(n).forEach(function(i){Gb.includes(i)&&(a[i]=r||function(l){return n[i](n,l)})}),a},AF=function(e,r,n){return function(a){return e(r,n,a),null}},vi=function(e,r,n){if(!il(e)||cx(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var l=e[i];Gb.includes(i)&&typeof l=="function"&&(a||(a={}),a[i]=AF(l,r,n))}),a},PF=["children"],TF=["children"];function dS(t,e){if(t==null)return{};var r=CF(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}var hS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ua=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},fS=null,Vg=null,Yb=function t(e){if(e===fS&&Array.isArray(Vg))return Vg;var r=[];return $.Children.forEach(e,function(n){at(n)||(vF.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Vg=r,fS=e,r};function bn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Ua(a)}):n=[Ua(e)],Yb(t).forEach(function(a){var i=xn(a,"type.displayName")||xn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function pn(t,e){var r=bn(t,e);return r&&r[0]}var pS=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Ee(n)||n<=0||!Ee(a)||a<=0)},IF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$F=function(e){return e&&e.type&&yi(e.type)&&IF.indexOf(e.type)>=0},MF=function(e){return e&&ux(e)==="object"&&"clipDot"in e},DF=function(e,r,n,a){var i,l=(i=Kg?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!nt(e)&&(a&&l.includes(r)||EF.includes(r))||n&&Gb.includes(r)},Je=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if($.isValidElement(e)&&(a=e.props),!il(a))return null;var i={};return Object.keys(a).forEach(function(l){var u;DF((u=a)===null||u===void 0?void 0:u[l],l,r,n)&&(i[l]=a[l])}),i},dx=function t(e,r){if(e===r)return!0;var n=$.Children.count(e);if(n!==$.Children.count(r))return!1;if(n===0)return!0;if(n===1)return mS(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],l=r[a];if(Array.isArray(i)||Array.isArray(l)){if(!t(i,l))return!1}else if(!mS(i,l))return!1}return!0},mS=function(e,r){if(at(e)&&at(r))return!0;if(!at(e)&&!at(r)){var n=e.props||{},a=n.children,i=dS(n,PF),l=r.props||{},u=l.children,d=dS(l,TF);return a&&u?ko(i,d)&&dx(a,u):!a&&!u?ko(i,d):!1}return!1},gS=function(e,r){var n=[],a={};return Yb(e).forEach(function(i,l){if($F(i))n.push(i);else if(i){var u=Ua(i.type),d=r[u]||{},h=d.handler,m=d.once;if(h&&(!m||!a[u])){var p=h(i,u,l);n.push(p),a[u]=!0}}}),n},RF=function(e){var r=e&&e.type;return r&&hS[r]?hS[r]:null},LF=function(e,r){return Yb(r).indexOf(e)},FF=["children","width","height","viewBox","className","style","title","desc"];function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hx.apply(this,arguments)}function qF(t,e){if(t==null)return{};var r=BF(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fx(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,l=t.style,u=t.title,d=t.desc,h=qF(t,FF),m=a||{width:r,height:n,x:0,y:0},p=it("recharts-surface",i);return z.createElement("svg",hx({},Je(h,!0,"svg"),{className:p,width:r,height:n,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),z.createElement("title",null,u),z.createElement("desc",null,d),e)}var UF=["children","className"];function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},px.apply(this,arguments)}function zF(t,e){if(t==null)return{};var r=HF(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var mt=z.forwardRef(function(t,e){var r=t.children,n=t.className,a=zF(t,UF),i=it("recharts-layer",n);return z.createElement("g",px({className:i},Je(a,!0),{ref:e}),r)}),sa=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},Gg,yS;function WF(){if(yS)return Gg;yS=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(i);++a<i;)l[a]=e[a+r];return l}return Gg=t,Gg}var Yg,vS;function KF(){if(vS)return Yg;vS=1;var t=WF();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return Yg=e,Yg}var Jg,xS;function oC(){if(xS)return Jg;xS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+t+a+i+"]");function d(h){return u.test(h)}return Jg=d,Jg}var Xg,bS;function VF(){if(bS)return Xg;bS=1;function t(e){return e.split("")}return Xg=t,Xg}var Qg,wS;function GF(){if(wS)return Qg;wS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",l="["+t+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+d+")",m="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",j=h+"?",w="["+i+"]?",b="(?:"+v+"(?:"+[m,p,g].join("|")+")"+w+j+")*",N=w+j+b,k="(?:"+[m+u+"?",u,p,g,l].join("|")+")",S=RegExp(d+"(?="+d+")|"+k+N,"g");function P(E){return E.match(S)||[]}return Qg=P,Qg}var Zg,jS;function YF(){if(jS)return Zg;jS=1;var t=VF(),e=oC(),r=GF();function n(a){return e(a)?r(a):t(a)}return Zg=n,Zg}var ey,NS;function JF(){if(NS)return ey;NS=1;var t=KF(),e=oC(),r=YF(),n=nC();function a(i){return function(l){l=n(l);var u=e(l)?r(l):void 0,d=u?u[0]:l.charAt(0),h=u?t(u,1).join(""):l.slice(1);return d[i]()+h}}return ey=a,ey}var ty,_S;function XF(){if(_S)return ty;_S=1;var t=JF(),e=t("toUpperCase");return ty=e,ty}var QF=XF();const mf=St(QF);function Ct(t){return function(){return t}}const lC=Math.cos,nh=Math.sin,ia=Math.sqrt,ah=Math.PI,gf=2*ah,mx=Math.PI,gx=2*mx,ni=1e-6,ZF=gx-ni;function cC(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function eq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cC;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class tq{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cC:eq(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,l){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,u=this._y1,d=n-e,h=a-r,m=l-e,p=u-r,g=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>ni)if(!(Math.abs(p*d-h*m)>ni)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-l,j=a-u,w=d*d+h*h,b=v*v+j*j,N=Math.sqrt(w),k=Math.sqrt(g),S=i*Math.tan((mx-Math.acos((w+g-b)/(2*N*k)))/2),P=S/k,E=S/N;Math.abs(P-1)>ni&&this._append`L${e+P*m},${r+P*p}`,this._append`A${i},${i},0,0,${+(p*v>m*j)},${this._x1=e+E*d},${this._y1=r+E*h}`}}arc(e,r,n,a,i,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),h=e+u,m=r+d,p=1^l,g=l?a-i:i-a;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>ni||Math.abs(this._y1-m)>ni)&&this._append`L${h},${m}`,n&&(g<0&&(g=g%gx+gx),g>ZF?this._append`A${n},${n},0,1,${p},${e-u},${r-d}A${n},${n},0,1,${p},${this._x1=h},${this._y1=m}`:g>ni&&this._append`A${n},${n},0,${+(g>=mx)},${p},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Jb(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new tq(e)}function Xb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function uC(t){this._context=t}uC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yf(t){return new uC(t)}function dC(t){return t[0]}function hC(t){return t[1]}function fC(t,e){var r=Ct(!0),n=null,a=yf,i=null,l=Jb(u);t=typeof t=="function"?t:t===void 0?dC:Ct(t),e=typeof e=="function"?e:e===void 0?hC:Ct(e);function u(d){var h,m=(d=Xb(d)).length,p,g=!1,v;for(n==null&&(i=a(v=l())),h=0;h<=m;++h)!(h<m&&r(p=d[h],h,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+t(p,h,d),+e(p,h,d));if(v)return i=null,v+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ct(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ct(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Ct(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),u):n},u}function Id(t,e,r){var n=null,a=Ct(!0),i=null,l=yf,u=null,d=Jb(h);t=typeof t=="function"?t:t===void 0?dC:Ct(+t),e=typeof e=="function"?e:Ct(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?hC:Ct(+r);function h(p){var g,v,j,w=(p=Xb(p)).length,b,N=!1,k,S=new Array(w),P=new Array(w);for(i==null&&(u=l(k=d())),g=0;g<=w;++g){if(!(g<w&&a(b=p[g],g,p))===N)if(N=!N)v=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=g-1;j>=v;--j)u.point(S[j],P[j]);u.lineEnd(),u.areaEnd()}N&&(S[g]=+t(b,g,p),P[g]=+e(b,g,p),u.point(n?+n(b,g,p):S[g],r?+r(b,g,p):P[g]))}if(k)return u=null,k+""||null}function m(){return fC().defined(a).curve(l).context(i)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),n=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),h):t},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ct(+p),h):n},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),r=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),h):e},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ct(+p),h):r},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(r)},h.lineX1=function(){return m().x(n).y(e)},h.defined=function(p){return arguments.length?(a=typeof p=="function"?p:Ct(!!p),h):a},h.curve=function(p){return arguments.length?(l=p,i!=null&&(u=l(i)),h):l},h.context=function(p){return arguments.length?(p==null?i=u=null:u=l(i=p),h):i},h}class pC{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function rq(t){return new pC(t,!0)}function nq(t){return new pC(t,!1)}const Qb={draw(t,e){const r=ia(e/ah);t.moveTo(r,0),t.arc(0,0,r,0,gf)}},aq={draw(t,e){const r=ia(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},mC=ia(1/3),sq=mC*2,iq={draw(t,e){const r=ia(e/sq),n=r*mC;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},oq={draw(t,e){const r=ia(e),n=-r/2;t.rect(n,n,r,r)}},lq=.8908130915292852,gC=nh(ah/10)/nh(7*ah/10),cq=nh(gf/10)*gC,uq=-lC(gf/10)*gC,dq={draw(t,e){const r=ia(e*lq),n=cq*r,a=uq*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const l=gf*i/5,u=lC(l),d=nh(l);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*a,d*n+u*a)}t.closePath()}},ry=ia(3),hq={draw(t,e){const r=-ia(e/(ry*3));t.moveTo(0,r*2),t.lineTo(-ry*r,-r),t.lineTo(ry*r,-r),t.closePath()}},Tn=-.5,Cn=ia(3)/2,yx=1/ia(12),fq=(yx/2+1)*3,pq={draw(t,e){const r=ia(e/fq),n=r/2,a=r*yx,i=n,l=r*yx+r,u=-i,d=l;t.moveTo(n,a),t.lineTo(i,l),t.lineTo(u,d),t.lineTo(Tn*n-Cn*a,Cn*n+Tn*a),t.lineTo(Tn*i-Cn*l,Cn*i+Tn*l),t.lineTo(Tn*u-Cn*d,Cn*u+Tn*d),t.lineTo(Tn*n+Cn*a,Tn*a-Cn*n),t.lineTo(Tn*i+Cn*l,Tn*l-Cn*i),t.lineTo(Tn*u+Cn*d,Tn*d-Cn*u),t.closePath()}};function mq(t,e){let r=null,n=Jb(a);t=typeof t=="function"?t:Ct(t||Qb),e=typeof e=="function"?e:Ct(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Ct(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Ct(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function sh(){}function ih(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function yC(t){this._context=t}yC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ih(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ih(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gq(t){return new yC(t)}function vC(t){this._context=t}vC.prototype={areaStart:sh,areaEnd:sh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ih(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yq(t){return new vC(t)}function xC(t){this._context=t}xC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ih(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vq(t){return new xC(t)}function bC(t){this._context=t}bC.prototype={areaStart:sh,areaEnd:sh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function xq(t){return new bC(t)}function SS(t){return t<0?-1:1}function kS(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),l=(r-t._y1)/(a||n<0&&-0),u=(i*a+l*n)/(n+a);return(SS(i)+SS(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(u))||0}function OS(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ny(t,e,r){var n=t._x0,a=t._y0,i=t._x1,l=t._y1,u=(i-n)/3;t._context.bezierCurveTo(n+u,a+u*e,i-u,l-u*r,i,l)}function oh(t){this._context=t}oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ny(this,this._t0,OS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ny(this,OS(this,r=kS(this,t,e)),r);break;default:ny(this,this._t0,r=kS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function wC(t){this._context=new jC(t)}(wC.prototype=Object.create(oh.prototype)).point=function(t,e){oh.prototype.point.call(this,e,t)};function jC(t){this._context=t}jC.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function bq(t){return new oh(t)}function wq(t){return new wC(t)}function NC(t){this._context=t}NC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=ES(t),a=ES(e),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ES(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,l[e]-=n*l[e-1];for(a[r-1]=l[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(l[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function jq(t){return new NC(t)}function vf(t,e){this._context=t,this._t=e}vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Nq(t){return new vf(t,.5)}function _q(t){return new vf(t,0)}function Sq(t){return new vf(t,1)}function To(t,e){if((l=t.length)>1)for(var r=1,n,a,i=t[e[0]],l,u=i.length;r<l;++r)for(a=i,i=t[e[r]],n=0;n<u;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function vx(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function kq(t,e){return t[e]}function Oq(t){const e=[];return e.key=t,e}function Eq(){var t=Ct([]),e=vx,r=To,n=kq;function a(i){var l=Array.from(t.apply(this,arguments),Oq),u,d=l.length,h=-1,m;for(const p of i)for(u=0,++h;u<d;++u)(l[u][h]=[0,+n(p,l[u].key,h,i)]).data=p;for(u=0,m=Xb(e(l));u<d;++u)l[m[u]].index=u;return r(l,m),l}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Ct(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ct(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?vx:typeof i=="function"?i:Ct(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??To,a):r},a}function Aq(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=t[r][a][1]||0;if(l)for(r=0;r<n;++r)t[r][a][1]/=l}To(t,e)}}function Pq(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var l=0,u=0;l<a;++l)u+=t[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}To(t,e)}}function Tq(t,e){if(!(!((l=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var u=0,d=0,h=0;u<l;++u){for(var m=t[e[u]],p=m[n][1]||0,g=m[n-1][1]||0,v=(p-g)/2,j=0;j<u;++j){var w=t[e[j]],b=w[n][1]||0,N=w[n-1][1]||0;v+=b-N}d+=p,h+=v*p}a[n-1][1]+=a[n-1][0]=r,d&&(r-=h/d)}a[n-1][1]+=a[n-1][0]=r,To(t,e)}}function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}var Cq=["type","size","sizeType"];function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xx.apply(this,arguments)}function AS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(r),!0).forEach(function(n){Iq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iq(t,e,r){return e=$q(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $q(t){var e=Mq(t,"string");return kc(e)=="symbol"?e:e+""}function Mq(t,e){if(kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dq(t,e){if(t==null)return{};var r=Rq(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _C={symbolCircle:Qb,symbolCross:aq,symbolDiamond:iq,symbolSquare:oq,symbolStar:dq,symbolTriangle:hq,symbolWye:pq},Lq=Math.PI/180,Fq=function(e){var r="symbol".concat(mf(e));return _C[r]||Qb},qq=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Lq;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Bq=function(e,r){_C["symbol".concat(mf(e))]=r},Zb=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,l=e.sizeType,u=l===void 0?"area":l,d=Dq(e,Cq),h=PS(PS({},d),{},{type:n,size:i,sizeType:u}),m=function(){var b=Fq(n),N=mq().type(b).size(qq(i,u,n));return N()},p=h.className,g=h.cx,v=h.cy,j=Je(h,!0);return g===+g&&v===+v&&i===+i?z.createElement("path",xx({},j,{className:it("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(v,")"),d:m()})):null};Zb.registerSymbol=Bq;function Co(t){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(t)}function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bx.apply(this,arguments)}function TS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Uq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(r),!0).forEach(function(n){Oc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kC(n.key),n)}}function Wq(t,e,r){return e&&Hq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kq(t,e,r){return e=lh(e),Vq(t,SC()?Reflect.construct(e,r||[],lh(t).constructor):e.apply(t,r))}function Vq(t,e){if(e&&(Co(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gq(t)}function Gq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SC=function(){return!!t})()}function lh(t){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lh(t)}function Yq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wx(t,e)}function wx(t,e){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wx(t,e)}function Oc(t,e,r){return e=kC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kC(t){var e=Jq(t,"string");return Co(e)=="symbol"?e:e+""}function Jq(t,e){if(Co(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var In=32,ew=(function(t){function e(){return zq(this,e),Kq(this,e,arguments)}return Yq(e,t),Wq(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=In/2,l=In/6,u=In/3,d=n.inactive?a:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:In,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(In,"M").concat(2*u,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(In/8,"h").concat(In,"v").concat(In*3/4,"h").concat(-In,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var h=Uq({},n);return delete h.legendIcon,z.cloneElement(n.legendIcon,h)}return z.createElement(Zb,{fill:d,cx:i,cy:i,size:In,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,l=a.iconSize,u=a.layout,d=a.formatter,h=a.inactiveColor,m={x:0,y:0,width:In,height:In},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(v,j){var w=v.formatter||d,b=it(Oc(Oc({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",v.inactive));if(v.type==="none")return null;var N=nt(v.value)?null:v.value;sa(!nt(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=v.inactive?h:v.color;return z.createElement("li",bx({className:b,style:p,key:"legend-item-".concat(j)},vi(n.props,v,j)),z.createElement(fx,{width:l,height:l,viewBox:m,style:g},n.renderIcon(v)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w?w(N,v,j):N))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,l=n.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})($.PureComponent);Oc(ew,"displayName","Legend");Oc(ew,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ay,CS;function Xq(){if(CS)return ay;CS=1;var t=hf();function e(){this.__data__=new t,this.size=0}return ay=e,ay}var sy,IS;function Qq(){if(IS)return sy;IS=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return sy=t,sy}var iy,$S;function Zq(){if($S)return iy;$S=1;function t(e){return this.__data__.get(e)}return iy=t,iy}var oy,MS;function eB(){if(MS)return oy;MS=1;function t(e){return this.__data__.has(e)}return oy=t,oy}var ly,DS;function tB(){if(DS)return ly;DS=1;var t=hf(),e=Hb(),r=Wb(),n=200;function a(i,l){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([i,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(i,l),this.size=u.size,this}return ly=a,ly}var cy,RS;function OC(){if(RS)return cy;RS=1;var t=hf(),e=Xq(),r=Qq(),n=Zq(),a=eB(),i=tB();function l(u){var d=this.__data__=new t(u);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=a,l.prototype.set=i,cy=l,cy}var uy,LS;function rB(){if(LS)return uy;LS=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return uy=e,uy}var dy,FS;function nB(){if(FS)return dy;FS=1;function t(e){return this.__data__.has(e)}return dy=t,dy}var hy,qS;function EC(){if(qS)return hy;qS=1;var t=Wb(),e=rB(),r=nB();function n(a){var i=-1,l=a==null?0:a.length;for(this.__data__=new t;++i<l;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,hy=n,hy}var fy,BS;function AC(){if(BS)return fy;BS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return fy=t,fy}var py,US;function PC(){if(US)return py;US=1;function t(e,r){return e.has(r)}return py=t,py}var my,zS;function TC(){if(zS)return my;zS=1;var t=EC(),e=AC(),r=PC(),n=1,a=2;function i(l,u,d,h,m,p){var g=d&n,v=l.length,j=u.length;if(v!=j&&!(g&&j>v))return!1;var w=p.get(l),b=p.get(u);if(w&&b)return w==u&&b==l;var N=-1,k=!0,S=d&a?new t:void 0;for(p.set(l,u),p.set(u,l);++N<v;){var P=l[N],E=u[N];if(h)var O=g?h(E,P,N,u,l,p):h(P,E,N,l,u,p);if(O!==void 0){if(O)continue;k=!1;break}if(S){if(!e(u,function(A,T){if(!r(S,T)&&(P===A||m(P,A,d,h,p)))return S.push(T)})){k=!1;break}}else if(!(P===E||m(P,E,d,h,p))){k=!1;break}}return p.delete(l),p.delete(u),k}return my=i,my}var gy,HS;function aB(){if(HS)return gy;HS=1;var t=ja(),e=t.Uint8Array;return gy=e,gy}var yy,WS;function sB(){if(WS)return yy;WS=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return yy=t,yy}var vy,KS;function tw(){if(KS)return vy;KS=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return vy=t,vy}var xy,VS;function iB(){if(VS)return xy;VS=1;var t=du(),e=aB(),r=zb(),n=TC(),a=sB(),i=tw(),l=1,u=2,d="[object Boolean]",h="[object Date]",m="[object Error]",p="[object Map]",g="[object Number]",v="[object RegExp]",j="[object Set]",w="[object String]",b="[object Symbol]",N="[object ArrayBuffer]",k="[object DataView]",S=t?t.prototype:void 0,P=S?S.valueOf:void 0;function E(O,A,T,R,D,F,I){switch(T){case k:if(O.byteLength!=A.byteLength||O.byteOffset!=A.byteOffset)return!1;O=O.buffer,A=A.buffer;case N:return!(O.byteLength!=A.byteLength||!F(new e(O),new e(A)));case d:case h:case g:return r(+O,+A);case m:return O.name==A.name&&O.message==A.message;case v:case w:return O==A+"";case p:var q=a;case j:var K=R&l;if(q||(q=i),O.size!=A.size&&!K)return!1;var W=I.get(O);if(W)return W==A;R|=u,I.set(O,A);var J=n(q(O),q(A),R,D,F,I);return I.delete(O),J;case b:if(P)return P.call(O)==P.call(A)}return!1}return xy=E,xy}var by,GS;function CC(){if(GS)return by;GS=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return by=t,by}var wy,YS;function oB(){if(YS)return wy;YS=1;var t=CC(),e=rn();function r(n,a,i){var l=a(n);return e(n)?l:t(l,i(n))}return wy=r,wy}var jy,JS;function lB(){if(JS)return jy;JS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,l=[];++n<a;){var u=e[n];r(u,n,e)&&(l[i++]=u)}return l}return jy=t,jy}var Ny,XS;function cB(){if(XS)return Ny;XS=1;function t(){return[]}return Ny=t,Ny}var _y,QS;function uB(){if(QS)return _y;QS=1;var t=lB(),e=cB(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(l){return l==null?[]:(l=Object(l),t(a(l),function(u){return n.call(l,u)}))}:e;return _y=i,_y}var Sy,ZS;function dB(){if(ZS)return Sy;ZS=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return Sy=t,Sy}var ky,ek;function hB(){if(ek)return ky;ek=1;var t=Ya(),e=Ja(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return ky=n,ky}var Oy,tk;function rw(){if(tk)return Oy;tk=1;var t=hB(),e=Ja(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(l){return e(l)&&n.call(l,"callee")&&!a.call(l,"callee")};return Oy=i,Oy}var sc={exports:{}},Ey,rk;function fB(){if(rk)return Ey;rk=1;function t(){return!1}return Ey=t,Ey}sc.exports;var nk;function IC(){return nk||(nk=1,(function(t,e){var r=ja(),n=fB(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||n;t.exports=h})(sc,sc.exports)),sc.exports}var Ay,ak;function nw(){if(ak)return Ay;ak=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return Ay=r,Ay}var Py,sk;function aw(){if(sk)return Py;sk=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Py=e,Py}var Ty,ik;function pB(){if(ik)return Ty;ik=1;var t=Ya(),e=aw(),r=Ja(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",m="[object Number]",p="[object Object]",g="[object RegExp]",v="[object Set]",j="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",N="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",P="[object Int8Array]",E="[object Int16Array]",O="[object Int32Array]",A="[object Uint8Array]",T="[object Uint8ClampedArray]",R="[object Uint16Array]",D="[object Uint32Array]",F={};F[k]=F[S]=F[P]=F[E]=F[O]=F[A]=F[T]=F[R]=F[D]=!0,F[n]=F[a]=F[b]=F[i]=F[N]=F[l]=F[u]=F[d]=F[h]=F[m]=F[p]=F[g]=F[v]=F[j]=F[w]=!1;function I(q){return r(q)&&e(q.length)&&!!F[t(q)]}return Ty=I,Ty}var Cy,ok;function $C(){if(ok)return Cy;ok=1;function t(e){return function(r){return e(r)}}return Cy=t,Cy}var ic={exports:{}};ic.exports;var lk;function mB(){return lk||(lk=1,(function(t,e){var r=eC(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,l=i&&r.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();t.exports=u})(ic,ic.exports)),ic.exports}var Iy,ck;function MC(){if(ck)return Iy;ck=1;var t=pB(),e=$C(),r=mB(),n=r&&r.isTypedArray,a=n?e(n):t;return Iy=a,Iy}var $y,uk;function gB(){if(uk)return $y;uk=1;var t=dB(),e=rw(),r=rn(),n=IC(),a=nw(),i=MC(),l=Object.prototype,u=l.hasOwnProperty;function d(h,m){var p=r(h),g=!p&&e(h),v=!p&&!g&&n(h),j=!p&&!g&&!v&&i(h),w=p||g||v||j,b=w?t(h.length,String):[],N=b.length;for(var k in h)(m||u.call(h,k))&&!(w&&(k=="length"||v&&(k=="offset"||k=="parent")||j&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||a(k,N)))&&b.push(k);return b}return $y=d,$y}var My,dk;function yB(){if(dk)return My;dk=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return My=e,My}var Dy,hk;function DC(){if(hk)return Dy;hk=1;function t(e,r){return function(n){return e(r(n))}}return Dy=t,Dy}var Ry,fk;function vB(){if(fk)return Ry;fk=1;var t=DC(),e=t(Object.keys,Object);return Ry=e,Ry}var Ly,pk;function xB(){if(pk)return Ly;pk=1;var t=yB(),e=vB(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var l=[];for(var u in Object(i))n.call(i,u)&&u!="constructor"&&l.push(u);return l}return Ly=a,Ly}var Fy,mk;function fu(){if(mk)return Fy;mk=1;var t=Ub(),e=aw();function r(n){return n!=null&&e(n.length)&&!t(n)}return Fy=r,Fy}var qy,gk;function xf(){if(gk)return qy;gk=1;var t=gB(),e=xB(),r=fu();function n(a){return r(a)?t(a):e(a)}return qy=n,qy}var By,yk;function bB(){if(yk)return By;yk=1;var t=oB(),e=uB(),r=xf();function n(a){return t(a,r,e)}return By=n,By}var Uy,vk;function wB(){if(vk)return Uy;vk=1;var t=bB(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,l,u,d,h,m){var p=u&e,g=t(i),v=g.length,j=t(l),w=j.length;if(v!=w&&!p)return!1;for(var b=v;b--;){var N=g[b];if(!(p?N in l:n.call(l,N)))return!1}var k=m.get(i),S=m.get(l);if(k&&S)return k==l&&S==i;var P=!0;m.set(i,l),m.set(l,i);for(var E=p;++b<v;){N=g[b];var O=i[N],A=l[N];if(d)var T=p?d(A,O,N,l,i,m):d(O,A,N,i,l,m);if(!(T===void 0?O===A||h(O,A,u,d,m):T)){P=!1;break}E||(E=N=="constructor")}if(P&&!E){var R=i.constructor,D=l.constructor;R!=D&&"constructor"in i&&"constructor"in l&&!(typeof R=="function"&&R instanceof R&&typeof D=="function"&&D instanceof D)&&(P=!1)}return m.delete(i),m.delete(l),P}return Uy=a,Uy}var zy,xk;function jB(){if(xk)return zy;xk=1;var t=Si(),e=ja(),r=t(e,"DataView");return zy=r,zy}var Hy,bk;function NB(){if(bk)return Hy;bk=1;var t=Si(),e=ja(),r=t(e,"Promise");return Hy=r,Hy}var Wy,wk;function RC(){if(wk)return Wy;wk=1;var t=Si(),e=ja(),r=t(e,"Set");return Wy=r,Wy}var Ky,jk;function _B(){if(jk)return Ky;jk=1;var t=Si(),e=ja(),r=t(e,"WeakMap");return Ky=r,Ky}var Vy,Nk;function SB(){if(Nk)return Vy;Nk=1;var t=jB(),e=Hb(),r=NB(),n=RC(),a=_B(),i=Ya(),l=tC(),u="[object Map]",d="[object Object]",h="[object Promise]",m="[object Set]",p="[object WeakMap]",g="[object DataView]",v=l(t),j=l(e),w=l(r),b=l(n),N=l(a),k=i;return(t&&k(new t(new ArrayBuffer(1)))!=g||e&&k(new e)!=u||r&&k(r.resolve())!=h||n&&k(new n)!=m||a&&k(new a)!=p)&&(k=function(S){var P=i(S),E=P==d?S.constructor:void 0,O=E?l(E):"";if(O)switch(O){case v:return g;case j:return u;case w:return h;case b:return m;case N:return p}return P}),Vy=k,Vy}var Gy,_k;function kB(){if(_k)return Gy;_k=1;var t=OC(),e=TC(),r=iB(),n=wB(),a=SB(),i=rn(),l=IC(),u=MC(),d=1,h="[object Arguments]",m="[object Array]",p="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function j(w,b,N,k,S,P){var E=i(w),O=i(b),A=E?m:a(w),T=O?m:a(b);A=A==h?p:A,T=T==h?p:T;var R=A==p,D=T==p,F=A==T;if(F&&l(w)){if(!l(b))return!1;E=!0,R=!1}if(F&&!R)return P||(P=new t),E||u(w)?e(w,b,N,k,S,P):r(w,b,A,N,k,S,P);if(!(N&d)){var I=R&&v.call(w,"__wrapped__"),q=D&&v.call(b,"__wrapped__");if(I||q){var K=I?w.value():w,W=q?b.value():b;return P||(P=new t),S(K,W,N,k,P)}}return F?(P||(P=new t),n(w,b,N,k,S,P)):!1}return Gy=j,Gy}var Yy,Sk;function sw(){if(Sk)return Yy;Sk=1;var t=kB(),e=Ja();function r(n,a,i,l,u){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,l,r,u)}return Yy=r,Yy}var Jy,kk;function OB(){if(kk)return Jy;kk=1;var t=OC(),e=sw(),r=1,n=2;function a(i,l,u,d){var h=u.length,m=h,p=!d;if(i==null)return!m;for(i=Object(i);h--;){var g=u[h];if(p&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++h<m;){g=u[h];var v=g[0],j=i[v],w=g[1];if(p&&g[2]){if(j===void 0&&!(v in i))return!1}else{var b=new t;if(d)var N=d(j,w,v,i,l,b);if(!(N===void 0?e(w,j,r|n,d,b):N))return!1}}return!0}return Jy=a,Jy}var Xy,Ok;function LC(){if(Ok)return Xy;Ok=1;var t=Cs();function e(r){return r===r&&!t(r)}return Xy=e,Xy}var Qy,Ek;function EB(){if(Ek)return Qy;Ek=1;var t=LC(),e=xf();function r(n){for(var a=e(n),i=a.length;i--;){var l=a[i],u=n[l];a[i]=[l,u,t(u)]}return a}return Qy=r,Qy}var Zy,Ak;function FC(){if(Ak)return Zy;Ak=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Zy=t,Zy}var ev,Pk;function AB(){if(Pk)return ev;Pk=1;var t=OB(),e=EB(),r=FC();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(l){return l===a||t(l,a,i)}}return ev=n,ev}var tv,Tk;function PB(){if(Tk)return tv;Tk=1;function t(e,r){return e!=null&&r in Object(e)}return tv=t,tv}var rv,Ck;function TB(){if(Ck)return rv;Ck=1;var t=aC(),e=rw(),r=rn(),n=nw(),a=aw(),i=pf();function l(u,d,h){d=t(d,u);for(var m=-1,p=d.length,g=!1;++m<p;){var v=i(d[m]);if(!(g=u!=null&&h(u,v)))break;u=u[v]}return g||++m!=p?g:(p=u==null?0:u.length,!!p&&a(p)&&n(v,p)&&(r(u)||e(u)))}return rv=l,rv}var nv,Ik;function CB(){if(Ik)return nv;Ik=1;var t=PB(),e=TB();function r(n,a){return n!=null&&e(n,a,t)}return nv=r,nv}var av,$k;function IB(){if($k)return av;$k=1;var t=sw(),e=sC(),r=CB(),n=Bb(),a=LC(),i=FC(),l=pf(),u=1,d=2;function h(m,p){return n(m)&&a(p)?i(l(m),p):function(g){var v=e(g,m);return v===void 0&&v===p?r(g,m):t(p,v,u|d)}}return av=h,av}var sv,Mk;function ll(){if(Mk)return sv;Mk=1;function t(e){return e}return sv=t,sv}var iv,Dk;function $B(){if(Dk)return iv;Dk=1;function t(e){return function(r){return r?.[e]}}return iv=t,iv}var ov,Rk;function MB(){if(Rk)return ov;Rk=1;var t=Vb();function e(r){return function(n){return t(n,r)}}return ov=e,ov}var lv,Lk;function DB(){if(Lk)return lv;Lk=1;var t=$B(),e=MB(),r=Bb(),n=pf();function a(i){return r(i)?t(n(i)):e(i)}return lv=a,lv}var cv,Fk;function Na(){if(Fk)return cv;Fk=1;var t=AB(),e=IB(),r=ll(),n=rn(),a=DB();function i(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?e(l[0],l[1]):t(l):a(l)}return cv=i,cv}var uv,qk;function qC(){if(qk)return uv;qk=1;function t(e,r,n,a){for(var i=e.length,l=n+(a?1:-1);a?l--:++l<i;)if(r(e[l],l,e))return l;return-1}return uv=t,uv}var dv,Bk;function RB(){if(Bk)return dv;Bk=1;function t(e){return e!==e}return dv=t,dv}var hv,Uk;function LB(){if(Uk)return hv;Uk=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return hv=t,hv}var fv,zk;function FB(){if(zk)return fv;zk=1;var t=qC(),e=RB(),r=LB();function n(a,i,l){return i===i?r(a,i,l):t(a,e,l)}return fv=n,fv}var pv,Hk;function qB(){if(Hk)return pv;Hk=1;var t=FB();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return pv=e,pv}var mv,Wk;function BB(){if(Wk)return mv;Wk=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return mv=t,mv}var gv,Kk;function UB(){if(Kk)return gv;Kk=1;function t(){}return gv=t,gv}var yv,Vk;function zB(){if(Vk)return yv;Vk=1;var t=RC(),e=UB(),r=tw(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return yv=a,yv}var vv,Gk;function HB(){if(Gk)return vv;Gk=1;var t=EC(),e=qB(),r=BB(),n=PC(),a=zB(),i=tw(),l=200;function u(d,h,m){var p=-1,g=e,v=d.length,j=!0,w=[],b=w;if(m)j=!1,g=r;else if(v>=l){var N=h?null:a(d);if(N)return i(N);j=!1,g=n,b=new t}else b=h?[]:w;e:for(;++p<v;){var k=d[p],S=h?h(k):k;if(k=m||k!==0?k:0,j&&S===S){for(var P=b.length;P--;)if(b[P]===S)continue e;h&&b.push(S),w.push(k)}else g(b,S,m)||(b!==w&&b.push(S),w.push(k))}return w}return vv=u,vv}var xv,Yk;function WB(){if(Yk)return xv;Yk=1;var t=Na(),e=HB();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return xv=r,xv}var KB=WB();const Jk=St(KB);function BC(t,e,r){return e===!0?Jk(t,r):nt(e)?Jk(t,e):t}function Io(t){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(t)}var VB=["ref"];function Xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(r),!0).forEach(function(n){bf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zC(n.key),n)}}function YB(t,e,r){return e&&Qk(t.prototype,e),r&&Qk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JB(t,e,r){return e=ch(e),XB(t,UC()?Reflect.construct(e,r||[],ch(t).constructor):e.apply(t,r))}function XB(t,e){if(e&&(Io(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QB(t)}function QB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UC=function(){return!!t})()}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(t)}function ZB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jx(t,e)}function jx(t,e){return jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jx(t,e)}function bf(t,e,r){return e=zC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zC(t){var e=eU(t,"string");return Io(e)=="symbol"?e:e+""}function eU(t,e){if(Io(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tU(t,e){if(t==null)return{};var r=rU(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nU(t){return t.value}function aU(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=tU(e,VB);return z.createElement(ew,r)}var Zk=1,fi=(function(t){function e(){var r;GB(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=JB(this,e,[].concat(a)),bf(r,"lastBoundingBox",{width:-1,height:-1}),r}return ZB(e,t),YB(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Zk||Math.abs(a.height-this.lastBoundingBox.height)>Zk)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ma({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,l=a.align,u=a.verticalAlign,d=a.margin,h=a.chartWidth,m=a.chartHeight,p,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&i==="vertical"){var v=this.getBBoxSnapshot();p={left:((h||0)-v.width)/2}}else p=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var j=this.getBBoxSnapshot();g={top:((m||0)-j.height)/2}}else g=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Ma(Ma({},p),g)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,l=a.width,u=a.height,d=a.wrapperStyle,h=a.payloadUniqBy,m=a.payload,p=Ma(Ma({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return z.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},aU(i,Ma(Ma({},this.props),{},{payload:BC(m,h,nU)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Ma(Ma({},this.defaultProps),n.props),l=i.layout;return l==="vertical"&&Ee(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||a}:null}}])})($.PureComponent);bf(fi,"displayName","Legend");bf(fi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var bv,e2;function sU(){if(e2)return bv;e2=1;var t=du(),e=rw(),r=rn(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return bv=a,bv}var wv,t2;function HC(){if(t2)return wv;t2=1;var t=CC(),e=sU();function r(n,a,i,l,u){var d=-1,h=n.length;for(i||(i=e),u||(u=[]);++d<h;){var m=n[d];a>0&&i(m)?a>1?r(m,a-1,i,l,u):t(u,m):l||(u[u.length]=m)}return u}return wv=r,wv}var jv,r2;function iU(){if(r2)return jv;r2=1;function t(e){return function(r,n,a){for(var i=-1,l=Object(r),u=a(r),d=u.length;d--;){var h=u[e?d:++i];if(n(l[h],h,l)===!1)break}return r}}return jv=t,jv}var Nv,n2;function oU(){if(n2)return Nv;n2=1;var t=iU(),e=t();return Nv=e,Nv}var _v,a2;function WC(){if(a2)return _v;a2=1;var t=oU(),e=xf();function r(n,a){return n&&t(n,a,e)}return _v=r,_v}var Sv,s2;function lU(){if(s2)return Sv;s2=1;var t=fu();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var l=a.length,u=n?l:-1,d=Object(a);(n?u--:++u<l)&&i(d[u],u,d)!==!1;);return a}}return Sv=e,Sv}var kv,i2;function iw(){if(i2)return kv;i2=1;var t=WC(),e=lU(),r=e(t);return kv=r,kv}var Ov,o2;function KC(){if(o2)return Ov;o2=1;var t=iw(),e=fu();function r(n,a){var i=-1,l=e(n)?Array(n.length):[];return t(n,function(u,d,h){l[++i]=a(u,d,h)}),l}return Ov=r,Ov}var Ev,l2;function cU(){if(l2)return Ev;l2=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Ev=t,Ev}var Av,c2;function uU(){if(c2)return Av;c2=1;var t=sl();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,l=r===r,u=t(r),d=n!==void 0,h=n===null,m=n===n,p=t(n);if(!h&&!p&&!u&&r>n||u&&d&&m&&!h&&!p||i&&d&&m||!a&&m||!l)return 1;if(!i&&!u&&!p&&r<n||p&&a&&l&&!i&&!u||h&&a&&l||!d&&l||!m)return-1}return 0}return Av=e,Av}var Pv,u2;function dU(){if(u2)return Pv;u2=1;var t=uU();function e(r,n,a){for(var i=-1,l=r.criteria,u=n.criteria,d=l.length,h=a.length;++i<d;){var m=t(l[i],u[i]);if(m){if(i>=h)return m;var p=a[i];return m*(p=="desc"?-1:1)}}return r.index-n.index}return Pv=e,Pv}var Tv,d2;function hU(){if(d2)return Tv;d2=1;var t=Kb(),e=Vb(),r=Na(),n=KC(),a=cU(),i=$C(),l=dU(),u=ll(),d=rn();function h(m,p,g){p.length?p=t(p,function(w){return d(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):p=[u];var v=-1;p=t(p,i(r));var j=n(m,function(w,b,N){var k=t(p,function(S){return S(w)});return{criteria:k,index:++v,value:w}});return a(j,function(w,b){return l(w,b,g)})}return Tv=h,Tv}var Cv,h2;function fU(){if(h2)return Cv;h2=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Cv=t,Cv}var Iv,f2;function pU(){if(f2)return Iv;f2=1;var t=fU(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var l=arguments,u=-1,d=e(l.length-a,0),h=Array(d);++u<d;)h[u]=l[a+u];u=-1;for(var m=Array(a+1);++u<a;)m[u]=l[u];return m[a]=i(h),t(n,this,m)}}return Iv=r,Iv}var $v,p2;function mU(){if(p2)return $v;p2=1;function t(e){return function(){return e}}return $v=t,$v}var Mv,m2;function VC(){if(m2)return Mv;m2=1;var t=Si(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Mv=e,Mv}var Dv,g2;function gU(){if(g2)return Dv;g2=1;var t=mU(),e=VC(),r=ll(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return Dv=n,Dv}var Rv,y2;function yU(){if(y2)return Rv;y2=1;var t=800,e=16,r=Date.now;function n(a){var i=0,l=0;return function(){var u=r(),d=e-(u-l);if(l=u,d>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Rv=n,Rv}var Lv,v2;function vU(){if(v2)return Lv;v2=1;var t=gU(),e=yU(),r=e(t);return Lv=r,Lv}var Fv,x2;function xU(){if(x2)return Fv;x2=1;var t=ll(),e=pU(),r=vU();function n(a,i){return r(e(a,i,t),a+"")}return Fv=n,Fv}var qv,b2;function wf(){if(b2)return qv;b2=1;var t=zb(),e=fu(),r=nw(),n=Cs();function a(i,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?e(u)&&r(l,u.length):d=="string"&&l in u)?t(u[l],i):!1}return qv=a,qv}var Bv,w2;function bU(){if(w2)return Bv;w2=1;var t=HC(),e=hU(),r=xU(),n=wf(),a=r(function(i,l){if(i==null)return[];var u=l.length;return u>1&&n(i,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),e(i,t(l,1),[])});return Bv=a,Bv}var wU=bU();const ow=St(wU);function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nx.apply(this,arguments)}function jU(t,e){return kU(t)||SU(t,e)||_U(t,e)||NU()}function NU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _U(t,e){if(t){if(typeof t=="string")return j2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j2(t,e)}}function j2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SU(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function kU(t){if(Array.isArray(t))return t}function N2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Uv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(r),!0).forEach(function(n){OU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OU(t,e,r){return e=EU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EU(t){var e=AU(t,"string");return Ec(e)=="symbol"?e:e+""}function AU(t,e){if(Ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PU(t){return Array.isArray(t)&&lr(t[0])&&lr(t[1])?t.join(" ~ "):t}var TU=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,l=e.itemStyle,u=l===void 0?{}:l,d=e.labelStyle,h=d===void 0?{}:d,m=e.payload,p=e.formatter,g=e.itemSorter,v=e.wrapperClassName,j=e.labelClassName,w=e.label,b=e.labelFormatter,N=e.accessibilityLayer,k=N===void 0?!1:N,S=function(){if(m&&m.length){var I={padding:0,margin:0},q=(g?ow(m,g):m).map(function(K,W){if(K.type==="none")return null;var J=Uv({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},u),re=K.formatter||p||PU,G=K.value,oe=K.name,Z=G,M=oe;if(re&&Z!=null&&M!=null){var U=re(G,oe,K,W,m);if(Array.isArray(U)){var te=jU(U,2);Z=te[0],M=te[1]}else Z=U}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:J},lr(M)?z.createElement("span",{className:"recharts-tooltip-item-name"},M):null,lr(M)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},Z),z.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:I},q)}return null},P=Uv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=Uv({margin:0},h),O=!at(w),A=O?w:"",T=it("recharts-default-tooltip",v),R=it("recharts-tooltip-label",j);O&&b&&m!==void 0&&m!==null&&(A=b(w,m));var D=k?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",Nx({className:T,style:P},D),z.createElement("p",{className:R,style:E},z.isValidElement(A)?A:"".concat(A)),S())};function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function $d(t,e,r){return e=CU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CU(t){var e=IU(t,"string");return Ac(e)=="symbol"?e:e+""}function IU(t,e){if(Ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gl="recharts-tooltip-wrapper",$U={visibility:"hidden"};function MU(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return it(Gl,$d($d($d($d({},"".concat(Gl,"-right"),Ee(r)&&e&&Ee(e.x)&&r>=e.x),"".concat(Gl,"-left"),Ee(r)&&e&&Ee(e.x)&&r<e.x),"".concat(Gl,"-bottom"),Ee(n)&&e&&Ee(e.y)&&n>=e.y),"".concat(Gl,"-top"),Ee(n)&&e&&Ee(e.y)&&n<e.y))}function _2(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,l=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(i&&Ee(i[n]))return i[n];var m=r[n]-u-a,p=r[n]+a;if(e[n])return l[n]?m:p;if(l[n]){var g=m,v=d[n];return g<v?Math.max(p,d[n]):Math.max(m,d[n])}var j=p+u,w=d[n]+h;return j>w?Math.max(m,d[n]):Math.max(p,d[n])}function DU(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function RU(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,l=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,h,m,p;return l.height>0&&l.width>0&&r?(m=_2({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=_2({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=DU({translateX:m,translateY:p,useTranslate3d:u})):h=$U,{cssProperties:h,cssClasses:MU({translateX:m,translateY:p,coordinate:r})}}function $o(t){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(t)}function S2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function k2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(r),!0).forEach(function(n){Sx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YC(n.key),n)}}function qU(t,e,r){return e&&FU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BU(t,e,r){return e=uh(e),UU(t,GC()?Reflect.construct(e,r||[],uh(t).constructor):e.apply(t,r))}function UU(t,e){if(e&&($o(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zU(t)}function zU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GC=function(){return!!t})()}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uh(t)}function HU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_x(t,e)}function _x(t,e){return _x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_x(t,e)}function Sx(t,e,r){return e=YC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YC(t){var e=WU(t,"string");return $o(e)=="symbol"?e:e+""}function WU(t,e){if($o(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O2=1,KU=(function(t){function e(){var r;LU(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=BU(this,e,[].concat(a)),Sx(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Sx(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,h,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(h=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&h!==void 0?h:0}})}}),r}return HU(e,t),qU(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>O2||Math.abs(n.height-this.state.lastBoundingBox.height)>O2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,l=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,h=a.children,m=a.coordinate,p=a.hasPayload,g=a.isAnimationActive,v=a.offset,j=a.position,w=a.reverseDirection,b=a.useTranslate3d,N=a.viewBox,k=a.wrapperStyle,S=RU({allowEscapeViewBox:l,coordinate:m,offsetTopLeft:v,position:j,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:N}),P=S.cssClasses,E=S.cssProperties,O=k2(k2({transition:g&&i?"transform ".concat(u,"ms ").concat(d):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&p?"visible":"hidden",position:"absolute",top:0,left:0},k);return z.createElement("div",{tabIndex:-1,className:P,style:O,ref:function(T){n.wrapperNode=T}},h)}}])})($.PureComponent),VU=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ki={isSsr:VU()};function Mo(t){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(t)}function E2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function A2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(r),!0).forEach(function(n){lw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XC(n.key),n)}}function JU(t,e,r){return e&&YU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XU(t,e,r){return e=dh(e),QU(t,JC()?Reflect.construct(e,r||[],dh(t).constructor):e.apply(t,r))}function QU(t,e){if(e&&(Mo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZU(t)}function ZU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JC=function(){return!!t})()}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dh(t)}function e8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kx(t,e)}function kx(t,e){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kx(t,e)}function lw(t,e,r){return e=XC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XC(t){var e=t8(t,"string");return Mo(e)=="symbol"?e:e+""}function t8(t,e){if(Mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function r8(t){return t.dataKey}function n8(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(TU,e)}var Mn=(function(t){function e(){return GU(this,e),XU(this,e,arguments)}return e8(e,t),JU(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,l=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,h=a.content,m=a.coordinate,p=a.filterNull,g=a.isAnimationActive,v=a.offset,j=a.payload,w=a.payloadUniqBy,b=a.position,N=a.reverseDirection,k=a.useTranslate3d,S=a.viewBox,P=a.wrapperStyle,E=j??[];p&&E.length&&(E=BC(j.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),w,r8));var O=E.length>0;return z.createElement(KU,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:g,active:i,coordinate:m,hasPayload:O,offset:v,position:b,reverseDirection:N,useTranslate3d:k,viewBox:S,wrapperStyle:P},n8(h,A2(A2({},this.props),{},{payload:E})))}}])})($.PureComponent);lw(Mn,"displayName","Tooltip");lw(Mn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ki.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var zv,P2;function a8(){if(P2)return zv;P2=1;var t=ja(),e=function(){return t.Date.now()};return zv=e,zv}var Hv,T2;function s8(){if(T2)return Hv;T2=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Hv=e,Hv}var Wv,C2;function i8(){if(C2)return Wv;C2=1;var t=s8(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Wv=r,Wv}var Kv,I2;function QC(){if(I2)return Kv;I2=1;var t=i8(),e=Cs(),r=sl(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var m=typeof h.valueOf=="function"?h.valueOf():h;h=e(m)?m+"":m}if(typeof h!="string")return h===0?h:+h;h=t(h);var p=i.test(h);return p||l.test(h)?u(h.slice(2),p?2:8):a.test(h)?n:+h}return Kv=d,Kv}var Vv,$2;function o8(){if($2)return Vv;$2=1;var t=Cs(),e=a8(),r=QC(),n="Expected a function",a=Math.max,i=Math.min;function l(u,d,h){var m,p,g,v,j,w,b=0,N=!1,k=!1,S=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(N=!!h.leading,k="maxWait"in h,g=k?a(r(h.maxWait)||0,d):g,S="trailing"in h?!!h.trailing:S);function P(q){var K=m,W=p;return m=p=void 0,b=q,v=u.apply(W,K),v}function E(q){return b=q,j=setTimeout(T,d),N?P(q):v}function O(q){var K=q-w,W=q-b,J=d-K;return k?i(J,g-W):J}function A(q){var K=q-w,W=q-b;return w===void 0||K>=d||K<0||k&&W>=g}function T(){var q=e();if(A(q))return R(q);j=setTimeout(T,O(q))}function R(q){return j=void 0,S&&m?P(q):(m=p=void 0,v)}function D(){j!==void 0&&clearTimeout(j),b=0,m=w=p=j=void 0}function F(){return j===void 0?v:R(e())}function I(){var q=e(),K=A(q);if(m=arguments,p=this,w=q,K){if(j===void 0)return E(w);if(k)return clearTimeout(j),j=setTimeout(T,d),P(w)}return j===void 0&&(j=setTimeout(T,d)),v}return I.cancel=D,I.flush=F,I}return Vv=l,Vv}var Gv,M2;function l8(){if(M2)return Gv;M2=1;var t=o8(),e=Cs(),r="Expected a function";function n(a,i,l){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return e(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),t(a,i,{leading:u,maxWait:i,trailing:d})}return Gv=n,Gv}var c8=l8();const ZC=St(c8);function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function D2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Md(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(r),!0).forEach(function(n){u8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u8(t,e,r){return e=d8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d8(t){var e=h8(t,"string");return Pc(e)=="symbol"?e:e+""}function h8(t,e){if(Pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f8(t,e){return y8(t)||g8(t,e)||m8(t,e)||p8()}function p8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m8(t,e){if(t){if(typeof t=="string")return R2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R2(t,e)}}function R2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function y8(t){if(Array.isArray(t))return t}var Yv=$.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,l=i===void 0?"100%":i,u=t.height,d=u===void 0?"100%":u,h=t.minWidth,m=h===void 0?0:h,p=t.minHeight,g=t.maxHeight,v=t.children,j=t.debounce,w=j===void 0?0:j,b=t.id,N=t.className,k=t.onResize,S=t.style,P=S===void 0?{}:S,E=$.useRef(null),O=$.useRef();O.current=k,$.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var A=$.useState({containerWidth:a.width,containerHeight:a.height}),T=f8(A,2),R=T[0],D=T[1],F=$.useCallback(function(q,K){D(function(W){var J=Math.round(q),re=Math.round(K);return W.containerWidth===J&&W.containerHeight===re?W:{containerWidth:J,containerHeight:re}})},[]);$.useEffect(function(){var q=function(oe){var Z,M=oe[0].contentRect,U=M.width,te=M.height;F(U,te),(Z=O.current)===null||Z===void 0||Z.call(O,U,te)};w>0&&(q=ZC(q,w,{trailing:!0,leading:!1}));var K=new ResizeObserver(q),W=E.current.getBoundingClientRect(),J=W.width,re=W.height;return F(J,re),K.observe(E.current),function(){K.disconnect()}},[F,w]);var I=$.useMemo(function(){var q=R.containerWidth,K=R.containerHeight;if(q<0||K<0)return null;sa(ci(l)||ci(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),sa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=ci(l)?q:l,J=ci(d)?K:d;r&&r>0&&(W?J=W/r:J&&(W=J*r),g&&J>g&&(J=g)),sa(W>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,J,l,d,m,p,r);var re=!Array.isArray(v)&&Ua(v.type).endsWith("Chart");return z.Children.map(v,function(G){return z.isValidElement(G)?$.cloneElement(G,Md({width:W,height:J},re?{style:Md({height:"100%",width:"100%",maxHeight:J,maxWidth:W},G.props.style)}:{})):G})},[r,v,d,g,p,m,R,l]);return z.createElement("div",{id:b?"".concat(b):void 0,className:it("recharts-responsive-container",N),style:Md(Md({},P),{},{width:l,height:d,minWidth:m,minHeight:p,maxHeight:g}),ref:E},I)}),jf=function(e){return null};jf.displayName="Cell";function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function L2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ox(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(r),!0).forEach(function(n){v8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v8(t,e,r){return e=x8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x8(t){var e=b8(t,"string");return Tc(e)=="symbol"?e:e+""}function b8(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var co={widthCache:{},cacheCount:0},w8=2e3,j8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},F2="recharts_measurement_span";function N8(t){var e=Ox({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var dc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ki.isSsr)return{width:0,height:0};var n=N8(r),a=JSON.stringify({text:e,copyStyle:n});if(co.widthCache[a])return co.widthCache[a];try{var i=document.getElementById(F2);i||(i=document.createElement("span"),i.setAttribute("id",F2),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=Ox(Ox({},j8),n);Object.assign(i.style,l),i.textContent="".concat(e);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return co.widthCache[a]=d,++co.cacheCount>w8&&(co.cacheCount=0,co.widthCache={}),d}catch{return{width:0,height:0}}},_8=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function hh(t,e){return E8(t)||O8(t,e)||k8(t,e)||S8()}function S8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k8(t,e){if(t){if(typeof t=="string")return q2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q2(t,e)}}function q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function E8(t){if(Array.isArray(t))return t}function A8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T8(n.key),n)}}function P8(t,e,r){return e&&B2(t.prototype,e),r&&B2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function T8(t){var e=C8(t,"string");return Cc(e)=="symbol"?e:e+""}function C8(t,e){if(Cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,z2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,I8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},M8=Object.keys(eI),xo="NaN";function D8(t,e){return t*eI[e]}var Dd=(function(){function t(e,r){A8(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!I8.test(r)&&(this.num=NaN,this.unit=""),M8.includes(r)&&(this.num=D8(e,r),this.unit="px")}return P8(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=$8.exec(r))!==null&&n!==void 0?n:[],i=hh(a,3),l=i[1],u=i[2];return new t(parseFloat(l),u??"")}}])})();function tI(t){if(t.includes(xo))return xo;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=U2.exec(e))!==null&&r!==void 0?r:[],a=hh(n,4),i=a[1],l=a[2],u=a[3],d=Dd.parse(i??""),h=Dd.parse(u??""),m=l==="*"?d.multiply(h):d.divide(h);if(m.isNaN())return xo;e=e.replace(U2,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,g=(p=z2.exec(e))!==null&&p!==void 0?p:[],v=hh(g,4),j=v[1],w=v[2],b=v[3],N=Dd.parse(j??""),k=Dd.parse(b??""),S=w==="+"?N.add(k):N.subtract(k);if(S.isNaN())return xo;e=e.replace(z2,S.toString())}return e}var H2=/\(([^()]*)\)/;function R8(t){for(var e=t;e.includes("(");){var r=H2.exec(e),n=hh(r,2),a=n[1];e=e.replace(H2,tI(a))}return e}function L8(t){var e=t.replace(/\s+/g,"");return e=R8(e),e=tI(e),e}function F8(t){try{return L8(t)}catch{return xo}}function Jv(t){var e=F8(t.slice(5,-1));return e===xo?"":e}var q8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],B8=["dx","dy","angle","className","breakAll"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ex.apply(this,arguments)}function W2(t,e){if(t==null)return{};var r=U8(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function U8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K2(t,e){return K8(t)||W8(t,e)||H8(t,e)||z8()}function z8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H8(t,e){if(t){if(typeof t=="string")return V2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V2(t,e)}}function V2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function K8(t){if(Array.isArray(t))return t}var rI=/[ \f\n\r\t\v\u2028\u2029]+/,nI=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];at(r)||(n?i=r.toString().split(""):i=r.toString().split(rI));var l=i.map(function(d){return{word:d,width:dc(d,a).width}}),u=n?0:dc("",a).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},V8=function(e,r,n,a,i){var l=e.maxLines,u=e.children,d=e.style,h=e.breakAll,m=Ee(l),p=u,g=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(J,re){var G=re.word,oe=re.width,Z=J[J.length-1];if(Z&&(a==null||i||Z.width+oe+n<Number(a)))Z.words.push(G),Z.width+=oe+n;else{var M={words:[G],width:oe};J.push(M)}return J},[])},v=g(r),j=function(W){return W.reduce(function(J,re){return J.width>re.width?J:re})};if(!m)return v;for(var w="",b=function(W){var J=p.slice(0,W),re=nI({breakAll:h,style:d,children:J+w}).wordsWithComputedWidth,G=g(re),oe=G.length>l||j(G).width>Number(a);return[oe,G]},N=0,k=p.length-1,S=0,P;N<=k&&S<=p.length-1;){var E=Math.floor((N+k)/2),O=E-1,A=b(O),T=K2(A,2),R=T[0],D=T[1],F=b(E),I=K2(F,1),q=I[0];if(!R&&!q&&(N=E+1),R&&q&&(k=E-1),!R&&q){P=D;break}S++}return P||v},G2=function(e){var r=at(e)?[]:e.toString().split(rI);return[{words:r}]},G8=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,l=e.breakAll,u=e.maxLines;if((r||n)&&!ki.isSsr){var d,h,m=nI({breakAll:l,children:a,style:i});if(m){var p=m.wordsWithComputedWidth,g=m.spaceWidth;d=p,h=g}else return G2(a);return V8({breakAll:l,children:a,maxLines:u,style:i},d,h,r,n)}return G2(a)},Y2="#808080",xi=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,l=e.lineHeight,u=l===void 0?"1em":l,d=e.capHeight,h=d===void 0?"0.71em":d,m=e.scaleToFit,p=m===void 0?!1:m,g=e.textAnchor,v=g===void 0?"start":g,j=e.verticalAnchor,w=j===void 0?"end":j,b=e.fill,N=b===void 0?Y2:b,k=W2(e,q8),S=$.useMemo(function(){return G8({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:p,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,p,k.style,k.width]),P=k.dx,E=k.dy,O=k.angle,A=k.className,T=k.breakAll,R=W2(k,B8);if(!lr(n)||!lr(i))return null;var D=n+(Ee(P)?P:0),F=i+(Ee(E)?E:0),I;switch(w){case"start":I=Jv("calc(".concat(h,")"));break;case"middle":I=Jv("calc(".concat((S.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:I=Jv("calc(".concat(S.length-1," * -").concat(u,")"));break}var q=[];if(p){var K=S[0].width,W=k.width;q.push("scale(".concat((Ee(W)?W/K:1)/K,")"))}return O&&q.push("rotate(".concat(O,", ").concat(D,", ").concat(F,")")),q.length&&(R.transform=q.join(" ")),z.createElement("text",Ex({},Je(R,!0),{x:D,y:F,className:it("recharts-text",A),textAnchor:v,fill:N.includes("url")?Y2:N}),S.map(function(J,re){var G=J.words.join(T?"":" ");return z.createElement("tspan",{x:D,dy:re===0?I:u,key:"".concat(G,"-").concat(re)},G)}))};function Ts(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Y8(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cw(t){let e,r,n;t.length!==2?(e=Ts,r=(u,d)=>Ts(t(u),d),n=(u,d)=>t(u)-d):(e=t===Ts||t===Y8?t:J8,r=t,n=t);function a(u,d,h=0,m=u.length){if(h<m){if(e(d,d)!==0)return m;do{const p=h+m>>>1;r(u[p],d)<0?h=p+1:m=p}while(h<m)}return h}function i(u,d,h=0,m=u.length){if(h<m){if(e(d,d)!==0)return m;do{const p=h+m>>>1;r(u[p],d)<=0?h=p+1:m=p}while(h<m)}return h}function l(u,d,h=0,m=u.length){const p=a(u,d,h,m-1);return p>h&&n(u[p-1],d)>-n(u[p],d)?p-1:p}return{left:a,center:l,right:i}}function J8(){return 0}function aI(t){return t===null?NaN:+t}function*X8(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Q8=cw(Ts),pu=Q8.right;cw(aI).center;class J2 extends Map{constructor(e,r=t7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(X2(this,e))}has(e){return super.has(X2(this,e))}set(e,r){return super.set(Z8(this,e),r)}delete(e){return super.delete(e7(this,e))}}function X2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Z8({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function e7({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function t7(t){return t!==null&&typeof t=="object"?t.valueOf():t}function r7(t=Ts){if(t===Ts)return sI;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function sI(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const n7=Math.sqrt(50),a7=Math.sqrt(10),s7=Math.sqrt(2);function fh(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=n7?10:i>=a7?5:i>=s7?2:1;let u,d,h;return a<0?(h=Math.pow(10,-a)/l,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,a)*l,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=r&&r<2?fh(t,e,r*2):[u,d,h]}function Ax(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,l]=n?fh(e,t,r):fh(t,e,r);if(!(i>=a))return[];const u=i-a+1,d=new Array(u);if(n)if(l<0)for(let h=0;h<u;++h)d[h]=(i-h)/-l;else for(let h=0;h<u;++h)d[h]=(i-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(a+h)/-l;else for(let h=0;h<u;++h)d[h]=(a+h)*l;return d}function Px(t,e,r){return e=+e,t=+t,r=+r,fh(t,e,r)[2]}function Tx(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Px(e,t,r):Px(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function Q2(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Z2(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function iI(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?sI:r7(a);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,m=Math.log(d),p=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*p*(d-p)/d)*(h-d/2<0?-1:1),v=Math.max(r,Math.floor(e-h*p/d+g)),j=Math.min(n,Math.floor(e+(d-h)*p/d+g));iI(t,e,v,j,a)}const i=t[e];let l=r,u=n;for(Yl(t,r,e),a(t[n],i)>0&&Yl(t,r,n);l<u;){for(Yl(t,l,u),++l,--u;a(t[l],i)<0;)++l;for(;a(t[u],i)>0;)--u}a(t[r],i)===0?Yl(t,r,u):(++u,Yl(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Yl(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function i7(t,e,r){if(t=Float64Array.from(X8(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Z2(t);if(e>=1)return Q2(t);var n,a=(n-1)*e,i=Math.floor(a),l=Q2(iI(t,i).subarray(0,i+1)),u=Z2(t.subarray(i+1));return l+(u-l)*(a-i)}}function o7(t,e,r=aI){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),l=+r(t[i],i,t),u=+r(t[i+1],i+1,t);return l+(u-l)*(a-i)}}function l7(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function qn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Cx=Symbol("implicit");function uw(){var t=new J2,e=[],r=[],n=Cx;function a(i){let l=t.get(i);if(l===void 0){if(n!==Cx)return n;t.set(i,l=e.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new J2;for(const l of i)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return uw(e,r).unknown(n)},qn.apply(a,arguments),a}function Ic(){var t=uw().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,l,u=!1,d=0,h=0,m=.5;delete t.unknown;function p(){var g=e().length,v=a<n,j=v?a:n,w=v?n:a;i=(w-j)/Math.max(1,g-d+h*2),u&&(i=Math.floor(i)),j+=(w-j-i*(g-d))*m,l=i*(1-d),u&&(j=Math.round(j),l=Math.round(l));var b=l7(g).map(function(N){return j+i*N});return r(v?b.reverse():b)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,p()):[n,a]},t.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,u=!0,p()},t.bandwidth=function(){return l},t.step=function(){return i},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(d=Math.min(1,h=+g),p()):d},t.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),p()):d},t.paddingOuter=function(g){return arguments.length?(h=+g,p()):h},t.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),p()):m},t.copy=function(){return Ic(e(),[n,a]).round(u).paddingInner(d).paddingOuter(h).align(m)},qn.apply(p(),arguments)}function oI(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return oI(e())},t}function hc(){return oI(Ic.apply(null,arguments).paddingInner(1))}function dw(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function lI(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function mu(){}var $c=.7,ph=1/$c,Oo="\\s*([+-]?\\d+)\\s*",Mc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c7=/^#([0-9a-f]{3,8})$/,u7=new RegExp(`^rgb\\(${Oo},${Oo},${Oo}\\)$`),d7=new RegExp(`^rgb\\(${va},${va},${va}\\)$`),h7=new RegExp(`^rgba\\(${Oo},${Oo},${Oo},${Mc}\\)$`),f7=new RegExp(`^rgba\\(${va},${va},${va},${Mc}\\)$`),p7=new RegExp(`^hsl\\(${Mc},${va},${va}\\)$`),m7=new RegExp(`^hsla\\(${Mc},${va},${va},${Mc}\\)$`),eO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dw(mu,Dc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tO,formatHex:tO,formatHex8:g7,formatHsl:y7,formatRgb:rO,toString:rO});function tO(){return this.rgb().formatHex()}function g7(){return this.rgb().formatHex8()}function y7(){return cI(this).formatHsl()}function rO(){return this.rgb().formatRgb()}function Dc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=c7.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?nO(e):r===3?new tn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Rd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Rd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=u7.exec(t))?new tn(e[1],e[2],e[3],1):(e=d7.exec(t))?new tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=h7.exec(t))?Rd(e[1],e[2],e[3],e[4]):(e=f7.exec(t))?Rd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=p7.exec(t))?iO(e[1],e[2]/100,e[3]/100,1):(e=m7.exec(t))?iO(e[1],e[2]/100,e[3]/100,e[4]):eO.hasOwnProperty(t)?nO(eO[t]):t==="transparent"?new tn(NaN,NaN,NaN,0):null}function nO(t){return new tn(t>>16&255,t>>8&255,t&255,1)}function Rd(t,e,r,n){return n<=0&&(t=e=r=NaN),new tn(t,e,r,n)}function v7(t){return t instanceof mu||(t=Dc(t)),t?(t=t.rgb(),new tn(t.r,t.g,t.b,t.opacity)):new tn}function Ix(t,e,r,n){return arguments.length===1?v7(t):new tn(t,e,r,n??1)}function tn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}dw(tn,Ix,lI(mu,{brighter(t){return t=t==null?ph:Math.pow(ph,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$c:Math.pow($c,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tn(pi(this.r),pi(this.g),pi(this.b),mh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aO,formatHex:aO,formatHex8:x7,formatRgb:sO,toString:sO}));function aO(){return`#${ui(this.r)}${ui(this.g)}${ui(this.b)}`}function x7(){return`#${ui(this.r)}${ui(this.g)}${ui(this.b)}${ui((isNaN(this.opacity)?1:this.opacity)*255)}`}function sO(){const t=mh(this.opacity);return`${t===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${t===1?")":`, ${t})`}`}function mh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ui(t){return t=pi(t),(t<16?"0":"")+t.toString(16)}function iO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new na(t,e,r,n)}function cI(t){if(t instanceof na)return new na(t.h,t.s,t.l,t.opacity);if(t instanceof mu||(t=Dc(t)),!t)return new na;if(t instanceof na)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),l=NaN,u=i-a,d=(i+a)/2;return u?(e===i?l=(r-n)/u+(r<n)*6:r===i?l=(n-e)/u+2:l=(e-r)/u+4,u/=d<.5?i+a:2-i-a,l*=60):u=d>0&&d<1?0:l,new na(l,u,d,t.opacity)}function b7(t,e,r,n){return arguments.length===1?cI(t):new na(t,e,r,n??1)}function na(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}dw(na,b7,lI(mu,{brighter(t){return t=t==null?ph:Math.pow(ph,t),new na(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$c:Math.pow($c,t),new na(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new tn(Xv(t>=240?t-240:t+120,a,n),Xv(t,a,n),Xv(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new na(oO(this.h),Ld(this.s),Ld(this.l),mh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mh(this.opacity);return`${t===1?"hsl(":"hsla("}${oO(this.h)}, ${Ld(this.s)*100}%, ${Ld(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oO(t){return t=(t||0)%360,t<0?t+360:t}function Ld(t){return Math.max(0,Math.min(1,t||0))}function Xv(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const hw=t=>()=>t;function w7(t,e){return function(r){return t+r*e}}function j7(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function N7(t){return(t=+t)==1?uI:function(e,r){return r-e?j7(e,r,t):hw(isNaN(e)?r:e)}}function uI(t,e){var r=e-t;return r?w7(t,r):hw(isNaN(t)?e:t)}const lO=(function t(e){var r=N7(e);function n(a,i){var l=r((a=Ix(a)).r,(i=Ix(i)).r),u=r(a.g,i.g),d=r(a.b,i.b),h=uI(a.opacity,i.opacity);return function(m){return a.r=l(m),a.g=u(m),a.b=d(m),a.opacity=h(m),a+""}}return n.gamma=t,n})(1);function _7(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function S7(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function k7(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=cl(t[l],e[l]);for(;l<r;++l)i[l]=e[l];return function(u){for(l=0;l<n;++l)i[l]=a[l](u);return i}}function O7(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function gh(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function E7(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=cl(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var $x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qv=new RegExp($x.source,"g");function A7(t){return function(){return t}}function P7(t){return function(e){return t(e)+""}}function T7(t,e){var r=$x.lastIndex=Qv.lastIndex=0,n,a,i,l=-1,u=[],d=[];for(t=t+"",e=e+"";(n=$x.exec(t))&&(a=Qv.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),u[l]?u[l]+=i:u[++l]=i),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:gh(n,a)})),r=Qv.lastIndex;return r<e.length&&(i=e.slice(r),u[l]?u[l]+=i:u[++l]=i),u.length<2?d[0]?P7(d[0].x):A7(e):(e=d.length,function(h){for(var m=0,p;m<e;++m)u[(p=d[m]).i]=p.x(h);return u.join("")})}function cl(t,e){var r=typeof e,n;return e==null||r==="boolean"?hw(e):(r==="number"?gh:r==="string"?(n=Dc(e))?(e=n,lO):T7:e instanceof Dc?lO:e instanceof Date?O7:S7(e)?_7:Array.isArray(e)?k7:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?E7:gh)(t,e)}function fw(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function C7(t,e){e===void 0&&(e=t,t=cl);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[u](l-u)}}function I7(t){return function(){return t}}function yh(t){return+t}var cO=[0,1];function Wr(t){return t}function Mx(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:I7(isNaN(e)?NaN:.5)}function $7(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function M7(t,e,r){var n=t[0],a=t[1],i=e[0],l=e[1];return a<n?(n=Mx(a,n),i=r(l,i)):(n=Mx(n,a),i=r(i,l)),function(u){return i(n(u))}}function D7(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)a[l]=Mx(t[l],t[l+1]),i[l]=r(e[l],e[l+1]);return function(u){var d=pu(t,u,1,n)-1;return i[d](a[d](u))}}function gu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Nf(){var t=cO,e=cO,r=cl,n,a,i,l=Wr,u,d,h;function m(){var g=Math.min(t.length,e.length);return l!==Wr&&(l=$7(t[0],t[g-1])),u=g>2?D7:M7,d=h=null,p}function p(g){return g==null||isNaN(g=+g)?i:(d||(d=u(t.map(n),e,r)))(n(l(g)))}return p.invert=function(g){return l(a((h||(h=u(e,t.map(n),gh)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,yh),m()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),m()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),r=fw,m()},p.clamp=function(g){return arguments.length?(l=g?!0:Wr,m()):l!==Wr},p.interpolate=function(g){return arguments.length?(r=g,m()):r},p.unknown=function(g){return arguments.length?(i=g,p):i},function(g,v){return n=g,a=v,m()}}function pw(){return Nf()(Wr,Wr)}function R7(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vh(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Do(t){return t=vh(Math.abs(t)),t?t[1]:NaN}function L7(t,e){return function(r,n){for(var a=r.length,i=[],l=0,u=t[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),i.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=t[l=(l+1)%t.length];return i.reverse().join(e)}}function F7(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var q7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rc(t){if(!(e=q7.exec(t)))throw new Error("invalid format: "+t);var e;return new mw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rc.prototype=mw.prototype;function mw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function B7(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var xh;function U7(t,e){var r=vh(t,e);if(!r)return xh=void 0,t.toPrecision(e);var n=r[0],a=r[1],i=a-(xh=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+vh(t,Math.max(0,e+i-1))[0]}function uO(t,e){var r=vh(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const dO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:R7,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uO(t*100,e),r:uO,s:U7,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hO(t){return t}var fO=Array.prototype.map,pO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function z7(t){var e=t.grouping===void 0||t.thousands===void 0?hO:L7(fO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?hO:F7(fO.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(p,g){p=Rc(p);var v=p.fill,j=p.align,w=p.sign,b=p.symbol,N=p.zero,k=p.width,S=p.comma,P=p.precision,E=p.trim,O=p.type;O==="n"?(S=!0,O="g"):dO[O]||(P===void 0&&(P=12),E=!0,O="g"),(N||v==="0"&&j==="=")&&(N=!0,v="0",j="=");var A=(g&&g.prefix!==void 0?g.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),T=(b==="$"?n:/[%p]/.test(O)?l:"")+(g&&g.suffix!==void 0?g.suffix:""),R=dO[O],D=/[defgprs%]/.test(O);P=P===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function F(I){var q=A,K=T,W,J,re;if(O==="c")K=R(I)+K,I="";else{I=+I;var G=I<0||1/I<0;if(I=isNaN(I)?d:R(Math.abs(I),P),E&&(I=B7(I)),G&&+I==0&&w!=="+"&&(G=!1),q=(G?w==="("?w:u:w==="-"||w==="("?"":w)+q,K=(O==="s"&&!isNaN(I)&&xh!==void 0?pO[8+xh/3]:"")+K+(G&&w==="("?")":""),D){for(W=-1,J=I.length;++W<J;)if(re=I.charCodeAt(W),48>re||re>57){K=(re===46?a+I.slice(W+1):I.slice(W))+K,I=I.slice(0,W);break}}}S&&!N&&(I=e(I,1/0));var oe=q.length+I.length+K.length,Z=oe<k?new Array(k-oe+1).join(v):"";switch(S&&N&&(I=e(Z+I,Z.length?k-K.length:1/0),Z=""),j){case"<":I=q+I+K+Z;break;case"=":I=q+Z+I+K;break;case"^":I=Z.slice(0,oe=Z.length>>1)+q+I+K+Z.slice(oe);break;default:I=Z+q+I+K;break}return i(I)}return F.toString=function(){return p+""},F}function m(p,g){var v=Math.max(-8,Math.min(8,Math.floor(Do(g)/3)))*3,j=Math.pow(10,-v),w=h((p=Rc(p),p.type="f",p),{suffix:pO[8+v/3]});return function(b){return w(j*b)}}return{format:h,formatPrefix:m}}var Fd,gw,dI;H7({thousands:",",grouping:[3],currency:["$",""]});function H7(t){return Fd=z7(t),gw=Fd.format,dI=Fd.formatPrefix,Fd}function W7(t){return Math.max(0,-Do(Math.abs(t)))}function K7(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Do(e)/3)))*3-Do(Math.abs(t)))}function V7(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Do(e)-Do(t))+1}function hI(t,e,r,n){var a=Tx(t,e,r),i;switch(n=Rc(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=K7(a,l))&&(n.precision=i),dI(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=V7(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=W7(a))&&(n.precision=i-(n.type==="%")*2);break}}return gw(n)}function Is(t){var e=t.domain;return t.ticks=function(r){var n=e();return Ax(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return hI(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,l=n[a],u=n[i],d,h,m=10;for(u<l&&(h=l,l=u,u=h,h=a,a=i,i=h);m-- >0;){if(h=Px(l,u,r),h===d)return n[a]=l,n[i]=u,e(n);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function bh(){var t=pw();return t.copy=function(){return gu(t,bh())},qn.apply(t,arguments),Is(t)}function fI(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,yh),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return fI(t).unknown(e)},t=arguments.length?Array.from(t,yh):[0,1],Is(r)}function pI(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),t[r]=e.floor(a),t[n]=e.ceil(i),t}function mO(t){return Math.log(t)}function gO(t){return Math.exp(t)}function G7(t){return-Math.log(-t)}function Y7(t){return-Math.exp(-t)}function J7(t){return isFinite(t)?+("1e"+t):t<0?0:t}function X7(t){return t===10?J7:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Q7(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function yO(t){return(e,r)=>-t(-e,r)}function yw(t){const e=t(mO,gO),r=e.domain;let n=10,a,i;function l(){return a=Q7(n),i=X7(n),r()[0]<0?(a=yO(a),i=yO(i),t(G7,Y7)):t(mO,gO),e}return e.base=function(u){return arguments.length?(n=+u,l()):n},e.domain=function(u){return arguments.length?(r(u),l()):r()},e.ticks=u=>{const d=r();let h=d[0],m=d[d.length-1];const p=m<h;p&&([h,m]=[m,h]);let g=a(h),v=a(m),j,w;const b=u==null?10:+u;let N=[];if(!(n%1)&&v-g<b){if(g=Math.floor(g),v=Math.ceil(v),h>0){for(;g<=v;++g)for(j=1;j<n;++j)if(w=g<0?j/i(-g):j*i(g),!(w<h)){if(w>m)break;N.push(w)}}else for(;g<=v;++g)for(j=n-1;j>=1;--j)if(w=g>0?j/i(-g):j*i(g),!(w<h)){if(w>m)break;N.push(w)}N.length*2<b&&(N=Ax(h,m,b))}else N=Ax(g,v,Math.min(v-g,b)).map(i);return p?N.reverse():N},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Rc(d)).precision==null&&(d.trim=!0),d=gw(d)),u===1/0)return d;const h=Math.max(1,n*u/e.ticks().length);return m=>{let p=m/i(Math.round(a(m)));return p*n<n-.5&&(p*=n),p<=h?d(m):""}},e.nice=()=>r(pI(r(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),e}function mI(){const t=yw(Nf()).domain([1,10]);return t.copy=()=>gu(t,mI()).base(t.base()),qn.apply(t,arguments),t}function vO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function xO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vw(t){var e=1,r=t(vO(e),xO(e));return r.constant=function(n){return arguments.length?t(vO(e=+n),xO(e)):e},Is(r)}function gI(){var t=vw(Nf());return t.copy=function(){return gu(t,gI()).constant(t.constant())},qn.apply(t,arguments)}function bO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Z7(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function e9(t){return t<0?-t*t:t*t}function xw(t){var e=t(Wr,Wr),r=1;function n(){return r===1?t(Wr,Wr):r===.5?t(Z7,e9):t(bO(r),bO(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Is(e)}function bw(){var t=xw(Nf());return t.copy=function(){return gu(t,bw()).exponent(t.exponent())},qn.apply(t,arguments),t}function t9(){return bw.apply(null,arguments).exponent(.5)}function wO(t){return Math.sign(t)*t*t}function r9(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function yI(){var t=pw(),e=[0,1],r=!1,n;function a(i){var l=r9(t(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return t.invert(wO(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,yh)).map(wO)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return yI(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},qn.apply(a,arguments),Is(a)}function vI(){var t=[],e=[],r=[],n;function a(){var l=0,u=Math.max(1,e.length);for(r=new Array(u-1);++l<u;)r[l-1]=o7(t,l/u);return i}function i(l){return l==null||isNaN(l=+l)?n:e[pu(r,l)]}return i.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},i.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ts),a()},i.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return vI().domain(t).range(e).unknown(n)},qn.apply(i,arguments)}function xI(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function l(d){return d!=null&&d<=d?a[pu(n,d,0,r)]:i}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return xI().domain([t,e]).range(a).unknown(i)},qn.apply(Is(l),arguments)}function bI(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[pu(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var l=e.indexOf(i);return[t[l-1],t[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return bI().domain(t).range(e).unknown(r)},qn.apply(a,arguments)}const Zv=new Date,e0=new Date;function cr(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const l=a(i),u=a.ceil(i);return i-l<u-i?l:u},a.offset=(i,l)=>(e(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,u)=>{const d=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<l)||!(u>0))return d;let h;do d.push(h=new Date(+i)),e(i,u),t(i);while(h<i&&i<l);return d},a.filter=i=>cr(l=>{if(l>=l)for(;t(l),!i(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!i(l););else for(;--u>=0;)for(;e(l,1),!i(l););}),r&&(a.count=(i,l)=>(Zv.setTime(+i),e0.setTime(+l),t(Zv),t(e0),Math.floor(r(Zv,e0))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const wh=cr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?cr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):wh);wh.range;const La=1e3,Rn=La*60,Fa=Rn*60,Wa=Fa*24,ww=Wa*7,jO=Wa*30,t0=Wa*365,di=cr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*La)},(t,e)=>(e-t)/La,t=>t.getUTCSeconds());di.range;const jw=cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*La)},(t,e)=>{t.setTime(+t+e*Rn)},(t,e)=>(e-t)/Rn,t=>t.getMinutes());jw.range;const Nw=cr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Rn)},(t,e)=>(e-t)/Rn,t=>t.getUTCMinutes());Nw.range;const _w=cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*La-t.getMinutes()*Rn)},(t,e)=>{t.setTime(+t+e*Fa)},(t,e)=>(e-t)/Fa,t=>t.getHours());_w.range;const Sw=cr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Fa)},(t,e)=>(e-t)/Fa,t=>t.getUTCHours());Sw.range;const yu=cr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Rn)/Wa,t=>t.getDate()-1);yu.range;const _f=cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wa,t=>t.getUTCDate()-1);_f.range;const wI=cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wa,t=>Math.floor(t/Wa));wI.range;function Oi(t){return cr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Rn)/ww)}const Sf=Oi(0),jh=Oi(1),n9=Oi(2),a9=Oi(3),Ro=Oi(4),s9=Oi(5),i9=Oi(6);Sf.range;jh.range;n9.range;a9.range;Ro.range;s9.range;i9.range;function Ei(t){return cr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/ww)}const kf=Ei(0),Nh=Ei(1),o9=Ei(2),l9=Ei(3),Lo=Ei(4),c9=Ei(5),u9=Ei(6);kf.range;Nh.range;o9.range;l9.range;Lo.range;c9.range;u9.range;const kw=cr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());kw.range;const Ow=cr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ow.range;const Ka=cr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ka.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ka.range;const Va=cr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Va.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Va.range;function jI(t,e,r,n,a,i){const l=[[di,1,La],[di,5,5*La],[di,15,15*La],[di,30,30*La],[i,1,Rn],[i,5,5*Rn],[i,15,15*Rn],[i,30,30*Rn],[a,1,Fa],[a,3,3*Fa],[a,6,6*Fa],[a,12,12*Fa],[n,1,Wa],[n,2,2*Wa],[r,1,ww],[e,1,jO],[e,3,3*jO],[t,1,t0]];function u(h,m,p){const g=m<h;g&&([h,m]=[m,h]);const v=p&&typeof p.range=="function"?p:d(h,m,p),j=v?v.range(h,+m+1):[];return g?j.reverse():j}function d(h,m,p){const g=Math.abs(m-h)/p,v=cw(([,,b])=>b).right(l,g);if(v===l.length)return t.every(Tx(h/t0,m/t0,p));if(v===0)return wh.every(Math.max(Tx(h,m,p),1));const[j,w]=l[g/l[v-1][2]<l[v][2]/g?v-1:v];return j.every(w)}return[u,d]}const[d9,h9]=jI(Va,Ow,kf,wI,Sw,Nw),[f9,p9]=jI(Ka,kw,Sf,yu,_w,jw);function r0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function n0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jl(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function m9(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,h=Xl(a),m=Ql(a),p=Xl(i),g=Ql(i),v=Xl(l),j=Ql(l),w=Xl(u),b=Ql(u),N=Xl(d),k=Ql(d),S={a:re,A:G,b:oe,B:Z,c:null,d:EO,e:EO,f:L9,g:G9,G:J9,H:M9,I:D9,j:R9,L:NI,m:F9,M:q9,p:M,q:U,Q:TO,s:CO,S:B9,u:U9,U:z9,V:H9,w:W9,W:K9,x:null,X:null,y:V9,Y:Y9,Z:X9,"%":PO},P={a:te,A:me,b:ge,B:Me,c:null,d:AO,e:AO,f:tz,g:dz,G:fz,H:Q9,I:Z9,j:ez,L:SI,m:rz,M:nz,p:Ke,q:De,Q:TO,s:CO,S:az,u:sz,U:iz,V:oz,w:lz,W:cz,x:null,X:null,y:uz,Y:hz,Z:pz,"%":PO},E={a:D,A:F,b:I,B:q,c:K,d:kO,e:kO,f:T9,g:SO,G:_O,H:OO,I:OO,j:O9,L:P9,m:k9,M:E9,p:R,q:S9,Q:I9,s:$9,S:A9,u:b9,U:w9,V:j9,w:x9,W:N9,x:W,X:J,y:SO,Y:_O,Z:_9,"%":C9};S.x=O(r,S),S.X=O(n,S),S.c=O(e,S),P.x=O(r,P),P.X=O(n,P),P.c=O(e,P);function O(ue,xe){return function(Oe){var Y=[],je=-1,Ie=0,ot=ue.length,Pe,Ae,Ne;for(Oe instanceof Date||(Oe=new Date(+Oe));++je<ot;)ue.charCodeAt(je)===37&&(Y.push(ue.slice(Ie,je)),(Ae=NO[Pe=ue.charAt(++je)])!=null?Pe=ue.charAt(++je):Ae=Pe==="e"?" ":"0",(Ne=xe[Pe])&&(Pe=Ne(Oe,Ae)),Y.push(Pe),Ie=je+1);return Y.push(ue.slice(Ie,je)),Y.join("")}}function A(ue,xe){return function(Oe){var Y=Jl(1900,void 0,1),je=T(Y,ue,Oe+="",0),Ie,ot;if(je!=Oe.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(xe&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ie=n0(Jl(Y.y,0,1)),ot=Ie.getUTCDay(),Ie=ot>4||ot===0?Nh.ceil(Ie):Nh(Ie),Ie=_f.offset(Ie,(Y.V-1)*7),Y.y=Ie.getUTCFullYear(),Y.m=Ie.getUTCMonth(),Y.d=Ie.getUTCDate()+(Y.w+6)%7):(Ie=r0(Jl(Y.y,0,1)),ot=Ie.getDay(),Ie=ot>4||ot===0?jh.ceil(Ie):jh(Ie),Ie=yu.offset(Ie,(Y.V-1)*7),Y.y=Ie.getFullYear(),Y.m=Ie.getMonth(),Y.d=Ie.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ot="Z"in Y?n0(Jl(Y.y,0,1)).getUTCDay():r0(Jl(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ot+5)%7:Y.w+Y.U*7-(ot+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,n0(Y)):r0(Y)}}function T(ue,xe,Oe,Y){for(var je=0,Ie=xe.length,ot=Oe.length,Pe,Ae;je<Ie;){if(Y>=ot)return-1;if(Pe=xe.charCodeAt(je++),Pe===37){if(Pe=xe.charAt(je++),Ae=E[Pe in NO?xe.charAt(je++):Pe],!Ae||(Y=Ae(ue,Oe,Y))<0)return-1}else if(Pe!=Oe.charCodeAt(Y++))return-1}return Y}function R(ue,xe,Oe){var Y=h.exec(xe.slice(Oe));return Y?(ue.p=m.get(Y[0].toLowerCase()),Oe+Y[0].length):-1}function D(ue,xe,Oe){var Y=v.exec(xe.slice(Oe));return Y?(ue.w=j.get(Y[0].toLowerCase()),Oe+Y[0].length):-1}function F(ue,xe,Oe){var Y=p.exec(xe.slice(Oe));return Y?(ue.w=g.get(Y[0].toLowerCase()),Oe+Y[0].length):-1}function I(ue,xe,Oe){var Y=N.exec(xe.slice(Oe));return Y?(ue.m=k.get(Y[0].toLowerCase()),Oe+Y[0].length):-1}function q(ue,xe,Oe){var Y=w.exec(xe.slice(Oe));return Y?(ue.m=b.get(Y[0].toLowerCase()),Oe+Y[0].length):-1}function K(ue,xe,Oe){return T(ue,e,xe,Oe)}function W(ue,xe,Oe){return T(ue,r,xe,Oe)}function J(ue,xe,Oe){return T(ue,n,xe,Oe)}function re(ue){return l[ue.getDay()]}function G(ue){return i[ue.getDay()]}function oe(ue){return d[ue.getMonth()]}function Z(ue){return u[ue.getMonth()]}function M(ue){return a[+(ue.getHours()>=12)]}function U(ue){return 1+~~(ue.getMonth()/3)}function te(ue){return l[ue.getUTCDay()]}function me(ue){return i[ue.getUTCDay()]}function ge(ue){return d[ue.getUTCMonth()]}function Me(ue){return u[ue.getUTCMonth()]}function Ke(ue){return a[+(ue.getUTCHours()>=12)]}function De(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var xe=O(ue+="",S);return xe.toString=function(){return ue},xe},parse:function(ue){var xe=A(ue+="",!1);return xe.toString=function(){return ue},xe},utcFormat:function(ue){var xe=O(ue+="",P);return xe.toString=function(){return ue},xe},utcParse:function(ue){var xe=A(ue+="",!0);return xe.toString=function(){return ue},xe}}}var NO={"-":"",_:" ",0:"0"},yr=/^\s*\d+/,g9=/^%/,y9=/[\\^$*+?|[\]().{}]/g;function gt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function v9(t){return t.replace(y9,"\\$&")}function Xl(t){return new RegExp("^(?:"+t.map(v9).join("|")+")","i")}function Ql(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function x9(t,e,r){var n=yr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function b9(t,e,r){var n=yr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function w9(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function j9(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function N9(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function _O(t,e,r){var n=yr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function SO(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _9(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function S9(t,e,r){var n=yr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function k9(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function kO(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function O9(t,e,r){var n=yr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function OO(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function E9(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function A9(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function P9(t,e,r){var n=yr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function T9(t,e,r){var n=yr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function C9(t,e,r){var n=g9.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function I9(t,e,r){var n=yr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function $9(t,e,r){var n=yr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function EO(t,e){return gt(t.getDate(),e,2)}function M9(t,e){return gt(t.getHours(),e,2)}function D9(t,e){return gt(t.getHours()%12||12,e,2)}function R9(t,e){return gt(1+yu.count(Ka(t),t),e,3)}function NI(t,e){return gt(t.getMilliseconds(),e,3)}function L9(t,e){return NI(t,e)+"000"}function F9(t,e){return gt(t.getMonth()+1,e,2)}function q9(t,e){return gt(t.getMinutes(),e,2)}function B9(t,e){return gt(t.getSeconds(),e,2)}function U9(t){var e=t.getDay();return e===0?7:e}function z9(t,e){return gt(Sf.count(Ka(t)-1,t),e,2)}function _I(t){var e=t.getDay();return e>=4||e===0?Ro(t):Ro.ceil(t)}function H9(t,e){return t=_I(t),gt(Ro.count(Ka(t),t)+(Ka(t).getDay()===4),e,2)}function W9(t){return t.getDay()}function K9(t,e){return gt(jh.count(Ka(t)-1,t),e,2)}function V9(t,e){return gt(t.getFullYear()%100,e,2)}function G9(t,e){return t=_I(t),gt(t.getFullYear()%100,e,2)}function Y9(t,e){return gt(t.getFullYear()%1e4,e,4)}function J9(t,e){var r=t.getDay();return t=r>=4||r===0?Ro(t):Ro.ceil(t),gt(t.getFullYear()%1e4,e,4)}function X9(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gt(e/60|0,"0",2)+gt(e%60,"0",2)}function AO(t,e){return gt(t.getUTCDate(),e,2)}function Q9(t,e){return gt(t.getUTCHours(),e,2)}function Z9(t,e){return gt(t.getUTCHours()%12||12,e,2)}function ez(t,e){return gt(1+_f.count(Va(t),t),e,3)}function SI(t,e){return gt(t.getUTCMilliseconds(),e,3)}function tz(t,e){return SI(t,e)+"000"}function rz(t,e){return gt(t.getUTCMonth()+1,e,2)}function nz(t,e){return gt(t.getUTCMinutes(),e,2)}function az(t,e){return gt(t.getUTCSeconds(),e,2)}function sz(t){var e=t.getUTCDay();return e===0?7:e}function iz(t,e){return gt(kf.count(Va(t)-1,t),e,2)}function kI(t){var e=t.getUTCDay();return e>=4||e===0?Lo(t):Lo.ceil(t)}function oz(t,e){return t=kI(t),gt(Lo.count(Va(t),t)+(Va(t).getUTCDay()===4),e,2)}function lz(t){return t.getUTCDay()}function cz(t,e){return gt(Nh.count(Va(t)-1,t),e,2)}function uz(t,e){return gt(t.getUTCFullYear()%100,e,2)}function dz(t,e){return t=kI(t),gt(t.getUTCFullYear()%100,e,2)}function hz(t,e){return gt(t.getUTCFullYear()%1e4,e,4)}function fz(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Lo(t):Lo.ceil(t),gt(t.getUTCFullYear()%1e4,e,4)}function pz(){return"+0000"}function PO(){return"%"}function TO(t){return+t}function CO(t){return Math.floor(+t/1e3)}var uo,OI,EI;mz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mz(t){return uo=m9(t),OI=uo.format,uo.parse,EI=uo.utcFormat,uo.utcParse,uo}function gz(t){return new Date(t)}function yz(t){return t instanceof Date?+t:+new Date(+t)}function Ew(t,e,r,n,a,i,l,u,d,h){var m=pw(),p=m.invert,g=m.domain,v=h(".%L"),j=h(":%S"),w=h("%I:%M"),b=h("%I %p"),N=h("%a %d"),k=h("%b %d"),S=h("%B"),P=h("%Y");function E(O){return(d(O)<O?v:u(O)<O?j:l(O)<O?w:i(O)<O?b:n(O)<O?a(O)<O?N:k:r(O)<O?S:P)(O)}return m.invert=function(O){return new Date(p(O))},m.domain=function(O){return arguments.length?g(Array.from(O,yz)):g().map(gz)},m.ticks=function(O){var A=g();return t(A[0],A[A.length-1],O??10)},m.tickFormat=function(O,A){return A==null?E:h(A)},m.nice=function(O){var A=g();return(!O||typeof O.range!="function")&&(O=e(A[0],A[A.length-1],O??10)),O?g(pI(A,O)):m},m.copy=function(){return gu(m,Ew(t,e,r,n,a,i,l,u,d,h))},m}function vz(){return qn.apply(Ew(f9,p9,Ka,kw,Sf,yu,_w,jw,di,OI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xz(){return qn.apply(Ew(d9,h9,Va,Ow,kf,_f,Sw,Nw,di,EI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Of(){var t=0,e=1,r,n,a,i,l=Wr,u=!1,d;function h(p){return p==null||isNaN(p=+p)?d:l(a===0?.5:(p=(i(p)-r)*a,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(l=p,h):l};function m(p){return function(g){var v,j;return arguments.length?([v,j]=g,l=p(v,j),h):[l(0),l(1)]}}return h.range=m(cl),h.rangeRound=m(fw),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return i=p,r=p(t),n=p(e),a=r===n?0:1/(n-r),h}}function $s(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function AI(){var t=Is(Of()(Wr));return t.copy=function(){return $s(t,AI())},Xa.apply(t,arguments)}function PI(){var t=yw(Of()).domain([1,10]);return t.copy=function(){return $s(t,PI()).base(t.base())},Xa.apply(t,arguments)}function TI(){var t=vw(Of());return t.copy=function(){return $s(t,TI()).constant(t.constant())},Xa.apply(t,arguments)}function Aw(){var t=xw(Of());return t.copy=function(){return $s(t,Aw()).exponent(t.exponent())},Xa.apply(t,arguments)}function bz(){return Aw.apply(null,arguments).exponent(.5)}function CI(){var t=[],e=Wr;function r(n){if(n!=null&&!isNaN(n=+n))return e((pu(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ts),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>i7(t,i/n))},r.copy=function(){return CI(e).domain(t)},Xa.apply(r,arguments)}function Ef(){var t=0,e=.5,r=1,n=1,a,i,l,u,d,h=Wr,m,p=!1,g;function v(w){return isNaN(w=+w)?g:(w=.5+((w=+m(w))-i)*(n*w<n*i?u:d),h(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([t,e,r]=w,a=m(t=+t),i=m(e=+e),l=m(r=+r),u=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,v):[t,e,r]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(h=w,v):h};function j(w){return function(b){var N,k,S;return arguments.length?([N,k,S]=b,h=C7(w,[N,k,S]),v):[h(0),h(.5),h(1)]}}return v.range=j(cl),v.rangeRound=j(fw),v.unknown=function(w){return arguments.length?(g=w,v):g},function(w){return m=w,a=w(t),i=w(e),l=w(r),u=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,v}}function II(){var t=Is(Ef()(Wr));return t.copy=function(){return $s(t,II())},Xa.apply(t,arguments)}function $I(){var t=yw(Ef()).domain([.1,1,10]);return t.copy=function(){return $s(t,$I()).base(t.base())},Xa.apply(t,arguments)}function MI(){var t=vw(Ef());return t.copy=function(){return $s(t,MI()).constant(t.constant())},Xa.apply(t,arguments)}function Pw(){var t=xw(Ef());return t.copy=function(){return $s(t,Pw()).exponent(t.exponent())},Xa.apply(t,arguments)}function wz(){return Pw.apply(null,arguments).exponent(.5)}const IO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ic,scaleDiverging:II,scaleDivergingLog:$I,scaleDivergingPow:Pw,scaleDivergingSqrt:wz,scaleDivergingSymlog:MI,scaleIdentity:fI,scaleImplicit:Cx,scaleLinear:bh,scaleLog:mI,scaleOrdinal:uw,scalePoint:hc,scalePow:bw,scaleQuantile:vI,scaleQuantize:xI,scaleRadial:yI,scaleSequential:AI,scaleSequentialLog:PI,scaleSequentialPow:Aw,scaleSequentialQuantile:CI,scaleSequentialSqrt:bz,scaleSequentialSymlog:TI,scaleSqrt:t9,scaleSymlog:gI,scaleThreshold:bI,scaleTime:vz,scaleUtc:xz,tickFormat:hI},Symbol.toStringTag,{value:"Module"}));var a0,$O;function Af(){if($O)return a0;$O=1;var t=sl();function e(r,n,a){for(var i=-1,l=r.length;++i<l;){var u=r[i],d=n(u);if(d!=null&&(h===void 0?d===d&&!t(d):a(d,h)))var h=d,m=u}return m}return a0=e,a0}var s0,MO;function DI(){if(MO)return s0;MO=1;function t(e,r){return e>r}return s0=t,s0}var i0,DO;function jz(){if(DO)return i0;DO=1;var t=Af(),e=DI(),r=ll();function n(a){return a&&a.length?t(a,r,e):void 0}return i0=n,i0}var Nz=jz();const Pf=St(Nz);var o0,RO;function RI(){if(RO)return o0;RO=1;function t(e,r){return e<r}return o0=t,o0}var l0,LO;function _z(){if(LO)return l0;LO=1;var t=Af(),e=RI(),r=ll();function n(a){return a&&a.length?t(a,r,e):void 0}return l0=n,l0}var Sz=_z();const Tf=St(Sz);var c0,FO;function kz(){if(FO)return c0;FO=1;var t=Kb(),e=Na(),r=KC(),n=rn();function a(i,l){var u=n(i)?t:r;return u(i,e(l,3))}return c0=a,c0}var u0,qO;function Oz(){if(qO)return u0;qO=1;var t=HC(),e=kz();function r(n,a){return t(e(n,a),1)}return u0=r,u0}var Ez=Oz();const Az=St(Ez);var d0,BO;function Pz(){if(BO)return d0;BO=1;var t=sw();function e(r,n){return t(r,n)}return d0=e,d0}var Tz=Pz();const vu=St(Tz);var ul=1e9,Cz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Cw,Ft=!0,Fn="[DecimalError] ",mi=Fn+"Invalid argument: ",Tw=Fn+"Exponent out of range: ",dl=Math.floor,ai=Math.pow,Iz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yn,pr=1e7,Dt=7,LI=9007199254740991,_h=dl(LI/Dt),Fe={};Fe.absoluteValue=Fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Fe.comparedTo=Fe.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Dt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Fe.dividedBy=Fe.div=function(t){return za(this,new this.constructor(t))};Fe.dividedToIntegerBy=Fe.idiv=function(t){var e=this,r=e.constructor;return Et(za(e,new r(t),0,1),r.precision)};Fe.equals=Fe.eq=function(t){return!this.cmp(t)};Fe.exponent=function(){return Qt(this)};Fe.greaterThan=Fe.gt=function(t){return this.cmp(t)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(t){return this.cmp(t)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(t){return this.cmp(t)<0};Fe.lessThanOrEqualTo=Fe.lte=function(t){return this.cmp(t)<1};Fe.logarithm=Fe.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(yn))throw Error(Fn+"NaN");if(r.s<1)throw Error(Fn+(r.s?"NaN":"-Infinity"));return r.eq(yn)?new n(0):(Ft=!1,e=za(Lc(r,i),Lc(t,i),i),Ft=!0,Et(e,a))};Fe.minus=Fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BI(e,t):FI(e,(t.s=-t.s,t))};Fe.modulo=Fe.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Fn+"NaN");return r.s?(Ft=!1,e=za(r,t,0,1).times(t),Ft=!0,r.minus(e)):Et(new n(r),a)};Fe.naturalExponential=Fe.exp=function(){return qI(this)};Fe.naturalLogarithm=Fe.ln=function(){return Lc(this)};Fe.negated=Fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Fe.plus=Fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FI(e,t):BI(e,(t.s=-t.s,t))};Fe.precision=Fe.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(mi+t);if(e=Qt(a)+1,n=a.d.length-1,r=n*Dt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Fe.squareRoot=Fe.sqrt=function(){var t,e,r,n,a,i,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Fn+"NaN")}for(t=Qt(u),Ft=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=ya(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=dl((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(i=n,n=i.plus(za(u,i,l+2)).times(.5),ya(i.d).slice(0,l)===(e=ya(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(Et(i,r+1,0),i.times(i).eq(u)){n=i;break}}else if(e!="9999")break;l+=4}return Ft=!0,Et(n,r)};Fe.times=Fe.mul=function(t){var e,r,n,a,i,l,u,d,h,m=this,p=m.constructor,g=m.d,v=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,r=m.e+t.e,d=g.length,h=v.length,d<h&&(i=g,g=v,v=i,l=d,d=h,h=l),i=[],l=d+h,n=l;n--;)i.push(0);for(n=h;--n>=0;){for(e=0,a=d+n;a>n;)u=i[a]+v[n]*g[a-n-1]+e,i[a--]=u%pr|0,e=u/pr|0;i[a]=(i[a]+e)%pr|0}for(;!i[--l];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Ft?Et(t,p.precision):t};Fe.toDecimalPlaces=Fe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ba(t,0,ul),e===void 0?e=n.rounding:ba(e,0,8),Et(r,t+Qt(r)+1,e))};Fe.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=bi(n,!0):(ba(t,0,ul),e===void 0?e=a.rounding:ba(e,0,8),n=Et(new a(n),t+1,e),r=bi(n,!0,t+1)),r};Fe.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?bi(a):(ba(t,0,ul),e===void 0?e=i.rounding:ba(e,0,8),n=Et(new i(a),t+Qt(a)+1,e),r=bi(n.abs(),!1,t+Qt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Fe.toInteger=Fe.toint=function(){var t=this,e=t.constructor;return Et(new e(t),Qt(t)+1,e.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(t){var e,r,n,a,i,l,u=this,d=u.constructor,h=12,m=+(t=new d(t));if(!t.s)return new d(yn);if(u=new d(u),!u.s){if(t.s<1)throw Error(Fn+"Infinity");return u}if(u.eq(yn))return u;if(n=d.precision,t.eq(yn))return Et(u,n);if(e=t.e,r=t.d.length-1,l=e>=r,i=u.s,l){if((r=m<0?-m:m)<=LI){for(a=new d(yn),e=Math.ceil(n/Dt+4),Ft=!1;r%2&&(a=a.times(u),zO(a.d,e)),r=dl(r/2),r!==0;)u=u.times(u),zO(u.d,e);return Ft=!0,t.s<0?new d(yn).div(a):Et(a,n)}}else if(i<0)throw Error(Fn+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Ft=!1,a=t.times(Lc(u,n+h)),Ft=!0,a=qI(a),a.s=i,a};Fe.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Qt(a),n=bi(a,r<=i.toExpNeg||r>=i.toExpPos)):(ba(t,1,ul),e===void 0?e=i.rounding:ba(e,0,8),a=Et(new i(a),t,e),r=Qt(a),n=bi(a,t<=r||r<=i.toExpNeg,t)),n};Fe.toSignificantDigits=Fe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ba(t,1,ul),e===void 0?e=n.rounding:ba(e,0,8)),Et(new n(r),t,e)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Qt(t),r=t.constructor;return bi(t,e<=r.toExpNeg||e>=r.toExpPos)};function FI(t,e){var r,n,a,i,l,u,d,h,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Ft?Et(e,p):e;if(d=t.d,h=e.d,l=t.e,a=e.e,d=d.slice(),i=l-a,i){for(i<0?(n=d,i=-i,u=h.length):(n=h,a=l,u=d.length),l=Math.ceil(p/Dt),u=l>u?l+1:u+1,i>u&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(u=d.length,i=h.length,u-i<0&&(i=u,n=h,h=d,d=n),r=0;i;)r=(d[--i]=d[i]+h[i]+r)/pr|0,d[i]%=pr;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=a,Ft?Et(e,p):e}function ba(t,e,r){if(t!==~~t||t<e||t>r)throw Error(mi+t)}function ya(t){var e,r,n,a=t.length-1,i="",l=t[0];if(a>0){for(i+=l,e=1;e<a;e++)n=t[e]+"",r=Dt-n.length,r&&(i+=Ns(r)),i+=n;l=t[e],n=l+"",r=Dt-n.length,r&&(i+=Ns(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var za=(function(){function t(n,a){var i,l=0,u=n.length;for(n=n.slice();u--;)i=n[u]*a+l,n[u]=i%pr|0,l=i/pr|0;return l&&n.unshift(l),n}function e(n,a,i,l){var u,d;if(i!=l)d=i>l?1:-1;else for(u=d=0;u<i;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*pr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var u,d,h,m,p,g,v,j,w,b,N,k,S,P,E,O,A,T,R=n.constructor,D=n.s==a.s?1:-1,F=n.d,I=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(Fn+"Division by zero");for(d=n.e-a.e,A=I.length,E=F.length,v=new R(D),j=v.d=[],h=0;I[h]==(F[h]||0);)++h;if(I[h]>(F[h]||0)&&--d,i==null?k=i=R.precision:l?k=i+(Qt(n)-Qt(a))+1:k=i,k<0)return new R(0);if(k=k/Dt+2|0,h=0,A==1)for(m=0,I=I[0],k++;(h<E||m)&&k--;h++)S=m*pr+(F[h]||0),j[h]=S/I|0,m=S%I|0;else{for(m=pr/(I[0]+1)|0,m>1&&(I=t(I,m),F=t(F,m),A=I.length,E=F.length),P=A,w=F.slice(0,A),b=w.length;b<A;)w[b++]=0;T=I.slice(),T.unshift(0),O=I[0],I[1]>=pr/2&&++O;do m=0,u=e(I,w,A,b),u<0?(N=w[0],A!=b&&(N=N*pr+(w[1]||0)),m=N/O|0,m>1?(m>=pr&&(m=pr-1),p=t(I,m),g=p.length,b=w.length,u=e(p,w,g,b),u==1&&(m--,r(p,A<g?T:I,g))):(m==0&&(u=m=1),p=I.slice()),g=p.length,g<b&&p.unshift(0),r(w,p,b),u==-1&&(b=w.length,u=e(I,w,A,b),u<1&&(m++,r(w,A<b?T:I,b))),b=w.length):u===0&&(m++,w=[0]),j[h++]=m,u&&w[0]?w[b++]=F[P]||0:(w=[F[P]],b=1);while((P++<E||w[0]!==void 0)&&k--)}return j[0]||j.shift(),v.e=d,Et(v,l?i+Qt(v)+1:i)}})();function qI(t,e){var r,n,a,i,l,u,d=0,h=0,m=t.constructor,p=m.precision;if(Qt(t)>16)throw Error(Tw+Qt(t));if(!t.s)return new m(yn);for(Ft=!1,u=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(ai(2,h))/Math.LN10*2+5|0,u+=n,r=a=i=new m(yn),m.precision=u;;){if(a=Et(a.times(t),u),r=r.times(++d),l=i.plus(za(a,r,u)),ya(l.d).slice(0,u)===ya(i.d).slice(0,u)){for(;h--;)i=Et(i.times(i),u);return m.precision=p,e==null?(Ft=!0,Et(i,p)):i}i=l}}function Qt(t){for(var e=t.e*Dt,r=t.d[0];r>=10;r/=10)e++;return e}function h0(t,e,r){if(e>t.LN10.sd())throw Ft=!0,r&&(t.precision=r),Error(Fn+"LN10 precision limit exceeded");return Et(new t(t.LN10),e)}function Ns(t){for(var e="";t--;)e+="0";return e}function Lc(t,e){var r,n,a,i,l,u,d,h,m,p=1,g=10,v=t,j=v.d,w=v.constructor,b=w.precision;if(v.s<1)throw Error(Fn+(v.s?"NaN":"-Infinity"));if(v.eq(yn))return new w(0);if(e==null?(Ft=!1,h=b):h=e,v.eq(10))return e==null&&(Ft=!0),h0(w,h);if(h+=g,w.precision=h,r=ya(j),n=r.charAt(0),i=Qt(v),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=ya(v.d),n=r.charAt(0),p++;i=Qt(v),n>1?(v=new w("0."+r),i++):v=new w(n+"."+r.slice(1))}else return d=h0(w,h+2,b).times(i+""),v=Lc(new w(n+"."+r.slice(1)),h-g).plus(d),w.precision=b,e==null?(Ft=!0,Et(v,b)):v;for(u=l=v=za(v.minus(yn),v.plus(yn),h),m=Et(v.times(v),h),a=3;;){if(l=Et(l.times(m),h),d=u.plus(za(l,new w(a),h)),ya(d.d).slice(0,h)===ya(u.d).slice(0,h))return u=u.times(2),i!==0&&(u=u.plus(h0(w,h+2,b).times(i+""))),u=za(u,new w(p),h),w.precision=b,e==null?(Ft=!0,Et(u,b)):u;u=d,a+=2}}function UO(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=dl(r/Dt),t.d=[],n=(r+1)%Dt,r<0&&(n+=Dt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Dt;n<a;)t.d.push(+e.slice(n,n+=Dt));e=e.slice(n),n=Dt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Ft&&(t.e>_h||t.e<-_h))throw Error(Tw+r)}else t.s=0,t.e=0,t.d=[0];return t}function Et(t,e,r){var n,a,i,l,u,d,h,m,p=t.d;for(l=1,i=p[0];i>=10;i/=10)l++;if(n=e-l,n<0)n+=Dt,a=e,h=p[m=0];else{if(m=Math.ceil((n+1)/Dt),i=p.length,m>=i)return t;for(h=i=p[m],l=1;i>=10;i/=10)l++;n%=Dt,a=n-Dt+l}if(r!==void 0&&(i=ai(10,l-a-1),u=h/i%10|0,d=e<0||p[m+1]!==void 0||h%i,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?h/ai(10,l-a):0:p[m-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return d?(i=Qt(t),p.length=1,e=e-i-1,p[0]=ai(10,(Dt-e%Dt)%Dt),t.e=dl(-e/Dt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=m,i=1,m--):(p.length=m+1,i=ai(10,Dt-n),p[m]=a>0?(h/ai(10,l-a)%ai(10,a)|0)*i:0),d)for(;;)if(m==0){(p[0]+=i)==pr&&(p[0]=1,++t.e);break}else{if(p[m]+=i,p[m]!=pr)break;p[m--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(Ft&&(t.e>_h||t.e<-_h))throw Error(Tw+Qt(t));return t}function BI(t,e){var r,n,a,i,l,u,d,h,m,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Ft?Et(e,v):e;if(d=t.d,p=e.d,n=e.e,h=t.e,d=d.slice(),l=h-n,l){for(m=l<0,m?(r=d,l=-l,u=p.length):(r=p,n=h,u=d.length),a=Math.max(Math.ceil(v/Dt),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=p.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(d[a]!=p[a]){m=d[a]<p[a];break}l=0}for(m&&(r=d,d=p,p=r,e.s=-e.s),u=d.length,a=p.length-u;a>0;--a)d[u++]=0;for(a=p.length;a>l;){if(d[--a]<p[a]){for(i=a;i&&d[--i]===0;)d[i]=pr-1;--d[i],d[a]+=pr}d[a]-=p[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Ft?Et(e,v):e):new g(0)}function bi(t,e,r){var n,a=Qt(t),i=ya(t.d),l=i.length;return e?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+Ns(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ns(-a-1)+i,r&&(n=r-l)>0&&(i+=Ns(n))):a>=l?(i+=Ns(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+Ns(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=Ns(n))),t.s<0?"-"+i:i}function zO(t,e){if(t.length>e)return t.length=e,!0}function UI(t){var e,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(mi+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return UO(l,i.toString())}else if(typeof i!="string")throw Error(mi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Iz.test(i))UO(l,i);else throw Error(mi+i)}if(a.prototype=Fe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=UI,a.config=a.set=$z,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function $z(t){if(!t||typeof t!="object")throw Error(Fn+"Object expected");var e,r,n,a=["precision",1,ul,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(dl(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(mi+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mi+r+": "+n);return this}var Cw=UI(Cz);yn=new Cw(1);const kt=Cw;function Mz(t){return Fz(t)||Lz(t)||Rz(t)||Dz()}function Dz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rz(t,e){if(t){if(typeof t=="string")return Dx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dx(t,e)}}function Lz(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Fz(t){if(Array.isArray(t))return Dx(t)}function Dx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var qz=function(e){return e},zI={},HI=function(e){return e===zI},HO=function(e){return function r(){return arguments.length===0||arguments.length===1&&HI(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Bz=function t(e,r){return e===1?r:HO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var l=a.filter(function(u){return u!==zI}).length;return l>=e?r.apply(void 0,a):t(e-l,HO(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var m=a.map(function(p){return HI(p)?d.shift():p});return r.apply(void 0,Mz(m).concat(d))}))})},Cf=function(e){return Bz(e.length,e)},Rx=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},Uz=Cf(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),zz=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return qz;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},Lx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},WI=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r&&i.every(function(u,d){return u===r[d]})||(r=i,n=e.apply(void 0,i)),n}};function Hz(t){var e;return t===0?e=1:e=Math.floor(new kt(t).abs().log(10).toNumber())+1,e}function Wz(t,e,r){for(var n=new kt(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Kz=Cf(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),Vz=Cf(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Gz=Cf(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const If={rangeStep:Wz,getDigitCount:Hz,interpolateNumber:Kz,uninterpolateNumber:Vz,uninterpolateTruncation:Gz};function Fx(t){return Xz(t)||Jz(t)||KI(t)||Yz()}function Yz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jz(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Xz(t){if(Array.isArray(t))return qx(t)}function Fc(t,e){return eH(t)||Zz(t,e)||KI(t,e)||Qz()}function Qz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KI(t,e){if(t){if(typeof t=="string")return qx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qx(t,e)}}function qx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zz(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var l=t[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){a=!0,i=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(a)throw i}}return r}}function eH(t){if(Array.isArray(t))return t}function VI(t){var e=Fc(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function GI(t,e,r){if(t.lte(0))return new kt(0);var n=If.getDigitCount(t.toNumber()),a=new kt(10).pow(n),i=t.div(a),l=n!==1?.05:.1,u=new kt(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=u.mul(a);return e?d:new kt(Math.ceil(d))}function tH(t,e,r){var n=1,a=new kt(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new kt(10).pow(If.getDigitCount(t)-1),a=new kt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new kt(Math.floor(t)))}else t===0?a=new kt(Math.floor((e-1)/2)):r||(a=new kt(Math.floor(t)));var l=Math.floor((e-1)/2),u=zz(Uz(function(d){return a.add(new kt(d-l).mul(n)).toNumber()}),Rx);return u(0,e)}function YI(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new kt(0),tickMin:new kt(0),tickMax:new kt(0)};var i=GI(new kt(e).sub(t).div(r-1),n,a),l;t<=0&&e>=0?l=new kt(0):(l=new kt(t).add(e).div(2),l=l.sub(new kt(l).mod(i)));var u=Math.ceil(l.sub(t).div(i).toNumber()),d=Math.ceil(new kt(e).sub(l).div(i).toNumber()),h=u+d+1;return h>r?YI(t,e,r,n,a+1):(h<r&&(d=e>0?d+(r-h):d,u=e>0?u:u+(r-h)),{step:i,tickMin:l.sub(new kt(u).mul(i)),tickMax:l.add(new kt(d).mul(i))})}function rH(t){var e=Fc(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),u=VI([r,n]),d=Fc(u,2),h=d[0],m=d[1];if(h===-1/0||m===1/0){var p=m===1/0?[h].concat(Fx(Rx(0,a-1).map(function(){return 1/0}))):[].concat(Fx(Rx(0,a-1).map(function(){return-1/0})),[m]);return r>n?Lx(p):p}if(h===m)return tH(h,a,i);var g=YI(h,m,l,i),v=g.step,j=g.tickMin,w=g.tickMax,b=If.rangeStep(j,w.add(new kt(.1).mul(v)),v);return r>n?Lx(b):b}function nH(t,e){var r=Fc(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=VI([n,a]),u=Fc(l,2),d=u[0],h=u[1];if(d===-1/0||h===1/0)return[n,a];if(d===h)return[d];var m=Math.max(e,2),p=GI(new kt(h).sub(d).div(m-1),i,0),g=[].concat(Fx(If.rangeStep(new kt(d),new kt(h).sub(new kt(.99).mul(p)),p)),[h]);return n>a?Lx(g):g}var aH=WI(rH),sH=WI(nH),iH="Invariant failed";function wi(t,e){throw new Error(iH)}var oH=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fo(t){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(t)}function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sh.apply(this,arguments)}function lH(t,e){return hH(t)||dH(t,e)||uH(t,e)||cH()}function cH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uH(t,e){if(t){if(typeof t=="string")return WO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WO(t,e)}}function WO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function hH(t){if(Array.isArray(t))return t}function fH(t,e){if(t==null)return{};var r=pH(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QI(n.key),n)}}function yH(t,e,r){return e&&gH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vH(t,e,r){return e=kh(e),xH(t,JI()?Reflect.construct(e,r||[],kh(t).constructor):e.apply(t,r))}function xH(t,e){if(e&&(Fo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bH(t)}function bH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JI=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kh(t)}function wH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bx(t,e)}function Bx(t,e){return Bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bx(t,e)}function XI(t,e,r){return e=QI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QI(t){var e=jH(t,"string");return Fo(e)=="symbol"?e:e+""}function jH(t,e){if(Fo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xu=(function(t){function e(){return mH(this,e),vH(this,e,arguments)}return wH(e,t),yH(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,l=n.width,u=n.dataKey,d=n.data,h=n.dataPointFormatter,m=n.xAxis,p=n.yAxis,g=fH(n,oH),v=Je(g,!1);this.props.direction==="x"&&m.type!=="number"&&wi();var j=d.map(function(w){var b=h(w,u),N=b.x,k=b.y,S=b.value,P=b.errorVal;if(!P)return null;var E=[],O,A;if(Array.isArray(P)){var T=lH(P,2);O=T[0],A=T[1]}else O=A=P;if(i==="vertical"){var R=m.scale,D=k+a,F=D+l,I=D-l,q=R(S-O),K=R(S+A);E.push({x1:K,y1:F,x2:K,y2:I}),E.push({x1:q,y1:D,x2:K,y2:D}),E.push({x1:q,y1:F,x2:q,y2:I})}else if(i==="horizontal"){var W=p.scale,J=N+a,re=J-l,G=J+l,oe=W(S-O),Z=W(S+A);E.push({x1:re,y1:Z,x2:G,y2:Z}),E.push({x1:J,y1:oe,x2:J,y2:Z}),E.push({x1:re,y1:oe,x2:G,y2:oe})}return z.createElement(mt,Sh({className:"recharts-errorBar",key:"bar-".concat(E.map(function(M){return"".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))},v),E.map(function(M){return z.createElement("line",Sh({},M,{key:"line-".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))}))});return z.createElement(mt,{className:"recharts-errorBars"},j)}}])})(z.Component);XI(xu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});XI(xu,"displayName","ErrorBar");function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){NH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NH(t,e,r){return e=_H(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _H(t){var e=SH(t,"string");return qc(e)=="symbol"?e:e+""}function SH(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZI=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,l=pn(r,fi);if(!l)return null;var u=fi.defaultProps,d=u!==void 0?Qs(Qs({},u),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:i==="children"?h=(n||[]).reduce(function(m,p){var g=p.item,v=p.props,j=v.sectors||v.data||[];return m.concat(j.map(function(w){return{type:l.props.iconType||g.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(n||[]).map(function(m){var p=m.item,g=p.type.defaultProps,v=g!==void 0?Qs(Qs({},g),p.props):{},j=v.dataKey,w=v.name,b=v.legendType,N=v.hide;return{inactive:N,dataKey:j,type:d.iconType||b||"square",color:Iw(p),value:w||j,payload:v}}),Qs(Qs(Qs({},d),fi.getWithHeight(l,a)),{},{payload:h,item:l})};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function VO(t){return AH(t)||EH(t)||OH(t)||kH()}function kH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OH(t,e){if(t){if(typeof t=="string")return Ux(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ux(t,e)}}function EH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AH(t){if(Array.isArray(t))return Ux(t)}function Ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){Eo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eo(t,e,r){return e=PH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PH(t){var e=TH(t,"string");return Bc(e)=="symbol"?e:e+""}function TH(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function or(t,e,r){return at(t)||at(e)?r:lr(e)?xn(t,e,r):nt(e)?e(t):r}function fc(t,e,r,n){var a=Az(t,function(u){return or(u,e)});if(r==="number"){var i=a.filter(function(u){return Ee(u)||parseFloat(u)});return i.length?[Tf(i),Pf(i)]:[1/0,-1/0]}var l=n?a.filter(function(u){return!at(u)}):a;return l.map(function(u){return lr(u)||u instanceof Date?u:""})}var CH=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,h=0;h<u;h++){var m=h>0?a[h-1].coordinate:a[u-1].coordinate,p=a[h].coordinate,g=h>=u-1?a[0].coordinate:a[h+1].coordinate,v=void 0;if(zr(p-m)!==zr(g-p)){var j=[];if(zr(g-p)===zr(d[1]-d[0])){v=g;var w=p+d[1]-d[0];j[0]=Math.min(w,(w+m)/2),j[1]=Math.max(w,(w+m)/2)}else{v=m;var b=g+d[1]-d[0];j[0]=Math.min(p,(b+p)/2),j[1]=Math.max(p,(b+p)/2)}var N=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>N[0]&&e<=N[1]||e>=j[0]&&e<=j[1]){l=a[h].index;break}}else{var k=Math.min(m,g),S=Math.max(m,g);if(e>(k+p)/2&&e<=(S+p)/2){l=a[h].index;break}}}else for(var P=0;P<u;P++)if(P===0&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P>0&&P<u-1&&e>(n[P].coordinate+n[P-1].coordinate)/2&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P===u-1&&e>(n[P].coordinate+n[P-1].coordinate)/2){l=n[P].index;break}return l},Iw=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Wt(Wt({},e.type.defaultProps),e.props):e.props,l=i.stroke,u=i.fill,d;switch(a){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},IH=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var l={},u=Object.keys(i),d=0,h=u.length;d<h;d++)for(var m=i[u[d]].stackGroups,p=Object.keys(m),g=0,v=p.length;g<v;g++){var j=m[p[g]],w=j.items,b=j.cateAxisId,N=w.filter(function(A){return Ua(A.type).indexOf("Bar")>=0});if(N&&N.length){var k=N[0].type.defaultProps,S=k!==void 0?Wt(Wt({},k),N[0].props):N[0].props,P=S.barSize,E=S[b];l[E]||(l[E]=[]);var O=at(P)?r:P;l[E].push({item:N[0],stackList:N.slice(1),barSize:at(O)?void 0:Hr(O,n,0)})}}return l},$H=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,l=i===void 0?[]:i,u=e.maxBarSize,d=l.length;if(d<1)return null;var h=Hr(r,a,0,!0),m,p=[];if(l[0].barSize===+l[0].barSize){var g=!1,v=a/d,j=l.reduce(function(P,E){return P+E.barSize||0},0);j+=(d-1)*h,j>=a&&(j-=(d-1)*h,h=0),j>=a&&v>0&&(g=!0,v*=.9,j=d*v);var w=(a-j)/2>>0,b={offset:w-h,size:0};m=l.reduce(function(P,E){var O={item:E.item,position:{offset:b.offset+b.size+h,size:g?v:E.barSize}},A=[].concat(VO(P),[O]);return b=A[A.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){A.push({item:T,position:b})}),A},p)}else{var N=Hr(n,a,0,!0);a-2*N-(d-1)*h<=0&&(h=0);var k=(a-2*N-(d-1)*h)/d;k>1&&(k>>=0);var S=u===+u?Math.min(k,u):k;m=l.reduce(function(P,E,O){var A=[].concat(VO(P),[{item:E.item,position:{offset:N+(k+h)*O+(k-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){A.push({item:T,position:A[A.length-1].position})}),A},p)}return m},MH=function(e,r,n,a){var i=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),h=ZI({children:i,legendWidth:d});if(h){var m=a||{},p=m.width,g=m.height,v=h.align,j=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&j==="middle")&&v!=="center"&&Ee(e[v]))return Wt(Wt({},e),{},Eo({},v,e[v]+(p||0)));if((w==="horizontal"||w==="vertical"&&v==="center")&&j!=="middle"&&Ee(e[j]))return Wt(Wt({},e),{},Eo({},j,e[j]+(g||0)))}return e},DH=function(e,r,n){return at(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},e$=function(e,r,n,a,i){var l=r.props.children,u=bn(l,xu).filter(function(h){return DH(a,i,h.props.direction)});if(u&&u.length){var d=u.map(function(h){return h.props.dataKey});return e.reduce(function(h,m){var p=or(m,n);if(at(p))return h;var g=Array.isArray(p)?[Tf(p),Pf(p)]:[p,p],v=d.reduce(function(j,w){var b=or(m,w,0),N=g[0]-Math.abs(Array.isArray(b)?b[0]:b),k=g[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(N,j[0]),Math.max(k,j[1])]},[1/0,-1/0]);return[Math.min(v[0],h[0]),Math.max(v[1],h[1])]},[1/0,-1/0])}return null},RH=function(e,r,n,a,i){var l=r.map(function(u){return e$(e,u,n,i,a)}).filter(function(u){return!at(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},t$=function(e,r,n,a,i){var l=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&e$(e,d,h,a)||fc(e,h,n,i)});if(n==="number")return l.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,h){for(var m=0,p=h.length;m<p;m++)u[h[m]]||(u[h[m]]=!0,d.push(h[m]));return d},[])},r$=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},n$=function(e,r,n,a){if(a)return e.map(function(d){return d.coordinate});var i,l,u=e.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===n&&(l=!0),d.coordinate});return i||u.push(r),l||u.push(n),u},qa=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,l=e.type,u=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,h=(r||n)&&l==="category"&&a.bandwidth?a.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&u?.length>=2?zr(u[0]-u[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var m=(e.ticks||e.niceTicks).map(function(p){var g=i?i.indexOf(p):p;return{coordinate:a(g)+h,value:p,offset:h}});return m.filter(function(p){return!hu(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,g){return{coordinate:a(p)+h,value:p,index:g,offset:h}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(p){return{coordinate:a(p)+h,value:p,offset:h}}):a.domain().map(function(p,g){return{coordinate:a(p)+h,value:i?i[p]:p,index:g,offset:h}})},f0=new WeakMap,qd=function(e,r){if(typeof r!="function")return e;f0.has(e)||f0.set(e,new WeakMap);var n=f0.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},a$=function(e,r,n){var a=e.scale,i=e.type,l=e.layout,u=e.axisType;if(a==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Ic(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:bh(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:hc(),realScaleType:"point"}:i==="category"?{scale:Ic(),realScaleType:"band"}:{scale:bh(),realScaleType:"linear"};if(yi(a)){var d="scale".concat(mf(a));return{scale:(IO[d]||hc)(),realScaleType:IO[d]?d:"point"}}return nt(a)?{scale:a}:{scale:hc(),realScaleType:"point"}},YO=1e-4,s$=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-YO,l=Math.max(a[0],a[1])+YO,u=e(r[0]),d=e(r[n-1]);(u<i||u>l||d<i||d>l)&&e.domain([r[0],r[n-1]])}},LH=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},FH=function(e,r){if(!r||r.length!==2||!Ee(r[0])||!Ee(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Ee(e[0])||e[0]<n)&&(i[0]=n),(!Ee(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},qH=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,l=0,u=0;u<r;++u){var d=hu(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=i,e[u][n][1]=i+d,i=e[u][n][1]):(e[u][n][0]=l,e[u][n][1]=l+d,l=e[u][n][1])}},BH=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,l=0;l<r;++l){var u=hu(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},UH={sign:qH,expand:Aq,none:To,silhouette:Pq,wiggle:Tq,positive:BH},zH=function(e,r,n){var a=r.map(function(u){return u.props.dataKey}),i=UH[n],l=Eq().keys(a).value(function(u,d){return+or(u,d,0)}).order(vx).offset(i);return l(e)},HH=function(e,r,n,a,i,l){if(!e)return null;var u=l?r.reverse():r,d={},h=u.reduce(function(p,g){var v,j=(v=g.type)!==null&&v!==void 0&&v.defaultProps?Wt(Wt({},g.type.defaultProps),g.props):g.props,w=j.stackId,b=j.hide;if(b)return p;var N=j[n],k=p[N]||{hasStack:!1,stackGroups:{}};if(lr(w)){var S=k.stackGroups[w]||{numericAxisId:n,cateAxisId:a,items:[]};S.items.push(g),k.hasStack=!0,k.stackGroups[w]=S}else k.stackGroups[ol("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[g]};return Wt(Wt({},p),{},Eo({},N,k))},d),m={};return Object.keys(h).reduce(function(p,g){var v=h[g];if(v.hasStack){var j={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(w,b){var N=v.stackGroups[b];return Wt(Wt({},w),{},Eo({},b,{numericAxisId:n,cateAxisId:a,items:N.items,stackedData:zH(e,N.items,i)}))},j)}return Wt(Wt({},p),{},Eo({},g,v))},m)},i$=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var m=aH(h,i,u);return e.domain([Tf(m),Pf(m)]),{niceTicks:m}}if(i&&a==="number"){var p=e.domain(),g=sH(p,i,u);return{niceTicks:g}}return null};function JO(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,l=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!at(a[e.dataKey])){var u=th(r,"value",a[e.dataKey]);if(u)return u.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=or(a,at(l)?e.dataKey:l);return at(d)?null:e.scale(d)}var XO=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,l=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+a:null;var d=or(l,r.dataKey,r.domain[u]);return at(d)?null:r.scale(d)-i/2+a},WH=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},KH=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Wt(Wt({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(lr(i)){var l=r[i];if(l){var u=l.items.indexOf(e);return u>=0?l.stackedData[u]:null}}return null},VH=function(e){return e.reduce(function(r,n){return[Tf(n.concat([r[0]]).filter(Ee)),Pf(n.concat([r[1]]).filter(Ee))]},[1/0,-1/0])},o$=function(e,r,n){return Object.keys(e).reduce(function(a,i){var l=e[i],u=l.stackedData,d=u.reduce(function(h,m){var p=VH(m.slice(r,n+1));return[Math.min(h[0],p[0]),Math.max(h[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},QO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zx=function(e,r,n){if(nt(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Ee(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(QO.test(e[0])){var i=+QO.exec(e[0])[1];a[0]=r[0]-i}else nt(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Ee(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(ZO.test(e[1])){var l=+ZO.exec(e[1])[1];a[1]=r[1]+l}else nt(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Oh=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=ow(r,function(p){return p.coordinate}),l=1/0,u=1,d=i.length;u<d;u++){var h=i[u],m=i[u-1];l=Math.min((h.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},eE=function(e,r,n){return!e||!e.length||vu(e,xn(n,"type.defaultProps.domain"))?r:e},l$=function(e,r){var n=e.type.defaultProps?Wt(Wt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,h=n.chartType,m=n.hide;return Wt(Wt({},Je(e,!1)),{},{dataKey:a,unit:l,formatter:u,name:i||a,color:Iw(e),value:or(r,a),type:d,payload:r,chartType:h,hide:m})};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function tE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tE(Object(r),!0).forEach(function(n){c$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c$(t,e,r){return e=GH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GH(t){var e=YH(t,"string");return Uc(e)=="symbol"?e:e+""}function YH(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JH(t,e){return eW(t)||ZH(t,e)||QH(t,e)||XH()}function XH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QH(t,e){if(t){if(typeof t=="string")return rE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rE(t,e)}}function rE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function eW(t){if(Array.isArray(t))return t}var Eh=Math.PI/180,tW=function(e){return e*180/Math.PI},It=function(e,r,n,a){return{x:e+Math.cos(-Eh*a)*n,y:r+Math.sin(-Eh*a)*n}},u$=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},rW=function(e,r,n,a,i){var l=e.width,u=e.height,d=e.startAngle,h=e.endAngle,m=Hr(e.cx,l,l/2),p=Hr(e.cy,u,u/2),g=u$(l,u,n),v=Hr(e.innerRadius,g,0),j=Hr(e.outerRadius,g,g*.8),w=Object.keys(r);return w.reduce(function(b,N){var k=r[N],S=k.domain,P=k.reversed,E;if(at(k.range))a==="angleAxis"?E=[d,h]:a==="radiusAxis"&&(E=[v,j]),P&&(E=[E[1],E[0]]);else{E=k.range;var O=E,A=JH(O,2);d=A[0],h=A[1]}var T=a$(k,i),R=T.realScaleType,D=T.scale;D.domain(S).range(E),s$(D);var F=i$(D,Ra(Ra({},k),{},{realScaleType:R})),I=Ra(Ra(Ra({},k),F),{},{range:E,radius:j,realScaleType:R,scale:D,cx:m,cy:p,innerRadius:v,outerRadius:j,startAngle:d,endAngle:h});return Ra(Ra({},b),{},c$({},N,I))},{})},nW=function(e,r){var n=e.x,a=e.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-l,2))},aW=function(e,r){var n=e.x,a=e.y,i=r.cx,l=r.cy,u=nW({x:n,y:a},{x:i,y:l});if(u<=0)return{radius:u};var d=(n-i)/u,h=Math.acos(d);return a>l&&(h=2*Math.PI-h),{radius:u,angle:tW(h),angleInRadian:h}},sW=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return{startAngle:r-l*360,endAngle:n-l*360}},iW=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),l=Math.floor(a/360),u=Math.min(i,l);return e+u*360},nE=function(e,r){var n=e.x,a=e.y,i=aW({x:n,y:a},r),l=i.radius,u=i.angle,d=r.innerRadius,h=r.outerRadius;if(l<d||l>h)return!1;if(l===0)return!0;var m=sW(r),p=m.startAngle,g=m.endAngle,v=u,j;if(p<=g){for(;v>g;)v-=360;for(;v<p;)v+=360;j=v>=p&&v<=g}else{for(;v>p;)v-=360;for(;v<g;)v+=360;j=v>=g&&v<=p}return j?Ra(Ra({},r),{},{radius:l,angle:iW(v,r)}):null},d$=function(e){return!$.isValidElement(e)&&!nt(e)&&typeof e!="boolean"?e.className:""};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var oW=["offset"];function lW(t){return hW(t)||dW(t)||uW(t)||cW()}function cW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uW(t,e){if(t){if(typeof t=="string")return Hx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hx(t,e)}}function dW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hW(t){if(Array.isArray(t))return Hx(t)}function Hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fW(t,e){if(t==null)return{};var r=pW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(r),!0).forEach(function(n){mW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mW(t,e,r){return e=gW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gW(t){var e=yW(t,"string");return zc(e)=="symbol"?e:e+""}function yW(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hc.apply(this,arguments)}var vW=function(e){var r=e.value,n=e.formatter,a=at(e.children)?r:e.children;return nt(n)?n(a):a},xW=function(e,r){var n=zr(r-e),a=Math.min(Math.abs(r-e),360);return n*a},bW=function(e,r,n){var a=e.position,i=e.viewBox,l=e.offset,u=e.className,d=i,h=d.cx,m=d.cy,p=d.innerRadius,g=d.outerRadius,v=d.startAngle,j=d.endAngle,w=d.clockWise,b=(p+g)/2,N=xW(v,j),k=N>=0?1:-1,S,P;a==="insideStart"?(S=v+k*l,P=w):a==="insideEnd"?(S=j-k*l,P=!w):a==="end"&&(S=j+k*l,P=w),P=N<=0?P:!P;var E=It(h,m,b,S),O=It(h,m,b,S+(P?1:-1)*359),A="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(P?0:1,`,
    `).concat(O.x,",").concat(O.y),T=at(e.id)?ol("recharts-radial-line-"):e.id;return z.createElement("text",Hc({},n,{dominantBaseline:"central",className:it("recharts-radial-bar-label",u)}),z.createElement("defs",null,z.createElement("path",{id:T,d:A})),z.createElement("textPath",{xlinkHref:"#".concat(T)},r))},wW=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,l=i.cx,u=i.cy,d=i.innerRadius,h=i.outerRadius,m=i.startAngle,p=i.endAngle,g=(m+p)/2;if(a==="outside"){var v=It(l,u,h+n,g),j=v.x,w=v.y;return{x:j,y:w,textAnchor:j>=l?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(d+h)/2,N=It(l,u,b,g),k=N.x,S=N.y;return{x:k,y:S,textAnchor:"middle",verticalAnchor:"middle"}},jW=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,l=r,u=l.x,d=l.y,h=l.width,m=l.height,p=m>=0?1:-1,g=p*a,v=p>0?"end":"start",j=p>0?"start":"end",w=h>=0?1:-1,b=w*a,N=w>0?"end":"start",k=w>0?"start":"end";if(i==="top"){var S={x:u+h/2,y:d-p*a,textAnchor:"middle",verticalAnchor:v};return ar(ar({},S),n?{height:Math.max(d-n.y,0),width:h}:{})}if(i==="bottom"){var P={x:u+h/2,y:d+m+g,textAnchor:"middle",verticalAnchor:j};return ar(ar({},P),n?{height:Math.max(n.y+n.height-(d+m),0),width:h}:{})}if(i==="left"){var E={x:u-b,y:d+m/2,textAnchor:N,verticalAnchor:"middle"};return ar(ar({},E),n?{width:Math.max(E.x-n.x,0),height:m}:{})}if(i==="right"){var O={x:u+h+b,y:d+m/2,textAnchor:k,verticalAnchor:"middle"};return ar(ar({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:m}:{})}var A=n?{width:h,height:m}:{};return i==="insideLeft"?ar({x:u+b,y:d+m/2,textAnchor:k,verticalAnchor:"middle"},A):i==="insideRight"?ar({x:u+h-b,y:d+m/2,textAnchor:N,verticalAnchor:"middle"},A):i==="insideTop"?ar({x:u+h/2,y:d+g,textAnchor:"middle",verticalAnchor:j},A):i==="insideBottom"?ar({x:u+h/2,y:d+m-g,textAnchor:"middle",verticalAnchor:v},A):i==="insideTopLeft"?ar({x:u+b,y:d+g,textAnchor:k,verticalAnchor:j},A):i==="insideTopRight"?ar({x:u+h-b,y:d+g,textAnchor:N,verticalAnchor:j},A):i==="insideBottomLeft"?ar({x:u+b,y:d+m-g,textAnchor:k,verticalAnchor:v},A):i==="insideBottomRight"?ar({x:u+h-b,y:d+m-g,textAnchor:N,verticalAnchor:v},A):il(i)&&(Ee(i.x)||ci(i.x))&&(Ee(i.y)||ci(i.y))?ar({x:u+Hr(i.x,h),y:d+Hr(i.y,m),textAnchor:"end",verticalAnchor:"end"},A):ar({x:u+h/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},A)},NW=function(e){return"cx"in e&&Ee(e.cx)};function mr(t){var e=t.offset,r=e===void 0?5:e,n=fW(t,oW),a=ar({offset:r},n),i=a.viewBox,l=a.position,u=a.value,d=a.children,h=a.content,m=a.className,p=m===void 0?"":m,g=a.textBreakAll;if(!i||at(u)&&at(d)&&!$.isValidElement(h)&&!nt(h))return null;if($.isValidElement(h))return $.cloneElement(h,a);var v;if(nt(h)){if(v=$.createElement(h,a),$.isValidElement(v))return v}else v=vW(a);var j=NW(i),w=Je(a,!0);if(j&&(l==="insideStart"||l==="insideEnd"||l==="end"))return bW(a,v,w);var b=j?wW(a):jW(a);return z.createElement(xi,Hc({className:it("recharts-label",p)},w,b,{breakAll:g}),v)}mr.displayName="Label";var h$=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,l=e.endAngle,u=e.r,d=e.radius,h=e.innerRadius,m=e.outerRadius,p=e.x,g=e.y,v=e.top,j=e.left,w=e.width,b=e.height,N=e.clockWise,k=e.labelViewBox;if(k)return k;if(Ee(w)&&Ee(b)){if(Ee(p)&&Ee(g))return{x:p,y:g,width:w,height:b};if(Ee(v)&&Ee(j))return{x:v,y:j,width:w,height:b}}return Ee(p)&&Ee(g)?{x:p,y:g,width:0,height:0}:Ee(r)&&Ee(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:l||a||0,innerRadius:h||0,outerRadius:m||d||u||0,clockWise:N}:e.viewBox?e.viewBox:{}},_W=function(e,r){return e?e===!0?z.createElement(mr,{key:"label-implicit",viewBox:r}):lr(e)?z.createElement(mr,{key:"label-implicit",viewBox:r,value:e}):$.isValidElement(e)?e.type===mr?$.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(mr,{key:"label-implicit",content:e,viewBox:r}):nt(e)?z.createElement(mr,{key:"label-implicit",content:e,viewBox:r}):il(e)?z.createElement(mr,Hc({viewBox:r},e,{key:"label-implicit"})):null:null},SW=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=h$(e),l=bn(a,mr).map(function(d,h){return $.cloneElement(d,{viewBox:r||i,key:"label-".concat(h)})});if(!n)return l;var u=_W(e.label,r||i);return[u].concat(lW(l))};mr.parseViewBox=h$;mr.renderCallByParent=SW;var p0,sE;function kW(){if(sE)return p0;sE=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return p0=t,p0}var OW=kW();const EW=St(OW);function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}var AW=["valueAccessor"],PW=["data","dataKey","clockWise","id","textBreakAll"];function TW(t){return MW(t)||$W(t)||IW(t)||CW()}function CW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IW(t,e){if(t){if(typeof t=="string")return Wx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wx(t,e)}}function $W(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MW(t){if(Array.isArray(t))return Wx(t)}function Wx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ah(){return Ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ah.apply(this,arguments)}function iE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(r),!0).forEach(function(n){DW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DW(t,e,r){return e=RW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RW(t){var e=LW(t,"string");return Wc(e)=="symbol"?e:e+""}function LW(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lE(t,e){if(t==null)return{};var r=FW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qW=function(e){return Array.isArray(e.value)?EW(e.value):e.value};function Ha(t){var e=t.valueAccessor,r=e===void 0?qW:e,n=lE(t,AW),a=n.data,i=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,h=lE(n,PW);return!a||!a.length?null:z.createElement(mt,{className:"recharts-label-list"},a.map(function(m,p){var g=at(i)?r(m,p):or(m&&m.payload,i),v=at(u)?{}:{id:"".concat(u,"-").concat(p)};return z.createElement(mr,Ah({},Je(m,!0),h,v,{parentViewBox:m.parentViewBox,value:g,textBreakAll:d,viewBox:mr.parseViewBox(at(l)?m:oE(oE({},m),{},{clockWise:l})),key:"label-".concat(p),index:p}))}))}Ha.displayName="LabelList";function BW(t,e){return t?t===!0?z.createElement(Ha,{key:"labelList-implicit",data:e}):z.isValidElement(t)||nt(t)?z.createElement(Ha,{key:"labelList-implicit",data:e,content:t}):il(t)?z.createElement(Ha,Ah({data:e},t,{key:"labelList-implicit"})):null:null}function UW(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=bn(n,Ha).map(function(l,u){return $.cloneElement(l,{data:e,key:"labelList-".concat(u)})});if(!r)return a;var i=BW(t.label,e);return[i].concat(TW(a))}Ha.renderCallByParent=UW;function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kx.apply(this,arguments)}function cE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(r),!0).forEach(function(n){zW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zW(t,e,r){return e=HW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HW(t){var e=WW(t,"string");return Kc(e)=="symbol"?e:e+""}function WW(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KW=function(e,r){var n=zr(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Bd=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,l=e.sign,u=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,m=d*(u?1:-1)+a,p=Math.asin(d/m)/Eh,g=h?i:i+l*p,v=It(r,n,m,g),j=It(r,n,a,g),w=h?i-l*p:i,b=It(r,n,m*Math.cos(p*Eh),w);return{center:v,circleTangency:j,lineTangency:b,theta:p}},f$=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,l=e.startAngle,u=e.endAngle,d=KW(l,u),h=l+d,m=It(r,n,i,l),p=It(r,n,i,h),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(a>0){var v=It(r,n,a,l),j=It(r,n,a,h);g+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},VW=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,l=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,m=e.endAngle,p=zr(m-h),g=Bd({cx:r,cy:n,radius:i,angle:h,sign:p,cornerRadius:l,cornerIsExternal:d}),v=g.circleTangency,j=g.lineTangency,w=g.theta,b=Bd({cx:r,cy:n,radius:i,angle:m,sign:-p,cornerRadius:l,cornerIsExternal:d}),N=b.circleTangency,k=b.lineTangency,S=b.theta,P=d?Math.abs(h-m):Math.abs(h-m)-w-S;if(P<0)return u?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):f$({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:h,endAngle:m});var E="M ".concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
  `);if(a>0){var O=Bd({cx:r,cy:n,radius:a,angle:h,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),A=O.circleTangency,T=O.lineTangency,R=O.theta,D=Bd({cx:r,cy:n,radius:a,angle:m,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),F=D.circleTangency,I=D.lineTangency,q=D.theta,K=d?Math.abs(h-m):Math.abs(h-m)-R-q;if(K<0&&l===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(I.x,",").concat(I.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(K>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},GW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},p$=function(e){var r=uE(uE({},GW),e),n=r.cx,a=r.cy,i=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,m=r.startAngle,p=r.endAngle,g=r.className;if(l<i||m===p)return null;var v=it("recharts-sector",g),j=l-i,w=Hr(u,j,0,!0),b;return w>0&&Math.abs(m-p)<360?b=VW({cx:n,cy:a,innerRadius:i,outerRadius:l,cornerRadius:Math.min(w,j/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:m,endAngle:p}):b=f$({cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:m,endAngle:p}),z.createElement("path",Kx({},Je(r,!0),{className:v,d:b,role:"img"}))};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vx.apply(this,arguments)}function dE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(r),!0).forEach(function(n){YW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YW(t,e,r){return e=JW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JW(t){var e=XW(t,"string");return Vc(e)=="symbol"?e:e+""}function XW(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fE={curveBasisClosed:yq,curveBasisOpen:vq,curveBasis:gq,curveBumpX:rq,curveBumpY:nq,curveLinearClosed:xq,curveLinear:yf,curveMonotoneX:bq,curveMonotoneY:wq,curveNatural:jq,curveStep:Nq,curveStepAfter:Sq,curveStepBefore:_q},Ud=function(e){return e.x===+e.x&&e.y===+e.y},Zl=function(e){return e.x},ec=function(e){return e.y},QW=function(e,r){if(nt(e))return e;var n="curve".concat(mf(e));return(n==="curveMonotone"||n==="curveBump")&&r?fE["".concat(n).concat(r==="vertical"?"Y":"X")]:fE[n]||yf},ZW=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,l=e.baseLine,u=e.layout,d=e.connectNulls,h=d===void 0?!1:d,m=QW(n,u),p=h?i.filter(function(w){return Ud(w)}):i,g;if(Array.isArray(l)){var v=h?l.filter(function(w){return Ud(w)}):l,j=p.map(function(w,b){return hE(hE({},w),{},{base:v[b]})});return u==="vertical"?g=Id().y(ec).x1(Zl).x0(function(w){return w.base.x}):g=Id().x(Zl).y1(ec).y0(function(w){return w.base.y}),g.defined(Ud).curve(m),g(j)}return u==="vertical"&&Ee(l)?g=Id().y(ec).x1(Zl).x0(l):Ee(l)?g=Id().x(Zl).y1(ec).y0(l):g=fC().x(Zl).y(ec),g.defined(Ud).curve(m),g(p)},Ph=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var l=n&&n.length?ZW(e):a;return $.createElement("path",Vx({},Je(e,!1),rh(e),{className:it("recharts-curve",r),d:l,ref:i}))},m0={exports:{}},g0,pE;function eK(){if(pE)return g0;pE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return g0=t,g0}var y0,mE;function tK(){if(mE)return y0;mE=1;var t=eK();function e(){}function r(){}return r.resetWarningCache=e,y0=function(){function n(l,u,d,h,m,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},y0}var gE;function rK(){return gE||(gE=1,m0.exports=tK()()),m0.exports}var nK=rK();const bt=St(nK),{getOwnPropertyNames:aK,getOwnPropertySymbols:sK}=Object,{hasOwnProperty:iK}=Object.prototype;function v0(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function zd(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);const{cache:i}=a,l=i.get(r),u=i.get(n);if(l&&u)return l===n&&u===r;i.set(r,n),i.set(n,r);const d=t(r,n,a);return i.delete(r),i.delete(n),d}}function oK(t){return t?.[Symbol.toStringTag]}function yE(t){return aK(t).concat(sK(t))}const lK=Object.hasOwn||((t,e)=>iK.call(t,e));function Ai(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const cK="__v",uK="__o",dK="_owner",{getOwnPropertyDescriptor:vE,keys:xE}=Object;function hK(t,e){return t.byteLength===e.byteLength&&Th(new Uint8Array(t),new Uint8Array(e))}function fK(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function pK(t,e){return t.byteLength===e.byteLength&&Th(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function mK(t,e){return Ai(t.getTime(),e.getTime())}function gK(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function yK(t,e){return t===e}function bE(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),i=t.entries();let l,u,d=0;for(;(l=i.next())&&!l.done;){const h=e.entries();let m=!1,p=0;for(;(u=h.next())&&!u.done;){if(a[p]){p++;continue}const g=l.value,v=u.value;if(r.equals(g[0],v[0],d,p,t,e,r)&&r.equals(g[1],v[1],g[0],v[0],t,e,r)){m=a[p]=!0;break}p++}if(!m)return!1;d++}return!0}const vK=Ai;function xK(t,e,r){const n=xE(t);let a=n.length;if(xE(e).length!==a)return!1;for(;a-- >0;)if(!m$(t,e,r,n[a]))return!1;return!0}function tc(t,e,r){const n=yE(t);let a=n.length;if(yE(e).length!==a)return!1;let i,l,u;for(;a-- >0;)if(i=n[a],!m$(t,e,r,i)||(l=vE(t,i),u=vE(e,i),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function bK(t,e){return Ai(t.valueOf(),e.valueOf())}function wK(t,e){return t.source===e.source&&t.flags===e.flags}function wE(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),i=t.values();let l,u;for(;(l=i.next())&&!l.done;){const d=e.values();let h=!1,m=0;for(;(u=d.next())&&!u.done;){if(!a[m]&&r.equals(l.value,u.value,l.value,u.value,t,e,r)){h=a[m]=!0;break}m++}if(!h)return!1}return!0}function Th(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function jK(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function m$(t,e,r,n){return(n===dK||n===uK||n===cK)&&(t.$$typeof||e.$$typeof)?!0:lK(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const NK="[object ArrayBuffer]",_K="[object Arguments]",SK="[object Boolean]",kK="[object DataView]",OK="[object Date]",EK="[object Error]",AK="[object Map]",PK="[object Number]",TK="[object Object]",CK="[object RegExp]",IK="[object Set]",$K="[object String]",MK={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},DK="[object URL]",RK=Object.prototype.toString;function LK({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:m,areSetsEqual:p,areTypedArraysEqual:g,areUrlsEqual:v,unknownTagComparators:j}){return function(b,N,k){if(b===N)return!0;if(b==null||N==null)return!1;const S=typeof b;if(S!==typeof N)return!1;if(S!=="object")return S==="number"?u(b,N,k):S==="function"?i(b,N,k):!1;const P=b.constructor;if(P!==N.constructor)return!1;if(P===Object)return d(b,N,k);if(Array.isArray(b))return e(b,N,k);if(P===Date)return n(b,N,k);if(P===RegExp)return m(b,N,k);if(P===Map)return l(b,N,k);if(P===Set)return p(b,N,k);const E=RK.call(b);if(E===OK)return n(b,N,k);if(E===CK)return m(b,N,k);if(E===AK)return l(b,N,k);if(E===IK)return p(b,N,k);if(E===TK)return typeof b.then!="function"&&typeof N.then!="function"&&d(b,N,k);if(E===DK)return v(b,N,k);if(E===EK)return a(b,N,k);if(E===_K)return d(b,N,k);if(MK[E])return g(b,N,k);if(E===NK)return t(b,N,k);if(E===kK)return r(b,N,k);if(E===SK||E===PK||E===$K)return h(b,N,k);if(j){let O=j[E];if(!O){const A=oK(b);A&&(O=j[A])}if(O)return O(b,N,k)}return!1}}function FK({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:hK,areArraysEqual:r?tc:fK,areDataViewsEqual:pK,areDatesEqual:mK,areErrorsEqual:gK,areFunctionsEqual:yK,areMapsEqual:r?v0(bE,tc):bE,areNumbersEqual:vK,areObjectsEqual:r?tc:xK,arePrimitiveWrappersEqual:bK,areRegExpsEqual:wK,areSetsEqual:r?v0(wE,tc):wE,areTypedArraysEqual:r?v0(Th,tc):Th,areUrlsEqual:jK,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const a=zd(n.areArraysEqual),i=zd(n.areMapsEqual),l=zd(n.areObjectsEqual),u=zd(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:u})}return n}function qK(t){return function(e,r,n,a,i,l,u){return t(e,r,u)}}function BK({circular:t,comparator:e,createState:r,equals:n,strict:a}){if(r)return function(u,d){const{cache:h=t?new WeakMap:void 0,meta:m}=r();return e(u,d,{cache:h,equals:n,meta:m,strict:a})};if(t)return function(u,d){return e(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(u,d){return e(u,d,i)}}const UK=Ms();Ms({strict:!0});Ms({circular:!0});Ms({circular:!0,strict:!0});Ms({createInternalComparator:()=>Ai});Ms({strict:!0,createInternalComparator:()=>Ai});Ms({circular:!0,createInternalComparator:()=>Ai});Ms({circular:!0,createInternalComparator:()=>Ai,strict:!0});function Ms(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:a=!1}=t,i=FK(t),l=LK(i),u=r?r(l):qK(l);return BK({circular:e,comparator:l,createState:n,equals:u,strict:a})}function zK(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):zK(a)};requestAnimationFrame(n)}function Gx(t){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gx(t)}function HK(t){return GK(t)||VK(t)||KK(t)||WK()}function WK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KK(t,e){if(t){if(typeof t=="string")return NE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NE(t,e)}}function NE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GK(t){if(Array.isArray(t))return t}function YK(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,u=HK(l),d=u[0],h=u.slice(1);if(typeof d=="number"){jE(a.bind(null,h),d);return}a(d),jE(a.bind(null,h));return}Gx(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function _E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(r),!0).forEach(function(n){g$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g$(t,e,r){return e=JK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JK(t){var e=XK(t,"string");return Gc(e)==="symbol"?e:String(e)}function XK(t,e){if(Gc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QK=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},ZK=function(e){return e},eV=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},pc=function(e,r){return Object.keys(r).reduce(function(n,a){return SE(SE({},n),{},g$({},a,e(a,r[a])))},{})},kE=function(e,r,n){return e.map(function(a){return"".concat(eV(a)," ").concat(r,"ms ").concat(n)}).join(",")};function tV(t,e){return aV(t)||nV(t,e)||y$(t,e)||rV()}function rV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function aV(t){if(Array.isArray(t))return t}function sV(t){return lV(t)||oV(t)||y$(t)||iV()}function iV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y$(t,e){if(t){if(typeof t=="string")return Yx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yx(t,e)}}function oV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lV(t){if(Array.isArray(t))return Yx(t)}function Yx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ch=1e-4,v$=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},x$=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},OE=function(e,r){return function(n){var a=v$(e,r);return x$(a,n)}},cV=function(e,r){return function(n){var a=v$(e,r),i=[].concat(sV(a.map(function(l,u){return l*u}).slice(1)),[0]);return x$(i,n)}},EE=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,l=1,u=1;break;case"ease":a=.25,i=.1,l=.25,u=1;break;case"ease-in":a=.42,i=0,l=1,u=1;break;case"ease-out":a=.42,i=0,l=.58,u=1;break;case"ease-in-out":a=0,i=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),m=tV(h,4);a=m[0],i=m[1],l=m[2],u=m[3]}}}var p=OE(a,l),g=OE(i,u),v=cV(a,l),j=function(N){return N>1?1:N<0?0:N},w=function(N){for(var k=N>1?1:N,S=k,P=0;P<8;++P){var E=p(S)-k,O=v(S);if(Math.abs(E-k)<Ch||O<Ch)return g(S);S=j(S-E/O)}return g(S)};return w.isStepper=!1,w},uV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,l=e.dt,u=l===void 0?17:l,d=function(m,p,g){var v=-(m-p)*n,j=g*i,w=g+(v-j)*u/1e3,b=g*u/1e3+m;return Math.abs(b-p)<Ch&&Math.abs(w)<Ch?[p,0]:[b,w]};return d.isStepper=!0,d.dt=u,d},dV=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EE(a);case"spring":return uV();default:if(a.split("(")[0]==="cubic-bezier")return EE(a)}return typeof a=="function"?a:null};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function AE(t){return pV(t)||fV(t)||b$(t)||hV()}function hV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pV(t){if(Array.isArray(t))return Xx(t)}function PE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(r),!0).forEach(function(n){Jx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jx(t,e,r){return e=mV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mV(t){var e=gV(t,"string");return Yc(e)==="symbol"?e:String(e)}function gV(t,e){if(Yc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yV(t,e){return bV(t)||xV(t,e)||b$(t,e)||vV()}function vV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b$(t,e){if(t){if(typeof t=="string")return Xx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xx(t,e)}}function Xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function bV(t){if(Array.isArray(t))return t}var Ih=function(e,r,n){return e+(r-e)*n},Qx=function(e){var r=e.from,n=e.to;return r!==n},wV=function t(e,r,n){var a=pc(function(i,l){if(Qx(l)){var u=e(l.from,l.to,l.velocity),d=yV(u,2),h=d[0],m=d[1];return kr(kr({},l),{},{from:h,velocity:m})}return l},r);return n<1?pc(function(i,l){return Qx(l)?kr(kr({},l),{},{velocity:Ih(l.velocity,a[i].velocity,n),from:Ih(l.from,a[i].from,n)}):l},r):t(e,a,n-1)};const jV=(function(t,e,r,n,a){var i=QK(t,e),l=i.reduce(function(b,N){return kr(kr({},b),{},Jx({},N,[t[N],e[N]]))},{}),u=i.reduce(function(b,N){return kr(kr({},b),{},Jx({},N,{from:t[N],velocity:0,to:e[N]}))},{}),d=-1,h,m,p=function(){return null},g=function(){return pc(function(N,k){return k.from},u)},v=function(){return!Object.values(u).filter(Qx).length},j=function(N){h||(h=N);var k=N-h,S=k/r.dt;u=wV(r,u,S),a(kr(kr(kr({},t),e),g())),h=N,v()||(d=requestAnimationFrame(p))},w=function(N){m||(m=N);var k=(N-m)/n,S=pc(function(E,O){return Ih.apply(void 0,AE(O).concat([r(k)]))},l);if(a(kr(kr(kr({},t),e),S)),k<1)d=requestAnimationFrame(p);else{var P=pc(function(E,O){return Ih.apply(void 0,AE(O).concat([r(1)]))},l);a(kr(kr(kr({},t),e),P))}};return p=r.isStepper?j:w,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function qo(t){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(t)}var NV=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _V(t,e){if(t==null)return{};var r=SV(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SV(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function x0(t){return AV(t)||EV(t)||OV(t)||kV()}function kV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OV(t,e){if(t){if(typeof t=="string")return Zx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zx(t,e)}}function EV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AV(t){if(Array.isArray(t))return Zx(t)}function Zx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(r),!0).forEach(function(n){oc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oc(t,e,r){return e=w$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w$(n.key),n)}}function CV(t,e,r){return e&&TV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w$(t){var e=IV(t,"string");return qo(e)==="symbol"?e:String(e)}function IV(t,e){if(qo(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $V(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eb(t,e)}function MV(t){var e=DV();return function(){var n=$h(t),a;if(e){var i=$h(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return tb(this,a)}}function tb(t,e){if(e&&(qo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rb(t)}function rb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$h(t)}var wa=(function(t){$V(r,t);var e=MV(r);function r(n,a){var i;PV(this,r),i=e.call(this,n,a);var l=i.props,u=l.isActive,d=l.attributeName,h=l.from,m=l.to,p=l.steps,g=l.children,v=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(rb(i)),i.changeStyle=i.changeStyle.bind(rb(i)),!u||v<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:m}),tb(i);if(p&&p.length)i.state={style:p[0].style};else if(h){if(typeof g=="function")return i.state={style:h},tb(i);i.state={style:d?oc({},d,h):h}}else i.state={style:{}};return i}return CV(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,l=a.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,l=i.isActive,u=i.canBegin,d=i.attributeName,h=i.shouldReAnimate,m=i.to,p=i.from,g=this.state.style;if(u){if(!l){var v={style:d?oc({},d,m):m};this.state&&g&&(d&&g[d]!==m||!d&&g!==m)&&this.setState(v);return}if(!(UK(a.to,m)&&a.canBegin&&a.isActive)){var j=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=j||h?p:a.to;if(this.state&&g){var b={style:d?oc({},d,w):w};(d&&g[d]!==w||!d&&g!==w)&&this.setState(b)}this.runAnimation(Xn(Xn({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,l=a.from,u=a.to,d=a.duration,h=a.easing,m=a.begin,p=a.onAnimationEnd,g=a.onAnimationStart,v=jV(l,u,dV(h),d,this.changeStyle),j=function(){i.stopJSAnimation=v()};this.manager.start([g,m,j,d,p])}},{key:"runStepAnimation",value:function(a){var i=this,l=a.steps,u=a.begin,d=a.onAnimationStart,h=l[0],m=h.style,p=h.duration,g=p===void 0?0:p,v=function(w,b,N){if(N===0)return w;var k=b.duration,S=b.easing,P=S===void 0?"ease":S,E=b.style,O=b.properties,A=b.onAnimationEnd,T=N>0?l[N-1]:b,R=O||Object.keys(E);if(typeof P=="function"||P==="spring")return[].concat(x0(w),[i.runJSAnimation.bind(i,{from:T.style,to:E,duration:k,easing:P}),k]);var D=kE(R,k,P),F=Xn(Xn(Xn({},T.style),E),{},{transition:D});return[].concat(x0(w),[F,k,A]).filter(ZK)};return this.manager.start([d].concat(x0(l.reduce(v,[m,Math.max(g,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=YK());var i=a.begin,l=a.duration,u=a.attributeName,d=a.to,h=a.easing,m=a.onAnimationStart,p=a.onAnimationEnd,g=a.steps,v=a.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof h=="function"||typeof v=="function"||h==="spring"){this.runJSAnimation(a);return}if(g.length>1){this.runStepAnimation(a);return}var w=u?oc({},u,d):d,b=kE(Object.keys(w),l,h);j.start([m,i,Xn(Xn({},w),{},{transition:b}),l,p])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var l=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=_V(a,NV),h=$.Children.count(i),m=this.state.style;if(typeof i=="function")return i(m);if(!u||h===0||l<=0)return i;var p=function(v){var j=v.props,w=j.style,b=w===void 0?{}:w,N=j.className,k=$.cloneElement(v,Xn(Xn({},d),{},{style:Xn(Xn({},b),m),className:N}));return k};return h===1?p($.Children.only(i)):z.createElement("div",null,$.Children.map(i,function(g){return p(g)}))}}]),r})($.PureComponent);wa.displayName="Animate";wa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wa.propTypes={from:bt.oneOfType([bt.object,bt.string]),to:bt.oneOfType([bt.object,bt.string]),attributeName:bt.string,duration:bt.number,begin:bt.number,easing:bt.oneOfType([bt.string,bt.func]),steps:bt.arrayOf(bt.shape({duration:bt.number.isRequired,style:bt.object.isRequired,easing:bt.oneOfType([bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),bt.func]),properties:bt.arrayOf("string"),onAnimationEnd:bt.func})),children:bt.oneOfType([bt.node,bt.func]),isActive:bt.bool,canBegin:bt.bool,onAnimationEnd:bt.func,shouldReAnimate:bt.bool,onAnimationStart:bt.func,onAnimationReStart:bt.func};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mh.apply(this,arguments)}function RV(t,e){return BV(t)||qV(t,e)||FV(t,e)||LV()}function LV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FV(t,e){if(t){if(typeof t=="string")return CE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(t,e)}}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function BV(t){if(Array.isArray(t))return t}function IE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $E(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(r),!0).forEach(function(n){UV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UV(t,e,r){return e=zV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zV(t){var e=HV(t,"string");return Jc(e)=="symbol"?e:e+""}function HV(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ME=function(e,r,n,a,i){var l=Math.min(Math.abs(n)/2,Math.abs(a)/2),u=a>=0?1:-1,d=n>=0?1:-1,h=a>=0&&n>=0||a<0&&n<0?1:0,m;if(l>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=i[g]>l?l:i[g];m="M".concat(e,",").concat(r+u*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(e+d*p[0],",").concat(r)),m+="L ".concat(e+n-d*p[1],",").concat(r),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+u*p[1])),m+="L ".concat(e+n,",").concat(r+a-u*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(e+n-d*p[2],",").concat(r+a)),m+="L ".concat(e+d*p[3],",").concat(r+a),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+a-u*p[3])),m+="Z"}else if(l>0&&i===+i&&i>0){var j=Math.min(l,i);m="M ".concat(e,",").concat(r+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e+d*j,",").concat(r,`
            L `).concat(e+n-d*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e+n,",").concat(r+u*j,`
            L `).concat(e+n,",").concat(r+a-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e+n-d*j,",").concat(r+a,`
            L `).concat(e+d*j,",").concat(r+a,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e,",").concat(r+a-u*j," Z")}else m="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return m},WV=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var h=Math.min(i,i+u),m=Math.max(i,i+u),p=Math.min(l,l+d),g=Math.max(l,l+d);return n>=h&&n<=m&&a>=p&&a<=g}return!1},KV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$w=function(e){var r=$E($E({},KV),e),n=$.useRef(),a=$.useState(-1),i=RV(a,2),l=i[0],u=i[1];$.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&u(P)}catch{}},[]);var d=r.x,h=r.y,m=r.width,p=r.height,g=r.radius,v=r.className,j=r.animationEasing,w=r.animationDuration,b=r.animationBegin,N=r.isAnimationActive,k=r.isUpdateAnimationActive;if(d!==+d||h!==+h||m!==+m||p!==+p||m===0||p===0)return null;var S=it("recharts-rectangle",v);return k?z.createElement(wa,{canBegin:l>0,from:{width:m,height:p,x:d,y:h},to:{width:m,height:p,x:d,y:h},duration:w,animationEasing:j,isActive:k},function(P){var E=P.width,O=P.height,A=P.x,T=P.y;return z.createElement(wa,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:N,easing:j},z.createElement("path",Mh({},Je(r,!0),{className:S,d:ME(A,T,E,O,g),ref:n})))}):z.createElement("path",Mh({},Je(r,!0),{className:S,d:ME(d,h,m,p,g)}))},VV=["points","className","baseLinePoints","connectNulls"];function bo(){return bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bo.apply(this,arguments)}function GV(t,e){if(t==null)return{};var r=YV(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DE(t){return ZV(t)||QV(t)||XV(t)||JV()}function JV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XV(t,e){if(t){if(typeof t=="string")return nb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nb(t,e)}}function QV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZV(t){if(Array.isArray(t))return nb(t)}function nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var RE=function(e){return e&&e.x===+e.x&&e.y===+e.y},eG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){RE(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),RE(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},mc=function(e,r){var n=eG(e);r&&(n=[n.reduce(function(i,l){return[].concat(DE(i),DE(l))},[])]);var a=n.map(function(i){return i.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},tG=function(e,r,n){var a=mc(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(mc(r.reverse(),n).slice(1))},rG=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,l=GV(e,VV);if(!r||!r.length)return null;var u=it("recharts-polygon",n);if(a&&a.length){var d=l.stroke&&l.stroke!=="none",h=tG(r,a,i);return z.createElement("g",{className:u},z.createElement("path",bo({},Je(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),d?z.createElement("path",bo({},Je(l,!0),{fill:"none",d:mc(r,i)})):null,d?z.createElement("path",bo({},Je(l,!0),{fill:"none",d:mc(a,i)})):null)}var m=mc(r,i);return z.createElement("path",bo({},Je(l,!0),{fill:m.slice(-1)==="Z"?l.fill:"none",className:u,d:m}))};function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ab.apply(this,arguments)}var $f=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,l=it("recharts-dot",i);return r===+r&&n===+n&&a===+a?$.createElement("circle",ab({},Je(e,!1),rh(e),{className:l,cx:r,cy:n,r:a})):null};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}var nG=["x","y","top","left","width","height","className"];function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sb.apply(this,arguments)}function LE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(r),!0).forEach(function(n){sG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sG(t,e,r){return e=iG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iG(t){var e=oG(t,"string");return Xc(e)=="symbol"?e:e+""}function oG(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lG(t,e){if(t==null)return{};var r=cG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uG=function(e,r,n,a,i,l){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(l,",").concat(r,"h").concat(n)},dG=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,l=e.top,u=l===void 0?0:l,d=e.left,h=d===void 0?0:d,m=e.width,p=m===void 0?0:m,g=e.height,v=g===void 0?0:g,j=e.className,w=lG(e,nG),b=aG({x:n,y:i,top:u,left:h,width:p,height:v},w);return!Ee(n)||!Ee(i)||!Ee(p)||!Ee(v)||!Ee(u)||!Ee(h)?null:z.createElement("path",sb({},Je(b,!0),{className:it("recharts-cross",j),d:uG(n,i,p,v,u,h)}))},b0,FE;function hG(){if(FE)return b0;FE=1;var t=Af(),e=DI(),r=Na();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return b0=n,b0}var fG=hG();const pG=St(fG);var w0,qE;function mG(){if(qE)return w0;qE=1;var t=Af(),e=Na(),r=RI();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return w0=n,w0}var gG=mG();const yG=St(gG);var vG=["cx","cy","angle","ticks","axisLine"],xG=["ticks","tick","angle","tickFormatter","stroke"];function Bo(t){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bo(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gc.apply(this,arguments)}function BE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(r),!0).forEach(function(n){Mf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UE(t,e){if(t==null)return{};var r=bG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N$(n.key),n)}}function jG(t,e,r){return e&&zE(t.prototype,e),r&&zE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NG(t,e,r){return e=Dh(e),_G(t,j$()?Reflect.construct(e,r||[],Dh(t).constructor):e.apply(t,r))}function _G(t,e){if(e&&(Bo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SG(t)}function SG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dh(t)}function kG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}function ib(t,e){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ib(t,e)}function Mf(t,e,r){return e=N$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N$(t){var e=OG(t,"string");return Bo(e)=="symbol"?e:e+""}function OG(t,e){if(Bo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Df=(function(t){function e(){return wG(this,e),NG(this,e,arguments)}return kG(e,t),jG(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,l=i.angle,u=i.cx,d=i.cy;return It(u,d,a,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,l=n.angle,u=n.ticks,d=pG(u,function(m){return m.coordinate||0}),h=yG(u,function(m){return m.coordinate||0});return{cx:a,cy:i,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,l=n.angle,u=n.ticks,d=n.axisLine,h=UE(n,vG),m=u.reduce(function(j,w){return[Math.min(j[0],w.coordinate),Math.max(j[1],w.coordinate)]},[1/0,-1/0]),p=It(a,i,m[0],l),g=It(a,i,m[1],l),v=Zs(Zs(Zs({},Je(h,!1)),{},{fill:"none"},Je(d,!1)),{},{x1:p.x,y1:p.y,x2:g.x,y2:g.y});return z.createElement("line",gc({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,l=a.tick,u=a.angle,d=a.tickFormatter,h=a.stroke,m=UE(a,xG),p=this.getTickTextAnchor(),g=Je(m,!1),v=Je(l,!1),j=i.map(function(w,b){var N=n.getTickValueCoord(w),k=Zs(Zs(Zs(Zs({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(N.x,", ").concat(N.y,")")},g),{},{stroke:"none",fill:h},v),{},{index:b},N),{},{payload:w});return z.createElement(mt,gc({className:it("recharts-polar-radius-axis-tick",d$(l)),key:"tick-".concat(w.coordinate)},vi(n.props,w,b)),e.renderTickItem(l,k,d?d(w.value,b):w.value))});return z.createElement(mt,{className:"recharts-polar-radius-axis-ticks"},j)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,l=n.tick;return!a||!a.length?null:z.createElement(mt,{className:it("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),l&&this.renderTicks(),mr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var l;return z.isValidElement(n)?l=z.cloneElement(n,a):nt(n)?l=n(a):l=z.createElement(xi,gc({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),l}}])})($.PureComponent);Mf(Df,"displayName","PolarRadiusAxis");Mf(Df,"axisType","radiusAxis");Mf(Df,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Uo(t){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(t)}function oi(){return oi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oi.apply(this,arguments)}function HE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ei(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(r),!0).forEach(function(n){Rf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S$(n.key),n)}}function AG(t,e,r){return e&&WE(t.prototype,e),r&&WE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PG(t,e,r){return e=Rh(e),TG(t,_$()?Reflect.construct(e,r||[],Rh(t).constructor):e.apply(t,r))}function TG(t,e){if(e&&(Uo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CG(t)}function CG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rh(t)}function IG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}function ob(t,e){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ob(t,e)}function Rf(t,e,r){return e=S$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S$(t){var e=$G(t,"string");return Uo(e)=="symbol"?e:e+""}function $G(t,e){if(Uo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MG=Math.PI/180,KE=1e-5,Lf=(function(t){function e(){return EG(this,e),PG(this,e,arguments)}return IG(e,t),AG(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,l=a.cy,u=a.radius,d=a.orientation,h=a.tickSize,m=h||8,p=It(i,l,u,n.coordinate),g=It(i,l,u+(d==="inner"?-1:1)*m,n.coordinate);return{x1:p.x,y1:p.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*MG),l;return i>KE?l=a==="outer"?"start":"end":i<-KE?l=a==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,l=n.radius,u=n.axisLine,d=n.axisLineType,h=ei(ei({},Je(this.props,!1)),{},{fill:"none"},Je(u,!1));if(d==="circle")return z.createElement($f,oi({className:"recharts-polar-angle-axis-line"},h,{cx:a,cy:i,r:l}));var m=this.props.ticks,p=m.map(function(g){return It(a,i,l,g.coordinate)});return z.createElement(rG,oi({className:"recharts-polar-angle-axis-line"},h,{points:p}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,l=a.tick,u=a.tickLine,d=a.tickFormatter,h=a.stroke,m=Je(this.props,!1),p=Je(l,!1),g=ei(ei({},m),{},{fill:"none"},Je(u,!1)),v=i.map(function(j,w){var b=n.getTickLineCoord(j),N=n.getTickTextAnchor(j),k=ei(ei(ei({textAnchor:N},m),{},{stroke:"none",fill:h},p),{},{index:w,payload:j,x:b.x2,y:b.y2});return z.createElement(mt,oi({className:it("recharts-polar-angle-axis-tick",d$(l)),key:"tick-".concat(j.coordinate)},vi(n.props,j,w)),u&&z.createElement("line",oi({className:"recharts-polar-angle-axis-tick-line"},g,b)),l&&e.renderTickItem(l,k,d?d(j.value,w):j.value))});return z.createElement(mt,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,l=n.axisLine;return i<=0||!a||!a.length?null:z.createElement(mt,{className:it("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var l;return z.isValidElement(n)?l=z.cloneElement(n,a):nt(n)?l=n(a):l=z.createElement(xi,oi({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),l}}])})($.PureComponent);Rf(Lf,"displayName","PolarAngleAxis");Rf(Lf,"axisType","angleAxis");Rf(Lf,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var j0,VE;function DG(){if(VE)return j0;VE=1;var t=DC(),e=t(Object.getPrototypeOf,Object);return j0=e,j0}var N0,GE;function RG(){if(GE)return N0;GE=1;var t=Ya(),e=DG(),r=Ja(),n="[object Object]",a=Function.prototype,i=Object.prototype,l=a.toString,u=i.hasOwnProperty,d=l.call(Object);function h(m){if(!r(m)||t(m)!=n)return!1;var p=e(m);if(p===null)return!0;var g=u.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return N0=h,N0}var LG=RG();const FG=St(LG);var _0,YE;function qG(){if(YE)return _0;YE=1;var t=Ya(),e=Ja(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return _0=n,_0}var BG=qG();const UG=St(BG);function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lh.apply(this,arguments)}function zG(t,e){return VG(t)||KG(t,e)||WG(t,e)||HG()}function HG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WG(t,e){if(t){if(typeof t=="string")return JE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JE(t,e)}}function JE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function VG(t){if(Array.isArray(t))return t}function XE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(r),!0).forEach(function(n){GG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GG(t,e,r){return e=YG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YG(t){var e=JG(t,"string");return Qc(e)=="symbol"?e:e+""}function JG(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZE=function(e,r,n,a,i){var l=n-a,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-l/2,",").concat(r+i),u+="L ".concat(e+n-l/2-a,",").concat(r+i),u+="L ".concat(e,",").concat(r," Z"),u},XG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QG=function(e){var r=QE(QE({},XG),e),n=$.useRef(),a=$.useState(-1),i=zG(a,2),l=i[0],u=i[1];$.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&u(S)}catch{}},[]);var d=r.x,h=r.y,m=r.upperWidth,p=r.lowerWidth,g=r.height,v=r.className,j=r.animationEasing,w=r.animationDuration,b=r.animationBegin,N=r.isUpdateAnimationActive;if(d!==+d||h!==+h||m!==+m||p!==+p||g!==+g||m===0&&p===0||g===0)return null;var k=it("recharts-trapezoid",v);return N?z.createElement(wa,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:h},to:{upperWidth:m,lowerWidth:p,height:g,x:d,y:h},duration:w,animationEasing:j,isActive:N},function(S){var P=S.upperWidth,E=S.lowerWidth,O=S.height,A=S.x,T=S.y;return z.createElement(wa,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:j},z.createElement("path",Lh({},Je(r,!0),{className:k,d:ZE(A,T,P,E,O),ref:n})))}):z.createElement("g",null,z.createElement("path",Lh({},Je(r,!0),{className:k,d:ZE(d,h,m,p,g)})))},ZG=["option","shapeType","propTransformer","activeClassName","isActive"];function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function eY(t,e){if(t==null)return{};var r=tY(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(r),!0).forEach(function(n){rY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rY(t,e,r){return e=nY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nY(t){var e=aY(t,"string");return Zc(e)=="symbol"?e:e+""}function aY(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sY(t,e){return Fh(Fh({},e),t)}function iY(t,e){return t==="symbols"}function tA(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement($w,r);case"trapezoid":return z.createElement(QG,r);case"sector":return z.createElement(p$,r);case"symbols":if(iY(e))return z.createElement(Zb,r);break;default:return null}}function oY(t){return $.isValidElement(t)?t.props:t}function k$(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?sY:n,i=t.activeClassName,l=i===void 0?"recharts-active-shape":i,u=t.isActive,d=eY(t,ZG),h;if($.isValidElement(e))h=$.cloneElement(e,Fh(Fh({},d),oY(e)));else if(nt(e))h=e(d);else if(FG(e)&&!UG(e)){var m=a(e,d);h=z.createElement(tA,{shapeType:r,elementProps:m})}else{var p=d;h=z.createElement(tA,{shapeType:r,elementProps:p})}return u?z.createElement(mt,{className:l},h):h}function Ff(t,e){return e!=null&&"trapezoids"in t.props}function qf(t,e){return e!=null&&"sectors"in t.props}function eu(t,e){return e!=null&&"points"in t.props}function lY(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function cY(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function uY(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function dY(t,e){var r;return Ff(t,e)?r=lY:qf(t,e)?r=cY:eu(t,e)&&(r=uY),r}function hY(t,e){var r;return Ff(t,e)?r="trapezoids":qf(t,e)?r="sectors":eu(t,e)&&(r="points"),r}function fY(t,e){if(Ff(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(qf(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return eu(t,e)?e.payload:{}}function pY(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=hY(r,e),i=fY(r,e),l=n.filter(function(d,h){var m=vu(i,d),p=r.props[a].filter(function(j){var w=dY(r,e);return w(j,e)}),g=r.props[a].indexOf(p[p.length-1]),v=h===g;return m&&v}),u=n.indexOf(l[l.length-1]);return u}var Yd;function zo(t){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(t)}function wo(){return wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wo.apply(this,arguments)}function rA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(r),!0).forEach(function(n){Dn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E$(n.key),n)}}function gY(t,e,r){return e&&nA(t.prototype,e),r&&nA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yY(t,e,r){return e=qh(e),vY(t,O$()?Reflect.construct(e,r||[],qh(t).constructor):e.apply(t,r))}function vY(t,e){if(e&&(zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xY(t)}function xY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O$=function(){return!!t})()}function qh(t){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qh(t)}function bY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lb(t,e)}function lb(t,e){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lb(t,e)}function Dn(t,e,r){return e=E$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E$(t){var e=wY(t,"string");return zo(e)=="symbol"?e:e+""}function wY(t,e){if(zo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qa=(function(t){function e(r){var n;return mY(this,e),n=yY(this,e,[r]),Dn(n,"pieRef",null),Dn(n,"sectorRefs",[]),Dn(n,"id",ol("recharts-pie-")),Dn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),nt(a)&&a()}),Dn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),nt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return bY(e,t),gY(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.label,u=i.labelLine,d=i.dataKey,h=i.valueKey,m=Je(this.props,!1),p=Je(l,!1),g=Je(u,!1),v=l&&l.offsetRadius||20,j=n.map(function(w,b){var N=(w.startAngle+w.endAngle)/2,k=It(w.cx,w.cy,w.outerRadius+v,N),S=Tt(Tt(Tt(Tt({},m),w),{},{stroke:"none"},p),{},{index:b,textAnchor:e.getTextAnchor(k.x,w.cx)},k),P=Tt(Tt(Tt(Tt({},m),w),{},{fill:"none",stroke:w.fill},g),{},{index:b,points:[It(w.cx,w.cy,w.outerRadius,N),k]}),E=d;return at(d)&&at(h)?E="value":at(d)&&(E=h),z.createElement(mt,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(b)},u&&e.renderLabelLineItem(u,P,"line"),e.renderLabelItem(l,S,or(w,E)))});return z.createElement(mt,{className:"recharts-pie-labels"},j)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,l=i.activeShape,u=i.blendStroke,d=i.inactiveShape;return n.map(function(h,m){if(h?.startAngle===0&&h?.endAngle===0&&n.length!==1)return null;var p=a.isActiveIndex(m),g=d&&a.hasActiveIndex()?d:null,v=p?l:g,j=Tt(Tt({},h),{},{stroke:u?h.fill:h.stroke,tabIndex:-1});return z.createElement(mt,wo({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},vi(a.props,h,m),{key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(m)}),z.createElement(k$,wo({option:v,isActive:p,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,l=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,h=a.animationEasing,m=a.animationId,p=this.state,g=p.prevSectors,v=p.prevIsAnimationActive;return z.createElement(wa,{begin:u,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var w=j.t,b=[],N=i&&i[0],k=N.startAngle;return i.forEach(function(S,P){var E=g&&g[P],O=P>0?xn(S,"paddingAngle",0):0;if(E){var A=mn(E.endAngle-E.startAngle,S.endAngle-S.startAngle),T=Tt(Tt({},S),{},{startAngle:k+O,endAngle:k+A(w)+O});b.push(T),k=T.endAngle}else{var R=S.endAngle,D=S.startAngle,F=mn(0,R-D),I=F(w),q=Tt(Tt({},S),{},{startAngle:k+O,endAngle:k+I+O});b.push(q),k=q.endAngle}}),z.createElement(mt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var l=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,l=this.state.prevSectors;return i&&a&&a.length&&(!l||!vu(l,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,l=a.sectors,u=a.className,d=a.label,h=a.cx,m=a.cy,p=a.innerRadius,g=a.outerRadius,v=a.isAnimationActive,j=this.state.isAnimationFinished;if(i||!l||!l.length||!Ee(h)||!Ee(m)||!Ee(p)||!Ee(g))return null;var w=it("recharts-pie",u);return z.createElement(mt,{tabIndex:this.props.rootTabIndex,className:w,ref:function(N){n.pieRef=N}},this.renderSectors(),d&&this.renderLabels(l),mr.renderCallByParent(this.props,null,!1),(!v||j)&&Ha.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(z.isValidElement(n))return z.cloneElement(n,a);if(nt(n))return n(a);var l=it("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(Ph,wo({},a,{key:i,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,a,i){if(z.isValidElement(n))return z.cloneElement(n,a);var l=i;if(nt(n)&&(l=n(a),z.isValidElement(l)))return l;var u=it("recharts-pie-label-text",typeof n!="boolean"&&!nt(n)?n.className:"");return z.createElement(xi,wo({},a,{alignmentBaseline:"middle",className:u}),l)}}])})($.PureComponent);Yd=Qa;Dn(Qa,"displayName","Pie");Dn(Qa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ki.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Dn(Qa,"parseDeltaAngle",function(t,e){var r=zr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Dn(Qa,"getRealPieData",function(t){var e=t.data,r=t.children,n=Je(t,!1),a=bn(r,jf);return e&&e.length?e.map(function(i,l){return Tt(Tt(Tt({payload:i},n),i),a&&a[l]&&a[l].props)}):a&&a.length?a.map(function(i){return Tt(Tt({},n),i.props)}):[]});Dn(Qa,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,l=u$(a,i),u=n+Hr(t.cx,a,a/2),d=r+Hr(t.cy,i,i/2),h=Hr(t.innerRadius,l,0),m=Hr(t.outerRadius,l,l*.8),p=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:u,cy:d,innerRadius:h,outerRadius:m,maxRadius:p}});Dn(Qa,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Tt(Tt({},e.type.defaultProps),e.props):e.props,a=Yd.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,l=n.startAngle,u=n.endAngle,d=n.paddingAngle,h=n.dataKey,m=n.nameKey,p=n.valueKey,g=n.tooltipType,v=Math.abs(n.minAngle),j=Yd.parseCoordinateOfPie(n,r),w=Yd.parseDeltaAngle(l,u),b=Math.abs(w),N=h;at(h)&&at(p)?(sa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):at(h)&&(sa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=p);var k=a.filter(function(T){return or(T,N,0)!==0}).length,S=(b>=360?k:k-1)*d,P=b-k*v-S,E=a.reduce(function(T,R){var D=or(R,N,0);return T+(Ee(D)?D:0)},0),O;if(E>0){var A;O=a.map(function(T,R){var D=or(T,N,0),F=or(T,m,R),I=(Ee(D)?D:0)/E,q;R?q=A.endAngle+zr(w)*d*(D!==0?1:0):q=l;var K=q+zr(w)*((D!==0?v:0)+I*P),W=(q+K)/2,J=(j.innerRadius+j.outerRadius)/2,re=[{name:F,value:D,payload:T,dataKey:N,type:g}],G=It(j.cx,j.cy,J,W);return A=Tt(Tt(Tt({percent:I,cornerRadius:i,name:F,tooltipPayload:re,midAngle:W,middleRadius:J,tooltipPosition:G},T),j),{},{value:or(T,N),startAngle:q,endAngle:K,payload:T,paddingAngle:zr(w)*d}),A})}return Tt(Tt({},j),{},{sectors:O,data:a})});var S0,aA;function jY(){if(aA)return S0;aA=1;var t=Math.ceil,e=Math.max;function r(n,a,i,l){for(var u=-1,d=e(t((a-n)/(i||1)),0),h=Array(d);d--;)h[l?d:++u]=n,n+=i;return h}return S0=r,S0}var k0,sA;function A$(){if(sA)return k0;sA=1;var t=QC(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return k0=n,k0}var O0,iA;function NY(){if(iA)return O0;iA=1;var t=jY(),e=wf(),r=A$();function n(a){return function(i,l,u){return u&&typeof u!="number"&&e(i,l,u)&&(l=u=void 0),i=r(i),l===void 0?(l=i,i=0):l=r(l),u=u===void 0?i<l?1:-1:r(u),t(i,l,u,a)}}return O0=n,O0}var E0,oA;function _Y(){if(oA)return E0;oA=1;var t=NY(),e=t();return E0=e,E0}var SY=_Y();const Bh=St(SY);function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function lA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(r),!0).forEach(function(n){P$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P$(t,e,r){return e=kY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kY(t){var e=OY(t,"string");return tu(e)=="symbol"?e:e+""}function OY(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EY=["Webkit","Moz","O","ms"],AY=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=EY.reduce(function(i,l){return cA(cA({},i),{},P$({},l+n,r))},{});return a[e]=r,a};function Ho(t){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uh.apply(this,arguments)}function uA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function A0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(r),!0).forEach(function(n){fn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C$(n.key),n)}}function TY(t,e,r){return e&&dA(t.prototype,e),r&&dA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CY(t,e,r){return e=zh(e),IY(t,T$()?Reflect.construct(e,r||[],zh(t).constructor):e.apply(t,r))}function IY(t,e){if(e&&(Ho(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Y(t)}function $Y(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T$=function(){return!!t})()}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zh(t)}function MY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cb(t,e)}function fn(t,e,r){return e=C$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C$(t){var e=DY(t,"string");return Ho(e)=="symbol"?e:e+""}function DY(t,e){if(Ho(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RY=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,l=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=hc().domain(Bh(0,d)).range([i,i+l-u]),m=h.domain().map(function(p){return h(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(a),scale:h,scaleValues:m}},hA=function(e){return e.changedTouches&&!!e.changedTouches.length},Wo=(function(t){function e(r){var n;return PY(this,e),n=CY(this,e,[r]),fn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),fn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),fn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,l=a.onDragEnd,u=a.startIndex;l?.({endIndex:i,startIndex:u})}),n.detachDragEndListener()}),fn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),fn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),fn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),fn(n,"handleSlideDragStart",function(a){var i=hA(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return MY(e,t),TY(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,h=u.data,m=h.length-1,p=Math.min(a,i),g=Math.max(a,i),v=e.getIndexInRange(l,p),j=e.getIndexInRange(l,g);return{startIndex:v-v%d,endIndex:j===m?m:j-j%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,l=a.tickFormatter,u=a.dataKey,d=or(i[n],u,n);return nt(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,l=a.startX,u=a.endX,d=this.props,h=d.x,m=d.width,p=d.travellerWidth,g=d.startIndex,v=d.endIndex,j=d.onChange,w=n.pageX-i;w>0?w=Math.min(w,h+m-p-u,h+m-p-l):w<0&&(w=Math.max(w,h-l,h-u));var b=this.getIndex({startX:l+w,endX:u+w});(b.startIndex!==g||b.endIndex!==v)&&j&&j(b),this.setState({startX:l+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=hA(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,l=a.movingTravellerId,u=a.endX,d=a.startX,h=this.state[l],m=this.props,p=m.x,g=m.width,v=m.travellerWidth,j=m.onChange,w=m.gap,b=m.data,N={startX:this.state.startX,endX:this.state.endX},k=n.pageX-i;k>0?k=Math.min(k,p+g-v-h):k<0&&(k=Math.max(k,p-h)),N[l]=h+k;var S=this.getIndex(N),P=S.startIndex,E=S.endIndex,O=function(){var T=b.length-1;return l==="startX"&&(u>d?P%w===0:E%w===0)||u<d&&E===T||l==="endX"&&(u>d?E%w===0:P%w===0)||u>d&&E===T};this.setState(fn(fn({},l,h+k),"brushMoveStartX",n.pageX),function(){j&&O()&&j(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,l=this.state,u=l.scaleValues,d=l.startX,h=l.endX,m=this.state[a],p=u.indexOf(m);if(p!==-1){var g=p+n;if(!(g===-1||g>=u.length)){var v=u[g];a==="startX"&&v>=h||a==="endX"&&v<=d||this.setState(fn({},a,v),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,u=n.height,d=n.fill,h=n.stroke;return z.createElement("rect",{stroke:h,fill:d,x:a,y:i,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,u=n.height,d=n.data,h=n.children,m=n.padding,p=$.Children.only(h);return p?z.cloneElement(p,{x:a,y:i,width:l,height:u,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,l,u=this,d=this.props,h=d.y,m=d.travellerWidth,p=d.height,g=d.traveller,v=d.ariaLabel,j=d.data,w=d.startIndex,b=d.endIndex,N=Math.max(n,this.props.x),k=A0(A0({},Je(this.props,!1)),{},{x:N,y:h,width:m,height:p}),S=v||"Min value: ".concat((i=j[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=j[b])===null||l===void 0?void 0:l.name);return z.createElement(mt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),u.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,k))}},{key:"renderSlide",value:function(n,a){var i=this.props,l=i.y,u=i.height,d=i.stroke,h=i.travellerWidth,m=Math.min(n,a)+h,p=Math.max(Math.abs(a-n)-h,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:l,width:p,height:u})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,h=n.stroke,m=this.state,p=m.startX,g=m.endX,v=5,j={pointerEvents:"none",fill:h};return z.createElement(mt,{className:"recharts-brush-texts"},z.createElement(xi,Uh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-v,y:l+u/2},j),this.getTextOfTick(a)),z.createElement(xi,Uh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+d+v,y:l+u/2},j),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,l=n.children,u=n.x,d=n.y,h=n.width,m=n.height,p=n.alwaysShowText,g=this.state,v=g.startX,j=g.endX,w=g.isTextActive,b=g.isSlideMoving,N=g.isTravellerMoving,k=g.isTravellerFocused;if(!a||!a.length||!Ee(u)||!Ee(d)||!Ee(h)||!Ee(m)||h<=0||m<=0)return null;var S=it("recharts-brush",i),P=z.Children.count(l)===1,E=AY("userSelect","none");return z.createElement(mt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(v,j),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(j,"endX"),(w||b||N||k||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,l=n.width,u=n.height,d=n.stroke,h=Math.floor(i+u/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:a,y:i,width:l,height:u,fill:d,stroke:"none"}),z.createElement("line",{x1:a+1,y1:h,x2:a+l-1,y2:h,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:a+1,y1:h+2,x2:a+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return z.isValidElement(n)?i=z.cloneElement(n,a):nt(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,l=n.width,u=n.x,d=n.travellerWidth,h=n.updateId,m=n.startIndex,p=n.endIndex;if(i!==a.prevData||h!==a.prevUpdateId)return A0({prevData:i,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l},i&&i.length?RY({data:i,width:l,x:u,travellerWidth:d,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(a.scale&&(l!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+l-d]);var g=a.scale.domain().map(function(v){return a.scale(v)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,l=0,u=i-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>a?u=d:l=d}return a>=n[u]?u:l}}])})($.PureComponent);fn(Wo,"displayName","Brush");fn(Wo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var P0,fA;function LY(){if(fA)return P0;fA=1;var t=iw();function e(r,n){var a;return t(r,function(i,l,u){return a=n(i,l,u),!a}),!!a}return P0=e,P0}var T0,pA;function FY(){if(pA)return T0;pA=1;var t=AC(),e=Na(),r=LY(),n=rn(),a=wf();function i(l,u,d){var h=n(l)?t:r;return d&&a(l,u,d)&&(u=void 0),h(l,e(u,3))}return T0=i,T0}var qY=FY();const BY=St(qY);var xa=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},C0,mA;function UY(){if(mA)return C0;mA=1;var t=VC();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return C0=e,C0}var I0,gA;function zY(){if(gA)return I0;gA=1;var t=UY(),e=WC(),r=Na();function n(a,i){var l={};return i=r(i,3),e(a,function(u,d,h){t(l,d,i(u,d,h))}),l}return I0=n,I0}var HY=zY();const WY=St(HY);var $0,yA;function KY(){if(yA)return $0;yA=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return $0=t,$0}var M0,vA;function VY(){if(vA)return M0;vA=1;var t=iw();function e(r,n){var a=!0;return t(r,function(i,l,u){return a=!!n(i,l,u),a}),a}return M0=e,M0}var D0,xA;function GY(){if(xA)return D0;xA=1;var t=KY(),e=VY(),r=Na(),n=rn(),a=wf();function i(l,u,d){var h=n(l)?t:e;return d&&a(l,u,d)&&(u=void 0),h(l,r(u,3))}return D0=i,D0}var YY=GY();const I$=St(YY);var JY=["x","y"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ub.apply(this,arguments)}function bA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(r),!0).forEach(function(n){XY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XY(t,e,r){return e=QY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QY(t){var e=ZY(t,"string");return ru(e)=="symbol"?e:e+""}function ZY(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eJ(t,e){if(t==null)return{};var r=tJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rJ(t,e){var r=t.x,n=t.y,a=eJ(t,JY),i="".concat(r),l=parseInt(i,10),u="".concat(n),d=parseInt(u,10),h="".concat(e.height||a.height),m=parseInt(h,10),p="".concat(e.width||a.width),g=parseInt(p,10);return rc(rc(rc(rc(rc({},e),a),l?{x:l}:{}),d?{y:d}:{}),{},{height:m,width:g,name:e.name,radius:e.radius})}function wA(t){return z.createElement(k$,ub({shapeType:"rectangle",propTransformer:rJ,activeClassName:"recharts-active-bar"},t))}var nJ=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=Ee(n)||NF(n);return i?e(n,a):(i||wi(),r)}},aJ=["value","background"],$$;function Ko(t){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(t)}function sJ(t,e){if(t==null)return{};var r=iJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hh.apply(this,arguments)}function jA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(r),!0).forEach(function(n){As(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D$(n.key),n)}}function lJ(t,e,r){return e&&NA(t.prototype,e),r&&NA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cJ(t,e,r){return e=Wh(e),uJ(t,M$()?Reflect.construct(e,r||[],Wh(t).constructor):e.apply(t,r))}function uJ(t,e){if(e&&(Ko(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dJ(t)}function dJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M$=function(){return!!t})()}function Wh(t){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wh(t)}function hJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}function db(t,e){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},db(t,e)}function As(t,e,r){return e=D$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D$(t){var e=fJ(t,"string");return Ko(e)=="symbol"?e:e+""}function fJ(t,e){if(Ko(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pi=(function(t){function e(){var r;oJ(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cJ(this,e,[].concat(a)),As(r,"state",{isAnimationFinished:!1}),As(r,"id",ol("recharts-bar-")),As(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),As(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return hJ(e,t),lJ(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,l=i.shape,u=i.dataKey,d=i.activeIndex,h=i.activeBar,m=Je(this.props,!1);return n&&n.map(function(p,g){var v=g===d,j=v?h:l,w=Jt(Jt(Jt({},m),p),{},{isActive:v,option:j,index:g,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return z.createElement(mt,Hh({className:"recharts-bar-rectangle"},vi(a.props,p,g),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(g)}),z.createElement(wA,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,l=a.layout,u=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,m=a.animationEasing,p=a.animationId,g=this.state.prevData;return z.createElement(wa,{begin:d,duration:h,isActive:u,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t,w=i.map(function(b,N){var k=g&&g[N];if(k){var S=mn(k.x,b.x),P=mn(k.y,b.y),E=mn(k.width,b.width),O=mn(k.height,b.height);return Jt(Jt({},b),{},{x:S(j),y:P(j),width:E(j),height:O(j)})}if(l==="horizontal"){var A=mn(0,b.height),T=A(j);return Jt(Jt({},b),{},{y:b.y+b.height-T,height:T})}var R=mn(0,b.width),D=R(j);return Jt(Jt({},b),{},{width:D})});return z.createElement(mt,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,l=this.state.prevData;return i&&a&&a.length&&(!l||!vu(l,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,l=a.dataKey,u=a.activeIndex,d=Je(this.props.background,!1);return i.map(function(h,m){h.value;var p=h.background,g=sJ(h,aJ);if(!p)return null;var v=Jt(Jt(Jt(Jt(Jt({},g),{},{fill:"#eee"},p),d),vi(n.props,h,m)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:m,className:"recharts-bar-background-rectangle"});return z.createElement(wA,Hh({key:"background-bar-".concat(m),option:n.props.background,isActive:m===u},v))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,u=i.xAxis,d=i.yAxis,h=i.layout,m=i.children,p=bn(m,xu);if(!p)return null;var g=h==="vertical"?l[0].height/2:l[0].width/2,v=function(b,N){var k=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:k,errorVal:or(b,N)}},j={clipPath:n?"url(#clipPath-".concat(a,")"):null};return z.createElement(mt,j,p.map(function(w){return z.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,l=n.className,u=n.xAxis,d=n.yAxis,h=n.left,m=n.top,p=n.width,g=n.height,v=n.isAnimationActive,j=n.background,w=n.id;if(a||!i||!i.length)return null;var b=this.state.isAnimationFinished,N=it("recharts-bar",l),k=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,P=k||S,E=at(w)?this.id:w;return z.createElement(mt,{className:N},k||S?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:k?h:h-p/2,y:S?m:m-g/2,width:k?p:p*2,height:S?g:g*2}))):null,z.createElement(mt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(E,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,E),(!v||b)&&Ha.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})($.PureComponent);$$=Pi;As(Pi,"displayName","Bar");As(Pi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ki.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});As(Pi,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,l=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,m=t.dataStartIndex,p=t.displayedData,g=t.offset,v=LH(n,r);if(!v)return null;var j=e.layout,w=r.type.defaultProps,b=w!==void 0?Jt(Jt({},w),r.props):r.props,N=b.dataKey,k=b.children,S=b.minPointSize,P=j==="horizontal"?l:i,E=h?P.scale.domain():null,O=WH({numericAxis:P}),A=bn(k,jf),T=p.map(function(R,D){var F,I,q,K,W,J;h?F=FH(h[m+D],E):(F=or(R,N),Array.isArray(F)||(F=[O,F]));var re=nJ(S,$$.defaultProps.minPointSize)(F[1],D);if(j==="horizontal"){var G,oe=[l.scale(F[0]),l.scale(F[1])],Z=oe[0],M=oe[1];I=XO({axis:i,ticks:u,bandSize:a,offset:v.offset,entry:R,index:D}),q=(G=M??Z)!==null&&G!==void 0?G:void 0,K=v.size;var U=Z-M;if(W=Number.isNaN(U)?0:U,J={x:I,y:l.y,width:K,height:l.height},Math.abs(re)>0&&Math.abs(W)<Math.abs(re)){var te=zr(W||re)*(Math.abs(re)-Math.abs(W));q-=te,W+=te}}else{var me=[i.scale(F[0]),i.scale(F[1])],ge=me[0],Me=me[1];if(I=ge,q=XO({axis:l,ticks:d,bandSize:a,offset:v.offset,entry:R,index:D}),K=Me-ge,W=v.size,J={x:i.x,y:q,width:i.width,height:W},Math.abs(re)>0&&Math.abs(K)<Math.abs(re)){var Ke=zr(K||re)*(Math.abs(re)-Math.abs(K));K+=Ke}}return Jt(Jt(Jt({},R),{},{x:I,y:q,width:K,height:W,value:h?F:F[1],payload:R,background:J},A&&A[D]&&A[D].props),{},{tooltipPayload:[l$(r,R)],tooltipPosition:{x:I+K/2,y:q+W/2}})});return Jt({data:T,layout:j},g)});function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function pJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R$(n.key),n)}}function mJ(t,e,r){return e&&_A(t.prototype,e),r&&_A(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SA(Object(r),!0).forEach(function(n){Bf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bf(t,e,r){return e=R$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R$(t){var e=gJ(t,"string");return nu(e)=="symbol"?e:e+""}function gJ(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L$=function(e,r,n,a,i){var l=e.width,u=e.height,d=e.layout,h=e.children,m=Object.keys(r),p={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},g=!!pn(h,Pi);return m.reduce(function(v,j){var w=r[j],b=w.orientation,N=w.domain,k=w.padding,S=k===void 0?{}:k,P=w.mirror,E=w.reversed,O="".concat(b).concat(P?"Mirror":""),A,T,R,D,F;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var I=N[1]-N[0],q=1/0,K=w.categoricalDomain.sort(kF);if(K.forEach(function(me,ge){ge>0&&(q=Math.min((me||0)-(K[ge-1]||0),q))}),Number.isFinite(q)){var W=q/I,J=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(A=W*J/2),w.padding==="no-gap"){var re=Hr(e.barCategoryGap,W*J),G=W*J/2;A=G-re-(G-re)/J*re}}}a==="xAxis"?T=[n.left+(S.left||0)+(A||0),n.left+n.width-(S.right||0)-(A||0)]:a==="yAxis"?T=d==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(A||0),n.top+n.height-(S.bottom||0)-(A||0)]:T=w.range,E&&(T=[T[1],T[0]]);var oe=a$(w,i,g),Z=oe.scale,M=oe.realScaleType;Z.domain(N).range(T),s$(Z);var U=i$(Z,ta(ta({},w),{},{realScaleType:M}));a==="xAxis"?(F=b==="top"&&!P||b==="bottom"&&P,R=n.left,D=p[O]-F*w.height):a==="yAxis"&&(F=b==="left"&&!P||b==="right"&&P,R=p[O]-F*w.width,D=n.top);var te=ta(ta(ta({},w),U),{},{realScaleType:M,x:R,y:D,scale:Z,width:a==="xAxis"?n.width:w.width,height:a==="yAxis"?n.height:w.height});return te.bandSize=Oh(te,U),!w.hide&&a==="xAxis"?p[O]+=(F?-1:1)*te.height:w.hide||(p[O]+=(F?-1:1)*te.width),ta(ta({},v),{},Bf({},j,te))},{})},F$=function(e,r){var n=e.x,a=e.y,i=r.x,l=r.y;return{x:Math.min(n,i),y:Math.min(a,l),width:Math.abs(i-n),height:Math.abs(l-a)}},yJ=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return F$({x:r,y:n},{x:a,y:i})},q$=(function(){function t(e){pJ(this,t),this.scale=e}return mJ(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();Bf(q$,"EPS",1e-4);var Mw=function(e){var r=Object.keys(e).reduce(function(n,a){return ta(ta({},n),{},Bf({},a,q$.create(e[a])))},{});return ta(ta({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,u=i.position;return WY(a,function(d,h){return r[h].apply(d,{bandAware:l,position:u})})},isInRange:function(a){return I$(a,function(i,l){return r[l].isInRange(i)})}})};function vJ(t){return(t%180+180)%180}var xJ=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=vJ(a),l=i*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},R0,kA;function bJ(){if(kA)return R0;kA=1;var t=Na(),e=fu(),r=xf();function n(a){return function(i,l,u){var d=Object(i);if(!e(i)){var h=t(l,3);i=r(i),l=function(p){return h(d[p],p,d)}}var m=a(i,l,u);return m>-1?d[h?i[m]:m]:void 0}}return R0=n,R0}var L0,OA;function wJ(){if(OA)return L0;OA=1;var t=A$();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return L0=e,L0}var F0,EA;function jJ(){if(EA)return F0;EA=1;var t=qC(),e=Na(),r=wJ(),n=Math.max;function a(i,l,u){var d=i==null?0:i.length;if(!d)return-1;var h=u==null?0:r(u);return h<0&&(h=n(d+h,0)),t(i,e(l,3),h)}return F0=a,F0}var q0,AA;function NJ(){if(AA)return q0;AA=1;var t=bJ(),e=jJ(),r=t(e);return q0=r,q0}var _J=NJ();const SJ=St(_J);var kJ=rC();const OJ=St(kJ);var EJ=OJ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Dw=$.createContext(void 0),Rw=$.createContext(void 0),B$=$.createContext(void 0),U$=$.createContext({}),z$=$.createContext(void 0),H$=$.createContext(0),W$=$.createContext(0),PA=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,l=e.clipPathId,u=e.children,d=e.width,h=e.height,m=EJ(i);return z.createElement(Dw.Provider,{value:n},z.createElement(Rw.Provider,{value:a},z.createElement(U$.Provider,{value:i},z.createElement(B$.Provider,{value:m},z.createElement(z$.Provider,{value:l},z.createElement(H$.Provider,{value:h},z.createElement(W$.Provider,{value:d},u)))))))},AJ=function(){return $.useContext(z$)},K$=function(e){var r=$.useContext(Dw);r==null&&wi();var n=r[e];return n==null&&wi(),n},PJ=function(){var e=$.useContext(Dw);return Ss(e)},TJ=function(){var e=$.useContext(Rw),r=SJ(e,function(n){return I$(n.domain,Number.isFinite)});return r||Ss(e)},V$=function(e){var r=$.useContext(Rw);r==null&&wi();var n=r[e];return n==null&&wi(),n},CJ=function(){var e=$.useContext(B$);return e},IJ=function(){return $.useContext(U$)},Lw=function(){return $.useContext(W$)},Fw=function(){return $.useContext(H$)};function Vo(t){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(t)}function $J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y$(n.key),n)}}function DJ(t,e,r){return e&&MJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RJ(t,e,r){return e=Kh(e),LJ(t,G$()?Reflect.construct(e,r||[],Kh(t).constructor):e.apply(t,r))}function LJ(t,e){if(e&&(Vo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FJ(t)}function FJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!t})()}function Kh(t){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kh(t)}function qJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hb(t,e)}function hb(t,e){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hb(t,e)}function TA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TA(Object(r),!0).forEach(function(n){qw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qw(t,e,r){return e=Y$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y$(t){var e=BJ(t,"string");return Vo(e)=="symbol"?e:e+""}function BJ(t,e){if(Vo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UJ(t,e){return KJ(t)||WJ(t,e)||HJ(t,e)||zJ()}function zJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HJ(t,e){if(t){if(typeof t=="string")return IA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IA(t,e)}}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function KJ(t){if(Array.isArray(t))return t}function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fb.apply(this,arguments)}var VJ=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):nt(e)?n=e(r):n=z.createElement("line",fb({},r,{className:"recharts-reference-line-line"})),n},GJ=function(e,r,n,a,i,l,u,d,h){var m=i.x,p=i.y,g=i.width,v=i.height;if(n){var j=h.y,w=e.y.apply(j,{position:l});if(xa(h,"discard")&&!e.y.isInRange(w))return null;var b=[{x:m+g,y:w},{x:m,y:w}];return d==="left"?b.reverse():b}if(r){var N=h.x,k=e.x.apply(N,{position:l});if(xa(h,"discard")&&!e.x.isInRange(k))return null;var S=[{x:k,y:p+v},{x:k,y:p}];return u==="top"?S.reverse():S}if(a){var P=h.segment,E=P.map(function(O){return e.apply(O,{position:l})});return xa(h,"discard")&&BY(E,function(O){return!e.isInRange(O)})?null:E}return null};function YJ(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,l=t.shape,u=t.className,d=t.alwaysShow,h=AJ(),m=K$(a),p=V$(i),g=CJ();if(!h||!g)return null;sa(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Mw({x:m.scale,y:p.scale}),j=lr(e),w=lr(r),b=n&&n.length===2,N=GJ(v,j,w,b,g,t.position,m.orientation,p.orientation,t);if(!N)return null;var k=UJ(N,2),S=k[0],P=S.x,E=S.y,O=k[1],A=O.x,T=O.y,R=xa(t,"hidden")?"url(#".concat(h,")"):void 0,D=CA(CA({clipPath:R},Je(t,!0)),{},{x1:P,y1:E,x2:A,y2:T});return z.createElement(mt,{className:it("recharts-reference-line",u)},VJ(l,D),mr.renderCallByParent(t,yJ({x1:P,y1:E,x2:A,y2:T})))}var Bw=(function(t){function e(){return $J(this,e),RJ(this,e,arguments)}return qJ(e,t),DJ(e,[{key:"render",value:function(){return z.createElement(YJ,this.props)}}])})(z.Component);qw(Bw,"displayName","ReferenceLine");qw(Bw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pb.apply(this,arguments)}function Go(t){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(t)}function $A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function MA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(r),!0).forEach(function(n){Uf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X$(n.key),n)}}function QJ(t,e,r){return e&&XJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZJ(t,e,r){return e=Vh(e),eX(t,J$()?Reflect.construct(e,r||[],Vh(t).constructor):e.apply(t,r))}function eX(t,e){if(e&&(Go(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tX(t)}function tX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J$=function(){return!!t})()}function Vh(t){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vh(t)}function rX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mb(t,e)}function mb(t,e){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mb(t,e)}function Uf(t,e,r){return e=X$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X$(t){var e=nX(t,"string");return Go(e)=="symbol"?e:e+""}function nX(t,e){if(Go(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aX=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,l=Mw({x:a.scale,y:i.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return xa(e,"discard")&&!l.isInRange(u)?null:u},zf=(function(t){function e(){return JJ(this,e),ZJ(this,e,arguments)}return rX(e,t),QJ(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,h=lr(a),m=lr(i);if(sa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!m)return null;var p=aX(this.props);if(!p)return null;var g=p.x,v=p.y,j=this.props,w=j.shape,b=j.className,N=xa(this.props,"hidden")?"url(#".concat(d,")"):void 0,k=MA(MA({clipPath:N},Je(this.props,!0)),{},{cx:g,cy:v});return z.createElement(mt,{className:it("recharts-reference-dot",b)},e.renderDot(w,k),mr.renderCallByParent(this.props,{x:g-l,y:v-l,width:2*l,height:2*l}))}}])})(z.Component);Uf(zf,"displayName","ReferenceDot");Uf(zf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Uf(zf,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):nt(t)?r=t(e):r=z.createElement($f,pb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gb.apply(this,arguments)}function Yo(t){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(t)}function DA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(r),!0).forEach(function(n){Hf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z$(n.key),n)}}function oX(t,e,r){return e&&iX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lX(t,e,r){return e=Gh(e),cX(t,Q$()?Reflect.construct(e,r||[],Gh(t).constructor):e.apply(t,r))}function cX(t,e){if(e&&(Yo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uX(t)}function uX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q$=function(){return!!t})()}function Gh(t){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gh(t)}function dX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yb(t,e)}function Hf(t,e,r){return e=Z$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z$(t){var e=hX(t,"string");return Yo(e)=="symbol"?e:e+""}function hX(t,e){if(Yo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fX=function(e,r,n,a,i){var l=i.x1,u=i.x2,d=i.y1,h=i.y2,m=i.xAxis,p=i.yAxis;if(!m||!p)return null;var g=Mw({x:m.scale,y:p.scale}),v={x:e?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(d,{position:"start"}):g.y.rangeMin},j={x:r?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:a?g.y.apply(h,{position:"end"}):g.y.rangeMax};return xa(i,"discard")&&(!g.isInRange(v)||!g.isInRange(j))?null:F$(v,j)},Wf=(function(t){function e(){return sX(this,e),lX(this,e,arguments)}return dX(e,t),oX(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,l=n.y1,u=n.y2,d=n.className,h=n.alwaysShow,m=n.clipPathId;sa(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=lr(a),g=lr(i),v=lr(l),j=lr(u),w=this.props.shape;if(!p&&!g&&!v&&!j&&!w)return null;var b=fX(p,g,v,j,this.props);if(!b&&!w)return null;var N=xa(this.props,"hidden")?"url(#".concat(m,")"):void 0;return z.createElement(mt,{className:it("recharts-reference-area",d)},e.renderRect(w,RA(RA({clipPath:N},Je(this.props,!0)),b)),mr.renderCallByParent(this.props,b))}}])})(z.Component);Hf(Wf,"displayName","ReferenceArea");Hf(Wf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Hf(Wf,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):nt(t)?r=t(e):r=z.createElement($w,gb({},e,{className:"recharts-reference-area-rect"})),r});function eM(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function pX(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return xJ(n,r)}function mX(t,e,r){var n=r==="width",a=t.x,i=t.y,l=t.width,u=t.height;return e===1?{start:n?a:i,end:n?a+l:i+u}:{start:n?a+l:i+u,end:n?a:i}}function Yh(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function gX(t,e){return eM(t,e+1)}function yX(t,e,r,n,a){for(var i=(n||[]).slice(),l=e.start,u=e.end,d=0,h=1,m=l,p=function(){var j=n?.[d];if(j===void 0)return{v:eM(n,h)};var w=d,b,N=function(){return b===void 0&&(b=r(j,w)),b},k=j.coordinate,S=d===0||Yh(t,k,N,m,u);S||(d=0,m=l,h+=1),S&&(m=k+t*(N()/2+a),d+=h)},g;h<=i.length;)if(g=p(),g)return g.v;return[]}function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function LA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LA(Object(r),!0).forEach(function(n){vX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vX(t,e,r){return e=xX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xX(t){var e=bX(t,"string");return au(e)=="symbol"?e:e+""}function bX(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wX(t,e,r,n,a){for(var i=(n||[]).slice(),l=i.length,u=e.start,d=e.end,h=function(g){var v=i[g],j,w=function(){return j===void 0&&(j=r(v,g)),j};if(g===l-1){var b=t*(v.coordinate+t*w()/2-d);i[g]=v=Cr(Cr({},v),{},{tickCoord:b>0?v.coordinate-b*t:v.coordinate})}else i[g]=v=Cr(Cr({},v),{},{tickCoord:v.coordinate});var N=Yh(t,v.tickCoord,w,u,d);N&&(d=v.tickCoord-t*(w()/2+a),i[g]=Cr(Cr({},v),{},{isShow:!0}))},m=l-1;m>=0;m--)h(m);return i}function jX(t,e,r,n,a,i){var l=(n||[]).slice(),u=l.length,d=e.start,h=e.end;if(i){var m=n[u-1],p=r(m,u-1),g=t*(m.coordinate+t*p/2-h);l[u-1]=m=Cr(Cr({},m),{},{tickCoord:g>0?m.coordinate-g*t:m.coordinate});var v=Yh(t,m.tickCoord,function(){return p},d,h);v&&(h=m.tickCoord-t*(p/2+a),l[u-1]=Cr(Cr({},m),{},{isShow:!0}))}for(var j=i?u-1:u,w=function(k){var S=l[k],P,E=function(){return P===void 0&&(P=r(S,k)),P};if(k===0){var O=t*(S.coordinate-t*E()/2-d);l[k]=S=Cr(Cr({},S),{},{tickCoord:O<0?S.coordinate-O*t:S.coordinate})}else l[k]=S=Cr(Cr({},S),{},{tickCoord:S.coordinate});var A=Yh(t,S.tickCoord,E,d,h);A&&(d=S.tickCoord+t*(E()/2+a),l[k]=Cr(Cr({},S),{},{isShow:!0}))},b=0;b<j;b++)w(b);return l}function Uw(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,l=t.minTickGap,u=t.orientation,d=t.interval,h=t.tickFormatter,m=t.unit,p=t.angle;if(!a||!a.length||!n)return[];if(Ee(d)||ki.isSsr)return gX(a,typeof d=="number"&&Ee(d)?d:0);var g=[],v=u==="top"||u==="bottom"?"width":"height",j=m&&v==="width"?dc(m,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(S,P){var E=nt(h)?h(S.value,P):S.value;return v==="width"?pX(dc(E,{fontSize:e,letterSpacing:r}),j,p):dc(E,{fontSize:e,letterSpacing:r})[v]},b=a.length>=2?zr(a[1].coordinate-a[0].coordinate):1,N=mX(i,b,v);return d==="equidistantPreserveStart"?yX(b,N,w,a,l):(d==="preserveStart"||d==="preserveStartEnd"?g=jX(b,N,w,a,l,d==="preserveStartEnd"):g=wX(b,N,w,a,l),g.filter(function(k){return k.isShow}))}var NX=["viewBox"],_X=["viewBox"],SX=["ticks"];function Jo(t){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(t)}function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jo.apply(this,arguments)}function FA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(r),!0).forEach(function(n){zw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B0(t,e){if(t==null)return{};var r=kX(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rM(n.key),n)}}function EX(t,e,r){return e&&qA(t.prototype,e),r&&qA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function AX(t,e,r){return e=Jh(e),PX(t,tM()?Reflect.construct(e,r||[],Jh(t).constructor):e.apply(t,r))}function PX(t,e){if(e&&(Jo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TX(t)}function TX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tM=function(){return!!t})()}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jh(t)}function CX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vb(t,e)}function vb(t,e){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vb(t,e)}function zw(t,e,r){return e=rM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rM(t){var e=IX(t,"string");return Jo(e)=="symbol"?e:e+""}function IX(t,e){if(Jo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hl=(function(t){function e(r){var n;return OX(this,e),n=AX(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return CX(e,t),EX(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,l=B0(n,NX),u=this.props,d=u.viewBox,h=B0(u,_X);return!ko(i,d)||!ko(l,h)||!ko(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,l=a.y,u=a.width,d=a.height,h=a.orientation,m=a.tickSize,p=a.mirror,g=a.tickMargin,v,j,w,b,N,k,S=p?-1:1,P=n.tickSize||m,E=Ee(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":v=j=n.coordinate,b=l+ +!p*d,w=b-S*P,k=w-S*g,N=E;break;case"left":w=b=n.coordinate,j=i+ +!p*u,v=j-S*P,N=v-S*g,k=E;break;case"right":w=b=n.coordinate,j=i+ +p*u,v=j+S*P,N=v+S*g,k=E;break;default:v=j=n.coordinate,b=l+ +p*d,w=b+S*P,k=w+S*g,N=E;break}return{line:{x1:v,y1:w,x2:j,y2:b},tick:{x:N,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,l;switch(a){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,l="end";switch(a){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,u=n.height,d=n.orientation,h=n.mirror,m=n.axisLine,p=nr(nr(nr({},Je(this.props,!1)),Je(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!h||d==="bottom"&&h);p=nr(nr({},p),{},{x1:a,y1:i+g*u,x2:a+l,y2:i+g*u})}else{var v=+(d==="left"&&!h||d==="right"&&h);p=nr(nr({},p),{},{x1:a+v*l,y1:i,x2:a+v*l,y2:i+u})}return z.createElement("line",jo({},p,{className:it("recharts-cartesian-axis-line",xn(m,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var l=this,u=this.props,d=u.tickLine,h=u.stroke,m=u.tick,p=u.tickFormatter,g=u.unit,v=Uw(nr(nr({},this.props),{},{ticks:n}),a,i),j=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Je(this.props,!1),N=Je(m,!1),k=nr(nr({},b),{},{fill:"none"},Je(d,!1)),S=v.map(function(P,E){var O=l.getTickLineCoord(P),A=O.line,T=O.tick,R=nr(nr(nr(nr({textAnchor:j,verticalAnchor:w},b),{},{stroke:"none",fill:h},N),T),{},{index:E,payload:P,visibleTicksCount:v.length,tickFormatter:p});return z.createElement(mt,jo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},vi(l.props,P,E)),d&&z.createElement("line",jo({},k,A,{className:it("recharts-cartesian-axis-tick-line",xn(d,"className"))})),m&&e.renderTickItem(m,R,"".concat(nt(p)?p(P.value,E):P.value).concat(g||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,l=a.width,u=a.height,d=a.ticksGenerator,h=a.className,m=a.hide;if(m)return null;var p=this.props,g=p.ticks,v=B0(p,SX),j=g;return nt(d)&&(j=g&&g.length>0?d(this.props):d(v)),l<=0||u<=0||!j||!j.length?null:z.createElement(mt,{className:it("recharts-cartesian-axis",h),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),mr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var l,u=it(a.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?l=z.cloneElement(n,nr(nr({},a),{},{className:u})):nt(n)?l=n(nr(nr({},a),{},{className:u})):l=z.createElement(xi,jo({},a,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])})($.Component);zw(hl,"displayName","CartesianAxis");zw(hl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $X=["x1","y1","x2","y2","key"],MX=["offset"];function ji(t){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(t)}function BA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(r),!0).forEach(function(n){DX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DX(t,e,r){return e=RX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RX(t){var e=LX(t,"string");return ji(e)=="symbol"?e:e+""}function LX(t,e){if(ji(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hi(){return hi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hi.apply(this,arguments)}function UA(t,e){if(t==null)return{};var r=FX(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qX=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,l=e.width,u=e.height,d=e.ry;return z.createElement("rect",{x:a,y:i,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function nM(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(nt(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,l=e.y2,u=e.key,d=UA(e,$X),h=Je(d,!1);h.offset;var m=UA(h,MX);r=z.createElement("line",hi({},m,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:u}))}return r}function BX(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var l=i.map(function(u,d){var h=$r($r({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return nM(a,h)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function UX(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var l=i.map(function(u,d){var h=$r($r({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return nM(a,h)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function zX(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,l=t.height,u=t.horizontalPoints,d=t.horizontal,h=d===void 0?!0:d;if(!h||!e||!e.length)return null;var m=u.map(function(g){return Math.round(g+a-a)}).sort(function(g,v){return g-v});a!==m[0]&&m.unshift(0);var p=m.map(function(g,v){var j=!m[v+1],w=j?a+l-g:m[v+1]-g;if(w<=0)return null;var b=v%e.length;return z.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:w,width:i,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function HX(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,l=t.y,u=t.width,d=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var m=h.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==m[0]&&m.unshift(0);var p=m.map(function(g,v){var j=!m[v+1],w=j?i+u-g:m[v+1]-g;if(w<=0)return null;var b=v%n.length;return z.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:w,height:d,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var WX=function(e,r){var n=e.xAxis,a=e.width,i=e.height,l=e.offset;return n$(Uw($r($r($r({},hl.defaultProps),n),{},{ticks:qa(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),l.left,l.left+l.width,r)},KX=function(e,r){var n=e.yAxis,a=e.width,i=e.height,l=e.offset;return n$(Uw($r($r($r({},hl.defaultProps),n),{},{ticks:qa(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),l.top,l.top+l.height,r)},ho={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function xb(t){var e,r,n,a,i,l,u=Lw(),d=Fw(),h=IJ(),m=$r($r({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ho.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ho.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ho.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:ho.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:ho.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:ho.verticalFill,x:Ee(t.x)?t.x:h.left,y:Ee(t.y)?t.y:h.top,width:Ee(t.width)?t.width:h.width,height:Ee(t.height)?t.height:h.height}),p=m.x,g=m.y,v=m.width,j=m.height,w=m.syncWithTicks,b=m.horizontalValues,N=m.verticalValues,k=PJ(),S=TJ();if(!Ee(v)||v<=0||!Ee(j)||j<=0||!Ee(p)||p!==+p||!Ee(g)||g!==+g)return null;var P=m.verticalCoordinatesGenerator||WX,E=m.horizontalCoordinatesGenerator||KX,O=m.horizontalPoints,A=m.verticalPoints;if((!O||!O.length)&&nt(E)){var T=b&&b.length,R=E({yAxis:S?$r($r({},S),{},{ticks:T?b:S.ticks}):void 0,width:u,height:d,offset:h},T?!0:w);sa(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ji(R),"]")),Array.isArray(R)&&(O=R)}if((!A||!A.length)&&nt(P)){var D=N&&N.length,F=P({xAxis:k?$r($r({},k),{},{ticks:D?N:k.ticks}):void 0,width:u,height:d,offset:h},D?!0:w);sa(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ji(F),"]")),Array.isArray(F)&&(A=F)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(qX,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),z.createElement(BX,hi({},m,{offset:h,horizontalPoints:O,xAxis:k,yAxis:S})),z.createElement(UX,hi({},m,{offset:h,verticalPoints:A,xAxis:k,yAxis:S})),z.createElement(zX,hi({},m,{horizontalPoints:O})),z.createElement(HX,hi({},m,{verticalPoints:A})))}xb.displayName="CartesianGrid";var VX=["type","layout","connectNulls","ref"],GX=["key"];function Xo(t){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(t)}function zA(t,e){if(t==null)return{};var r=YX(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yc.apply(this,arguments)}function HA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(r),!0).forEach(function(n){ra(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fo(t){return ZX(t)||QX(t)||XX(t)||JX()}function JX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XX(t,e){if(t){if(typeof t=="string")return bb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bb(t,e)}}function QX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZX(t){if(Array.isArray(t))return bb(t)}function bb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sM(n.key),n)}}function tQ(t,e,r){return e&&WA(t.prototype,e),r&&WA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rQ(t,e,r){return e=Xh(e),nQ(t,aM()?Reflect.construct(e,r||[],Xh(t).constructor):e.apply(t,r))}function nQ(t,e){if(e&&(Xo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aQ(t)}function aQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aM=function(){return!!t})()}function Xh(t){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xh(t)}function sQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wb(t,e)}function wb(t,e){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wb(t,e)}function ra(t,e,r){return e=sM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sM(t){var e=iQ(t,"string");return Xo(e)=="symbol"?e:e+""}function iQ(t,e){if(Xo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gi=(function(t){function e(){var r;eQ(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=rQ(this,e,[].concat(a)),ra(r,"state",{isAnimationFinished:!0,totalLength:0}),ra(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),ra(r,"getStrokeDasharray",function(l,u,d){var h=d.reduce(function(N,k){return N+k});if(!h)return r.generateSimpleStrokeDasharray(u,l);for(var m=Math.floor(l/h),p=l%h,g=u-l,v=[],j=0,w=0;j<d.length;w+=d[j],++j)if(w+d[j]>p){v=[].concat(fo(d.slice(0,j)),[p-w]);break}var b=v.length%2===0?[0,g]:[g];return[].concat(fo(e.repeat(d,m)),fo(v),b).map(function(N){return"".concat(N,"px")}).join(", ")}),ra(r,"id",ol("recharts-line-")),ra(r,"pathRef",function(l){r.mainCurve=l}),ra(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ra(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return sQ(e,t),tQ(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.points,u=i.xAxis,d=i.yAxis,h=i.layout,m=i.children,p=bn(m,xu);if(!p)return null;var g=function(w,b){return{x:w.x,y:w.y,value:w.value,errorVal:or(w.payload,b)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return z.createElement(mt,v,p.map(function(j){return z.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,a,i){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,h=u.points,m=u.dataKey,p=Je(this.props,!1),g=Je(d,!0),v=h.map(function(w,b){var N=hn(hn(hn({key:"dot-".concat(b),r:3},p),g),{},{index:b,cx:w.x,cy:w.y,value:w.value,dataKey:m,payload:w.payload,points:h});return e.renderDotItem(d,N)}),j={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return z.createElement(mt,yc({className:"recharts-line-dots",key:"dots"},j),v)}},{key:"renderCurveStatically",value:function(n,a,i,l){var u=this.props,d=u.type,h=u.layout,m=u.connectNulls;u.ref;var p=zA(u,VX),g=hn(hn(hn({},Je(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},l),{},{type:d,layout:h,connectNulls:m});return z.createElement(Ph,yc({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,l=this.props,u=l.points,d=l.strokeDasharray,h=l.isAnimationActive,m=l.animationBegin,p=l.animationDuration,g=l.animationEasing,v=l.animationId,j=l.animateNewValues,w=l.width,b=l.height,N=this.state,k=N.prevPoints,S=N.totalLength;return z.createElement(wa,{begin:m,duration:p,isActive:h,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var E=P.t;if(k){var O=k.length/u.length,A=u.map(function(I,q){var K=Math.floor(q*O);if(k[K]){var W=k[K],J=mn(W.x,I.x),re=mn(W.y,I.y);return hn(hn({},I),{},{x:J(E),y:re(E)})}if(j){var G=mn(w*2,I.x),oe=mn(b/2,I.y);return hn(hn({},I),{},{x:G(E),y:oe(E)})}return hn(hn({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(A,n,a)}var T=mn(0,S),R=T(E),D;if(d){var F="".concat(d).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});D=i.getStrokeDasharray(R,S,F)}else D=i.generateSimpleStrokeDasharray(S,R);return i.renderCurveStatically(u,n,a,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,a){var i=this.props,l=i.points,u=i.isAnimationActive,d=this.state,h=d.prevPoints,m=d.totalLength;return u&&l&&l.length&&(!h&&m>0||!vu(h,l))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,l=a.dot,u=a.points,d=a.className,h=a.xAxis,m=a.yAxis,p=a.top,g=a.left,v=a.width,j=a.height,w=a.isAnimationActive,b=a.id;if(i||!u||!u.length)return null;var N=this.state.isAnimationFinished,k=u.length===1,S=it("recharts-line",d),P=h&&h.allowDataOverflow,E=m&&m.allowDataOverflow,O=P||E,A=at(b)?this.id:b,T=(n=Je(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=T.r,D=R===void 0?3:R,F=T.strokeWidth,I=F===void 0?2:F,q=MF(l)?l:{},K=q.clipDot,W=K===void 0?!0:K,J=D*2+I;return z.createElement(mt,{className:S},P||E?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(A)},z.createElement("rect",{x:P?g:g-v/2,y:E?p:p-j/2,width:P?v:v*2,height:E?j:j*2})),!W&&z.createElement("clipPath",{id:"clipPath-dots-".concat(A)},z.createElement("rect",{x:g-J/2,y:p-J/2,width:v+J,height:j+J}))):null,!k&&this.renderCurve(O,A),this.renderErrorBar(O,A),(k||l)&&this.renderDots(O,W,A),(!w||N)&&Ha.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(fo(n),[0]):n,l=[],u=0;u<a;++u)l=[].concat(fo(l),fo(i));return l}},{key:"renderDotItem",value:function(n,a){var i;if(z.isValidElement(n))i=z.cloneElement(n,a);else if(nt(n))i=n(a);else{var l=a.key,u=zA(a,GX),d=it("recharts-line-dot",typeof n!="boolean"?n.className:"");i=z.createElement($f,yc({key:l},u,{className:d}))}return i}}])})($.PureComponent);ra(gi,"displayName","Line");ra(gi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ki.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ra(gi,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,l=t.dataKey,u=t.bandSize,d=t.displayedData,h=t.offset,m=e.layout,p=d.map(function(g,v){var j=or(g,l);return m==="horizontal"?{x:JO({axis:r,ticks:a,bandSize:u,entry:g,index:v}),y:at(j)?null:n.scale(j),value:j,payload:g}:{x:at(j)?null:r.scale(j),y:JO({axis:n,ticks:i,bandSize:u,entry:g,index:v}),value:j,payload:g}});return hn({points:p,layout:m},h)});function Qo(t){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(t)}function oQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lM(n.key),n)}}function cQ(t,e,r){return e&&lQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uQ(t,e,r){return e=Qh(e),dQ(t,iM()?Reflect.construct(e,r||[],Qh(t).constructor):e.apply(t,r))}function dQ(t,e){if(e&&(Qo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hQ(t)}function hQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iM=function(){return!!t})()}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qh(t)}function fQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jb(t,e)}function jb(t,e){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jb(t,e)}function oM(t,e,r){return e=lM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lM(t){var e=pQ(t,"string");return Qo(e)=="symbol"?e:e+""}function pQ(t,e){if(Qo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nb(){return Nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nb.apply(this,arguments)}function mQ(t){var e=t.xAxisId,r=Lw(),n=Fw(),a=K$(e);return a==null?null:$.createElement(hl,Nb({},a,{className:it("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return qa(l,!0)}}))}var Zo=(function(t){function e(){return oQ(this,e),uQ(this,e,arguments)}return fQ(e,t),cQ(e,[{key:"render",value:function(){return $.createElement(mQ,this.props)}}])})($.Component);oM(Zo,"displayName","XAxis");oM(Zo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function gQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dM(n.key),n)}}function vQ(t,e,r){return e&&yQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xQ(t,e,r){return e=Zh(e),bQ(t,cM()?Reflect.construct(e,r||[],Zh(t).constructor):e.apply(t,r))}function bQ(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wQ(t)}function wQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cM=function(){return!!t})()}function Zh(t){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zh(t)}function jQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_b(t,e)}function _b(t,e){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_b(t,e)}function uM(t,e,r){return e=dM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dM(t){var e=NQ(t,"string");return el(e)=="symbol"?e:e+""}function NQ(t,e){if(el(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Sb(){return Sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sb.apply(this,arguments)}var _Q=function(e){var r=e.yAxisId,n=Lw(),a=Fw(),i=V$(r);return i==null?null:$.createElement(hl,Sb({},i,{className:it("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(u){return qa(u,!0)}}))},tl=(function(t){function e(){return gQ(this,e),xQ(this,e,arguments)}return jQ(e,t),vQ(e,[{key:"render",value:function(){return $.createElement(_Q,this.props)}}])})($.Component);uM(tl,"displayName","YAxis");uM(tl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function KA(t){return EQ(t)||OQ(t)||kQ(t)||SQ()}function SQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kQ(t,e){if(t){if(typeof t=="string")return kb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kb(t,e)}}function OQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EQ(t){if(Array.isArray(t))return kb(t)}function kb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ob=function(e,r,n,a,i){var l=bn(e,Bw),u=bn(e,zf),d=[].concat(KA(l),KA(u)),h=bn(e,Wf),m="".concat(a,"Id"),p=a[0],g=r;if(d.length&&(g=d.reduce(function(w,b){if(b.props[m]===n&&xa(b.props,"extendDomain")&&Ee(b.props[p])){var N=b.props[p];return[Math.min(w[0],N),Math.max(w[1],N)]}return w},g)),h.length){var v="".concat(p,"1"),j="".concat(p,"2");g=h.reduce(function(w,b){if(b.props[m]===n&&xa(b.props,"extendDomain")&&Ee(b.props[v])&&Ee(b.props[j])){var N=b.props[v],k=b.props[j];return[Math.min(w[0],N,k),Math.max(w[1],N,k)]}return w},g)}return i&&i.length&&(g=i.reduce(function(w,b){return Ee(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},g)),g},U0={exports:{}},VA;function AQ(){return VA||(VA=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,h,m){this.fn=d,this.context=h,this.once=m||!1}function i(d,h,m,p,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new a(m,p||d,g),j=r?r+h:h;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],v]:d._events[j].push(v):(d._events[j]=v,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)e.call(m,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=r?r+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,j=new Array(v);g<v;g++)j[g]=p[g].fn;return j},u.prototype.listenerCount=function(h){var m=r?r+h:h,p=this._events[m];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,m,p,g,v,j){var w=r?r+h:h;if(!this._events[w])return!1;var b=this._events[w],N=arguments.length,k,S;if(b.fn){switch(b.once&&this.removeListener(h,b.fn,void 0,!0),N){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,m),!0;case 3:return b.fn.call(b.context,m,p),!0;case 4:return b.fn.call(b.context,m,p,g),!0;case 5:return b.fn.call(b.context,m,p,g,v),!0;case 6:return b.fn.call(b.context,m,p,g,v,j),!0}for(S=1,k=new Array(N-1);S<N;S++)k[S-1]=arguments[S];b.fn.apply(b.context,k)}else{var P=b.length,E;for(S=0;S<P;S++)switch(b[S].once&&this.removeListener(h,b[S].fn,void 0,!0),N){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,m);break;case 3:b[S].fn.call(b[S].context,m,p);break;case 4:b[S].fn.call(b[S].context,m,p,g);break;default:if(!k)for(E=1,k=new Array(N-1);E<N;E++)k[E-1]=arguments[E];b[S].fn.apply(b[S].context,k)}}return!0},u.prototype.on=function(h,m,p){return i(this,h,m,p,!1)},u.prototype.once=function(h,m,p){return i(this,h,m,p,!0)},u.prototype.removeListener=function(h,m,p,g){var v=r?r+h:h;if(!this._events[v])return this;if(!m)return l(this,v),this;var j=this._events[v];if(j.fn)j.fn===m&&(!g||j.once)&&(!p||j.context===p)&&l(this,v);else{for(var w=0,b=[],N=j.length;w<N;w++)(j[w].fn!==m||g&&!j[w].once||p&&j[w].context!==p)&&b.push(j[w]);b.length?this._events[v]=b.length===1?b[0]:b:l(this,v)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=r?r+h:h,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(U0)),U0.exports}var PQ=AQ();const TQ=St(PQ);var z0=new TQ,H0="recharts.syncMouseEvents";function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function CQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hM(n.key),n)}}function $Q(t,e,r){return e&&IQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W0(t,e,r){return e=hM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hM(t){var e=MQ(t,"string");return su(e)=="symbol"?e:e+""}function MQ(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DQ=(function(){function t(){CQ(this,t),W0(this,"activeIndex",0),W0(this,"coordinateList",[]),W0(this,"layout","horizontal")}return $Q(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,l=r.container,u=l===void 0?null:l,d=r.layout,h=d===void 0?null:d,m=r.offset,p=m===void 0?null:m,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,l=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=i+d+h,g=l+this.offset.top+u/2+m;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])})();function RQ(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&Ee(n)&&Ee(a))return!0}return!1}function LQ(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function fM(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,l=It(e,r,n,a),u=It(e,r,n,i);return{points:[l,u],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function FQ(t,e,r){var n,a,i,l;if(t==="horizontal")n=e.x,i=n,a=r.top,l=r.top+r.height;else if(t==="vertical")a=e.y,l=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,h=e.innerRadius,m=e.outerRadius,p=e.angle,g=It(u,d,h,p),v=It(u,d,m,p);n=g.x,a=g.y,i=v.x,l=v.y}else return fM(e);return[{x:n,y:a},{x:i,y:l}]}function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function GA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(r),!0).forEach(function(n){qQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qQ(t,e,r){return e=BQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BQ(t){var e=UQ(t,"string");return iu(e)=="symbol"?e:e+""}function UQ(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zQ(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,l=t.activeCoordinate,u=t.activePayload,d=t.offset,h=t.activeTooltipIndex,m=t.tooltipAxisBandSize,p=t.layout,g=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!i||!l||g!=="ScatterChart"&&a!=="axis")return null;var j,w=Ph;if(g==="ScatterChart")j=l,w=dG;else if(g==="BarChart")j=LQ(p,l,d,m),w=$w;else if(p==="radial"){var b=fM(l),N=b.cx,k=b.cy,S=b.radius,P=b.startAngle,E=b.endAngle;j={cx:N,cy:k,startAngle:P,endAngle:E,innerRadius:S,outerRadius:S},w=p$}else j={points:FQ(p,l,d)},w=Ph;var O=Hd(Hd(Hd(Hd({stroke:"#ccc",pointerEvents:"none"},d),j),Je(v,!1)),{},{payload:u,payloadIndex:h,className:it("recharts-tooltip-cursor",v.className)});return $.isValidElement(v)?$.cloneElement(v,O):$.createElement(w,O)}var HQ=["item"],WQ=["children","className","width","height","style","compact","title","desc"];function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function No(){return No=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},No.apply(this,arguments)}function YA(t,e){return GQ(t)||VQ(t,e)||mM(t,e)||KQ()}function KQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return u}}function GQ(t){if(Array.isArray(t))return t}function JA(t,e){if(t==null)return{};var r=YQ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gM(n.key),n)}}function QQ(t,e,r){return e&&XQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZQ(t,e,r){return e=ef(e),eZ(t,pM()?Reflect.construct(e,r||[],ef(t).constructor):e.apply(t,r))}function eZ(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tZ(t)}function tZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pM=function(){return!!t})()}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(t)}function rZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eb(t,e)}function Eb(t,e){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Eb(t,e)}function nl(t){return sZ(t)||aZ(t)||mM(t)||nZ()}function nZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mM(t,e){if(t){if(typeof t=="string")return Ab(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ab(t,e)}}function aZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sZ(t){if(Array.isArray(t))return Ab(t)}function Ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function he(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(r),!0).forEach(function(n){Qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qe(t,e,r){return e=gM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gM(t){var e=iZ(t,"string");return rl(e)=="symbol"?e:e+""}function iZ(t,e){if(rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oZ={xAxis:["bottom","top"],yAxis:["left","right"]},lZ={width:"100%",height:"100%"},yM={x:0,y:0};function Wd(t){return t}var cZ=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},uZ=function(e,r,n,a){var i=r.find(function(m){return m&&m.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var l=i.coordinate,u=a.radius;return he(he(he({},a),It(a.cx,a.cy,u,l)),{},{angle:l,radius:u})}var d=i.coordinate,h=a.angle;return he(he(he({},a),It(a.cx,a.cy,d,h)),{},{angle:h,radius:d})}return yM},Kf=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var h=d.props.data;return h&&h.length?[].concat(nl(u),nl(h)):u},[]);return l.length>0?l:e&&e.length&&Ee(a)&&Ee(i)?e.slice(a,i+1):[]};function vM(t){return t==="number"?[0,"auto"]:void 0}var Pb=function(e,r,n,a){var i=e.graphicalItems,l=e.tooltipAxis,u=Kf(r,e);return n<0||!i||!i.length||n>=u.length?null:i.reduce(function(d,h){var m,p=(m=h.props.data)!==null&&m!==void 0?m:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var v=p===void 0?u:p;g=th(v,l.dataKey,a)}else g=p&&p[n]||u[n];return g?[].concat(nl(d),[l$(h,g)]):d},[])},QA=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},l=cZ(i,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,m=CH(l,u,h,d);if(m>=0&&h){var p=h[m]&&h[m].value,g=Pb(e,r,m,p),v=uZ(n,u,m,i);return{activeTooltipIndex:m,activeLabel:p,activePayload:g,activeCoordinate:v}}return null},dZ=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,m=e.layout,p=e.children,g=e.stackOffset,v=r$(m,i);return n.reduce(function(j,w){var b,N=w.type.defaultProps!==void 0?he(he({},w.type.defaultProps),w.props):w.props,k=N.type,S=N.dataKey,P=N.allowDataOverflow,E=N.allowDuplicatedCategory,O=N.scale,A=N.ticks,T=N.includeHidden,R=N[l];if(j[R])return j;var D=Kf(e.data,{graphicalItems:a.filter(function(U){var te,me=l in U.props?U.props[l]:(te=U.type.defaultProps)===null||te===void 0?void 0:te[l];return me===R}),dataStartIndex:d,dataEndIndex:h}),F=D.length,I,q,K;RQ(N.domain,P,k)&&(I=zx(N.domain,null,P),v&&(k==="number"||O!=="auto")&&(K=fc(D,S,"category")));var W=vM(k);if(!I||I.length===0){var J,re=(J=N.domain)!==null&&J!==void 0?J:W;if(S){if(I=fc(D,S,k),k==="category"&&v){var G=SF(I);E&&G?(q=I,I=Bh(0,F)):E||(I=eE(re,I,w).reduce(function(U,te){return U.indexOf(te)>=0?U:[].concat(nl(U),[te])},[]))}else if(k==="category")E?I=I.filter(function(U){return U!==""&&!at(U)}):I=eE(re,I,w).reduce(function(U,te){return U.indexOf(te)>=0||te===""||at(te)?U:[].concat(nl(U),[te])},[]);else if(k==="number"){var oe=RH(D,a.filter(function(U){var te,me,ge=l in U.props?U.props[l]:(te=U.type.defaultProps)===null||te===void 0?void 0:te[l],Me="hide"in U.props?U.props.hide:(me=U.type.defaultProps)===null||me===void 0?void 0:me.hide;return ge===R&&(T||!Me)}),S,i,m);oe&&(I=oe)}v&&(k==="number"||O!=="auto")&&(K=fc(D,S,"category"))}else v?I=Bh(0,F):u&&u[R]&&u[R].hasStack&&k==="number"?I=g==="expand"?[0,1]:o$(u[R].stackGroups,d,h):I=t$(D,a.filter(function(U){var te=l in U.props?U.props[l]:U.type.defaultProps[l],me="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return te===R&&(T||!me)}),k,m,!0);if(k==="number")I=Ob(p,I,R,i,A),re&&(I=zx(re,I,P));else if(k==="category"&&re){var Z=re,M=I.every(function(U){return Z.indexOf(U)>=0});M&&(I=Z)}}return he(he({},j),{},Qe({},R,he(he({},N),{},{axisType:i,domain:I,categoricalDomain:K,duplicateDomain:q,originalDomain:(b=N.domain)!==null&&b!==void 0?b:W,isCategorical:v,layout:m})))},{})},hZ=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,m=e.layout,p=e.children,g=Kf(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),v=g.length,j=r$(m,i),w=-1;return n.reduce(function(b,N){var k=N.type.defaultProps!==void 0?he(he({},N.type.defaultProps),N.props):N.props,S=k[l],P=vM("number");if(!b[S]){w++;var E;return j?E=Bh(0,v):u&&u[S]&&u[S].hasStack?(E=o$(u[S].stackGroups,d,h),E=Ob(p,E,S,i)):(E=zx(P,t$(g,n.filter(function(O){var A,T,R=l in O.props?O.props[l]:(A=O.type.defaultProps)===null||A===void 0?void 0:A[l],D="hide"in O.props?O.props.hide:(T=O.type.defaultProps)===null||T===void 0?void 0:T.hide;return R===S&&!D}),"number",m),a.defaultProps.allowDataOverflow),E=Ob(p,E,S,i)),he(he({},b),{},Qe({},S,he(he({axisType:i},a.defaultProps),{},{hide:!0,orientation:xn(oZ,"".concat(i,".").concat(w%2),null),domain:E,originalDomain:P,isCategorical:j,layout:m})))}return b},{})},fZ=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,m=e.children,p="".concat(a,"Id"),g=bn(m,i),v={};return g&&g.length?v=dZ(e,{axes:g,graphicalItems:l,axisType:a,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h}):l&&l.length&&(v=hZ(e,{Axis:i,graphicalItems:l,axisType:a,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h})),v},pZ=function(e){var r=Ss(e),n=qa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ow(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Oh(r,n)}},ZA=function(e){var r=e.children,n=e.defaultShowTooltip,a=pn(r,Wo),i=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(l=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},mZ=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ua(r&&r.type);return n&&n.indexOf("Bar")>=0})},eP=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},gZ=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,l=i===void 0?{}:i,u=e.yAxisMap,d=u===void 0?{}:u,h=n.width,m=n.height,p=n.children,g=n.margin||{},v=pn(p,Wo),j=pn(p,fi),w=Object.keys(d).reduce(function(E,O){var A=d[O],T=A.orientation;return!A.mirror&&!A.hide?he(he({},E),{},Qe({},T,E[T]+A.width)):E},{left:g.left||0,right:g.right||0}),b=Object.keys(l).reduce(function(E,O){var A=l[O],T=A.orientation;return!A.mirror&&!A.hide?he(he({},E),{},Qe({},T,xn(E,"".concat(T))+A.height)):E},{top:g.top||0,bottom:g.bottom||0}),N=he(he({},b),w),k=N.bottom;v&&(N.bottom+=v.props.height||Wo.defaultProps.height),j&&r&&(N=MH(N,a,n,r));var S=h-N.left-N.right,P=m-N.top-N.bottom;return he(he({brushBottom:k},N),{},{width:Math.max(S,0),height:Math.max(P,0)})},yZ=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Hw=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,l=e.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=e.axisComponents,h=e.legendContent,m=e.formatAxisMap,p=e.defaultProps,g=function(N,k){var S=k.graphicalItems,P=k.stackGroups,E=k.offset,O=k.updateId,A=k.dataStartIndex,T=k.dataEndIndex,R=N.barSize,D=N.layout,F=N.barGap,I=N.barCategoryGap,q=N.maxBarSize,K=eP(D),W=K.numericAxisName,J=K.cateAxisName,re=mZ(S),G=[];return S.forEach(function(oe,Z){var M=Kf(N.data,{graphicalItems:[oe],dataStartIndex:A,dataEndIndex:T}),U=oe.type.defaultProps!==void 0?he(he({},oe.type.defaultProps),oe.props):oe.props,te=U.dataKey,me=U.maxBarSize,ge=U["".concat(W,"Id")],Me=U["".concat(J,"Id")],Ke={},De=d.reduce(function($e,ct){var jt=k["".concat(ct.axisType,"Map")],Rt=U["".concat(ct.axisType,"Id")];jt&&jt[Rt]||ct.axisType==="zAxis"||wi();var vr=jt[Rt];return he(he({},$e),{},Qe(Qe({},ct.axisType,vr),"".concat(ct.axisType,"Ticks"),qa(vr)))},Ke),ue=De[J],xe=De["".concat(J,"Ticks")],Oe=P&&P[ge]&&P[ge].hasStack&&KH(oe,P[ge].stackGroups),Y=Ua(oe.type).indexOf("Bar")>=0,je=Oh(ue,xe),Ie=[],ot=re&&IH({barSize:R,stackGroups:P,totalSize:yZ(De,J)});if(Y){var Pe,Ae,Ne=at(me)?q:me,Xe=(Pe=(Ae=Oh(ue,xe,!0))!==null&&Ae!==void 0?Ae:Ne)!==null&&Pe!==void 0?Pe:0;Ie=$H({barGap:F,barCategoryGap:I,bandSize:Xe!==je?Xe:je,sizeList:ot[Me],maxBarSize:Ne}),Xe!==je&&(Ie=Ie.map(function($e){return he(he({},$e),{},{position:he(he({},$e.position),{},{offset:$e.position.offset-Xe/2})})}))}var ye=oe&&oe.type&&oe.type.getComposedData;ye&&G.push({props:he(he({},ye(he(he({},De),{},{displayedData:M,props:N,dataKey:te,item:oe,bandSize:je,barPosition:Ie,offset:E,stackedData:Oe,layout:D,dataStartIndex:A,dataEndIndex:T}))),{},Qe(Qe(Qe({key:oe.key||"item-".concat(Z)},W,De[W]),J,De[J]),"animationId",O)),childIndex:LF(oe,N.children),item:oe})}),G},v=function(N,k){var S=N.props,P=N.dataStartIndex,E=N.dataEndIndex,O=N.updateId;if(!pS({props:S}))return null;var A=S.children,T=S.layout,R=S.stackOffset,D=S.data,F=S.reverseStackOrder,I=eP(T),q=I.numericAxisName,K=I.cateAxisName,W=bn(A,n),J=HH(D,W,"".concat(q,"Id"),"".concat(K,"Id"),R,F),re=d.reduce(function(U,te){var me="".concat(te.axisType,"Map");return he(he({},U),{},Qe({},me,fZ(S,he(he({},te),{},{graphicalItems:W,stackGroups:te.axisType===q&&J,dataStartIndex:P,dataEndIndex:E}))))},{}),G=gZ(he(he({},re),{},{props:S,graphicalItems:W}),k?.legendBBox);Object.keys(re).forEach(function(U){re[U]=m(S,re[U],G,U.replace("Map",""),r)});var oe=re["".concat(K,"Map")],Z=pZ(oe),M=g(S,he(he({},re),{},{dataStartIndex:P,dataEndIndex:E,updateId:O,graphicalItems:W,stackGroups:J,offset:G}));return he(he({formattedGraphicalItems:M,graphicalItems:W,offset:G,stackGroups:J},Z),re)},j=(function(b){function N(k){var S,P,E;return JQ(this,N),E=ZQ(this,N,[k]),Qe(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qe(E,"accessibilityManager",new DQ),Qe(E,"handleLegendBBoxUpdate",function(O){if(O){var A=E.state,T=A.dataStartIndex,R=A.dataEndIndex,D=A.updateId;E.setState(he({legendBBox:O},v({props:E.props,dataStartIndex:T,dataEndIndex:R,updateId:D},he(he({},E.state),{},{legendBBox:O}))))}}),Qe(E,"handleReceiveSyncEvent",function(O,A,T){if(E.props.syncId===O){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(A)}}),Qe(E,"handleBrushChange",function(O){var A=O.startIndex,T=O.endIndex;if(A!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var R=E.state.updateId;E.setState(function(){return he({dataStartIndex:A,dataEndIndex:T},v({props:E.props,dataStartIndex:A,dataEndIndex:T,updateId:R},E.state))}),E.triggerSyncEvent({dataStartIndex:A,dataEndIndex:T})}}),Qe(E,"handleMouseEnter",function(O){var A=E.getMouseInfo(O);if(A){var T=he(he({},A),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var R=E.props.onMouseEnter;nt(R)&&R(T,O)}}),Qe(E,"triggeredAfterMouseMove",function(O){var A=E.getMouseInfo(O),T=A?he(he({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var R=E.props.onMouseMove;nt(R)&&R(T,O)}),Qe(E,"handleItemMouseEnter",function(O){E.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Qe(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Qe(E,"handleMouseMove",function(O){O.persist(),E.throttleTriggeredAfterMouseMove(O)}),Qe(E,"handleMouseLeave",function(O){E.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};E.setState(A),E.triggerSyncEvent(A);var T=E.props.onMouseLeave;nt(T)&&T(A,O)}),Qe(E,"handleOuterEvent",function(O){var A=RF(O),T=xn(E.props,"".concat(A));if(A&&nt(T)){var R,D;/.*touch.*/i.test(A)?D=E.getMouseInfo(O.changedTouches[0]):D=E.getMouseInfo(O),T((R=D)!==null&&R!==void 0?R:{},O)}}),Qe(E,"handleClick",function(O){var A=E.getMouseInfo(O);if(A){var T=he(he({},A),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var R=E.props.onClick;nt(R)&&R(T,O)}}),Qe(E,"handleMouseDown",function(O){var A=E.props.onMouseDown;if(nt(A)){var T=E.getMouseInfo(O);A(T,O)}}),Qe(E,"handleMouseUp",function(O){var A=E.props.onMouseUp;if(nt(A)){var T=E.getMouseInfo(O);A(T,O)}}),Qe(E,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Qe(E,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.handleMouseDown(O.changedTouches[0])}),Qe(E,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.handleMouseUp(O.changedTouches[0])}),Qe(E,"handleDoubleClick",function(O){var A=E.props.onDoubleClick;if(nt(A)){var T=E.getMouseInfo(O);A(T,O)}}),Qe(E,"handleContextMenu",function(O){var A=E.props.onContextMenu;if(nt(A)){var T=E.getMouseInfo(O);A(T,O)}}),Qe(E,"triggerSyncEvent",function(O){E.props.syncId!==void 0&&z0.emit(H0,E.props.syncId,O,E.eventEmitterSymbol)}),Qe(E,"applySyncEvent",function(O){var A=E.props,T=A.layout,R=A.syncMethod,D=E.state.updateId,F=O.dataStartIndex,I=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)E.setState(he({dataStartIndex:F,dataEndIndex:I},v({props:E.props,dataStartIndex:F,dataEndIndex:I,updateId:D},E.state)));else if(O.activeTooltipIndex!==void 0){var q=O.chartX,K=O.chartY,W=O.activeTooltipIndex,J=E.state,re=J.offset,G=J.tooltipTicks;if(!re)return;if(typeof R=="function")W=R(G,O);else if(R==="value"){W=-1;for(var oe=0;oe<G.length;oe++)if(G[oe].value===O.activeLabel){W=oe;break}}var Z=he(he({},re),{},{x:re.left,y:re.top}),M=Math.min(q,Z.x+Z.width),U=Math.min(K,Z.y+Z.height),te=G[W]&&G[W].value,me=Pb(E.state,E.props.data,W),ge=G[W]?{x:T==="horizontal"?G[W].coordinate:M,y:T==="horizontal"?U:G[W].coordinate}:yM;E.setState(he(he({},O),{},{activeLabel:te,activeCoordinate:ge,activePayload:me,activeTooltipIndex:W}))}else E.setState(O)}),Qe(E,"renderCursor",function(O){var A,T=E.state,R=T.isTooltipActive,D=T.activeCoordinate,F=T.activePayload,I=T.offset,q=T.activeTooltipIndex,K=T.tooltipAxisBandSize,W=E.getTooltipEventType(),J=(A=O.props.active)!==null&&A!==void 0?A:R,re=E.props.layout,G=O.key||"_recharts-cursor";return z.createElement(zQ,{key:G,activeCoordinate:D,activePayload:F,activeTooltipIndex:q,chartName:r,element:O,isActive:J,layout:re,offset:I,tooltipAxisBandSize:K,tooltipEventType:W})}),Qe(E,"renderPolarAxis",function(O,A,T){var R=xn(O,"type.axisType"),D=xn(E.state,"".concat(R,"Map")),F=O.type.defaultProps,I=F!==void 0?he(he({},F),O.props):O.props,q=D&&D[I["".concat(R,"Id")]];return $.cloneElement(O,he(he({},q),{},{className:it(R,q.className),key:O.key||"".concat(A,"-").concat(T),ticks:qa(q,!0)}))}),Qe(E,"renderPolarGrid",function(O){var A=O.props,T=A.radialLines,R=A.polarAngles,D=A.polarRadius,F=E.state,I=F.radiusAxisMap,q=F.angleAxisMap,K=Ss(I),W=Ss(q),J=W.cx,re=W.cy,G=W.innerRadius,oe=W.outerRadius;return $.cloneElement(O,{polarAngles:Array.isArray(R)?R:qa(W,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(D)?D:qa(K,!0).map(function(Z){return Z.coordinate}),cx:J,cy:re,innerRadius:G,outerRadius:oe,key:O.key||"polar-grid",radialLines:T})}),Qe(E,"renderLegend",function(){var O=E.state.formattedGraphicalItems,A=E.props,T=A.children,R=A.width,D=A.height,F=E.props.margin||{},I=R-(F.left||0)-(F.right||0),q=ZI({children:T,formattedGraphicalItems:O,legendWidth:I,legendContent:h});if(!q)return null;var K=q.item,W=JA(q,HQ);return $.cloneElement(K,he(he({},W),{},{chartWidth:R,chartHeight:D,margin:F,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Qe(E,"renderTooltip",function(){var O,A=E.props,T=A.children,R=A.accessibilityLayer,D=pn(T,Mn);if(!D)return null;var F=E.state,I=F.isTooltipActive,q=F.activeCoordinate,K=F.activePayload,W=F.activeLabel,J=F.offset,re=(O=D.props.active)!==null&&O!==void 0?O:I;return $.cloneElement(D,{viewBox:he(he({},J),{},{x:J.left,y:J.top}),active:re,label:W,payload:re?K:[],coordinate:q,accessibilityLayer:R})}),Qe(E,"renderBrush",function(O){var A=E.props,T=A.margin,R=A.data,D=E.state,F=D.offset,I=D.dataStartIndex,q=D.dataEndIndex,K=D.updateId;return $.cloneElement(O,{key:O.key||"_recharts-brush",onChange:qd(E.handleBrushChange,O.props.onChange),data:R,x:Ee(O.props.x)?O.props.x:F.left,y:Ee(O.props.y)?O.props.y:F.top+F.height+F.brushBottom-(T.bottom||0),width:Ee(O.props.width)?O.props.width:F.width,startIndex:I,endIndex:q,updateId:"brush-".concat(K)})}),Qe(E,"renderReferenceElement",function(O,A,T){if(!O)return null;var R=E,D=R.clipPathId,F=E.state,I=F.xAxisMap,q=F.yAxisMap,K=F.offset,W=O.type.defaultProps||{},J=O.props,re=J.xAxisId,G=re===void 0?W.xAxisId:re,oe=J.yAxisId,Z=oe===void 0?W.yAxisId:oe;return $.cloneElement(O,{key:O.key||"".concat(A,"-").concat(T),xAxis:I[G],yAxis:q[Z],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:D})}),Qe(E,"renderActivePoints",function(O){var A=O.item,T=O.activePoint,R=O.basePoint,D=O.childIndex,F=O.isRange,I=[],q=A.props.key,K=A.item.type.defaultProps!==void 0?he(he({},A.item.type.defaultProps),A.item.props):A.item.props,W=K.activeDot,J=K.dataKey,re=he(he({index:D,dataKey:J,cx:T.x,cy:T.y,r:4,fill:Iw(A.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Je(W,!1)),rh(W));return I.push(N.renderActiveDot(W,re,"".concat(q,"-activePoint-").concat(D))),R?I.push(N.renderActiveDot(W,he(he({},re),{},{cx:R.x,cy:R.y}),"".concat(q,"-basePoint-").concat(D))):F&&I.push(null),I}),Qe(E,"renderGraphicChild",function(O,A,T){var R=E.filterFormatItem(O,A,T);if(!R)return null;var D=E.getTooltipEventType(),F=E.state,I=F.isTooltipActive,q=F.tooltipAxis,K=F.activeTooltipIndex,W=F.activeLabel,J=E.props.children,re=pn(J,Mn),G=R.props,oe=G.points,Z=G.isRange,M=G.baseLine,U=R.item.type.defaultProps!==void 0?he(he({},R.item.type.defaultProps),R.item.props):R.item.props,te=U.activeDot,me=U.hide,ge=U.activeBar,Me=U.activeShape,Ke=!!(!me&&I&&re&&(te||ge||Me)),De={};D!=="axis"&&re&&re.props.trigger==="click"?De={onClick:qd(E.handleItemMouseEnter,O.props.onClick)}:D!=="axis"&&(De={onMouseLeave:qd(E.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:qd(E.handleItemMouseEnter,O.props.onMouseEnter)});var ue=$.cloneElement(O,he(he({},R.props),De));function xe(ct){return typeof q.dataKey=="function"?q.dataKey(ct.payload):null}if(Ke)if(K>=0){var Oe,Y;if(q.dataKey&&!q.allowDuplicatedCategory){var je=typeof q.dataKey=="function"?xe:"payload.".concat(q.dataKey.toString());Oe=th(oe,je,W),Y=Z&&M&&th(M,je,W)}else Oe=oe?.[K],Y=Z&&M&&M[K];if(Me||ge){var Ie=O.props.activeIndex!==void 0?O.props.activeIndex:K;return[$.cloneElement(O,he(he(he({},R.props),De),{},{activeIndex:Ie})),null,null]}if(!at(Oe))return[ue].concat(nl(E.renderActivePoints({item:R,activePoint:Oe,basePoint:Y,childIndex:K,isRange:Z})))}else{var ot,Pe=(ot=E.getItemByXY(E.state.activeCoordinate))!==null&&ot!==void 0?ot:{graphicalItem:ue},Ae=Pe.graphicalItem,Ne=Ae.item,Xe=Ne===void 0?O:Ne,ye=Ae.childIndex,$e=he(he(he({},R.props),De),{},{activeIndex:ye});return[$.cloneElement(Xe,$e),null,null]}return Z?[ue,null,null]:[ue,null]}),Qe(E,"renderCustomized",function(O,A,T){return $.cloneElement(O,he(he({key:"recharts-customized-".concat(T)},E.props),E.state))}),Qe(E,"renderMap",{CartesianGrid:{handler:Wd,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Wd},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Wd},YAxis:{handler:Wd},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=k.id)!==null&&S!==void 0?S:ol("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=ZC(E.triggeredAfterMouseMove,(P=k.throttleDelay)!==null&&P!==void 0?P:1e3/60),E.state={},E}return rZ(N,b),QQ(N,[{key:"componentDidMount",value:function(){var S,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,P=S.children,E=S.data,O=S.height,A=S.layout,T=pn(P,Mn);if(T){var R=T.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,F=Pb(this.state,E,R,D),I=this.state.tooltipTicks[R].coordinate,q=(this.state.offset.top+O)/2,K=A==="horizontal",W=K?{x:I,y:q}:{y:I,x:q},J=this.state.formattedGraphicalItems.find(function(G){var oe=G.item;return oe.type.name==="Scatter"});J&&(W=he(he({},W),J.props.points[R].tooltipPosition),F=J.props.points[R].tooltipPayload);var re={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:D,activePayload:F,activeCoordinate:W};this.setState(re),this.renderCursor(T),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,O;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(S){dx([pn(S.children,Mn)],[pn(this.props.children,Mn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=pn(this.props.children,Mn);if(S&&typeof S.props.shared=="boolean"){var P=S.props.shared?"axis":"item";return u.indexOf(P)>=0?P:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var P=this.container,E=P.getBoundingClientRect(),O=_8(E),A={chartX:Math.round(S.pageX-O.left),chartY:Math.round(S.pageY-O.top)},T=E.width/P.offsetWidth||1,R=this.inRange(A.chartX,A.chartY,T);if(!R)return null;var D=this.state,F=D.xAxisMap,I=D.yAxisMap,q=this.getTooltipEventType(),K=QA(this.state,this.props.data,this.props.layout,R);if(q!=="axis"&&F&&I){var W=Ss(F).scale,J=Ss(I).scale,re=W&&W.invert?W.invert(A.chartX):null,G=J&&J.invert?J.invert(A.chartY):null;return he(he({},A),{},{xValue:re,yValue:G},K)}return K?he(he({},A),K):null}},{key:"inRange",value:function(S,P){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,A=S/E,T=P/E;if(O==="horizontal"||O==="vertical"){var R=this.state.offset,D=A>=R.left&&A<=R.left+R.width&&T>=R.top&&T<=R.top+R.height;return D?{x:A,y:T}:null}var F=this.state,I=F.angleAxisMap,q=F.radiusAxisMap;if(I&&q){var K=Ss(I);return nE({x:A,y:T},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,P=this.getTooltipEventType(),E=pn(S,Mn),O={};E&&P==="axis"&&(E.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=rh(this.props,this.handleOuterEvent);return he(he({},A),O)}},{key:"addListener",value:function(){z0.on(H0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){z0.removeListener(H0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,P,E){for(var O=this.state.formattedGraphicalItems,A=0,T=O.length;A<T;A++){var R=O[A];if(R.item===S||R.props.key===S.key||P===Ua(R.item.type)&&E===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,P=this.state.offset,E=P.left,O=P.top,A=P.height,T=P.width;return z.createElement("defs",null,z.createElement("clipPath",{id:S},z.createElement("rect",{x:E,y:O,height:A,width:T})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(P,E){var O=YA(E,2),A=O[0],T=O[1];return he(he({},P),{},Qe({},A,T.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(P,E){var O=YA(E,2),A=O[0],T=O[1];return he(he({},P),{},Qe({},A,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[S])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(S){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[S])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(S){var P=this.state,E=P.formattedGraphicalItems,O=P.activeItem;if(E&&E.length)for(var A=0,T=E.length;A<T;A++){var R=E[A],D=R.props,F=R.item,I=F.type.defaultProps!==void 0?he(he({},F.type.defaultProps),F.props):F.props,q=Ua(F.type);if(q==="Bar"){var K=(D.data||[]).find(function(G){return WV(S,G)});if(K)return{graphicalItem:R,payload:K}}else if(q==="RadialBar"){var W=(D.data||[]).find(function(G){return nE(S,G)});if(W)return{graphicalItem:R,payload:W}}else if(Ff(R,O)||qf(R,O)||eu(R,O)){var J=pY({graphicalItem:R,activeTooltipItem:O,itemData:I.data}),re=I.activeIndex===void 0?J:I.activeIndex;return{graphicalItem:he(he({},R),{},{childIndex:re}),payload:eu(R,O)?I.data[J]:R.props.data[J]}}}return null}},{key:"render",value:function(){var S=this;if(!pS(this))return null;var P=this.props,E=P.children,O=P.className,A=P.width,T=P.height,R=P.style,D=P.compact,F=P.title,I=P.desc,q=JA(P,WQ),K=Je(q,!1);if(D)return z.createElement(PA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(fx,No({},K,{width:A,height:T,title:F,desc:I}),this.renderClipPath(),gS(E,this.renderMap)));if(this.props.accessibilityLayer){var W,J;K.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,K.role=(J=this.props.role)!==null&&J!==void 0?J:"application",K.onKeyDown=function(G){S.accessibilityManager.keyboardEvent(G)},K.onFocus=function(){S.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return z.createElement(PA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",No({className:it("recharts-wrapper",O),style:he({position:"relative",cursor:"default",width:A,height:T},R)},re,{ref:function(oe){S.container=oe}}),z.createElement(fx,No({},K,{width:A,height:T,title:F,desc:I,style:lZ}),this.renderClipPath(),gS(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})($.Component);Qe(j,"displayName",r),Qe(j,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Qe(j,"getDerivedStateFromProps",function(b,N){var k=b.dataKey,S=b.data,P=b.children,E=b.width,O=b.height,A=b.layout,T=b.stackOffset,R=b.margin,D=N.dataStartIndex,F=N.dataEndIndex;if(N.updateId===void 0){var I=ZA(b);return he(he(he({},I),{},{updateId:0},v(he(he({props:b},I),{},{updateId:0}),N)),{},{prevDataKey:k,prevData:S,prevWidth:E,prevHeight:O,prevLayout:A,prevStackOffset:T,prevMargin:R,prevChildren:P})}if(k!==N.prevDataKey||S!==N.prevData||E!==N.prevWidth||O!==N.prevHeight||A!==N.prevLayout||T!==N.prevStackOffset||!ko(R,N.prevMargin)){var q=ZA(b),K={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},W=he(he({},QA(N,S,A)),{},{updateId:N.updateId+1}),J=he(he(he({},q),K),W);return he(he(he({},J),v(he({props:b},J),N)),{},{prevDataKey:k,prevData:S,prevWidth:E,prevHeight:O,prevLayout:A,prevStackOffset:T,prevMargin:R,prevChildren:P})}if(!dx(P,N.prevChildren)){var re,G,oe,Z,M=pn(P,Wo),U=M&&(re=(G=M.props)===null||G===void 0?void 0:G.startIndex)!==null&&re!==void 0?re:D,te=M&&(oe=(Z=M.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&oe!==void 0?oe:F,me=U!==D||te!==F,ge=!at(S),Me=ge&&!me?N.updateId:N.updateId+1;return he(he({updateId:Me},v(he(he({props:b},N),{},{updateId:Me,dataStartIndex:U,dataEndIndex:te}),N)),{},{prevChildren:P,dataStartIndex:U,dataEndIndex:te})}return null}),Qe(j,"renderActiveDot",function(b,N,k){var S;return $.isValidElement(b)?S=$.cloneElement(b,N):nt(b)?S=b(N):S=z.createElement($f,N),z.createElement(mt,{className:"recharts-active-dot",key:k},S)});var w=$.forwardRef(function(N,k){return z.createElement(j,No({},N,{ref:k}))});return w.displayName=j.displayName,w},vZ=Hw({chartName:"LineChart",GraphicalChild:gi,axisComponents:[{axisType:"xAxis",AxisComp:Zo},{axisType:"yAxis",AxisComp:tl}],formatAxisMap:L$}),xZ=Hw({chartName:"BarChart",GraphicalChild:Pi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Zo},{axisType:"yAxis",AxisComp:tl}],formatAxisMap:L$}),bZ=Hw({chartName:"PieChart",GraphicalChild:Qa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Lf},{axisType:"radiusAxis",AxisComp:Df}],formatAxisMap:rW,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const tP=["#3b82f6","#f59e0b","#10b981","#ef4444","#8b5cf6","#ec4899"];function wZ({context:t}){const e=$.useMemo(()=>{const u=new Map;return t.inventory.forEach(d=>{const h=u.get(d.date)||{inventory:0,overhead:0};u.set(d.date,{...h,inventory:h.inventory+d.totalCost})}),t.overheads.forEach(d=>{const h=u.get(d.date)||{inventory:0,overhead:0};u.set(d.date,{...h,overhead:h.overhead+d.amount})}),Array.from(u.entries()).map(([d,h])=>({date:XT(d),fullDate:d,inventory:h.inventory,overhead:h.overhead,total:h.inventory+h.overhead})).sort((d,h)=>d.fullDate.localeCompare(h.fullDate))},[t.inventory,t.overheads]),r=$.useMemo(()=>{const u=new Map;return t.inventory.forEach(d=>{const h=u.get(d.category)||0;u.set(d.category,h+d.totalCost)}),t.overheads.forEach(d=>{const h=u.get(d.category)||0;u.set(d.category,h+d.amount)}),Array.from(u.entries()).map(([d,h])=>({name:Cb[d]||yP[d]||d,value:h})).sort((d,h)=>h.value-d.value)},[t.inventory,t.overheads]),n=$.useMemo(()=>{const u=new Map;return t.inventory.forEach(d=>{const h=u.get(d.itemName)||0;u.set(d.itemName,h+d.totalCost)}),Array.from(u.entries()).map(([d,h])=>({name:d,value:h})).sort((d,h)=>h.value-d.value).slice(0,10)},[t.inventory]),a=t.inventory.reduce((u,d)=>u+d.totalCost,0),i=t.overheads.reduce((u,d)=>u+d.amount,0),l=a+i;return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-gray-900",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive view of spending patterns and trends"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(j4,{className:"w-5 h-5"}),s.jsx("p",{className:"text-sm opacity-90",children:"Total Inventory Spend"})]}),s.jsxs("p",{className:"text-2xl",children:["",a.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(QR,{className:"w-5 h-5"}),s.jsx("p",{className:"text-sm opacity-90",children:"Total Overhead Spend"})]}),s.jsxs("p",{className:"text-2xl",children:["",i.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ws,{className:"w-5 h-5"}),s.jsx("p",{className:"text-sm opacity-90",children:"Total Expenses"})]}),s.jsxs("p",{className:"text-2xl",children:["",l.toLocaleString()]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[s.jsx("h3",{className:"text-gray-900 mb-6",children:"Daily Spending Trends"}),s.jsx(Yv,{width:"100%",height:300,children:s.jsxs(vZ,{data:e,children:[s.jsx(xb,{strokeDasharray:"3 3"}),s.jsx(Zo,{dataKey:"date"}),s.jsx(tl,{}),s.jsx(Mn,{formatter:u=>`${u.toLocaleString()}`}),s.jsx(fi,{}),s.jsx(gi,{type:"monotone",dataKey:"inventory",stroke:"#3b82f6",name:"Inventory",strokeWidth:2}),s.jsx(gi,{type:"monotone",dataKey:"overhead",stroke:"#f59e0b",name:"Overhead",strokeWidth:2}),s.jsx(gi,{type:"monotone",dataKey:"total",stroke:"#8b5cf6",name:"Total",strokeWidth:2})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-gray-900 mb-6",children:"Spending by Category"}),s.jsx(Yv,{width:"100%",height:300,children:s.jsxs(bZ,{children:[s.jsx(Qa,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percent:d})=>`${u} (${(d*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((u,d)=>s.jsx(jf,{fill:tP[d%tP.length]},`cell-${d}`))}),s.jsx(Mn,{formatter:u=>`${u.toLocaleString()}`})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-gray-900 mb-6",children:"Top Inventory Items"}),s.jsx(Yv,{width:"100%",height:300,children:s.jsxs(xZ,{data:n,layout:"vertical",children:[s.jsx(xb,{strokeDasharray:"3 3"}),s.jsx(Zo,{type:"number"}),s.jsx(tl,{dataKey:"name",type:"category",width:100}),s.jsx(Mn,{formatter:u=>`${u.toLocaleString()}`}),s.jsx(Pi,{dataKey:"value",fill:"#3b82f6"})]})})]})]})]})}function jZ({onLogin:t,onSignup:e,error:r}){const[n,a]=$.useState(!1),[i,l]=$.useState({email:"",password:"",name:"",role:"employee",employeeId:""}),[u,d]=$.useState(!1),h=async m=>{if(m.preventDefault(),u){console.log(" Submission already in progress, ignoring duplicate request");return}d(!0);try{n?await e(i.email,i.password,i.name,i.role):await t(i.email,i.password)}finally{d(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 sm:p-8",children:[s.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-full mb-3 sm:mb-4",children:s.jsx(fr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),s.jsx("h1",{className:"text-gray-900 mb-2",children:"Inventory Management"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:n?"Create your account":"Sign in to your account"})]}),r&&s.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-xs sm:text-sm text-red-600",children:r})}),s.jsxs("form",{onSubmit:h,className:"space-y-3 sm:space-y-4",children:[n&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",value:i.name,onChange:m=>l({...i,name:m.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"Enter your name",required:n})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Role"}),s.jsxs("select",{value:i.role,onChange:m=>l({...i,role:m.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",required:n,children:[s.jsx("option",{value:"employee",children:"Employee (View your payouts)"}),s.jsx("option",{value:"manager",children:"Manager (Manage inventory)"}),s.jsx("option",{value:"cluster_head",children:"Cluster Head (View & approve)"}),s.jsx("option",{value:"audit",children:"Audit (View reports)"})]})]}),i.role==="employee"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Employee ID"}),s.jsx("input",{type:"text",value:i.employeeId,onChange:m=>l({...i,employeeId:m.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"Enter your Employee ID",required:n&&i.role==="employee"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must match the ID created by your manager"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:i.email,onChange:m=>l({...i,email:m.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"Enter your email",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Password"}),s.jsx("input",{type:"password",value:i.password,onChange:m=>l({...i,password:m.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"Enter your password",required:!0,minLength:6}),n&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),s.jsx("button",{type:"submit",disabled:u,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-base touch-manipulation",children:u?s.jsxs(s.Fragment,{children:[s.jsx(lu,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Processing..."})]}):s.jsxs(s.Fragment,{children:[n?s.jsx(ma,{className:"w-5 h-5"}):s.jsx(a4,{className:"w-5 h-5"}),n?"Create Account":"Sign In"]})})]}),s.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:s.jsx("button",{onClick:()=>{a(!n),l({email:"",password:"",name:"",role:"employee",employeeId:""})},className:"text-sm text-blue-600 hover:text-blue-700 active:text-blue-800 touch-manipulation",children:n?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}function NZ({user:t}){const[e,r]=$.useState(h(new Date)),[n,a]=$.useState([]),[i,l]=$.useState(!1),[u,d]=$.useState([]);$.useEffect(()=>{p(),g()},[e]);function h(T){const R=new Date(T),D=R.getDay(),F=R.getDate()-D+(D===0?-6:1);return new Date(R.setDate(F))}function m(T){const R=[];for(let D=0;D<7;D++){const F=new Date(T);F.setDate(T.getDate()+D),R.push(F)}return R}const p=async()=>{try{l(!0);const T=await Sc(t.employeeId);a(T)}catch(T){console.error("Error loading timesheet:",T)}finally{l(!1)}},g=async()=>{try{const T=await uu(t.employeeId);d(T.filter(R=>R.status==="approved"||R.status==="pending"))}catch(T){console.error("Error loading leaves:",T)}},v=T=>{const R=T.toISOString().split("T")[0];return u.some(D=>D.leaveDate===R)},j=T=>{const R=T.toISOString().split("T")[0],D=n.find(F=>F.date===R);return D||{employeeId:t.employeeId,date:R,startTime:"",endTime:"",totalHours:0,status:"pending",isLeave:v(T)}},w=(T,R)=>{if(!T||!R)return 0;const[D,F]=T.split(":").map(Number),[I,q]=R.split(":").map(Number),K=D*60+F;return(I*60+q-K)/60},b=(T,R,D)=>{const F=T.toISOString().split("T")[0],I=n.find(W=>W.date===F);let q;I?q={...I,[R]:D}:q={employeeId:t.employeeId,date:F,startTime:R==="startTime"?D:"",endTime:R==="endTime"?D:"",totalHours:0,status:"pending",isLeave:!1},q.totalHours=w(q.startTime,q.endTime);const K=n.filter(W=>W.date!==F);a([...K,q])},N=async T=>{const R=j(T);if(!R.startTime||!R.endTime){alert("Please enter both start and end times");return}if(R.totalHours<4){alert("For half day, minimum 4 hours required");return}try{l(!0),await(void 0)(R),await p(),alert("Timesheet saved successfully")}catch(D){console.error("Error saving timesheet:",D),alert("Error saving timesheet")}finally{l(!1)}},k=async()=>{const R=m(e).map(D=>j(D)).filter(D=>D.startTime&&D.endTime);if(R.length===0){alert("Please enter timesheet data for at least one day");return}for(const D of R)if(D.totalHours<4){alert(`${D.date}: Minimum 4 hours required for half day`);return}try{l(!0),await(void 0)(R),await p(),alert("Week timesheet saved successfully")}catch(D){console.error("Error saving week timesheet:",D),alert("Error saving week timesheet")}finally{l(!1)}},S=()=>{const T=new Date(e);T.setDate(T.getDate()-7),r(T)},P=()=>{const T=new Date(e);T.setDate(T.getDate()+7),r(T)},E=async()=>{try{l(!0);const T=new Date(e);T.setDate(T.getDate()-7);const R=m(T),D=await Sc(t.employeeId),F=R.map(W=>{const J=W.toISOString().split("T")[0];return D.find(re=>re.date===J)}).filter(Boolean);if(F.length===0){alert("No timesheet data found in previous week to copy"),l(!1);return}const I=m(e),q=[];if(I.forEach((W,J)=>{const re=W.toISOString().split("T")[0],G=F[J],oe=n.find(M=>M.date===re);!v(W)&&G&&G.startTime&&G.endTime&&(!oe||oe.status!=="approved")&&q.push({employeeId:t.employeeId,date:re,startTime:G.startTime,endTime:G.endTime,totalHours:G.totalHours,status:"pending",isLeave:!1})}),q.length===0){alert("All days in current week are either on leave or already have approved entries"),l(!1);return}const K=[...n];q.forEach(W=>{const J=K.findIndex(re=>re.date===W.date);J>=0?K[J]=W:K.push(W)}),a(K),alert(`Copied ${q.length} day(s) from previous week! Don't forget to save.`)}catch(T){console.error("Error copying from previous week:",T),alert("Error copying data from previous week")}finally{l(!1)}},O=m(e),A=new Date(e);return A.setDate(A.getDate()+6),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"My Timesheet"}),s.jsx("p",{className:"text-gray-600",children:"Track your daily working hours"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",children:[s.jsx(K0,{className:"w-4 h-4"}),"Previous Week"]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center gap-2 justify-center mb-1",children:[s.jsx(Kr,{className:"w-5 h-5 text-purple-600"}),s.jsxs("span",{className:"text-lg text-gray-900",children:[e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," - ",A.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Week View"})]}),s.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",children:["Next Week",s.jsx(Ps,{className:"w-4 h-4"})]})]}),s.jsx("div",{className:"flex justify-center pt-2 border-t border-gray-200",children:s.jsxs("button",{onClick:E,disabled:i,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg hover:from-blue-600 hover:to-cyan-600 transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(LR,{className:"w-4 h-4"}),"Copy from Previous Week"]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left",children:"Day"}),s.jsx("th",{className:"px-6 py-4 text-left",children:"Start Time"}),s.jsx("th",{className:"px-6 py-4 text-left",children:"End Time"}),s.jsx("th",{className:"px-6 py-4 text-left",children:"Total Hours"}),s.jsx("th",{className:"px-6 py-4 text-left",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:O.map((T,R)=>{const D=j(T),F=v(T);return s.jsxs("tr",{className:F?"bg-yellow-50":R%2===0?"bg-gray-50":"bg-white",children:[s.jsx("td",{className:"px-6 py-4 text-gray-900",children:T.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx("td",{className:"px-6 py-4 text-gray-700",children:T.toLocaleDateString("en-US",{weekday:"short"})}),s.jsx("td",{className:"px-6 py-4",children:F?s.jsx("span",{className:"text-yellow-700 text-sm",children:"On Leave"}):s.jsx("input",{type:"time",value:D.startTime,onChange:I=>b(T,"startTime",I.target.value),disabled:D.status==="approved",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100"})}),s.jsx("td",{className:"px-6 py-4",children:F?s.jsx("span",{className:"text-yellow-700 text-sm",children:"On Leave"}):s.jsx("input",{type:"time",value:D.endTime,onChange:I=>b(T,"endTime",I.target.value),disabled:D.status==="approved",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100"})}),s.jsx("td",{className:"px-6 py-4",children:F?s.jsx("span",{className:"text-yellow-700",children:"-"}):s.jsx("span",{className:`${D.totalHours>=4?"text-green-700":D.totalHours>0?"text-red-700":"text-gray-500"}`,children:D.totalHours>0?`${D.totalHours.toFixed(2)} hrs`:"-"})}),s.jsx("td",{className:"px-6 py-4",children:F?s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:[s.jsx(gr,{className:"w-4 h-4"}),"Leave"]}):D.status==="approved"?s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:[s.jsx(ir,{className:"w-4 h-4"}),"Approved"]}):D.status==="rejected"?s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:[s.jsx(aa,{className:"w-4 h-4"}),"Rejected"]}):D.startTime&&D.endTime?s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:[s.jsx(Dr,{className:"w-4 h-4"}),"Pending"]}):s.jsx("span",{className:"text-gray-400 text-sm",children:"Not filled"})}),s.jsx("td",{className:"px-6 py-4",children:!F&&D.status!=="approved"&&s.jsxs("button",{onClick:()=>N(T),disabled:i||!D.startTime||!D.endTime,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:[s.jsx(Ao,{className:"w-4 h-4"}),"Save"]})})]},R)})})]})})}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsxs("button",{onClick:k,disabled:i,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg disabled:opacity-50",children:[s.jsx(Ao,{className:"w-5 h-5"}),"Save Entire Week"]})})]})})}function _Z({user:t}){const[e,r]=$.useState([]),[n,a]=$.useState(0),[i,l]=$.useState(0),[u,d]=$.useState(!1),[h,m]=$.useState(!1),[p,g]=$.useState({leaveDate:"",leaveType:"full",isAdvanceLeave:!1,reason:""});$.useEffect(()=>{v(),j()},[]),$.useEffect(()=>{w()},[e,n]);const v=async()=>{try{d(!0);const S=await uu(t.employeeId);r(S)}catch(S){console.error("Error loading leaves:",S)}finally{d(!1)}},j=async()=>{try{const S=await CT(t.employeeId,t.joiningDate||"2024-01-01");a(S)}catch(S){console.error("Error calculating leave balance:",S)}},w=()=>{const P=e.filter(E=>E.status==="pending").reduce((E,O)=>{const A=O.leaveType||"full";return E+(A==="half"?.5:1)},0);l(n-P)},b=async()=>{if(!p.leaveDate||!p.reason){alert("Please fill all fields");return}if(e.find(E=>E.leaveDate===p.leaveDate)){alert("Leave already applied for this date");return}const P=p.leaveType==="half"?.5:1;if(p.isAdvanceLeave){const E=new Date,O=E.getMonth(),A=E.getFullYear(),R=e.filter(F=>{const I=new Date(F.leaveDate);return F.isAdvanceLeave&&F.status==="approved"&&I.getMonth()===O&&I.getFullYear()===A}).reduce((F,I)=>{const q=I.leaveType||"full";return F+(q==="half"?.5:1)},0);if(R+P>2){alert(`You can only take maximum 2 days of advance leave per month. You have already used ${R} day(s).`);return}if(e.filter(F=>{const I=new Date(F.leaveDate);return F.status==="approved"&&I.getMonth()===O&&I.getFullYear()===A}).reduce((F,I)=>{const q=I.leaveType||"full";return F+(q==="half"?.5:1)},0)+P>5){alert("Maximum 5 days of leave allowed per month (including advance leave).");return}}else if(n<P){alert(`Insufficient leave balance. You have ${n} day(s) remaining. Consider applying for advance leave (max 2 days).`);return}try{d(!0);const E={employeeId:t.employeeId,leaveDate:p.leaveDate,leaveType:p.leaveType,isAdvanceLeave:p.isAdvanceLeave,reason:p.reason,status:"pending",appliedAt:new Date().toISOString()};await TT(E),await v(),await j(),g({leaveDate:"",leaveType:"full",isAdvanceLeave:!1,reason:""}),m(!1),alert("Leave application submitted successfully")}catch(E){console.error("Error applying leave:",E),alert("Error applying leave")}finally{d(!1)}},N=S=>{switch(S){case"approved":return s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:[s.jsx(ir,{className:"w-4 h-4"}),"Approved"]});case"rejected":return s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:[s.jsx(aa,{className:"w-4 h-4"}),"Rejected"]});default:return s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:[s.jsx(Dr,{className:"w-4 h-4"}),"Pending"]})}},k=[...e].sort((S,P)=>new Date(P.leaveDate).getTime()-new Date(S.leaveDate).getTime());return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Leave Management"}),s.jsx("p",{className:"text-gray-600",children:"Apply for leaves and track your leave balance"})]}),s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl shadow-lg p-6 mb-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg mb-4 opacity-90",children:"Leave Balance"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-sm opacity-75 mb-1",children:"Current Balance"}),s.jsxs("div",{className:`text-5xl mb-1 ${n<0?"text-red-200":""}`,children:[n,n<0&&s.jsx("span",{className:"text-sm ml-2 bg-red-500/30 px-2 py-1 rounded",children:"Negative"})]}),s.jsx("p",{className:"text-xs opacity-75",children:n<0?"You have taken advance leave - will be deducted next month":"approved leaves deducted"})]}),i!==n&&s.jsxs("div",{className:"pt-4 border-t border-white/20",children:[s.jsx("div",{className:"text-sm opacity-75 mb-1",children:"Projected Balance"}),s.jsx("div",{className:`text-3xl mb-1 ${i<0?"text-red-200":""}`,children:i}),s.jsx("p",{className:"text-xs opacity-75",children:"if all pending leaves are approved"})]}),s.jsx("p",{className:"text-sm opacity-75 mt-4",children:"3 leaves/month  max 5 days (3 regular + 2 advance)"})]}),s.jsx("div",{className:"bg-white/20 rounded-full p-6",children:s.jsx(Kr,{className:"w-16 h-16"})})]})}),s.jsx("div",{className:"mb-6",children:s.jsxs("button",{onClick:()=>m(!h),className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-md",children:[s.jsx(Gd,{className:"w-5 h-5"}),"Apply for Leave"]})}),h&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[s.jsx("h3",{className:"text-lg text-gray-900 mb-4",children:"Apply for Leave"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Leave Date"}),s.jsx("input",{type:"date",value:p.leaveDate,onChange:S=>g({...p,leaveDate:S.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Leave Type"}),s.jsxs("select",{value:p.leaveType,onChange:S=>g({...p,leaveType:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"full",children:"Full Day"}),s.jsx("option",{value:"half",children:"Half Day"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Reason"}),s.jsx("input",{type:"text",value:p.reason,onChange:S=>g({...p,reason:S.target.value}),placeholder:"Enter reason for leave",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),s.jsx("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:p.isAdvanceLeave,onChange:S=>g({...p,isAdvanceLeave:S.target.checked}),className:"mt-1 w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:"Apply as Advance Leave"}),s.jsxs("div",{className:"text-xs text-gray-600",children:[s.jsx(gr,{className:"w-4 h-4 inline mr-1"}),"You can take up to 2 days advance leave per month. This will make your balance negative and will be deducted from next month's quota.",s.jsx("br",{}),s.jsx("span",{className:"font-medium",children:"Maximum total: 5 days/month (3 regular + 2 advance)"})]})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:b,disabled:u,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-300",children:"Submit Application"}),s.jsx("button",{onClick:()=>m(!1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-100 to-pink-100 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg text-gray-900",children:"Leave History"})}),u?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):k.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Kr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No leave applications yet"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Leave Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Reason"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Applied On"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Approved By"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:k.map((S,P)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-gray-900",children:new Date(S.leaveDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(S.leaveType||"full")==="full"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:(S.leaveType||"full")==="full"?"Full Day":"Half Day"}),S.isAdvanceLeave&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Advance"})]})}),s.jsx("td",{className:"px-6 py-4 text-gray-700",children:S.reason}),s.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:S.appliedAt?new Date(S.appliedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-"}),s.jsx("td",{className:"px-6 py-4",children:N(S.status)}),s.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:S.approvedBy||"-"})]},P))})]})})]}),s.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(gr,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"mb-2",children:s.jsx("strong",{children:"Leave Policy:"})}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"3 leaves are credited on the 1st of each month (Jan: 3, Feb: 6, Mar: 9, etc.)"}),s.jsx("li",{children:"Unused leaves carry forward within the year"}),s.jsx("li",{children:"All unused leaves lapse on December 31st (reset to 0)"}),s.jsx("li",{children:"New year starts fresh with 3 leaves on January 1st"}),s.jsx("li",{children:"All leave applications require manager approval"}),s.jsx("li",{children:"Approved leaves will prevent timesheet entry for that day"})]})]})]})})]})})}function SZ({managerId:t}){const[e,r]=$.useState(!1),[n,a]=$.useState(null),i=async()=>{r(!0),a(null);const l={serverVersion:null,managerRoute:null,allEmployees:null};try{console.log("Testing server health...");const u=await fetch(`https://${Ln}.supabase.co/functions/v1/make-server-c2dd9b9d/unified-employees`,{headers:{Authorization:`Bearer ${Rr}`}});l.allEmployees={status:u.status,ok:u.ok,data:u.ok?await u.json():await u.text()},console.log("Testing manager route with ID:",t);const d=`https://${Ln}.supabase.co/functions/v1/make-server-c2dd9b9d/unified-employees/manager/${t}`;console.log("Full URL:",d);const h=await fetch(d,{headers:{Authorization:`Bearer ${Rr}`}});console.log("Manager route status:",h.status);const m=await h.text();console.log("Manager route response:",m),l.managerRoute={url:d,status:h.status,ok:h.ok,data:m?JSON.parse(m):null},a(l)}catch(u){console.error("Route test error:",u),a({error:u instanceof Error?u.message:String(u),tests:l})}finally{r(!1)}};return s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(PN,{className:"w-6 h-6 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Route Debugger"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Test if the manager route is working"})]})]}),s.jsx("button",{onClick:i,disabled:e,className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:e?s.jsxs(s.Fragment,{children:[s.jsx(t4,{className:"w-4 h-4 animate-spin"}),"Testing Routes..."]}):s.jsxs(s.Fragment,{children:[s.jsx(PN,{className:"w-4 h-4"}),"Test Routes"]})}),n&&s.jsxs("div",{className:"mt-4 space-y-3",children:[n.error&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-3",children:s.jsxs("p",{className:"text-sm text-red-800",children:[s.jsx("strong",{children:"Error:"})," ",n.error]})}),n.allEmployees&&s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.allEmployees.ok?s.jsx(ir,{className:"w-4 h-4 text-green-600"}):s.jsx(aa,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:"font-medium text-sm",children:["GET /unified-employees - ",n.allEmployees.status]})]}),s.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded overflow-auto max-h-32",children:JSON.stringify(n.allEmployees.data,null,2)})]}),n.managerRoute&&s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.managerRoute.ok?s.jsx(ir,{className:"w-4 h-4 text-green-600"}):s.jsx(aa,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:"font-medium text-sm",children:["GET /unified-employees/manager/",t," - ",n.managerRoute.status]})]}),s.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["URL: ",n.managerRoute.url]}),s.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded overflow-auto max-h-32",children:JSON.stringify(n.managerRoute.data,null,2)})]})]})]})}function kZ({managerId:t,role:e,selectedStoreId:r,isIncharge:n=!1,inchargeDesignation:a=null}){const[i,l]=$.useState([]),[u,d]=$.useState(""),[h,m]=$.useState([]),[p,g]=$.useState(!1);console.log("ApproveTimesheets: managerId prop =",t),console.log("ApproveTimesheets: role prop =",e),console.log("ApproveTimesheets: isIncharge =",n),console.log("ApproveTimesheets: inchargeDesignation =",a);const v=$.useMemo(()=>{let O=i;return r&&(O=O.filter(A=>A.storeId===r||A.storeId===null||A.storeId===void 0)),n&&t&&(O=O.filter(A=>A.inchargeId===t)),O},[i,r,n,t]);$.useEffect(()=>{j()},[]),$.useEffect(()=>{v.length>0&&!v.find(O=>O.employeeId===u)?d(v[0].employeeId):v.length===0&&d("")},[v]),$.useEffect(()=>{u&&w()},[u]);const j=async()=>{try{console.log("ApproveTimesheets: Loading employees/managers for role:",e,"isIncharge:",n);let O;e==="cluster_head"?(console.log("ApproveTimesheets: Calling getManagersByClusterHead with clusterHeadId:",t),O=await of(t),console.log("ApproveTimesheets: Received managers:",O),O.length>0&&(console.log(" MANAGERS RETURNED:"),O.forEach(A=>{console.log(`  - ${A.employeeId} (${A.name}) - clusterHeadId: ${A.clusterHeadId}, role: ${A.role}`)}))):n?(console.log("ApproveTimesheets: Calling getEmployeesByIncharge with inchargeId:",t),O=await qb(t),console.log("ApproveTimesheets: Received employees under incharge:",O)):(console.log("ApproveTimesheets: Calling getEmployeesByManager with managerId:",t),O=await Po(t),console.log("ApproveTimesheets: Received employees:",O)),l(O),O.length>0?d(O[0].employeeId):console.log("ApproveTimesheets: No employees/managers found")}catch(O){console.error("Error loading employees:",O)}},w=async()=>{try{g(!0);const O=await Sc(u);m(O.filter(A=>A.status==="pending"))}catch(O){console.error("Error loading timesheets:",O)}finally{g(!1)}},b=async O=>{try{g(!0),await(void 0)(O,t),await w(),alert("Timesheet approved successfully")}catch(A){console.error("Error approving timesheet:",A),alert("Error approving timesheet")}finally{g(!1)}},N=async O=>{const A=prompt("Enter rejection reason:");if(A)try{g(!0),await(void 0)(O,t,A),await w(),alert("Timesheet rejected")}catch(T){console.error("Error rejecting timesheet:",T),alert("Error rejecting timesheet")}finally{g(!1)}},k=h.length,S=i.find(O=>O.employeeId===u),P=e==="cluster_head"?"Operations Manager":"Employee",E=e==="cluster_head"?"Operations Managers":"Employees";return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h1",{className:"text-3xl text-gray-900 mb-2",children:["Approve ",P," Timesheets"]}),s.jsx("p",{className:"text-gray-600",children:e==="cluster_head"?"Review and approve manager timesheet entries. Contract workers are paid per day worked and do not require attendance approval.":"Review and approve employee timesheet entries"})]}),!t&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gr,{className:"w-5 h-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-900 font-medium",children:"Manager ID Not Found"}),s.jsx("p",{className:"text-sm text-red-700",children:"Your account doesn't have an employee ID set. Please contact the administrator or log out and log back in."})]})]})}),t&&i.length===0&&s.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gr,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-blue-900 font-medium",children:["No ",E," Found"]}),s.jsx("p",{className:"text-sm text-blue-700",children:e==="cluster_head"?`No managers are assigned to you (${t}). To fix this:`:"You don't have any employees assigned to you yet."}),e==="cluster_head"&&s.jsxs("ul",{className:"text-xs text-blue-700 mt-2 ml-4 space-y-1",children:[s.jsxs("li",{children:[" Go to ",s.jsx("strong",{children:"Employee Management"}),"  ",s.jsx("strong",{children:"Hierarchy Management"})," tab"]}),s.jsxs("li",{children:[" Click ",s.jsx("strong",{children:"Edit"})," on each manager (e.g., BM004)"]}),s.jsxs("li",{children:[" Make sure ",s.jsx("strong",{children:"Cluster Head ID"})," is set to your ID: ",s.jsx("strong",{children:t})]}),s.jsxs("li",{children:[" Click ",s.jsx("strong",{children:"Save Changes"})]})]}),s.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:["Your ID: ",t]})]})]})}),t&&i.length===0&&s.jsx(SZ,{managerId:t}),k>0&&s.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gr,{className:"w-5 h-5 text-yellow-600"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-yellow-900 font-medium",children:[k," timesheet",k>1?"s":""," pending approval"]}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Review and take action on pending requests"})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:[s.jsxs("label",{className:"block text-sm text-gray-700 mb-2",children:["Select ",P]}),s.jsxs("select",{value:u,onChange:O=>d(O.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsxs("option",{value:"",children:["-- Select ",P," --"]}),v.map(O=>s.jsxs("option",{value:O.employeeId,children:[O.name," (",O.employeeId,")"]},O.employeeId))]}),e==="cluster_head"&&i.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("p",{className:"text-xs text-blue-900 font-medium mb-2",children:[" Debug: ",i.length," manager",i.length>1?"s":""," with clusterHeadId = ",t]}),s.jsx("div",{className:"space-y-1",children:i.map(O=>s.jsxs("div",{className:"text-xs text-blue-800 flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 rounded",children:O.employeeId}),s.jsx("span",{children:O.name}),s.jsxs("span",{className:"text-blue-600",children:["(",O.role,")"]})]},O.employeeId))}),s.jsxs("p",{className:"text-xs text-blue-700 mt-2",children:[" If you see unexpected managers here, go to ",s.jsx("strong",{children:"Employee Management  Hierarchy"})," and check their Cluster Head ID"]})]})]}),S&&s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl shadow-lg p-6 mb-6 text-white",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Ba,{className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl mb-1",children:S.name}),s.jsxs("p",{className:"text-sm opacity-90",children:["Employee ID: ",S.employeeId]}),s.jsxs("p",{className:"text-sm opacity-90",children:["Email: ",S.email]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-100 to-pink-100 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg text-gray-900",children:"Pending Timesheets"})}),p?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):h.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Dr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No pending timesheets for this employee"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Day"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Start Time"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"End Time"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Total Hours"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:h.map((O,A)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-gray-900",children:new Date(O.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),s.jsx("td",{className:"px-6 py-4 text-gray-700",children:new Date(O.date).toLocaleDateString("en-US",{weekday:"short"})}),s.jsx("td",{className:"px-6 py-4 text-gray-900",children:O.startTime}),s.jsx("td",{className:"px-6 py-4 text-gray-900",children:O.endTime}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:`${O.totalHours>=8?"text-green-700":O.totalHours>=4?"text-yellow-700":"text-red-700"}`,children:[O.totalHours.toFixed(2)," hrs"]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:[s.jsx(Dr,{className:"w-4 h-4"}),"Pending"]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>b(O.id),disabled:p,className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm disabled:opacity-50",children:[s.jsx(ir,{className:"w-4 h-4"}),"Approve"]}),s.jsxs("button",{onClick:()=>N(O.id),disabled:p,className:"flex items-center gap-1 px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm disabled:opacity-50",children:[s.jsx(aa,{className:"w-4 h-4"}),"Reject"]})]})})]},A))})]})})]})]})})}function OZ({managerId:t,managerName:e,role:r,selectedStoreId:n,isIncharge:a=!1,inchargeDesignation:i=null}){const[l,u]=$.useState([]),[d,h]=$.useState(""),[m,p]=$.useState([]),[g,v]=$.useState(!1);console.log("ApproveLeaves: managerId prop =",t),console.log("ApproveLeaves: role prop =",r),console.log("ApproveLeaves: isIncharge =",a),console.log("ApproveLeaves: inchargeDesignation =",i);const j=$.useMemo(()=>{let A=l;return n&&(A=A.filter(T=>T.storeId===n||T.storeId===null||T.storeId===void 0)),a&&t&&(A=A.filter(T=>T.inchargeId===t)),A},[l,n,a,t]);$.useEffect(()=>{w()},[]),$.useEffect(()=>{j.length>0&&!j.find(A=>A.employeeId===d)?h(j[0].employeeId):j.length===0&&h("")},[j]),$.useEffect(()=>{d&&b()},[d]);const w=async()=>{try{console.log("ApproveLeaves: Loading employees/managers for role:",r,"isIncharge:",a);let A;r==="cluster_head"?(console.log("ApproveLeaves: Calling getManagersByClusterHead with clusterHeadId:",t),A=await of(t),console.log("ApproveLeaves: Received managers:",A)):a?(console.log("ApproveLeaves: Calling getEmployeesByIncharge with inchargeId:",t),A=await qb(t),console.log("ApproveLeaves: Received employees under incharge:",A)):(console.log("ApproveLeaves: Calling getEmployeesByManager with managerId:",t),A=await Po(t),console.log("ApproveLeaves: Received employees:",A)),u(A),A.length>0?h(A[0].employeeId):console.log("ApproveLeaves: No employees/managers found")}catch(A){console.error("Error loading employees:",A)}},b=async()=>{try{v(!0);const A=await uu(d);p(A.filter(T=>T.status==="pending"))}catch(A){console.error("Error loading leaves:",A)}finally{v(!1)}},N=async A=>{try{v(!0),console.log("Attempting to approve leave:",A),console.log("api.approveLeave function exists?",typeof ix),console.log("Available API functions:",Object.keys(vL).filter(T=>T.includes("Leave"))),await ix(A,t,e),await b(),alert("Leave approved successfully")}catch(T){console.error("Error approving leave:",T),alert("Error approving leave")}finally{v(!1)}},k=async A=>{const T=prompt("Enter rejection reason:");if(T)try{v(!0),await IT(A,t,e,T),await b(),alert("Leave rejected")}catch(R){console.error("Error rejecting leave:",R),alert("Error rejecting leave")}finally{v(!1)}},S=m.length,P=l.find(A=>A.employeeId===d),E=r==="cluster_head"?"Operations Manager":"Employee",O=r==="cluster_head"?"Operations Managers":"Employees";return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h1",{className:"text-3xl text-gray-900 mb-2",children:["Approve ",E," Leaves"]}),s.jsx("p",{className:"text-gray-600",children:r==="cluster_head"?"Review and approve manager leave applications. Contract workers do not require leave approval.":"Review and approve employee leave applications"})]}),S>0&&s.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gr,{className:"w-5 h-5 text-yellow-600"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-yellow-900 font-medium",children:[S," leave application",S>1?"s":""," pending approval"]}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Review and take action on pending requests"})]})]})}),t&&l.length===0&&s.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gr,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-blue-900 font-medium",children:["No ",O," Found"]}),s.jsx("p",{className:"text-sm text-blue-700",children:r==="cluster_head"?`No managers are assigned to you (${t}). To fix this:`:"You don't have any employees assigned to you yet."}),r==="cluster_head"&&s.jsxs("ul",{className:"text-xs text-blue-700 mt-2 ml-4 space-y-1",children:[s.jsxs("li",{children:[" Go to ",s.jsx("strong",{children:"Employee Management"}),"  ",s.jsx("strong",{children:"Hierarchy Management"})," tab"]}),s.jsxs("li",{children:[" Click ",s.jsx("strong",{children:"Edit"})," on each manager (e.g., BM004)"]}),s.jsxs("li",{children:[" Make sure ",s.jsx("strong",{children:"Cluster Head ID"})," is set to your ID: ",s.jsx("strong",{children:t})]}),s.jsxs("li",{children:[" Click ",s.jsx("strong",{children:"Save Changes"})]})]}),s.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:["Your ID: ",t]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:[s.jsxs("label",{className:"block text-sm text-gray-700 mb-2",children:["Select ",E]}),s.jsxs("select",{value:d,onChange:A=>h(A.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsxs("option",{value:"",children:["-- Select ",E," --"]}),j.map(A=>s.jsxs("option",{value:A.employeeId,children:[A.name," (",A.employeeId,")"]},A.employeeId))]})]}),P&&s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl shadow-lg p-6 mb-6 text-white",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Ba,{className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl mb-1",children:P.name}),s.jsxs("p",{className:"text-sm opacity-90",children:["Employee ID: ",P.employeeId]}),s.jsxs("p",{className:"text-sm opacity-90",children:["Email: ",P.email]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-100 to-pink-100 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg text-gray-900",children:"Pending Leave Applications"})}),g?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):m.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Kr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No pending leave applications for this employee"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Leave Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Leave Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Reason"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Applied On"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm text-gray-700",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:m.map((A,T)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-gray-900",children:new Date(A.leaveDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(A.leaveType||"full")==="full"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:(A.leaveType||"full")==="full"?"Full Day":"Half Day"})}),s.jsx("td",{className:"px-6 py-4 text-gray-700",children:A.reason}),s.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:A.appliedAt?new Date(A.appliedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>N(A.id),disabled:g,className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm disabled:opacity-50",children:[s.jsx(ir,{className:"w-4 h-4"}),"Approve"]}),s.jsxs("button",{onClick:()=>k(A.id),disabled:g,className:"flex items-center gap-1 px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm disabled:opacity-50",children:[s.jsx(aa,{className:"w-4 h-4"}),"Reject"]})]})})]},T))})]})})]})]})})}function EZ({managerId:t,role:e}){const[r,n]=$.useState([]),[a,i]=$.useState([]),[l,u]=$.useState(!1),[d,h]=$.useState({});$.useEffect(()=>{m()},[]);const m=async()=>{try{if(u(!0),e==="manager"){const p=await Po(t);n(p);const g={};for(const v of p){const[j,w]=await Promise.all([Sc(v.employeeId),uu(v.employeeId)]);g[v.employeeId]={pendingTimesheets:j.filter(b=>b.status==="pending").length,pendingLeaves:w.filter(b=>b.status==="pending").length,approvedTimesheets:j.filter(b=>b.status==="approved").length,totalLeaves:w.filter(b=>b.status==="approved").length}}h(g)}else{const p=await of(t);i(p);const g={};for(const v of p){const j=await Po(v.employeeId);g[v.employeeId]={employeeCount:j.length,...v.stats}}h(g)}}catch(p){if(p instanceof Error&&(p.message==="Not authenticated"||p.message==="Unauthorized"))return;console.error("Error loading data:",p)}finally{u(!1)}};return l?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-500",children:"Loading..."})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:e==="manager"?"My Team":"Manager Overview"}),s.jsx("p",{className:"text-gray-600",children:e==="manager"?"View all employees under your management":"View all managers and their team performance"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Mr,{className:"w-12 h-12 opacity-80"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl",children:e==="manager"?r.length:a.length}),s.jsx("div",{className:"text-sm opacity-90",children:e==="manager"?"Total Employees":"Total Managers"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Dr,{className:"w-12 h-12 opacity-80"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl",children:Object.values(d).reduce((p,g)=>p+(g.pendingTimesheets||0),0)}),s.jsx("div",{className:"text-sm opacity-90",children:"Pending Timesheets"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Kr,{className:"w-12 h-12 opacity-80"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl",children:Object.values(d).reduce((p,g)=>p+(g.pendingLeaves||0),0)}),s.jsx("div",{className:"text-sm opacity-90",children:"Pending Leaves"})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-100 to-pink-100 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg text-gray-900",children:e==="manager"?"Employee List":"Manager List"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:(e==="manager"?r:a).map(p=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white text-xl",children:p.name.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg text-gray-900",children:p.name}),s.jsx("p",{className:"text-sm text-gray-600",children:p.employeeId})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx($b,{className:"w-4 h-4"}),p.email]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Kr,{className:"w-4 h-4"}),"Joined: ",p.joiningDate?new Date(p.joiningDate).toLocaleDateString():"N/A"]})]}),d[p.employeeId]&&s.jsx("div",{className:"border-t border-gray-200 pt-4",children:s.jsx("div",{className:"grid grid-cols-2 gap-3",children:e==="manager"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3",children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Pending Timesheets"}),s.jsx("div",{className:"text-xl text-yellow-700",children:d[p.employeeId].pendingTimesheets})]}),s.jsxs("div",{className:"bg-pink-50 rounded-lg p-3",children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Pending Leaves"}),s.jsx("div",{className:"text-xl text-pink-700",children:d[p.employeeId].pendingLeaves})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Approved Timesheets"}),s.jsx("div",{className:"text-xl text-green-700",children:d[p.employeeId].approvedTimesheets})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Total Leaves"}),s.jsx("div",{className:"text-xl text-blue-700",children:d[p.employeeId].totalLeaves})]})]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 col-span-2",children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Employees"}),s.jsx("div",{className:"text-2xl text-purple-700",children:d[p.employeeId].employeeCount})]})})})})]},p.employeeId))}),(e==="manager"?r:a).length===0&&s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Ba,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:e==="manager"?"No employees found":"No managers found"})]})]})]})})}function xM({employee:t,onClose:e,onSave:r,clusterHeadId:n}){const[a,i]=$.useState({role:t.role,designation:t.designation||null,department:t.department||null,clusterHeadId:t.clusterHeadId||"",storeId:t.storeId||""}),[l,u]=$.useState(!1),[d,h]=$.useState([]);$.useEffect(()=>{m()},[]);const m=async()=>{try{const g=await sf();h(g)}catch(g){console.error("Error loading stores:",g)}},p=async()=>{try{u(!0);const g={role:a.role,designation:a.designation,department:a.department,storeId:a.storeId||null};a.role==="manager"&&(g.clusterHeadId=a.clusterHeadId||null),await cf(t.employeeId,g),alert("Employee details updated successfully!"),r(),e()}catch(g){console.error("Error updating employee:",g),alert("Failed to update employee details")}finally{u(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:s.jsx(Ba,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Edit Employee Details"}),s.jsxs("p",{className:"text-sm text-purple-100",children:[t.name," (",t.employeeId,")"]})]})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(vn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(Ba,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Name:"}),s.jsx("span",{children:t.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx($b,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Email:"}),s.jsx("span",{children:t.email})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(AN,{className:"w-4 h-4 inline mr-2"}),"Role (System Permission Level)"]}),s.jsxs("select",{value:a.role,onChange:g=>i({...a,role:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"employee",children:"Employee"}),s.jsx("option",{value:"manager",children:"Manager"}),s.jsx("option",{value:"cluster_head",children:"Cluster Head"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Role determines system permissions (who can manage whom)"})]}),a.role==="manager"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Mr,{className:"w-4 h-4 inline mr-2"}),"Cluster Head ID (Optional)"]}),s.jsx("input",{type:"text",value:a.clusterHeadId,onChange:g=>i({...a,clusterHeadId:g.target.value}),placeholder:"e.g., BM005 (leave empty if reporting to another manager)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only for top-level managers. Leave empty if this manager reports to another manager (set via Hierarchy tab instead)."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(AN,{className:"w-4 h-4 inline mr-2"}),"Designation (Job Title)"]}),s.jsxs("select",{value:a.designation||"",onChange:g=>i({...a,designation:g.target.value||null}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"No Designation"}),s.jsx("option",{value:"operations_incharge",children:"Operations Incharge"}),s.jsx("option",{value:"store_incharge",children:"Store Incharge"}),s.jsx("option",{value:"production_incharge",children:"Production Incharge"}),s.jsx("option",{value:"store_ops",children:"Store Operations"}),s.jsx("option",{value:"production_ops",children:"Production Operations"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Designation is the job title (appears in organization chart)"})]}),(a.designation==="store_incharge"||a.designation==="store_ops")&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(_o,{className:"w-4 h-4 inline mr-2"}),"Store Assignment"]}),s.jsxs("select",{value:a.storeId||"",onChange:g=>i({...a,storeId:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"No Store"}),d.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Assign to a specific store location"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(_o,{className:"w-4 h-4 inline mr-2"}),"Department"]}),s.jsxs("select",{value:a.department||"",onChange:g=>i({...a,department:g.target.value||null}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"No Department"}),s.jsx("option",{value:"store_operations",children:"Store Operations"}),s.jsx("option",{value:"production",children:"Production"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Department determines which operations they can manage"})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Understanding Role vs Designation:"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Role"})," = System permission level (employee/manager/cluster_head)"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Designation"})," = Job title (Store Incharge, Operations Manager, etc.)"]}),s.jsx("li",{children:' Example: BM008 can have role="manager" + designation="store_incharge"'}),s.jsx("li",{children:' This allows them to manage employees while having "Store Incharge" as their title'})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 rounded-b-2xl border-t",children:[s.jsx("button",{onClick:e,className:"px-6 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:p,disabled:l,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[s.jsx(Ao,{className:"w-4 h-4"}),l?"Saving...":"Save Changes"]})]})]})})}function AZ({clusterHeadId:t}){const[e,r]=$.useState([]),[n,a]=$.useState([]),[i,l]=$.useState([]),[u,d]=$.useState(!1),[h,m]=$.useState(null),[p,g]=$.useState({}),[v,j]=$.useState(null),[w,b]=$.useState(null);$.useEffect(()=>{N()},[]);const N=async()=>{try{d(!0);const D=await ga();console.log("All employees loaded:",D),console.log("Current cluster head ID:",t);const F=D.filter(W=>(W.role==="employee"||W.role==="manager")&&W.role!=="cluster_head");r(F),console.log("Filtered employees and managers:",F);const I=D.filter(W=>W.role==="manager"&&W.clusterHeadId===t);a(I);const q=D.filter(W=>W.role==="cluster_head");l(q),console.log("Available managers (role=manager, clusterHeadId="+t+"):",I),console.log("Available cluster heads:",q);const K={};F.forEach(W=>{W.managerId&&(K[W.employeeId]=W.managerId)}),g(K)}catch(D){if(D instanceof Error&&(D.message==="Not authenticated"||D.message==="Unauthorized"))return;console.error("Error loading data:",D),alert("Failed to load data")}finally{d(!1)}},k=(D,F)=>{g(I=>({...I,[D]:F}))},S=async D=>{try{m(D);const F=p[D];if(!F){alert("Please select a manager");return}await lf(D,F),alert("Manager assigned successfully!"),await N()}catch(F){console.error("Error assigning manager:",F),alert("Failed to assign manager")}finally{m(null)}},P=async(D,F)=>{if(confirm(`Are you sure you want to promote ${F} to Manager? This will:

1. Change their role from Employee to Manager
2. Set their cluster head to ${t}
3. Allow them to manage other employees

Continue?`))try{j(D),await cf(D,{role:"manager",clusterHeadId:t}),alert(`${F} has been promoted to Manager!`),await N()}catch(I){console.error("Error promoting to manager:",I),alert("Failed to promote employee to manager")}finally{j(null)}},E=e.filter(D=>!D.managerId),O=e.filter(D=>D.managerId),A=D=>{if(!D)return"Unassigned";const F=n.find(q=>q.employeeId===D);if(F)return F.name;const I=i.find(q=>q.employeeId===D);return I?`${I.name} (Cluster Head)`:"Unknown Manager"},T=D=>{const F=[];return D.role==="manager"?(F.push(...i),F.push(...n.filter(I=>I.employeeId!==D.employeeId))):F.push(...n.filter(I=>I.employeeId!==D.employeeId)),F},R=D=>{if(!D)return s.jsx("span",{className:"text-gray-400 italic",children:"No designation"});const F={operations_incharge:"Operations Incharge",store_incharge:"Store Incharge",production_incharge:"Production Incharge",store_ops:"Store Operations",production_ops:"Production Operations"};return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:F[D]||D})};return u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-500",children:"Loading..."})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Assign Managers to Employees"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage employee-manager relationships across your organization"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Mr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Employees"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(ir,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Assigned"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.length})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(gr,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Unassigned"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.length})]})]})})]}),n.length===0?s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 text-center",children:[s.jsx(gr,{className:"w-12 h-12 text-yellow-600 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"No Managers Available"}),s.jsx("p",{className:"text-yellow-700",children:"You need to create managers first before assigning them to employees."})]}):s.jsxs(s.Fragment,{children:[E.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-t-xl px-6 py-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-red-900 flex items-center gap-2",children:[s.jsx(gr,{className:"w-5 h-5"}),"Unassigned Employees (",E.length,")"]}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:"These employees need to be assigned to a manager"})]}),s.jsx("div",{className:"bg-white rounded-b-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Designation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assign Manager"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name}),s.jsx("div",{className:"text-sm text-gray-500",children:D.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:D.employeeId}),D.role==="employee"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Employee"}),D.role==="manager"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Manager"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R(D.designation)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("select",{value:p[D.employeeId]||"",onChange:F=>k(D.employeeId,F.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"",children:"Select a manager..."}),T(D).map(F=>s.jsxs("option",{value:F.employeeId,children:[F.name," (",F.employeeId,")"]},F.employeeId))]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>S(D.employeeId),disabled:!p[D.employeeId]||h===D.employeeId,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors text-sm",children:[s.jsx(Ao,{className:"w-4 h-4"}),h===D.employeeId?"Saving...":"Assign"]}),D.role==="employee"&&s.jsxs("button",{onClick:()=>P(D.employeeId,D.name),disabled:v===D.employeeId,className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-lg hover:from-amber-600 hover:to-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors text-sm",children:[s.jsx(TN,{className:"w-4 h-4"}),v===D.employeeId?"Promoting...":"Promote"]}),s.jsxs("button",{onClick:()=>b(D),className:"inline-flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(IN,{className:"w-4 h-4"}),"Edit"]})]})})]},D.employeeId))})]})})]}),O.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-t-xl px-6 py-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-green-900 flex items-center gap-2",children:[s.jsx(ir,{className:"w-5 h-5"}),"Assigned Employees (",O.length,")"]}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"These employees are already assigned to managers"})]}),s.jsx("div",{className:"bg-white rounded-b-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Designation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Manager"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reassign Manager"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name}),s.jsx("div",{className:"text-sm text-gray-500",children:D.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:D.employeeId}),D.role==="employee"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Employee"}),D.role==="manager"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Manager"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R(D.designation)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:A(D.managerId)}),D.managerId&&s.jsx("div",{className:"text-xs text-gray-500",children:D.managerId})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("select",{value:p[D.employeeId]||D.managerId||"",onChange:F=>k(D.employeeId,F.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"",children:"Select a manager..."}),T(D).map(F=>s.jsxs("option",{value:F.employeeId,children:[F.name," (",F.employeeId,")"]},F.employeeId))]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>S(D.employeeId),disabled:!p[D.employeeId]||p[D.employeeId]===D.managerId||h===D.employeeId,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors text-sm",children:[s.jsx(Ao,{className:"w-4 h-4"}),h===D.employeeId?"Saving...":"Update"]}),D.role==="employee"&&s.jsxs("button",{onClick:()=>P(D.employeeId,D.name),disabled:v===D.employeeId,className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-lg hover:from-amber-600 hover:to-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors text-sm",children:[s.jsx(TN,{className:"w-4 h-4"}),v===D.employeeId?"Promoting...":"Promote"]}),s.jsxs("button",{onClick:()=>b(D),className:"inline-flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(IN,{className:"w-4 h-4"}),"Edit"]})]})})]},D.employeeId))})]})})]}),e.length===0&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-12 text-center",children:[s.jsx(Mr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Employees Found"}),s.jsx("p",{className:"text-gray-600",children:"There are no employees in the system yet. Create employees first through the Employee Management tab."})]})]}),w&&s.jsx(xM,{employee:w,onClose:()=>b(null),onSave:N,clusterHeadId:t})]})}function rP({currentUser:t}){const[e,r]=$.useState([]),[n,a]=$.useState(!0);$.useEffect(()=>{i()},[]);const i=async()=>{try{a(!0);const m=await ga(),p=m.find(N=>N.employeeId===t.employeeId);if(!p){a(!1);return}console.log("[Hierarchy Debug] Current user record:",p);const g=[p];let v=p,j=0;const w=10;for(;v&&j<w;){const N=v.clusterHeadId||v.managerId||v.inchargeId;if(console.log("[Hierarchy Debug] Looking for superior ID:",N,"for",v.name),!N)break;const k=m.find(S=>S.employeeId===N);if(console.log("[Hierarchy Debug] Found superior:",k),k){if(g.some(S=>S.employeeId===k.employeeId)){console.log("[Hierarchy Debug] Circular reference detected, breaking");break}if(g.push(k),v=k,k.role==="cluster_head"){console.log("[Hierarchy Debug] Reached cluster head");break}}else break;j++}const b=g.reverse();console.log("[Hierarchy Debug] Final reporting chain (top to bottom):",b),r(b)}catch(m){console.error("Error loading hierarchy:",m)}finally{a(!1)}},l=m=>m.split(" ").map(p=>p[0]).join("").toUpperCase().slice(0,2),u=(m,p)=>!m&&!p?"N/A":m?{operations_incharge:"Operations Incharge",store_incharge:"Store Incharge",production_incharge:"Production Incharge",operations_manager:"Operations Manager",store_ops:"Store Operations",production_ops:"Production Operations"}[m]||m:{cluster_head:"Cluster Head",manager:"Manager",employee:"Employee"}[p||""]||p||"N/A",d=(m,p)=>p?"bg-gradient-to-br from-purple-500 to-pink-500 ring-4 ring-purple-200":m.role==="cluster_head"?"bg-gradient-to-br from-blue-500 to-indigo-500":m.role==="manager"||m.designation?.includes("incharge")||m.designation==="operations_manager"?"bg-gradient-to-br from-green-400 to-emerald-500":"bg-gradient-to-br from-gray-400 to-gray-500",h=(m,p)=>p?"bg-gradient-to-r from-purple-100 to-pink-100 border-purple-300":m.role==="cluster_head"?"bg-gradient-to-r from-blue-100 to-indigo-100 border-blue-300":m.role==="manager"||m.designation?.includes("incharge")||m.designation==="operations_manager"?"bg-gradient-to-r from-green-100 to-emerald-100 border-green-300":"bg-gray-100 border-gray-300";return n?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"text-gray-500",children:"Loading hierarchy..."})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Employee Hierarchy"}),s.jsx("p",{className:"text-gray-600",children:"View your reporting chain from top to bottom"})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:e.length>0?s.jsx("div",{className:"flex flex-col items-center",children:e.map((m,p)=>{const g=m.employeeId===t.employeeId,v=p===e.length-1;return s.jsxs("div",{className:"w-full flex flex-col items-center",children:[s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"inline-block",children:[s.jsx("div",{className:`w-28 h-28 rounded-2xl flex items-center justify-center mb-4 ${d(m,g)}`,children:s.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xl text-gray-700",children:l(m.name)})})}),s.jsxs("div",{className:`px-6 py-3 rounded-lg border-2 ${h(m,g)}`,children:[s.jsx("p",{className:"font-semibold text-gray-900",children:m.name}),s.jsx("p",{className:"text-sm text-gray-700",children:u(m.designation,m.role)}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:m.employeeId}),g&&s.jsx("p",{className:"text-xs text-purple-600 mt-1 font-semibold",children:"(You)"})]})]})}),!v&&s.jsxs("div",{className:"flex flex-col items-center my-6",children:[s.jsx("div",{className:"w-px h-8 bg-gray-300"}),s.jsx(Ib,{className:"w-6 h-6 text-gray-400"}),s.jsx("div",{className:"w-px h-8 bg-gray-300"})]})]},m.employeeId)})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(_o,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg text-gray-600 mb-2",children:"No Hierarchy Found"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Your organizational hierarchy hasn't been set up yet."})]})}),s.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Legend"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 ring-4 ring-purple-200 rounded-lg"}),s.jsx("span",{className:"text-sm text-gray-700",children:"You (Current User)"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Cluster Head"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-emerald-500 rounded-lg"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Manager / Incharge"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-400 to-gray-500 rounded-lg"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Employee"})]})]})]})]})})}function bM({user:t,selectedStoreId:e,isIncharge:r=!1,inchargeDesignation:n=null}){const[a,i]=$.useState(()=>t.role==="employee"||t.role==="manager"?"timesheet":t.role==="cluster_head"?"approve-timesheet":"timesheet"),[l,u]=$.useState(0),[d,h]=$.useState(!1),m=t.role==="employee",p=t.role==="manager",g=t.role==="cluster_head";return console.log("AttendancePortal: user =",t),s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:[(p||g)&&!t.employeeId&&s.jsx("div",{className:"bg-red-50 border-b border-red-200 p-4",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-red-600 text-white rounded-full flex items-center justify-center text-sm",children:"!"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-red-900 font-medium",children:"Employee ID Not Found"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Your account doesn't have an employee ID associated with it. This means:"}),s.jsxs("ul",{className:"text-sm text-red-700 mt-2 list-disc list-inside space-y-1",children:[s.jsx("li",{children:"You won't be able to see employees assigned to you"}),s.jsx("li",{children:"Approval workflows won't work properly"}),s.jsx("li",{children:"Employees you create won't be linked to your account"})]}),s.jsxs("p",{className:"text-sm text-red-800 mt-2 font-medium",children:[s.jsx("strong",{children:"Solution:"})," Log out and log back in. If the problem persists, your account needs to be recreated through the Employee Management system."]}),s.jsxs("p",{className:"text-xs text-red-600 mt-2",children:["Debug Info: email=",t.email,", role=",t.role,", employeeId=",t.employeeId||"NULL"]})]})]})})}),s.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center overflow-x-auto py-4 gap-2 scrollbar-hide",children:[m&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>i("timesheet"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${a==="timesheet"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Dr,{className:"w-4 h-4"}),"Update Timesheet"]}),s.jsxs("button",{onClick:()=>i("leave"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${a==="leave"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Kr,{className:"w-4 h-4"}),"Apply for Leave"]}),s.jsxs("button",{onClick:()=>i("hierarchy"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${a==="hierarchy"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(bP,{className:"w-4 h-4"}),"Hierarchy"]})]}),p&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>i("timesheet"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${a==="timesheet"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Dr,{className:"w-4 h-4"}),"My Timesheet"]}),s.jsxs("button",{onClick:()=>i("leave"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${a==="leave"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Kr,{className:"w-4 h-4"}),"My Leave"]}),s.jsxs("button",{onClick:()=>i("approve-timesheet"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${a==="approve-timesheet"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(_d,{className:"w-4 h-4"}),"Approve Timesheets"]}),s.jsxs("button",{onClick:()=>i("approve-leave"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${a==="approve-leave"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(_d,{className:"w-4 h-4"}),"Approve Leaves"]}),s.jsxs("button",{onClick:()=>i("team"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${a==="team"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Mr,{className:"w-4 h-4"}),"My Team"]})]}),g&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>i("approve-timesheet"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${a==="approve-timesheet"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(_d,{className:"w-4 h-4"}),"Approve Manager Timesheets"]}),s.jsxs("button",{onClick:()=>i("approve-leave"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${a==="approve-leave"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(_d,{className:"w-4 h-4"}),"Approve Manager Leaves"]}),s.jsxs("button",{onClick:()=>i("managers"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${a==="managers"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Mr,{className:"w-4 h-4"}),"Manager Overview"]}),s.jsxs("button",{onClick:()=>i("assign-managers"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap flex-shrink-0 ${a==="assign-managers"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(T4,{className:"w-4 h-4"}),"Assign Managers"]})]})]})})}),s.jsxs("div",{children:[a==="timesheet"&&s.jsx(NZ,{user:{employeeId:t.employeeId||"",name:t.name,email:t.email}}),a==="leave"&&s.jsx(_Z,{user:{employeeId:t.employeeId||"",name:t.name,email:t.email,joiningDate:t.joiningDate}}),a==="approve-timesheet"&&(p||g||r)&&s.jsx(kZ,{managerId:t.employeeId||"",role:t.role,selectedStoreId:e,isIncharge:r,inchargeDesignation:n}),a==="approve-leave"&&(p||g||r)&&s.jsx(OZ,{managerId:t.employeeId||"",managerName:t.name,role:t.role,selectedStoreId:e,isIncharge:r,inchargeDesignation:n}),a==="team"&&p&&s.jsx(EZ,{managerId:t.employeeId||"",role:"manager"},l),a==="hierarchy"&&m&&s.jsx(rP,{currentUser:{employeeId:t.employeeId||"",role:t.role,email:t.email,name:t.name}},l),a==="managers"&&g&&s.jsx(rP,{currentUser:{employeeId:t.employeeId||"",role:t.role,email:t.email,name:t.name}},l),a==="assign-managers"&&g&&s.jsx(AZ,{clusterHeadId:t.employeeId||""},l)]})]})}function wM({onClose:t,employees:e}){const[r,n]=$.useState([]),[a,i]=$.useState({}),[l,u]=$.useState(!1),[d,h]=$.useState(null);$.useEffect(()=>{const v=e.filter(w=>w.type==="fulltime"||w.type==="Permanent");n(v);const j={};v.forEach(w=>{const b=w.email||`${w.name.toLowerCase().replace(/\s+/g,".")}@bhandar.com`,N=`Bhandar@${w.employeeId}`;j[w.id]={email:b,password:N}}),i(j)},[e]);const m=(v,j,w)=>{i(b=>({...b,[v]:{...b[v],[j]:w}}))},p=async()=>{u(!0),h(null);try{if(r.length===0){alert("No permanent employees found. Please add permanent employees first."),u(!1);return}const v=r.map(b=>({name:b.name,email:a[b.id].email,password:a[b.id].password,employeeId:b.employeeId}));console.log("Creating accounts for employees:",v);const j=await fetch("https://xssxnhrzxvtejavoqgwg.supabase.co/functions/v1/make-server-c2dd9b9d/auth/create-employee-accounts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rr}`},body:JSON.stringify({employees:v})}),w=await j.json();if(console.log("Server response:",w),!j.ok)throw console.error("Server error:",w),new Error(w.error||`Failed to create accounts (Status: ${j.status})`);h({deleted:w.deleted||0,failed:w.failed,message:w.message,details:[...w.results||[],...w.errors||[]]})}catch(v){console.error("Error creating employee accounts:",v),alert(`Failed to create employee accounts: ${v instanceof Error?v.message:String(v)}`)}finally{u(!1)}},g=()=>{const v=r.map(k=>({"Employee ID":k.employeeId,Name:k.name,Email:a[k.id].email,Password:a[k.id].password,"Monthly Salary":k.monthlySalary||0})),j=[Object.keys(v[0]).join(","),...v.map(k=>Object.values(k).join(","))].join(`
`),w=new Blob([j],{type:"text/csv"}),b=window.URL.createObjectURL(w),N=document.createElement("a");N.href=b,N.download="employee-credentials.csv",N.click(),window.URL.revokeObjectURL(b)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(ma,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl",children:"Prepare Employee Login Credentials"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Generate signup credentials for ",r.length," permanent employees"]})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(vn,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:d?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("h3",{className:"flex items-center gap-2 text-yellow-800 mb-2",children:[s.jsx(gr,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"Important: Employees Must Complete Signup"})]}),s.jsx("p",{className:"text-yellow-700 text-sm mb-2",children:d.message||"Old accounts have been deleted. Employees must now signup using their credentials below."}),s.jsx("p",{className:"text-yellow-700 text-sm",children:'Download the credentials below and share them with employees. They should go to the login page and click "Sign up" to create their accounts.'})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[s.jsx(ER,{className:"w-5 h-5"}),s.jsx("span",{children:"Accounts Prepared"})]}),s.jsx("div",{className:"text-2xl mt-2",children:d.deleted})]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[s.jsx(gr,{className:"w-5 h-5"}),s.jsx("span",{children:"Failed"})]}),s.jsx("div",{className:"text-2xl mt-2",children:d.failed})]})]}),s.jsx("div",{className:"space-y-2",children:d.details.map((v,j)=>s.jsx("div",{className:`p-3 rounded-lg border ${v.status==="created"?"bg-green-50 border-green-200":v.status==="updated"?"bg-blue-50 border-blue-200":"bg-red-50 border-red-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:v.email}),s.jsxs("span",{className:"text-sm",children:[v.status==="created"&&s.jsx("span",{className:"text-green-700",children:" Created"}),v.status==="updated"&&s.jsx("span",{className:"text-blue-700",children:" Updated"}),v.error&&s.jsxs("span",{className:"text-red-700",children:[" ",v.error]})]})]})},j))}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:" All accounts have been processed. Download the credentials CSV to share login information with employees."})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-blue-800",children:["Review and modify the email addresses and passwords below before creating accounts. Default passwords follow the pattern: Bhandar@","{EmployeeID}"]})}),s.jsx("div",{className:"space-y-3",children:r.map(v=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm",children:v.name}),s.jsxs("div",{className:"text-xs text-gray-600",children:["ID: ",v.employeeId]})]}),v.email&&s.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"Has Account"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs text-gray-600 mb-1 flex items-center gap-1",children:[s.jsx($b,{className:"w-3 h-3"}),"Email Address"]}),s.jsx("input",{type:"email",value:a[v.id]?.email||"",onChange:j=>m(v.id,"email",j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"employee@bhandar.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs text-gray-600 mb-1 flex items-center gap-1",children:[s.jsx(V0,{className:"w-3 h-3"}),"Password"]}),s.jsx("input",{type:"text",value:a[v.id]?.password||"",onChange:j=>m(v.id,"password",j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono",placeholder:"Password123"})]})]})]},v.id))})]})}),s.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:g,className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"Download Credentials CSV"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"}),!d&&s.jsx("button",{onClick:p,disabled:l,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Preparing Credentials..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ma,{className:"w-4 h-4"}),"Prepare Signup Credentials"]})})]})]})})]})})}function jM({manager:t,level:e=0}){const r=t.managers&&t.managers.length>0||t.employees&&t.employees.length>0,n=a=>a?{operations_incharge:"Operations Incharge",store_incharge:"Store Incharge",production_incharge:"Production Incharge",store_ops:"Store Operations",production_ops:"Production Operations"}[a]||a:"Manager";return s.jsxs("div",{className:"mb-4 last:mb-0 border border-gray-200 rounded-lg bg-white",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ps,{className:"w-5 h-5 text-gray-400"}),s.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center text-white",children:s.jsx(pa,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"text-gray-900",children:t.name}),s.jsx("span",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded",children:n(t.designation)})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[t.employeeId,"  ",t.email]})]})]})}),r&&s.jsxs("div",{className:"p-4 space-y-4 bg-gray-50",children:[t.managers&&t.managers.length>0&&s.jsx("div",{className:"space-y-3",children:t.managers.map(a=>s.jsx(jM,{manager:a,level:e+1},a.employeeId))}),t.employees&&t.employees.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Direct Reports:"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.employees.map(a=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-pink-50 rounded-lg border border-pink-100",children:[s.jsx(Ps,{className:"w-4 h-4 text-gray-400"}),s.jsx("div",{className:"w-8 h-8 bg-pink-600 rounded-full flex items-center justify-center text-white text-sm",children:s.jsx(Ba,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm text-gray-900 truncate",children:a.name}),s.jsx("div",{className:"text-xs text-gray-600 truncate",children:a.employeeId})]})]},a.employeeId))})]})]})]})}function PZ({userRole:t,selectedStoreId:e,accessToken:r}){const[n,a]=$.useState([]),[i,l]=$.useState([]),[u,d]=$.useState([]),[h,m]=$.useState({totalClusterHeads:0,totalManagers:0,totalEmployees:0}),[p,g]=$.useState(!1),[v,j]=$.useState(!1),[w,b]=$.useState(!1),[N,k]=$.useState(null),[S,P]=$.useState(null),[E,O]=$.useState([]),[A,T]=$.useState([]);$.useEffect(()=>{R()},[e]);const R=async()=>{if(!r){console.error("No access token available");return}try{g(!0);const I=await PT(e);if(console.log("[Hierarchy Frontend] Received data:",{hierarchyCount:I.hierarchy?.length||0,unassignedManagersCount:I.unassignedManagers?.length||0,unassignedEmployeesCount:I.unassignedEmployees?.length||0,stats:I.stats,selectedStoreId:e}),a(I.hierarchy||[]),l(I.unassignedManagers||[]),d(I.unassignedEmployees||[]),m(I.stats||{totalClusterHeads:0,totalManagers:0,totalEmployees:0}),t==="cluster_head")try{const W=await YT(r);O(W)}catch{console.log("User not authorized to view all cluster heads")}const K=(await ga()).filter(W=>W.role==="manager");T(K)}catch(I){console.error("Error loading hierarchy:",I),I instanceof Error&&!I.message.includes("JWT")&&!I.message.includes("Unauthorized")&&alert("Failed to load organizational hierarchy")}finally{g(!1)}},D=async(I,q)=>{try{await(void 0)(I,q),alert("Cluster head assigned successfully!"),j(!1),k(null),await R()}catch(K){console.error("Error assigning cluster head:",K),alert("Failed to assign cluster head")}},F=async(I,q)=>{try{await lf(I,q),alert("Manager assigned successfully!"),b(!1),P(null),await R()}catch(K){console.error("Error assigning manager:",K),alert("Failed to assign manager")}};return p?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-500",children:"Loading hierarchy..."})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Organizational Hierarchy"}),s.jsx("p",{className:"text-gray-600",children:"Manage reporting relationships across the organization"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(_o,{className:"w-12 h-12 opacity-80"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl",children:h.totalClusterHeads}),s.jsx("div",{className:"text-sm opacity-90",children:"Cluster Heads"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pa,{className:"w-12 h-12 opacity-80"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl",children:h.totalManagers}),s.jsx("div",{className:"text-sm opacity-90",children:"Managers"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Mr,{className:"w-12 h-12 opacity-80"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl",children:h.totalEmployees}),s.jsx("div",{className:"text-sm opacity-90",children:"Employees"})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl text-gray-900",children:"Organizational Structure"}),s.jsx(bP,{className:"w-6 h-6 text-purple-600"})]}),n.length===0&&i.length===0&&u.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(_o,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No employees found. Create employees to get started."})]}):s.jsxs(s.Fragment,{children:[n.length>0&&s.jsx("div",{className:"space-y-6 mb-6",children:n.map(I=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white",children:s.jsx(_o,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-lg text-gray-900",children:I.name}),s.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded",children:"Cluster Head"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[I.employeeId,"  ",I.email]})]})]})}),I.managers&&I.managers.length>0&&s.jsx("div",{className:"p-4 bg-gray-50",children:I.managers.map(q=>s.jsx(jM,{manager:q},q.employeeId))})]},I.employeeId))}),i.length>0&&i.some(I=>I.employees&&I.employees.length>0||I.incharges&&I.incharges.length>0)&&s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsx("h3",{className:"text-lg text-gray-900 font-semibold",children:"Managers and Their Teams"}),i.filter(I=>I.employees&&I.employees.length>0||I.incharges&&I.incharges.length>0).map(I=>s.jsxs("div",{className:"border border-gray-200 rounded-lg bg-white overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white",children:s.jsx(pa,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"text-gray-900",children:I.name}),s.jsx("span",{className:"px-2 py-1 bg-purple-600 text-white text-xs rounded",children:"Manager"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[I.employeeId,"  ",I.email]})]})]})}),(I.incharges||I.employees)&&s.jsxs("div",{className:"p-4 space-y-4",children:[I.incharges&&I.incharges.length>0&&s.jsx("div",{className:"space-y-3",children:I.incharges.map(q=>s.jsxs("div",{className:"border border-indigo-200 rounded-lg overflow-hidden bg-indigo-50/50",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-100 to-indigo-200 p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ps,{className:"w-4 h-4 text-indigo-400"}),s.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center text-white",children:s.jsx(pa,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-900",children:q.name}),s.jsx("span",{className:"px-2 py-0.5 bg-indigo-600 text-white text-xs rounded",children:q.designation==="store_incharge"?"Store Incharge":"Production Incharge"})]}),s.jsx("div",{className:"text-xs text-gray-600",children:q.employeeId})]})]})}),q.employees&&q.employees.length>0&&s.jsx("div",{className:"p-3",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:q.employees.map(K=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded border border-indigo-100",children:[s.jsx(Ps,{className:"w-3 h-3 text-gray-300"}),s.jsx("div",{className:"w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center text-white text-xs",children:s.jsx(Ba,{className:"w-3 h-3"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-gray-900 truncate",children:K.name}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:K.employeeId})]})]},K.employeeId))})})]},q.employeeId))}),I.employees&&I.employees.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Direct Reports:"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:I.employees.map(q=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-pink-50 rounded-lg",children:[s.jsx(Ps,{className:"w-4 h-4 text-gray-400"}),s.jsx("div",{className:"w-8 h-8 bg-pink-600 rounded-full flex items-center justify-center text-white text-sm",children:s.jsx(Ba,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm text-gray-900 truncate",children:q.name}),s.jsx("div",{className:"text-xs text-gray-600 truncate",children:q.employeeId})]})]},q.employeeId))})]})]})]},I.employeeId))]})]})]}),(i.length>0||u.length>0)&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg text-gray-900",children:"Unassigned Managers"}),s.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm rounded-full",children:i.length})]}),s.jsx("div",{className:"space-y-3",children:i.map(I=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(pa,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-900",children:I.name}),s.jsx("div",{className:"text-sm text-gray-600",children:I.employeeId})]})]})}),t==="cluster_head"&&s.jsx("button",{onClick:()=>{k(I),j(!0)},className:"w-full px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Assign Cluster Head"})]},I.employeeId))})]}),u.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg text-gray-900",children:"Unassigned Employees"}),s.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm rounded-full",children:u.length})]}),s.jsx("div",{className:"space-y-3",children:u.map(I=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center",children:s.jsx(Ba,{className:"w-5 h-5 text-pink-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-900",children:I.name}),s.jsx("div",{className:"text-sm text-gray-600",children:I.employeeId})]})]})}),(t==="cluster_head"||t==="manager")&&s.jsx("button",{onClick:()=>{P(I),b(!0)},className:"w-full px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm",children:"Assign Manager"})]},I.employeeId))})]})]}),v&&N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-xl text-gray-900 mb-4",children:"Assign Cluster Head to Manager"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Manager: ",s.jsx("strong",{children:N.name})," (",N.employeeId,")"]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Select Cluster Head"}),s.jsxs("select",{id:"clusterHeadSelect",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"Choose a cluster head..."}),E.map(I=>s.jsxs("option",{value:I.employeeId,children:[I.name," (",I.employeeId,")"]},I.employeeId))]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{const I=document.getElementById("clusterHeadSelect");I.value?D(N.employeeId,I.value):alert("Please select a cluster head")},className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:shadow-lg transition-all",children:"Assign"}),s.jsx("button",{onClick:()=>{j(!1),k(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})}),w&&S&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-xl text-gray-900 mb-4",children:"Assign Manager to Employee"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Employee: ",s.jsx("strong",{children:S.name})," (",S.employeeId,")"]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Select Manager"}),s.jsxs("select",{id:"managerSelect",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"Choose a manager..."}),A.map(I=>s.jsxs("option",{value:I.employeeId,children:[I.name," (",I.employeeId,")"]},I.employeeId))]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{const I=document.getElementById("managerSelect");I.value?F(S.employeeId,I.value):alert("Please select a manager")},className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:shadow-lg transition-all",children:"Assign"}),s.jsx("button",{onClick:()=>{b(!1),P(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})})]})})}function Kd({value:t,onChange:e,label:r,className:n="",min:a,max:i}){const l=$.useRef(null),u=()=>{try{l.current?.showPicker?.()}catch{}},d=m=>m?XT(m):"Select date",h=n.includes("w-full");return s.jsxs("div",{className:h?"w-full":`flex items-center gap-2 ${n}`,children:[r&&s.jsx("label",{className:`text-sm text-gray-600 ${h?"block mb-2":"whitespace-nowrap"}`,children:r}),s.jsxs("div",{onClick:u,className:`relative flex items-center gap-2 px-4 py-2 border-2 border-gray-300 rounded-lg bg-white hover:border-purple-400 hover:bg-purple-50 transition-all cursor-pointer group ${h?"w-full":"min-w-[160px]"}`,children:[s.jsx(Kr,{className:"w-4 h-4 text-gray-500 group-hover:text-purple-600 transition-colors flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700 group-hover:text-purple-700 transition-colors flex-1",children:d(t)}),s.jsx("input",{ref:l,type:"date",value:t,onChange:m=>e(m.target.value),min:a,max:i,className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full z-10"})]})]})}function TZ({employee:t,payouts:e,personalExpenses:r,onClose:n}){const a={};e.forEach(d=>{const h=new Date(d.date),m=`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}`;a[m]||(a[m]={monthKey:m,monthLabel:h.toLocaleDateString("en-US",{month:"long",year:"numeric"}),payments:[]}),a[m].payments.push({type:"payout",data:d,actualDate:d.date})}),r.forEach(d=>{const h=d.expenseMonth||(()=>{const m=new Date(d.date);return`${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,"0")}`})();if(!a[h]){const m=new Date(h+"-01");a[h]={monthKey:h,monthLabel:m.toLocaleDateString("en-US",{month:"long",year:"numeric"}),payments:[]}}a[h].payments.push({type:"expense",data:d,actualDate:d.date})});const i=Object.values(a).sort((d,h)=>h.monthKey.localeCompare(d.monthKey)),l=e.reduce((d,h)=>d+h.amount,0),u=r.reduce((d,h)=>d+h.amount,0);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl text-white font-semibold",children:"Payment History"}),s.jsxs("p",{className:"text-purple-100 text-sm mt-1",children:[t.name," (",t.employeeId,")"]})]}),s.jsx("button",{onClick:n,className:"text-white hover:bg-white hover:bg-opacity-20 p-2 rounded-lg transition-colors",children:s.jsx(vn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-blue-700 mb-1",children:"Total Payouts"}),s.jsx("p",{className:"text-2xl font-semibold text-blue-900",children:e.length}),s.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["",l.toLocaleString("en-IN")]})]}),s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-purple-700 mb-1",children:"Personal Expenses"}),s.jsx("p",{className:"text-2xl font-semibold text-purple-900",children:r.length}),s.jsxs("p",{className:"text-sm text-purple-600 mt-1",children:["",u.toLocaleString("en-IN")]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-green-700 mb-1",children:"Total Paid"}),s.jsxs("p",{className:"text-2xl font-semibold text-green-900",children:["",(l+u).toLocaleString("en-IN")]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Ir,{className:"w-5 h-5 text-purple-600"}),"Payment History (Month-wise)"]}),e.length===0&&r.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",children:[s.jsx(Ir,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:"No payment history found"})]}):s.jsx("div",{className:"space-y-6",children:i.map(d=>{const h=d.payments.reduce((m,p)=>(p.type==="payout",m+p.data.amount),0);return s.jsxs("div",{className:"border-2 border-purple-200 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 px-4 py-3 border-b border-purple-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kr,{className:"w-5 h-5 text-purple-600"}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:d.monthLabel})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[d.payments.length," payment",d.payments.length!==1?"s":""]}),s.jsxs("p",{className:"text-lg font-semibold text-purple-900",children:["",h.toLocaleString("en-IN")]})]})]})}),s.jsx("div",{className:"p-3 space-y-2 bg-white",children:d.payments.sort((m,p)=>new Date(p.actualDate).getTime()-new Date(m.actualDate).getTime()).map(m=>{if(m.type==="payout"){const p=m.data;return s.jsx("div",{className:"border border-blue-200 rounded-lg p-3 bg-blue-50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ir,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Regular Payout"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:new Date(p.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-lg font-semibold text-blue-900",children:["",p.amount.toLocaleString("en-IN")]})})]})},`payout-${p.id}`)}else{const p=m.data,g=new Date(p.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),v=p.expenseMonth&&p.expenseMonth!==`${new Date(p.date).getFullYear()}-${String(new Date(p.date).getMonth()+1).padStart(2,"0")}`;return s.jsx("div",{className:"border border-purple-200 rounded-lg p-3 bg-purple-50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vd,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Salary (Personal Expense)"})]}),v?s.jsxs("p",{className:"text-xs text-purple-600 mt-1 font-medium flex items-center gap-1",children:[" Mapped to this month  Paid on: ",g]}):s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p.description})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-lg font-semibold text-purple-900",children:["",p.amount.toLocaleString("en-IN")]})})]})},`expense-${p.id}`)}})})]},d.monthKey)})})]})]})]})})}const CZ=(t,e,r,n,a,i,l=0)=>{const d=a.reduce((p,g)=>p+g.amount,0)+l,h=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <title>Payslip - ${r} ${n}</title>
      <style>
        body {
          font-family: 'Arial', sans-serif;
          margin: 0;
          padding: 20px;
          color: #333;
        }
        .payslip-container {
          max-width: 800px;
          margin: 0 auto;
          border: 2px solid #9333ea;
          padding: 30px;
          background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
        }
        .header {
          text-align: center;
          border-bottom: 3px solid #9333ea;
          padding-bottom: 20px;
          margin-bottom: 30px;
        }
        .company-name {
          font-size: 32px;
          font-weight: bold;
          color: #9333ea;
          margin-bottom: 5px;
        }
        .company-tagline {
          font-size: 14px;
          color: #666;
          font-style: italic;
        }
        .payslip-title {
          font-size: 24px;
          color: #9333ea;
          margin: 20px 0 10px 0;
          font-weight: bold;
        }
        .payslip-period {
          font-size: 16px;
          color: #666;
          margin-bottom: 20px;
        }
        .info-section {
          display: table;
          width: 100%;
          margin-bottom: 30px;
        }
        .info-row {
          display: table-row;
        }
        .info-label {
          display: table-cell;
          padding: 10px 0;
          font-weight: bold;
          color: #9333ea;
          width: 40%;
        }
        .info-value {
          display: table-cell;
          padding: 10px 0;
          color: #333;
        }
        .payment-table {
          width: 100%;
          border-collapse: collapse;
          margin: 20px 0;
          background: white;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .payment-table th {
          background: linear-gradient(135deg, #9333ea 0%, #c084fc 100%);
          color: white;
          padding: 12px;
          text-align: left;
          font-weight: bold;
        }
        .payment-table td {
          padding: 12px;
          border-bottom: 1px solid #e5e7eb;
        }
        .payment-table tr:last-child td {
          border-bottom: none;
        }
        .payment-table tr:nth-child(even) {
          background: #faf5ff;
        }
        .total-section {
          background: linear-gradient(135deg, #9333ea 0%, #c084fc 100%);
          color: white;
          padding: 20px;
          margin-top: 30px;
          border-radius: 8px;
          text-align: center;
        }
        .total-label {
          font-size: 18px;
          margin-bottom: 10px;
        }
        .total-amount {
          font-size: 36px;
          font-weight: bold;
        }
        .footer {
          margin-top: 40px;
          padding-top: 20px;
          border-top: 2px solid #9333ea;
          text-align: center;
          font-size: 12px;
          color: #666;
        }
        .signature-section {
          margin-top: 60px;
          display: flex;
          justify-content: space-between;
        }
        .signature-box {
          text-align: center;
          width: 45%;
        }
        .signature-line {
          border-top: 2px solid #9333ea;
          margin-top: 50px;
          padding-top: 10px;
          font-weight: bold;
          color: #9333ea;
        }
        @media print {
          body {
            padding: 0;
          }
          .payslip-container {
            border: none;
            box-shadow: none;
          }
        }
      </style>
    </head>
    <body>
      <div class="payslip-container">
        <div class="header">
          <div class="company-name">BHANDAR-IMS</div>
          <div class="company-tagline">Food Business Inventory Management System</div>
          <div class="payslip-title">SALARY SLIP</div>
          <div class="payslip-period">For the Month of ${r} ${n}</div>
        </div>
        
        <div class="info-section">
          <div class="info-row">
            <div class="info-label">Employee Name:</div>
            <div class="info-value">${t}</div>
          </div>
          <div class="info-row">
            <div class="info-label">Employee ID:</div>
            <div class="info-value">${e}</div>
          </div>
          <div class="info-row">
            <div class="info-label">Employee Type:</div>
            <div class="info-value">${i==="fulltime"?"Permanent":"Contract"}</div>
          </div>
          <div class="info-row">
            <div class="info-label">Payment Date:</div>
            <div class="info-value">${new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}</div>
          </div>
        </div>

        <table class="payment-table">
          <thead>
            <tr>
              <th>Payment Date</th>
              <th>Description</th>
              <th style="text-align: right;">Amount ()</th>
            </tr>
          </thead>
          <tbody>
            ${a.map(p=>`
              <tr>
                <td>${new Date(p.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}</td>
                <td>Regular Payout</td>
                <td style="text-align: right;">${p.amount.toLocaleString("en-IN")}</td>
              </tr>
            `).join("")}
            ${l>0?`
              <tr>
                <td>Various</td>
                <td>Salary (via Personal Expense)</td>
                <td style="text-align: right;">${l.toLocaleString("en-IN")}</td>
              </tr>
            `:""}
          </tbody>
        </table>

        <div class="total-section">
          <div class="total-label">Net Salary for ${r} ${n}</div>
          <div class="total-amount">${d.toLocaleString("en-IN")}</div>
        </div>

        <div class="signature-section">
          <div class="signature-box">
            <div class="signature-line">Employee Signature</div>
          </div>
          <div class="signature-box">
            <div class="signature-line">Authorized Signatory</div>
          </div>
        </div>

        <div class="footer">
          <p>This is a computer-generated payslip and does not require a signature.</p>
          <p> ${n} Bhandar-IMS. All rights reserved.</p>
        </div>
      </div>
    </body>
    </html>
  `,m=window.open("","_blank");m&&(m.document.write(h),m.document.close(),m.onload=()=>{m.print()})};function NM({userRole:t,selectedDate:e,userEmployeeId:r,userName:n,selectedStoreId:a,isIncharge:i=!1,inchargeDesignation:l=null}){const[u,d]=$.useState("contract"),[h,m]=$.useState([]),[p,g]=$.useState([]),[v,j]=$.useState([]),[w,b]=$.useState([]),[N,k]=$.useState(!0),[S,P]=$.useState(!1),[E,O]=$.useState(!1),[A,T]=$.useState(""),[R,D]=$.useState(!1),[F,I]=$.useState(null),[q,K]=$.useState("current"),[W,J]=$.useState(""),[re,G]=$.useState(""),oe=()=>{const le=new Date,ee=le.getFullYear(),ze=le.getMonth(),ce=new Date(ee,ze+1,0),_e=`${ee}-${String(ze+1).padStart(2,"0")}-01`,Te=ce.getDate(),Ve=`${ee}-${String(ze+1).padStart(2,"0")}-${String(Te).padStart(2,"0")}`;return{start:_e,end:Ve,monthName:le.toLocaleDateString("en-US",{month:"long",year:"numeric"})}},Z=()=>{const le=new Date,ee=le.getMonth()===0?le.getFullYear()-1:le.getFullYear(),ze=le.getMonth()===0?11:le.getMonth()-1,ce=new Date(ee,ze,1),_e=new Date(ee,ze+1,0),Te=`${ee}-${String(ze+1).padStart(2,"0")}-01`,Ve=_e.getDate(),ht=`${ee}-${String(ze+1).padStart(2,"0")}-${String(Ve).padStart(2,"0")}`;return{start:Te,end:ht,monthName:ce.toLocaleDateString("en-US",{month:"long",year:"numeric"})}},M=oe(),U=Z(),[te,me]=$.useState(!1),[ge,Me]=$.useState(null),[Ke,De]=$.useState(!1),[ue,xe]=$.useState({employeeIds:[],amount:"",date:e}),[Oe,Y]=$.useState(!1),[je,Ie]=$.useState(null),[ot,Pe]=$.useState(!1),Ae=$.useMemo(()=>{let le=h;return a&&(le=le.filter(ee=>ee.storeId===a||ee.storeId===null||ee.storeId===void 0)),i&&r&&(le=le.filter(ee=>ee.type==="contract"?!0:ee.type==="fulltime"?ee.inchargeId===r:!1)),le},[h,a,i,r]),Ne=$.useMemo(()=>{if(!a)return p;const le=Ae.map(ee=>ee.id);return p.filter(ee=>le.includes(ee.employeeId))},[p,Ae,a]),Xe=$.useMemo(()=>{let le;if(q==="current")le=Ne.filter(ee=>ee.date>=M.start&&ee.date<=M.end);else if(q==="last")le=Ne.filter(ee=>ee.date>=U.start&&ee.date<=U.end);else{if(!W||!re)return[];le=Ne.filter(ee=>ee.date>=W&&ee.date<=re)}return le},[Ne,q,M,U,W,re]);$.useEffect(()=>{ye()},[]);const ye=async()=>{k(!0);try{console.log("Loading employees, payouts, salary advances, and overheads from server...");const[le,ee,ze,ce]=await Promise.all([eh(),wT(),ST(),WP()]);console.log("Loaded employees:",le),console.log("Loaded payouts:",ee),console.log("Loaded salary advances:",ze),console.log("Loaded overheads:",ce),m(le||[]),g(ee||[]),j(ze||[]),b(ce||[])}catch(le){console.error("Error loading payroll data:",le)}finally{k(!1)}},$e=async le=>{try{const ee=v.find(_e=>_e.id===le);if(!ee)return;const ce={...ee,status:"approved",approvedBy:n||r||"Cluster Head",approvedDate:new Date().toISOString()};await sx(le,ce),alert("Salary advance approved successfully!"),ye()}catch(ee){console.error("Error approving salary advance:",ee),alert("Failed to approve salary advance. Please try again.")}},ct=async le=>{const ee=prompt("Please provide a reason for rejection:");if(ee)try{const ze=v.find(_e=>_e.id===le);if(!ze)return;const ce={...ze,status:"rejected",rejectionReason:ee,approvedBy:n||r||"Cluster Head",approvedDate:new Date().toISOString()};await sx(le,ce),alert("Salary advance rejected."),ye()}catch(ze){console.error("Error rejecting salary advance:",ze),alert("Failed to reject salary advance. Please try again.")}},jt=async()=>{if(!A||!r)return;const le=parseFloat(A);if(isNaN(le)||le<=0){alert("Please enter a valid amount");return}try{const ee=h.find(Te=>Te.employeeId===r);if(!ee){alert("Employee not found");return}if(ee.type!=="fulltime"){alert("Only permanent employees can apply for salary advance");return}if(v.some(Te=>Te.employeeId===ee.id&&(Te.status==="pending"||Te.status==="approved"&&Te.remainingAmount>0))){alert("You already have an active or pending salary advance");return}const ce=le/4,_e={employeeId:ee.id,employeeName:ee.name,employeeEmployeeId:ee.employeeId,amount:le,monthlyDeduction:ce,remainingAmount:le,status:"pending",requestDate:new Date().toISOString()};await kT(_e),alert("Salary advance request submitted successfully!"),O(!1),T(""),ye()}catch(ee){console.error("Error applying for salary advance:",ee),alert("Failed to submit salary advance request. Please try again.")}},Rt=async()=>{if(ue.employeeIds.length===0||!ue.amount){alert("Please select employees and enter amount");return}if(!S)try{P(!0);const le=ue.employeeIds.map(ze=>{const ce=h.find(_e=>_e.id===ze);return{id:crypto.randomUUID(),employeeId:ze,employeeName:ce?.name||"",amount:parseFloat(ue.amount),date:ue.date,storeId:a||void 0,createdAt:new Date().toISOString()}});console.log("Adding payouts:",le);const ee=await jT(le);console.log("Payouts added successfully:",ee),g([...p,...le]),De(!1),xe({employeeIds:[],amount:"",date:e}),alert("Payout added successfully!")}catch(le){console.error("Error adding payout:",le);const ee=le instanceof Error?le.message:"Unknown error occurred";alert(`Failed to add payout: ${ee}`)}finally{P(!1)}},vr=async()=>{if(ge)try{console.log("PayrollManagement: Updating employee:",ge),await(void 0)(ge.id,ge),m(h.map(le=>le.id===ge.id?ge:le)),me(!1),Me(null),alert("Employee updated successfully!")}catch(le){console.error("PayrollManagement: Error updating employee:",le);const ee=le instanceof Error?le.message:"Unknown error";alert(`Failed to update employee: ${ee}`)}},oa=async le=>{if(confirm("Are you sure you want to delete this employee? This action cannot be undone."))try{await fT(le),m(h.filter(ee=>ee.id!==le)),g(p.filter(ee=>ee.employeeId!==le)),alert("Employee deleted successfully!")}catch(ee){console.error("Error deleting employee:",ee),alert("Failed to delete employee")}},la=async()=>{if(je)try{await NT(je.id,{amount:je.amount,date:je.date}),g(p.map(le=>le.id===je.id?je:le)),Y(!1),Ie(null),alert("Payout updated successfully!")}catch(le){console.error("Error updating payout:",le),alert("Failed to update payout")}},Zt=async le=>{if(confirm("Are you sure you want to delete this payout?"))try{await _T(le),g(p.filter(ee=>ee.id!==le)),alert("Payout deleted successfully!")}catch(ee){console.error("Error deleting payout:",ee),alert("Failed to delete payout")}},Bn=le=>{let ee;if(q==="current"){const ce=M.start.substring(0,7);ee=w.filter(_e=>_e.expenseMonth?_e.expenseMonth===ce:_e.date>=M.start&&_e.date<=M.end)}else if(q==="last"){const ce=U.start.substring(0,7);ee=w.filter(_e=>_e.expenseMonth?_e.expenseMonth===ce:_e.date>=U.start&&_e.date<=U.end)}else{if(!W||!re)return 0;const ce=W.substring(0,7),_e=re.substring(0,7);ee=w.filter(Te=>Te.expenseMonth?Te.expenseMonth>=ce&&Te.expenseMonth<=_e:Te.date>=W&&Te.date<=re)}return ee.filter(ce=>ce.category==="personal_expense"&&ce.employeeId===le).reduce((ce,_e)=>ce+_e.amount,0)},er=()=>{const le=Ae.filter(Te=>Te.type==="contract"),ee=Xe.filter(Te=>Ae.find(ht=>ht.id===Te.employeeId)?.type==="contract"),ze=ee.reduce((Te,Ve)=>Te+Ve.amount,0),ce=le.map(Te=>{const Ve=ee.filter(Nt=>Nt.employeeId===Te.id),ht=new Set(Ve.map(Nt=>Nt.date));return{...Te,daysWorked:ht.size,totalPay:Ve.reduce((Nt,xr)=>Nt+xr.amount,0)}}),_e=ce.reduce((Te,Ve)=>Te+Ve.daysWorked,0);return{totalPayout:ze,employeeWorkDays:ce,totalDaysWorked:_e}},Vr=()=>{const le=Ae.filter(Te=>Te.type==="fulltime"),ee=Xe.filter(Te=>Ae.find(ht=>ht.id===Te.employeeId)?.type==="fulltime"),ze=ee.reduce((Te,Ve)=>Te+Ve.amount,0),ce=le.reduce((Te,Ve)=>{const ht=Bn(Ve.id);return console.log(` Personal expense for ${Ve.name} (${Ve.id}): ${ht}`),Te+ht},0);console.log(" Total Payout Calculation:"),console.log(`   Regular Payouts: ${ze}`),console.log(`   Personal Expenses: ${ce}`),console.log(`   TOTAL: ${ze+ce}`);const _e=le.map(Te=>{const Ve=ee.filter(ht=>ht.employeeId===Te.id);return{...Te,totalPaid:Ve.reduce((ht,Nt)=>ht+Nt.amount,0),lastPayout:Ve.length>0?Ve[Ve.length-1]:null}});return{totalPayout:ze+ce,employeePayouts:_e}},_a=le=>le.split(" ").map(ee=>ee[0]).join("").toUpperCase().slice(0,2),jn=le=>{const ee=["bg-blue-500","bg-purple-500","bg-green-500","bg-orange-500","bg-pink-500","bg-indigo-500"];return ee[le%ee.length]};er();const nn=Vr(),Za=u==="contract"?Ae.filter(le=>le.type==="contract"):Ae.filter(le=>le.type==="fulltime"),Un=()=>t==="audit"?!1:u==="contract"&&t==="manager"||u==="permanent"&&t==="cluster_head";return N?s.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-500",children:"Loading payroll data..."})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Payroll Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage and track employee payments"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("div",{className:"flex gap-8 px-6",children:[t==="manager"&&r&&s.jsx("button",{onClick:()=>d("my-payouts"),className:`py-4 border-b-2 transition-colors ${u==="my-payouts"?"border-green-500 text-green-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"My Payouts"}),s.jsx("button",{onClick:()=>d("contract"),className:`py-4 border-b-2 transition-colors ${u==="contract"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Contract Employees"}),(t==="cluster_head"||t==="audit")&&s.jsx("button",{onClick:()=>d("permanent"),className:`py-4 border-b-2 transition-colors ${u==="permanent"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Permanent Employees"}),(t==="cluster_head"||t==="audit")&&s.jsx("button",{onClick:()=>d("advances"),className:`py-4 border-b-2 transition-colors ${u==="advances"?"border-purple-500 text-purple-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vd,{className:"w-4 h-4"}),s.jsx("span",{children:"Salary Advances"}),v.filter(le=>le.status==="pending").length>0&&s.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:v.filter(le=>le.status==="pending").length})]})})]})}),s.jsxs("div",{className:"p-6 border-b border-gray-200 space-y-4",children:[s.jsx("div",{className:"flex gap-4 flex-wrap",children:Un()&&s.jsxs("button",{onClick:()=>De(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Ir,{className:"w-4 h-4"}),"Add Payout"]})}),s.jsx("div",{className:"bg-gradient-to-br from-[#E8D5F2] to-[#D4B5F0] rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kr,{className:"w-5 h-5 text-purple-700"}),s.jsx("span",{className:"text-gray-900",children:"View Period:"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>K("current"),className:`px-4 py-2 rounded-lg transition-colors ${q==="current"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-purple-50"}`,children:"Current Month"}),s.jsx("button",{onClick:()=>K("last"),className:`px-4 py-2 rounded-lg transition-colors ${q==="last"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-purple-50"}`,children:"Last Month"}),s.jsx("button",{onClick:()=>K("custom"),className:`px-4 py-2 rounded-lg transition-colors ${q==="custom"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-purple-50"}`,children:"Custom Range"})]}),q==="current"?s.jsx("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg",children:s.jsx("span",{className:"text-gray-900 font-medium",children:M.monthName})}):q==="last"?s.jsx("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg",children:s.jsx("span",{className:"text-gray-900 font-medium",children:U.monthName})}):s.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[s.jsx(Kd,{label:"From:",value:W,onChange:J}),s.jsx(Kd,{label:"To:",value:re,onChange:G})]})]})})]}),u==="contract"&&(()=>{const le=h.filter(ce=>ce.type==="contract"),ee=Xe.filter(ce=>h.find(Te=>Te.id===ce.employeeId)?.type==="contract");console.log("Rendering contract tab"),console.log("Total employees:",h.length),console.log("Contract employees:",le.length,le),console.log("Contract payouts:",ee.length,ee);const ze=ee.reduce((ce,_e)=>ce+_e.amount,0);return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl text-gray-900 mb-1",children:"Contract Employees"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Daily rate workers"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Employees"}),s.jsx("div",{className:"text-2xl text-blue-600",children:le.length})]})]}),le.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",children:[s.jsx(Mr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:"No contract employees yet"}),s.jsx("p",{className:"text-sm mt-2",children:"Contact your cluster head to add employees"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:le.map((ce,_e)=>{const Te=ee.filter(Nt=>Nt.employeeId===ce.id),Ve=Te.reduce((Nt,xr)=>Nt+xr.amount,0),ht=new Set(Te.map(Nt=>Nt.date)).size;return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-full ${jn(_e)} flex items-center justify-center text-white`,children:_a(ce.name)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-900",children:ce.name}),s.jsx("div",{className:"text-xs text-gray-500",children:ce.employeeId})]})]}),t!=="audit"&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>{Me(ce),me(!0)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit employee",children:s.jsx(ks,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>oa(ce.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete employee",children:s.jsx(Es,{className:"w-4 h-4"})})]})]}),ce.role&&s.jsx("div",{className:"mb-2",children:s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:ce.role})}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Phone:"}),s.jsx("span",{className:"text-gray-900",children:ce.phone})]}),ce.dailyRate&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Daily Rate:"}),s.jsxs("span",{className:"text-green-600",children:["",ce.dailyRate]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Days Worked:"}),s.jsx("span",{className:"text-gray-900",children:ht})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Total Paid:"}),s.jsxs("span",{className:"text-gray-900",children:["",Ve.toLocaleString()]})]})]})]},ce.id)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl text-gray-900 mb-1",children:"Recent Payouts"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Individual payout records for ",q==="current"?M.monthName:"selected period"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Payout"}),s.jsxs("div",{className:"text-2xl text-green-600",children:["",ze.toLocaleString()]})]})]}),ee.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",children:[s.jsx(Ir,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:"No payouts recorded for this period"}),s.jsx("p",{className:"text-sm mt-2",children:"Add payouts to track contract employee payments"})]}):s.jsx("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee ID"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Date"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:"Amount"}),t!=="audit"&&s.jsx("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:"Actions"})]})}),s.jsx("tbody",{children:ee.sort((ce,_e)=>new Date(_e.date).getTime()-new Date(ce.date).getTime()).map((ce,_e)=>{const Te=h.find(Ve=>Ve.id===ce.employeeId);return s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full ${jn(_e)} flex items-center justify-center text-white text-sm`,children:_a(ce.employeeName)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-900",children:ce.employeeName}),Te?.role&&s.jsx("div",{className:"text-xs text-gray-500",children:Te.role})]})]})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:Te?.employeeId||"-"})}),s.jsx("td",{className:"py-4 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kr,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-900",children:new Date(ce.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})}),s.jsx("td",{className:"py-4 px-4 text-right",children:s.jsxs("span",{className:"text-gray-900",children:["",ce.amount.toLocaleString()]})}),t!=="audit"&&s.jsx("td",{className:"py-4 px-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>{Ie(ce),Y(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit payout",children:s.jsx(ks,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Zt(ce.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete payout",children:s.jsx(Es,{className:"w-4 h-4"})})]})})]},ce.id)})})]})})]})]})})(),u==="my-payouts"&&r&&(()=>{const le=p.filter(Ce=>Ce.employeeId===r),ee=h.find(Ce=>Ce.employeeId===r),ze=ee?.type||"fulltime",ce=v.filter(Ce=>Ce.employeeId===ee?.id),_e=ce.some(Ce=>Ce.status==="pending"||Ce.status==="approved"&&Ce.remainingAmount>0),Te=new Date;Te.getDate();const Ve=[];for(let Ce=0;Ce<12;Ce++){const Kt=new Date(Te.getFullYear(),Te.getMonth()-Ce,1),yt=Kt.toLocaleDateString("en-US",{month:"long"}),Lr=Kt.getFullYear().toString(),Fr=Kt.getMonth()+1,Sa=new Date(Kt.getFullYear(),Kt.getMonth()+1,5),qr=Te>=Sa,Or=le.filter(qt=>{const ie=new Date(qt.date);return ie.getMonth()+1===Fr&&ie.getFullYear()===Kt.getFullYear()}),ut=`${Kt.getFullYear()}-${String(Fr).padStart(2,"0")}`,zn=w.filter(qt=>qt.category==="personal_expense"&&qt.employeeId===r&&qt.expenseMonth===ut).reduce((qt,ie)=>qt+ie.amount,0),Gr=Or.reduce((qt,ie)=>qt+ie.amount,0)+zn;Ve.push({month:yt,year:Lr,payouts:Or,total:Gr,personalExpenses:zn,isAvailable:qr})}const ht=Xe.filter(Ce=>Ce.employeeId===r),Nt=ht.reduce((Ce,Kt)=>Ce+Kt.amount,0),xr=ee?Bn(ee.id):0,an=xr+Nt;return s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl text-gray-900 mb-1",children:"My Payout History"}),s.jsx("p",{className:"text-sm text-gray-600",children:"View your salary records and download monthly payslips"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>{I(ee),D(!0)},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl",children:[s.jsx(lc,{className:"w-4 h-4"}),"View All Payments"]}),ze==="fulltime"&&s.jsxs("button",{onClick:()=>O(!0),disabled:_e,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${_e?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700 shadow-md"}`,title:_e?"You already have an active salary advance":"Apply for salary advance",children:[s.jsx(Vd,{className:"w-4 h-4"}),_e?"Advance Active":"Apply for Advance"]})]})]})}),ce.length>0&&s.jsx("div",{className:"mb-6 space-y-3",children:ce.map(Ce=>s.jsx("div",{className:`border-2 rounded-lg p-4 ${Ce.status==="pending"?"border-yellow-300 bg-yellow-50":Ce.status==="approved"?"border-green-300 bg-green-50":"border-red-300 bg-red-50"}`,children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Ce.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(Dr,{className:"w-5 h-5 text-yellow-600"}),s.jsx("span",{className:"font-medium text-yellow-900",children:"Advance Request Pending"})]}),Ce.status==="approved"&&s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"font-medium text-green-900",children:"Advance Approved"})]}),Ce.status==="rejected"&&s.jsxs(s.Fragment,{children:[s.jsx(aa,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"font-medium text-red-900",children:"Advance Rejected"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Amount"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["",Ce.amount.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Monthly Deduction"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["",Ce.monthlyDeduction.toLocaleString()]})]}),Ce.status==="approved"&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Remaining"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["",Ce.remainingAmount.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Request Date"}),s.jsx("p",{className:"text-sm text-gray-900",children:new Date(Ce.requestDate).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})]})]}),Ce.status==="approved"&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-300",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Deduction Period"}),s.jsx("p",{className:"text-sm text-gray-900",children:(()=>{const[Kt,yt]=Ce.startMonth.split("-"),[Lr,Fr]=Ce.endMonth.split("-"),Sa=new Date(parseInt(Kt),parseInt(yt)-1,1),qr=new Date(parseInt(Lr),parseInt(Fr)-1,1),Or=Sa.toLocaleDateString("en-US",{month:"short",year:"numeric"}),ut=qr.toLocaleDateString("en-US",{month:"short",year:"numeric"});return`${Or} to ${ut} (${Ce.installments} months)`})()})]}),Ce.status==="rejected"&&Ce.rejectionReason&&s.jsxs("div",{className:"mt-2 pt-2 border-t border-red-200",children:[s.jsx("p",{className:"text-xs text-red-600 mb-1",children:"Rejection Reason"}),s.jsx("p",{className:"text-sm text-red-900",children:Ce.rejectionReason})]})]})})},Ce.id))}),s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Period"}),s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:q==="current"?M.monthName:q==="last"?U.monthName:`${W} to ${re}`})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[ht.length," payment",ht.length!==1?"s":""]})})]}),s.jsxs("div",{className:"pt-4 border-t border-green-200 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Gross Pay"}),s.jsxs("p",{className:"text-2xl text-green-600",children:["",Nt.toLocaleString()]})]}),xr>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(d4,{className:"w-4 h-4 text-red-600"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Personal Expenses"})]}),s.jsxs("p",{className:"text-xl text-red-600",children:["",xr.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-green-300",children:[s.jsx("p",{className:"text-base font-semibold text-gray-900",children:"Net Amount"}),s.jsxs("p",{className:"text-3xl font-bold text-green-700",children:["",an.toLocaleString()]})]})]})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(lc,{className:"w-5 h-5 text-purple-600"}),s.jsx("h3",{className:"text-lg text-gray-900",children:"Monthly Payslips"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Payslips are available for download after the 4th of each month"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ve.map((Ce,Kt)=>s.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${Ce.isAvailable&&(Ce.payouts.length>0||Ce.personalExpenses&&Ce.personalExpenses>0)?"border-purple-300 bg-gradient-to-br from-purple-50 to-pink-50 hover:shadow-lg":"border-gray-200 bg-gray-50 opacity-60"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-gray-900 font-semibold",children:[Ce.month," ",Ce.year]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Ce.payouts.length," payout",Ce.payouts.length!==1?"s":"",Ce.personalExpenses>0&&` + ${Ce.personalExpenses.toLocaleString("en-IN")} salary`]})]}),Ce.isAvailable&&(Ce.payouts.length>0||Ce.personalExpenses&&Ce.personalExpenses>0)?s.jsxs("button",{onClick:()=>CZ(n||"Employee",r,Ce.month,Ce.year,Ce.payouts,ze,Ce.personalExpenses||0),className:"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",title:"Download Payslip",children:[s.jsx(ti,{className:"w-4 h-4"}),"Download"]}):s.jsx("div",{className:"px-3 py-2 bg-gray-300 text-gray-600 rounded-lg text-sm cursor-not-allowed",children:Ce.payouts.length===0&&(!Ce.personalExpenses||Ce.personalExpenses===0)?"No Data":"Not Available"})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-300",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Amount"}),s.jsxs("p",{className:"text-xl text-gray-900 font-semibold",children:["",Ce.total.toLocaleString("en-IN")]})]})]},Kt))})]}),s.jsx("div",{className:"mb-4",children:s.jsx("h3",{className:"text-lg text-gray-900 mb-3",children:"Payment Details"})}),ht.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",children:[s.jsx(Ir,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:"No payouts found for the selected period"})]}):s.jsx("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee ID"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:"Amount"})]})}),s.jsx("tbody",{children:ht.sort((Ce,Kt)=>new Date(Kt.date).getTime()-new Date(Ce.date).getTime()).map(Ce=>s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:new Date(Ce.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:r})}),s.jsx("td",{className:"py-4 px-4 text-right",children:s.jsxs("span",{className:"text-green-600",children:["",Ce.amount.toLocaleString()]})})]},Ce.id))})]})})]})})(),u==="permanent"&&(()=>{const le=h.filter(ce=>ce.type==="fulltime"),ee=Xe.filter(ce=>h.find(Te=>Te.id===ce.employeeId)?.type==="fulltime"),ze=nn.totalPayout;return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl text-gray-900 mb-1",children:"Permanent Employees"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Full-time employees - Monthly/periodic payouts"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Employees"}),s.jsx("div",{className:"text-2xl text-blue-600",children:le.length})]})]}),le.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",children:[s.jsx(Mr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:"No permanent employees yet"}),s.jsx("p",{className:"text-sm mt-2",children:"Contact your cluster head to add employees"})]}):s.jsx("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee ID"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Role"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Phone"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Last Payout"}),s.jsxs("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:["Total Paid (",q==="current"?"This Month":q==="last"?"Last Month":"Period",")"]}),s.jsxs("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:["Personal Expenses (",q==="current"?"This Month":q==="last"?"Last Month":"Period",")"]}),s.jsx("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:"Net Amount"}),t==="cluster_head"&&s.jsx("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:"Actions"})]})}),s.jsx("tbody",{children:le.map((ce,_e)=>{const Te=ee.filter(an=>an.employeeId===ce.id),Ve=Te.reduce((an,Ce)=>an+Ce.amount,0),ht=Bn(ce.id),Nt=ht+Ve,xr=Te.length>0?Te.sort((an,Ce)=>new Date(Ce.date).getTime()-new Date(an.date).getTime())[0]:null;return s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full ${jn(_e)} flex items-center justify-center text-white text-sm`,children:_a(ce.name)}),s.jsx("button",{onClick:()=>{I(ce),D(!0)},className:"text-gray-900 hover:text-purple-600 hover:underline transition-colors text-left",children:ce.name})]})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:ce.employeeId})}),s.jsx("td",{className:"py-4 px-4",children:ce.role&&s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:ce.role})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:ce.phone})}),s.jsx("td",{className:"py-4 px-4",children:xr?s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-900",children:new Date(xr.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),s.jsxs("div",{className:"text-xs text-gray-500",children:["",xr.amount.toLocaleString()]})]}):s.jsx("span",{className:"text-gray-400 text-sm",children:"No payouts"})}),s.jsx("td",{className:"py-4 px-4 text-right",children:s.jsxs("span",{className:"text-green-600",children:["",Ve.toLocaleString()]})}),s.jsx("td",{className:"py-4 px-4 text-right",children:ht>0?s.jsxs("span",{className:"text-red-600",children:["- ",ht.toLocaleString()]}):s.jsx("span",{className:"text-gray-400",children:"0"})}),s.jsx("td",{className:"py-4 px-4 text-right",children:s.jsxs("span",{className:`font-semibold ${Nt<0?"text-red-600":Nt>0?"text-green-600":"text-gray-900"}`,children:["",Nt.toLocaleString()]})}),t==="cluster_head"&&s.jsx("td",{className:"py-4 px-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>{Me(ce),me(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit employee",children:s.jsx(ks,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>oa(ce.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete employee",children:s.jsx(Es,{className:"w-4 h-4"})})]})})]},ce.id)})})]})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl text-gray-900 mb-1",children:"Payout History"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Salary payments for ",q==="current"?M.monthName:q==="last"?U.monthName:"selected period"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Payout"}),s.jsxs("div",{className:"text-2xl text-green-600",children:["",ze.toLocaleString()]})]})]}),ee.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",children:[s.jsx(Ir,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{children:"No payouts recorded for this period"}),s.jsx("p",{className:"text-sm mt-2",children:"Add payouts to track permanent employee payments"})]}):s.jsx("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Employee ID"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm text-gray-600",children:"Date"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:"Amount"}),t==="cluster_head"&&s.jsx("th",{className:"text-right py-3 px-4 text-sm text-gray-600",children:"Actions"})]})}),s.jsx("tbody",{children:ee.sort((ce,_e)=>new Date(_e.date).getTime()-new Date(ce.date).getTime()).map((ce,_e)=>{const Te=h.find(Ve=>Ve.id===ce.employeeId);return s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full ${jn(_e)} flex items-center justify-center text-white text-sm`,children:_a(ce.employeeName)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-900",children:ce.employeeName}),Te?.role&&s.jsx("div",{className:"text-xs text-gray-500",children:Te.role})]})]})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:Te?.employeeId||"-"})}),s.jsx("td",{className:"py-4 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kr,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-900",children:new Date(ce.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})}),s.jsx("td",{className:"py-4 px-4 text-right",children:s.jsxs("span",{className:"text-gray-900",children:["",ce.amount.toLocaleString()]})}),t==="cluster_head"&&s.jsx("td",{className:"py-4 px-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>{Ie(ce),Y(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit payout",children:s.jsx(ks,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Zt(ce.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete payout",children:s.jsx(Es,{className:"w-4 h-4"})})]})})]},ce.id)})})]})})]})]})})(),u==="advances"&&(t==="cluster_head"||t==="audit")&&(()=>{const le=v.filter(ce=>ce.status==="pending"),ee=v.filter(ce=>ce.status==="approved"),ze=v.filter(ce=>ce.status==="rejected");return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl text-gray-900 mb-1",children:"Salary Advance Requests"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Review and manage employee salary advance requests"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-yellow-700 mb-1",children:"Pending Requests"}),s.jsx("p",{className:"text-2xl font-semibold text-yellow-900",children:le.length})]}),s.jsx(Dr,{className:"w-10 h-10 text-yellow-400"})]})}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700 mb-1",children:"Approved"}),s.jsx("p",{className:"text-2xl font-semibold text-green-900",children:ee.length})]}),s.jsx(ir,{className:"w-10 h-10 text-green-400"})]})}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-700 mb-1",children:"Rejected"}),s.jsx("p",{className:"text-2xl font-semibold text-red-900",children:ze.length})]}),s.jsx(aa,{className:"w-10 h-10 text-red-400"})]})})]}),le.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Dr,{className:"w-5 h-5 text-yellow-600"}),"Pending Requests"]}),s.jsx("div",{className:"space-y-4",children:le.map(ce=>s.jsxs("div",{className:"border-2 border-yellow-300 bg-yellow-50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-1",children:ce.employeeName}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Employee ID: ",ce.employeeEmployeeId]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Requested on ",new Date(ce.requestDate).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Advance Amount"}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["",ce.amount.toLocaleString("en-IN")]})]})]}),s.jsx("div",{className:"bg-white border border-yellow-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Monthly Deduction"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["",ce.monthlyDeduction.toLocaleString("en-IN")]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Installments"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[ce.installments," months"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Start Month"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:(()=>{const[_e,Te]=ce.startMonth.split("-");return new Date(parseInt(_e),parseInt(Te)-1,1).toLocaleDateString("en-US",{month:"short",year:"numeric"})})()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"End Month"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:(()=>{const[_e,Te]=ce.endMonth.split("-");return new Date(parseInt(_e),parseInt(Te)-1,1).toLocaleDateString("en-US",{month:"short",year:"numeric"})})()})]})]})}),t==="cluster_head"&&s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>$e(ce.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-md font-medium",children:[s.jsx(ir,{className:"w-5 h-5"}),s.jsx("span",{children:"Approve"})]}),s.jsxs("button",{onClick:()=>ct(ce.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-red-600 to-rose-600 text-white rounded-lg hover:from-red-700 hover:to-rose-700 transition-all shadow-md font-medium",children:[s.jsx(aa,{className:"w-5 h-5"}),s.jsx("span",{children:"Reject"})]})]})]},ce.id))})]}),ee.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(ir,{className:"w-5 h-5 text-green-600"}),"Approved Advances"]}),s.jsx("div",{className:"space-y-4",children:ee.map(ce=>s.jsxs("div",{className:"border-2 border-green-300 bg-green-50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-1",children:ce.employeeName}),s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Employee ID: ",ce.employeeEmployeeId]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Approved on ",new Date(ce.approvedDate||"").toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Amount"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",ce.amount.toLocaleString("en-IN")]}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Remaining: ",ce.remainingAmount.toLocaleString("en-IN")]})]})]}),s.jsxs("div",{className:"bg-white border border-green-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Deduction Progress"}),s.jsx("div",{className:"space-y-2",children:ce.deductions.map((_e,Te)=>s.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${_e.deducted?"bg-green-100 border border-green-200":"bg-gray-50 border border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[_e.deducted?s.jsx(ir,{className:"w-4 h-4 text-green-600"}):s.jsx(Dr,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900",children:new Date(_e.month+"-01").toLocaleDateString("en-US",{month:"long",year:"numeric"})})]}),s.jsxs("span",{className:`text-sm font-semibold ${_e.deducted?"text-green-700":"text-gray-700"}`,children:["",_e.amount.toLocaleString("en-IN")]})]},Te))})]})]},ce.id))})]}),ze.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(aa,{className:"w-5 h-5 text-red-600"}),"Rejected Requests"]}),s.jsx("div",{className:"space-y-4",children:ze.map(ce=>s.jsxs("div",{className:"border-2 border-red-300 bg-red-50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-1",children:ce.employeeName}),s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Employee ID: ",ce.employeeEmployeeId]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Rejected on ",new Date(ce.approvedDate||"").toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Requested Amount"}),s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",ce.amount.toLocaleString("en-IN")]})]})]}),ce.rejectionReason&&s.jsxs("div",{className:"bg-white border border-red-200 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm font-medium text-red-800 mb-1",children:"Rejection Reason:"}),s.jsx("p",{className:"text-sm text-red-700",children:ce.rejectionReason})]})]},ce.id))})]}),v.length===0&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-12 text-center",children:[s.jsx(Vd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No Salary Advance Requests"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Employees can apply for salary advances from their dashboard"})]})]})})()]})]}),E&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl text-gray-900",children:"Apply for Salary Advance"}),s.jsx("button",{onClick:()=>O(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(vn,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(gr,{className:"w-5 h-5 text-purple-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-800 font-medium mb-1",children:"Recovery Terms"}),s.jsx("p",{className:"text-sm text-purple-700",children:"The advance will be automatically deducted from your salary over the next 4 months in equal installments."})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Advance Amount *"}),s.jsx("input",{type:"number",value:A,onChange:le=>T(le.target.value),placeholder:"Enter amount (e.g., 10000)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),A&&!isNaN(parseFloat(A))&&parseFloat(A)>0&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Monthly Deduction Preview:"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",(parseFloat(A)/4).toLocaleString("en-IN"),"/month"]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"for 4 months"})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[s.jsx("button",{onClick:()=>{O(!1),T("")},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-gray-700",children:"Cancel"}),s.jsx("button",{onClick:jt,disabled:!A||isNaN(parseFloat(A))||parseFloat(A)<=0,className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Request"})]})]})}),te&&ge&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl text-gray-900",children:"Edit Employee"}),s.jsx("button",{onClick:()=>me(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(vn,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Employee ID"}),s.jsx("input",{type:"text",value:ge.employeeId,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Name *"}),s.jsx("input",{type:"text",value:ge.name,onChange:le=>Me({...ge,name:le.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Phone *"}),s.jsx("input",{type:"tel",value:ge.phone,onChange:le=>Me({...ge,phone:le.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Role (Optional)"}),s.jsx("input",{type:"text",value:ge.role||"",onChange:le=>Me({...ge,role:le.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),ge.type==="contract"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Daily Rate (Optional)"}),s.jsx("input",{type:"number",value:ge.dailyRate||"",onChange:le=>Me({...ge,dailyRate:parseFloat(le.target.value)||void 0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[s.jsx("button",{onClick:()=>me(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:vr,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Update Employee"})]})]})}),Ke&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl text-gray-900",children:"Add Payout"}),s.jsx("button",{onClick:()=>De(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(vn,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Select Employees *"}),s.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto space-y-2",children:Za.map(le=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[s.jsx("input",{type:"checkbox",checked:ue.employeeIds.includes(le.id),onChange:ee=>{ee.target.checked?xe({...ue,employeeIds:[...ue.employeeIds,le.id]}):xe({...ue,employeeIds:ue.employeeIds.filter(ze=>ze!==le.id)})},className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm text-gray-900",children:[le.name," (",le.employeeId,")"]})]},le.id))}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[ue.employeeIds.length," employee(s) selected"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Amount () *"}),s.jsx("input",{type:"number",step:"0.01",value:ue.amount,onChange:le=>xe({...ue,amount:le.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Enter amount"})]}),s.jsx(Kd,{label:"Date *",value:ue.date,onChange:le=>xe({...ue,date:le}),className:"w-full"})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[s.jsx("button",{onClick:()=>De(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Rt,disabled:S,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:S?"Adding...":"Add Payout"})]})]})}),Oe&&je&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl text-gray-900",children:"Edit Payout"}),s.jsx("button",{onClick:()=>Y(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(vn,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Employee"}),s.jsx("input",{type:"text",value:je.employeeName,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Amount () *"}),s.jsx("input",{type:"number",step:"0.01",value:je.amount,onChange:le=>Ie({...je,amount:parseFloat(le.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsx(Kd,{label:"Date *",value:je.date,onChange:le=>Ie({...je,date:le}),className:"w-full"})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[s.jsx("button",{onClick:()=>Y(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:la,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Update Payout"})]})]})}),R&&F&&s.jsx(TZ,{employee:F,payouts:p.filter(le=>le.employeeId===F.id),personalExpenses:w.filter(le=>le.category==="personal_expense"&&le.employeeId===F.employeeId),onClose:()=>{D(!1),I(null)}}),ot&&s.jsx(wM,{onClose:()=>Pe(!1),employees:h})]})}const IZ=Object.freeze(Object.defineProperty({__proto__:null,PayrollManagement:NM},Symbol.toStringTag,{value:"Module"}));function $Z({user:t,selectedStoreId:e}){const[r,n]=$.useState("employees"),[a,i]=$.useState([]),[l,u]=$.useState([]),[d,h]=$.useState(!1),[m,p]=$.useState([]),[g,v]=$.useState(!1),[j,w]=$.useState(!1),[b,N]=$.useState(!1),[k,S]=$.useState(null),[P,E]=$.useState(""),[O,A]=$.useState(null),[T,R]=$.useState(!1),[D,F]=$.useState(!1),[I,q]=$.useState(null),[K,W]=$.useState(""),[J,re]=$.useState(""),[G,oe]=$.useState(!1),[Z,M]=$.useState(null),[U,te]=$.useState(""),[me,ge]=$.useState("manager"),[Me,Ke]=$.useState([]),[De,ue]=$.useState([]),[xe,Oe]=$.useState(!1),[Y,je]=$.useState(null),[Ie,ot]=$.useState("employee"),[Pe,Ae]=$.useState(!1),[Ne,Xe]=$.useState(null),[ye,$e]=$.useState(""),[ct,jt]=$.useState(!1),[Rt,vr]=$.useState(null),[oa,la]=$.useState(!1),[Zt,Bn]=$.useState(null),[er,Vr]=$.useState("none"),[_a,jn]=$.useState(!1),[nn,Za]=$.useState(null),[Un,le]=$.useState(""),[ee,ze]=$.useState({name:"",email:"",password:"",role:"employee",employmentType:"fulltime",joiningDate:new Date().toISOString().split("T")[0],dob:"",phone:"",storeId:t.storeId||""});console.log("EmployeeManagement: Current user:",t),console.log("EmployeeManagement: User employeeId:",t.employeeId),console.log("EmployeeManagement: User role:",t.role);const ce=t.role==="manager",_e=t.role==="cluster_head";$.useEffect(()=>{ee.role==="cluster_head"&&ze(L=>({...L,employmentType:"fulltime"}))},[ee.role]),$.useEffect(()=>{Ve(),_e&&Te()},[e]);const Te=async()=>{try{const L=await sf();p(L)}catch(L){if(L instanceof Error&&(L.message==="Not authenticated"||L.message==="Unauthorized"))return;console.error("Error loading stores:",L)}},Ve=async()=>{try{v(!0);let L;ce&&t.employeeId?(console.log(" Loading employees for manager:",t.employeeId),L=await Po(t.employeeId),console.log(" Loaded employees:",L)):_e?(console.log(" Loading all employees for cluster head"),L=await ga(),e&&(L=L.filter(pe=>pe.storeId===e||pe.storeId===null||pe.storeId===void 0))):L=await ga(),i(L);try{const pe=await uT();u(pe)}catch(pe){console.error("Error loading archived employees:",pe)}}catch(L){console.error("Error loading employees:",L),alert("Failed to load employees")}finally{v(!1)}},ht=async()=>{try{const pe=(await ga()).map(ft=>{const vt=ft.employeeId.match(/BM(\d+)/);return vt?parseInt(vt[1]):0}).filter(ft=>ft>0);return`BM${(pe.length>0?Math.max(...pe)+1:1).toString().padStart(3,"0")}`}catch(L){return console.error("Error generating employee ID:",L),`BM${Date.now().toString().slice(-3)}`}},Nt=(L,pe)=>{const st=L.target.files?.[0];if(!st)return;const ft=new FileReader;ft.onloadend=()=>{const vt=ft.result;pe==="front"?W(vt):re(vt)},ft.readAsDataURL(st)},xr=async()=>{if(!ee.name||!ee.email||!ee.password){alert("Please fill all required fields");return}if(ce&&ee.role==="manager"){alert("Only Cluster Heads can create managers");return}try{v(!0);const L=await ht(),pe={employeeId:L,name:ee.name,email:ee.email,password:ee.password,role:ee.role,employmentType:ee.employmentType,joiningDate:ee.joiningDate,dob:ee.dob,phone:ee.phone,status:"active",createdBy:t.email,createdAt:new Date().toISOString()};ee.role==="employee"?(pe.managerId=t.employeeId,ce&&t.storeId&&(pe.storeId=t.storeId)):ee.role==="manager"&&(pe.clusterHeadId=t.employeeId,ee.storeId&&(pe.storeId=ee.storeId)),K&&(pe.aadharFront=K),J&&(pe.aadharBack=J),await dT(pe),alert(` Employee created successfully!
      
Employee ID: ${L}
Name: ${ee.name}
Email: ${ee.email}
Password: ${ee.password}

 IMPORTANT: Save these credentials!
The employee can now login with their email and password.`),ze({name:"",email:"",password:"",role:"employee",employmentType:"fulltime",joiningDate:new Date().toISOString().split("T")[0],dob:"",phone:"",storeId:t.storeId||""}),W(""),re(""),w(!1),await Ve()}catch(L){console.error("Error creating employee:",L),alert("Failed to create employee. Email might already be in use.")}finally{v(!1)}},an=async L=>{if(confirm("Are you sure you want to delete this employee?"))try{v(!0),await hT(L),alert("Employee deleted successfully"),await Ve()}catch(pe){console.error("Error deleting employee:",pe),alert("Failed to delete employee")}finally{v(!1)}},Ce=L=>{S(L),N(!0)},Kt=async()=>{if(!nn||!Un){alert("Please enter a new password");return}try{v(!0);const L=await pT(nn.employeeId,Un);alert(` Password reset successfully!

Employee: ${L.credentials.employeeId} - ${nn.name}
Email: ${L.credentials.email}
New Password: ${L.credentials.password}

 IMPORTANT: Save these credentials and share them with the employee!`),jn(!1),Za(null),le("")}catch(L){console.error("Error resetting password:",L),alert("Failed to reset password: "+(L instanceof Error?L.message:"Unknown error"))}finally{v(!1)}},yt=async()=>{if(k)try{v(!0);const L={name:k.name,email:k.email,role:k.role,employmentType:k.employmentType,joiningDate:k.joiningDate,dob:k.dob,phone:k.phone,status:k.status};console.log("Updating employee with data:",L),await cf(k.employeeId,L),alert("Employee updated successfully!"),N(!1),S(null),await Ve()}catch(L){console.error("Error updating employee - full error:",L),console.error("Error updating employee - error message:",L instanceof Error?L.message:String(L)),alert(`Failed to update employee: ${L instanceof Error?L.message:String(L)}`)}finally{v(!1)}},Lr=()=>{const L=a.length,pe=a.filter(br=>br.role==="manager").length,st=a.filter(br=>br.employmentType==="fulltime").length,ft=a.filter(br=>br.employmentType==="contract").length,vt=a.filter(br=>br.status==="active").length;return{total:L,managers:pe,fulltime:st,contract:ft,active:vt}},Fr=async()=>{if(confirm("This will assign storeIds to all employees based on their manager's store. Continue?"))try{v(!0);const L=await mT();q(L),F(!0),await Ve()}catch(L){console.error("Error running migration:",L),alert(`Migration failed: ${L instanceof Error?L.message:String(L)}`)}finally{v(!1)}},Sa=async()=>{if(confirm("This will sync all employee designations (Store Incharge/Production Incharge) to their auth accounts. This ensures incharges can access their full features when they log in. Continue?"))try{v(!0);const L=await bT();alert(` Successfully synced ${L.synced} employee designations!

${L.skipped>0?`Skipped ${L.skipped} employees (no designation or no auth account)`:""}

 Store incharges should now log out and log back in to see their full features.`),await Ve()}catch(L){console.error("Error syncing designations:",L),alert(`Sync failed: ${L instanceof Error?L.message:String(L)}`)}finally{v(!1)}},qr=async L=>{try{const pe=await ga(),st=pe.filter(vt=>vt.role==="manager"),ft=pe.filter(vt=>vt.designation==="store_incharge"||vt.designation==="production_incharge");Ke(st),ue(ft),M(L),L.inchargeId?(ge("incharge"),te(L.inchargeId)):(ge("manager"),te(L.managerId||"")),oe(!0)}catch(pe){console.error("Error loading managers:",pe),alert("Failed to load managers")}},Or=async()=>{if(!Z||!U){alert("Please select a supervisor");return}try{v(!0),me==="incharge"?(await xT(Z.employeeId,U),alert("Incharge assigned successfully! Employee has been assigned to their department.")):(await lf(Z.employeeId,U),alert("Operations Manager assigned successfully! Employee's store has been updated to match their new manager.")),oe(!1),M(null),te(""),await Ve()}catch(L){console.error("Error assigning supervisor:",L),alert(`Failed to assign supervisor: ${L instanceof Error?L.message:String(L)}`)}finally{v(!1)}},ut=L=>{if(!L)return"No manager assigned";const pe=a.find(st=>st.employeeId===L);return pe?`${pe.name} (${pe.employeeId})`:`Manager ${L}`},zn=L=>{je(L),ot(L.role),Oe(!0)},Gr=async()=>{if(Y)try{v(!0),await gT(Y.employeeId,Ie),alert(`Role updated successfully from "${Y.role}" to "${Ie}"!`),Oe(!1),je(null),await Ve()}catch(L){console.error("Error updating role:",L),alert(`Failed to update role: ${L instanceof Error?L.message:String(L)}`)}finally{v(!1)}},qt=L=>{Xe(L),$e(L.storeId||""),Ae(!0)},ie=async()=>{if(!(!Ne||!ye))try{v(!0),await yT(Ne.employeeId,ye);const L=m.find(pe=>pe.id===ye)?.name||ye;alert(`Store updated successfully! ${Ne.name} is now assigned to ${L}`),Ae(!1),Xe(null),await Ve()}catch(L){console.error("Error updating store:",L),alert(`Failed to update store: ${L instanceof Error?L.message:String(L)}`)}finally{v(!1)}},ne=L=>{Bn(L),L.designation==="store_incharge"?Vr("store_incharge"):L.designation==="production_incharge"?Vr("production_incharge"):Vr("none"),la(!0)},de=async()=>{if(Zt)try{v(!0);const L=er==="none"?null:er,pe=er==="store_incharge"?"store_operations":er==="production_incharge"?"production":null;await vT(Zt.employeeId,L,pe);const st=er==="store_incharge"?"Store Incharge":er==="production_incharge"?"Production Incharge":"Regular Employee";alert(`Designation updated! ${Zt.name} is now ${st}`),la(!1),Bn(null),await Ve()}catch(L){console.error("Error updating designation:",L),alert(`Failed to update designation: ${L instanceof Error?L.message:String(L)}`)}finally{v(!1)}},Se=Lr();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Employee Management"}),s.jsx("p",{className:"text-gray-600",children:"Unified employee, manager, and contract worker management"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl text-gray-900",children:Se.total})]}),s.jsx(Mr,{className:"w-8 h-8 text-purple-500"})]})}),_e&&s.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Managers"}),s.jsx("p",{className:"text-2xl text-gray-900",children:Se.managers})]}),s.jsx(Mr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Full-Time"}),s.jsx("p",{className:"text-2xl text-gray-900",children:Se.fulltime})]}),s.jsx(lc,{className:"w-8 h-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Contract"}),s.jsx("p",{className:"text-2xl text-gray-900",children:Se.contract})]}),s.jsx(lc,{className:"w-8 h-8 text-orange-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),s.jsx("p",{className:"text-2xl text-gray-900",children:Se.active})]}),s.jsx(Mr,{className:"w-8 h-8 text-pink-500"})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md mb-6",children:s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsx("button",{onClick:()=>n("employees"),className:`flex-1 px-6 py-4 text-center transition-colors ${r==="employees"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-gray-900"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Mr,{className:"w-5 h-5"}),s.jsx("span",{children:"Employee List"})]})}),s.jsx("button",{onClick:()=>n("hierarchy"),className:`flex-1 px-6 py-4 text-center transition-colors ${r==="hierarchy"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-gray-900"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Mr,{className:"w-5 h-5"}),s.jsx("span",{children:"Hierarchy"})]})}),s.jsx("button",{onClick:()=>n("payroll"),className:`flex-1 px-6 py-4 text-center transition-colors ${r==="payroll"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-gray-900"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Ir,{className:"w-5 h-5"}),s.jsx("span",{children:"Payroll"})]})}),s.jsx("button",{onClick:()=>n("attendance"),className:`flex-1 px-6 py-4 text-center transition-colors ${r==="attendance"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-gray-900"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Dr,{className:"w-5 h-5"}),s.jsx("span",{children:"Attendance"})]})})]})}),r==="hierarchy"?s.jsx(PZ,{userRole:t.role,selectedStoreId:e,accessToken:t.accessToken}):r==="payroll"?s.jsx(NM,{userRole:t.role,selectedDate:new Date().toISOString().split("T")[0],userEmployeeId:t.employeeId,userName:t.name,selectedStoreId:e}):r==="attendance"?s.jsx(bM,{user:{employeeId:t.employeeId,name:t.name,email:t.email,role:t.role},selectedStoreId:e}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(wP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by name, ID, or email...",value:P,onChange:L=>E(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:shadow-lg transition-all",children:[s.jsx(ma,{className:"w-5 h-5"}),"Add ",_e?"Employee/Manager":"Employee"]}),_e&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all",children:[s.jsx(GR,{className:"w-5 h-5"}),"Create Login Accounts"]}),s.jsxs("button",{onClick:Fr,disabled:g,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-600 to-teal-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50",title:"Assign store IDs to existing employees based on their manager's store",children:[s.jsx(Os,{className:"w-5 h-5"}),"Migrate Stores"]}),s.jsxs("button",{onClick:Sa,disabled:g,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50",title:"Sync employee designations to auth accounts so incharges can access their full features",children:[s.jsx(pa,{className:"w-5 h-5"}),"Sync Designations"]})]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 rounded-t-xl",children:s.jsxs("h2",{className:"text-2xl",children:["Create New ",_e?"Employee/Manager":"Employee"]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[_e&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Role *"}),s.jsxs("select",{value:ee.role,onChange:L=>ze({...ee,role:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"employee",children:"Employee"}),s.jsx("option",{value:"manager",children:"Manager"}),s.jsx("option",{value:"cluster_head",children:"Cluster Head"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Employment Type *"}),s.jsxs("select",{value:ee.employmentType,onChange:L=>ze({...ee,employmentType:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:ee.role==="cluster_head",children:[s.jsx("option",{value:"fulltime",children:"Full-Time"}),ee.role!=="cluster_head"&&s.jsx("option",{value:"contract",children:"Contract"})]}),ee.role==="cluster_head"&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cluster heads are always full-time employees"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",value:ee.name,onChange:L=>ze({...ee,name:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",value:ee.email,onChange:L=>ze({...ee,email:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"employee@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Password *"}),s.jsx("input",{type:"password",value:ee.password,onChange:L=>ze({...ee,password:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Create a password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Date of Birth"}),s.jsx("input",{type:"date",value:ee.dob,onChange:L=>ze({...ee,dob:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",value:ee.phone,onChange:L=>ze({...ee,phone:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"+91 9876543210"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Joining Date *"}),s.jsx("input",{type:"date",value:ee.joiningDate,onChange:L=>ze({...ee,joiningDate:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),_e&&ee.role==="manager"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Assign to Store *"}),s.jsxs("select",{value:ee.storeId,onChange:L=>ze({...ee,storeId:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a store..."}),m.map(L=>s.jsxs("option",{value:L.id,children:[L.name," ",L.location&&`- ${L.location}`]},L.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Manager will be assigned to this store"})]}),ce&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsx("p",{className:"text-sm text-blue-800",children:" Employee will be assigned to your store automatically"})}),ee.role==="employee"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Aadhar Card (Front)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors",children:[s.jsx(Sd,{className:"w-5 h-5"}),K?"Change Front":"Upload Front",s.jsx("input",{type:"file",accept:"image/*",onChange:L=>Nt(L,"front"),className:"hidden"})]}),K&&s.jsx("span",{className:"text-sm text-green-600",children:" Uploaded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Aadhar Card (Back)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors",children:[s.jsx(Sd,{className:"w-5 h-5"}),J?"Change Back":"Upload Back",s.jsx("input",{type:"file",accept:"image/*",onChange:L=>Nt(L,"back"),className:"hidden"})]}),J&&s.jsx("span",{className:"text-sm text-green-600",children:" Uploaded"})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:xr,disabled:g,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg hover:shadow-lg transition-all disabled:opacity-50",children:g?"Creating...":"Create Employee"}),s.jsx("button",{onClick:()=>{w(!1),ze({name:"",email:"",password:"",role:"employee",employmentType:"fulltime",joiningDate:new Date().toISOString().split("T")[0],dob:"",phone:"",storeId:t.storeId||""}),W(""),re("")},className:"px-6 bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),b&&k&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 rounded-t-xl",children:s.jsx("h2",{className:"text-2xl",children:"Edit Employee"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[_e&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Role *"}),s.jsxs("select",{value:k.role,onChange:L=>S({...k,role:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"employee",children:"Employee"}),s.jsx("option",{value:"manager",children:"Manager"}),s.jsx("option",{value:"cluster_head",children:"Cluster Head"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Employment Type *"}),s.jsxs("select",{value:k.employmentType,onChange:L=>S({...k,employmentType:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"fulltime",children:"Full-Time"}),s.jsx("option",{value:"contract",children:"Contract"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",value:k.name,onChange:L=>S({...k,name:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",value:k.email,onChange:L=>S({...k,email:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"employee@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Date of Birth"}),s.jsx("input",{type:"date",value:k.dob,onChange:L=>S({...k,dob:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",value:k.phone,onChange:L=>S({...k,phone:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"+91 9876543210"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Joining Date *"}),s.jsx("input",{type:"date",value:k.joiningDate,onChange:L=>S({...k,joiningDate:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),k.role==="employee"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Aadhar Card (Front)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors",children:[s.jsx(Sd,{className:"w-5 h-5"}),K?"Change Front":"Upload Front",s.jsx("input",{type:"file",accept:"image/*",onChange:L=>Nt(L,"front"),className:"hidden"})]}),K&&s.jsx("span",{className:"text-sm text-green-600",children:" Uploaded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Aadhar Card (Back)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors",children:[s.jsx(Sd,{className:"w-5 h-5"}),J?"Change Back":"Upload Back",s.jsx("input",{type:"file",accept:"image/*",onChange:L=>Nt(L,"back"),className:"hidden"})]}),J&&s.jsx("span",{className:"text-sm text-green-600",children:" Uploaded"})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:yt,disabled:g,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg hover:shadow-lg transition-all disabled:opacity-50",children:g?"Updating...":"Update Employee"}),s.jsx("button",{onClick:()=>{N(!1),S(null),W(""),re("")},className:"px-6 bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Employee ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Role"}),_e&&s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Store"}),_e&&s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Designation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Joining Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g?s.jsx("tr",{children:s.jsx("td",{colSpan:_e?10:8,className:"px-6 py-8 text-center text-gray-500",children:"Loading employees..."})}):(()=>{const L=a.filter(pe=>P===""||pe.employeeId.toLowerCase().includes(P.toLowerCase())||pe.name.toLowerCase().includes(P.toLowerCase())||pe.email.toLowerCase().includes(P.toLowerCase()));return L.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:_e?10:8,className:"px-6 py-8 text-center text-gray-500",children:P?"No employees found matching your search":"No employees found"})}):L.map(pe=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:pe.employeeId})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:pe.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:pe.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${pe.role==="manager"?"bg-blue-100 text-blue-700":pe.role==="cluster_head"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:pe.role==="manager"?"Manager":pe.role==="cluster_head"?"Cluster Head":"Employee"})}),_e&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:pe.storeId?s.jsx("span",{className:"text-sm text-gray-900",children:m.find(st=>st.id===pe.storeId)?.name||pe.storeId}):s.jsx("span",{className:"text-sm text-red-600",children:"No Store"})}),_e&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:pe.designation==="operations_incharge"?s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:"Operations Incharge"}):pe.designation==="store_incharge"?s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:"Store Incharge"}):pe.designation==="production_incharge"?s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:"Production Incharge"}):pe.designation==="store_ops"?s.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 rounded text-xs",children:"Store Ops"}):pe.designation==="production_ops"?s.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-600 rounded text-xs",children:"Production Ops"}):s.jsx("span",{className:"text-sm text-gray-400",children:""})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${pe.employmentType==="fulltime"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:pe.employmentType==="fulltime"?"Full-Time":"Contract"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:new Date(pe.joiningDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${pe.status==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:pe.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>A(pe),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(lc,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>an(pe.employeeId),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:s.jsx(Es,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>Ce(pe),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit Full Profile",children:s.jsx(ks,{className:"w-5 h-5"})}),_e&&s.jsx("button",{onClick:()=>{vr(pe),jt(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Role & Designation",children:s.jsx(pa,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>{Za(pe),jn(!0)},className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Reset Password",children:s.jsx(JR,{className:"w-5 h-5"})}),_e&&pe.role==="employee"&&s.jsx("button",{onClick:()=>qr(pe),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Assign Supervisor (Manager or Incharge)",children:s.jsx(pa,{className:"w-5 h-5"})}),_e&&pe.role!=="cluster_head"&&s.jsx("button",{onClick:()=>qt(pe),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Change Store",children:s.jsx(G0,{className:"w-5 h-5"})}),_e&&pe.role==="employee"&&s.jsx("button",{onClick:()=>ne(pe),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Assign Designation (Store/Production Incharge)",children:s.jsx(pa,{className:"w-5 h-5"})}),_e&&!["employee","manager","cluster_head"].includes(pe.role)&&s.jsx("button",{onClick:()=>zn(pe),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Fix Role (Invalid Role Detected)",children:s.jsx(gr,{className:"w-5 h-5"})})]})})]},pe.employeeId))})()})]})})}),_e&&l.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dr,{className:"w-6 h-6 text-gray-500"}),s.jsxs("h3",{className:"text-xl text-gray-700",children:["Past Employees (",l.length,")"]})]}),s.jsx("button",{onClick:()=>h(!d),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:d?"Hide":"Show"})]}),d&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Employee ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Joining Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Release Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Total Earnings"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Duration"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(L=>{const pe=new Date(L.joiningDate||L.createdAt),st=new Date(L.releasedAt),ft=st.getTime()-pe.getTime(),vt=Math.floor(ft/(1e3*60*60*24)),br=Math.floor(vt/365),Nn=Math.floor(vt%365/30),Ot=vt%30;let ca="";return br>0&&(ca+=`${br}y `),Nn>0&&(ca+=`${Nn}m `),(Ot>0||ca==="")&&(ca+=`${Ot}d`),s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-sm",children:L.employeeId})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:L.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${L.role==="manager"?"bg-blue-100 text-blue-700":L.role==="cluster_head"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:L.role==="cluster_head"?"Cluster Head":L.role.charAt(0).toUpperCase()+L.role.slice(1)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:new Date(L.joiningDate||L.createdAt).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:st.toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:"text-green-600",children:["",L.totalEarnings?.toLocaleString()||"0"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:ca.trim()})]},L.employeeId)})})]})})]}),O&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 rounded-t-xl",children:s.jsx("h2",{className:"text-2xl",children:"Employee Details"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Employee ID"}),s.jsx("p",{className:"text-gray-900",children:O.employeeId})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),s.jsx("p",{className:"text-gray-900",children:O.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),s.jsx("p",{className:"text-gray-900",children:O.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Role"}),s.jsx("p",{className:"text-gray-900",children:O.role})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Employment Type"}),s.jsx("p",{className:"text-gray-900",children:O.employmentType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Joining Date"}),s.jsx("p",{className:"text-gray-900",children:new Date(O.joiningDate).toLocaleDateString()})]}),O.dob&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Date of Birth"}),s.jsx("p",{className:"text-gray-900",children:new Date(O.dob).toLocaleDateString()})]}),O.phone&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),s.jsx("p",{className:"text-gray-900",children:O.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("p",{className:"text-gray-900",children:O.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Created By"}),s.jsx("p",{className:"text-gray-900",children:O.createdBy})]}),O.designation&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Designation"}),s.jsx("p",{className:"text-gray-900",children:O.designation==="store_incharge"?"Store Incharge":"Production Incharge"})]}),O.department&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Department"}),s.jsx("p",{className:"text-gray-900",children:O.department==="store_operations"?"Store Operations":"Production"})]}),O.managerId&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Reports To (Manager)"}),s.jsx("p",{className:"text-gray-900",children:ut(O.managerId)})]}),O.inchargeId&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Reports To (Incharge)"}),s.jsx("p",{className:"text-gray-900",children:ut(O.inchargeId)})]})]}),O.aadharFront&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Aadhar Card (Front)"}),s.jsx("img",{src:O.aadharFront,alt:"Aadhar Front",className:"w-full rounded-lg border border-gray-300"})]}),O.aadharBack&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Aadhar Card (Back)"}),s.jsx("img",{src:O.aadharBack,alt:"Aadhar Back",className:"w-full rounded-lg border border-gray-300"})]}),s.jsx("button",{onClick:()=>A(null),className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-all",children:"Close"})]})]})}),T&&s.jsx(wM,{onClose:()=>R(!1),employees:a.filter(L=>L.status==="active")}),D&&I&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-green-600 to-teal-600 text-white p-6 rounded-t-xl",children:s.jsx("h2",{className:"text-2xl",children:"Store Migration Complete"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[s.jsx("h3",{className:"text-lg text-green-900 mb-2",children:"Migration Summary"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700",children:"Total Employees"}),s.jsx("p",{className:"text-2xl text-green-900",children:I.summary.total})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700",children:" Updated"}),s.jsx("p",{className:"text-2xl text-green-900",children:I.summary.updated})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700",children:" Skipped"}),s.jsx("p",{className:"text-2xl text-green-900",children:I.summary.skipped})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-yellow-700",children:" Needs Manual"}),s.jsx("p",{className:"text-2xl text-yellow-900",children:I.summary.needsManualAssignment||0})]}),I.summary.errors>0&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("p",{className:"text-sm text-red-700",children:" Errors"}),s.jsx("p",{className:"text-2xl text-red-900",children:I.summary.errors})]})]})]}),I.updates&&I.updates.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-gray-900 mb-3",children:" Successfully Updated"}),s.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-sm text-gray-700",children:"ID"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm text-gray-700",children:"Name"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm text-gray-700",children:"Role"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm text-gray-700",children:"Store ID"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:I.updates.map((L,pe)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:L.employeeId}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:L.name}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:L.role}),s.jsx("td",{className:"px-4 py-2 text-sm text-blue-600",children:L.assignedStoreId})]},pe))})]})})]}),I.manualAssignmentNeeded&&I.manualAssignmentNeeded.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-gray-900 mb-3",children:" Needs Manual Store Assignment"}),s.jsx("div",{className:"max-h-60 overflow-y-auto border border-yellow-200 rounded-lg bg-yellow-50",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-yellow-100 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-sm text-yellow-900",children:"ID"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm text-yellow-900",children:"Name"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm text-yellow-900",children:"Role"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm text-yellow-900",children:"Reason"})]})}),s.jsx("tbody",{className:"divide-y divide-yellow-200",children:I.manualAssignmentNeeded.map((L,pe)=>s.jsxs("tr",{className:"hover:bg-yellow-100",children:[s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:L.employeeId}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:L.name}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:L.role}),s.jsx("td",{className:"px-4 py-2 text-sm text-yellow-800",children:L.reason})]},pe))})]})}),s.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",s.jsx("strong",{children:"Action Required:"})," Go to Store Management to assign stores to managers, or assign managers to employees who don't have one."]})})]}),I.errorDetails&&I.errorDetails.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-gray-900 mb-3",children:" Errors"}),s.jsx("div",{className:"max-h-60 overflow-y-auto border border-red-200 rounded-lg bg-red-50",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-red-100 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-sm text-red-900",children:"ID"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm text-red-900",children:"Name"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm text-red-900",children:"Role"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm text-red-900",children:"Error"})]})}),s.jsx("tbody",{className:"divide-y divide-red-200",children:I.errorDetails.map((L,pe)=>s.jsxs("tr",{className:"hover:bg-red-100",children:[s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:L.employeeId}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:L.name}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:L.role}),s.jsx("td",{className:"px-4 py-2 text-sm text-red-800",children:L.reason})]},pe))})]})})]}),s.jsx("button",{onClick:()=>F(!1),className:"w-full bg-gradient-to-r from-green-600 to-teal-600 text-white py-3 rounded-lg hover:shadow-lg transition-all",children:"Close"})]})]})}),G&&Z&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-6 rounded-t-xl",children:[s.jsx("h2",{className:"text-2xl",children:"Assign Supervisor"}),s.jsxs("p",{className:"text-sm text-purple-100 mt-1",children:[Z.name," (",Z.employeeId,")"]})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[(Z.managerId||Z.inchargeId)&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm text-blue-700 mb-1",children:"Current Supervisor"}),s.jsx("p",{className:"text-blue-900",children:Z.inchargeId?`${ut(Z.inchargeId)} (Incharge)`:ut(Z.managerId||"")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Supervisor Type *"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"radio",value:"manager",checked:me==="manager",onChange:L=>{ge(L.target.value),te("")},className:"mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Operations Manager"})]}),s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"radio",value:"incharge",checked:me==="incharge",onChange:L=>{ge(L.target.value),te("")},className:"mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Store/Production Incharge"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm text-gray-700 mb-2",children:["Select ",me==="manager"?"Operations Manager":"Incharge"," *"]}),s.jsxs("select",{value:U,onChange:L=>te(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsxs("option",{value:"",children:["Select ",me==="manager"?"a manager":"an incharge","..."]}),me==="manager"?Me.map(L=>s.jsxs("option",{value:L.employeeId,children:[L.name," (",L.employeeId,")",L.storeId?` - Store: ${L.storeId}`:" - No store assigned"]},L.employeeId)):De.map(L=>s.jsxs("option",{value:L.employeeId,children:[L.name," (",L.employeeId,") - ",L.designation==="store_incharge"?"Store Incharge":"Production Incharge"]},L.employeeId))]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",me==="manager"?"Employee's store will be automatically updated to match their manager's store":"Employee will be assigned to the incharge's department"]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:Or,disabled:g||!U,className:"flex-1 bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 rounded-lg hover:shadow-lg transition-all disabled:opacity-50",children:g?"Assigning...":"Assign Supervisor"}),s.jsx("button",{onClick:()=>{oe(!1),M(null),te(""),ge("manager")},className:"px-6 bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),xe&&Y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-orange-600 to-red-600 text-white p-6 rounded-t-xl",children:[s.jsx("h2",{className:"text-2xl",children:"Fix Employee Role"}),s.jsxs("p",{className:"text-sm text-orange-100 mt-1",children:[Y.name," (",Y.employeeId,")"]})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(gr,{className:"w-5 h-5 text-orange-600 mt-0.5"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-orange-800 mb-1",children:[s.jsx("strong",{children:"Invalid Role Detected:"}),' "',Y.role,'"']}),s.jsx("p",{className:"text-xs text-orange-700",children:"This role is not recognized by the system. Please select a valid role below."})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Select Correct Role *"}),s.jsxs("select",{value:Ie,onChange:L=>ot(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"employee",children:"Employee - Regular staff (can be fulltime or contract)"}),s.jsx("option",{value:"manager",children:"Manager - Manages employees and a store"}),s.jsx("option",{value:"cluster_head",children:"Cluster Head - Manages multiple stores"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:' Most workers (kitchen staff, delivery, etc.) should be "Employee"'})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:Gr,disabled:g,className:"flex-1 bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 rounded-lg hover:shadow-lg transition-all disabled:opacity-50",children:g?"Updating...":"Update Role"}),s.jsx("button",{onClick:()=>{Oe(!1),je(null)},className:"px-6 bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),Pe&&Ne&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 rounded-t-xl",children:[s.jsx("h2",{className:"text-2xl",children:"Change Employee Store"}),s.jsxs("p",{className:"text-sm text-blue-100 mt-1",children:[Ne.name," (",Ne.employeeId,")"]})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(G0,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-blue-900 mb-1",children:[s.jsx("strong",{children:"Current Store:"})," ",Ne.storeId?m.find(L=>L.id===Ne.storeId)?.name||Ne.storeId:"No store assigned"]}),s.jsx("p",{className:"text-xs text-blue-700",children:"Select a new store below to reassign this employee."})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Select New Store *"}),s.jsxs("select",{value:ye,onChange:L=>$e(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a store..."}),m.map(L=>s.jsxs("option",{value:L.id,children:[L.name," - ",L.location]},L.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" This will update the employee's store assignment immediately"})]}),ye&&ye!==Ne.storeId&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:s.jsx("p",{className:"text-xs text-yellow-800",children:" This will move the employee to a different store. Their manager assignment will remain unchanged."})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:ie,disabled:g||!ye,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-lg hover:shadow-lg transition-all disabled:opacity-50",children:g?"Updating...":"Update Store"}),s.jsx("button",{onClick:()=>{Ae(!1),Xe(null),$e("")},className:"px-6 bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),oa&&Zt&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-t-xl",children:[s.jsx("h2",{className:"text-2xl",children:"Assign Employee Designation"}),s.jsxs("p",{className:"text-sm text-indigo-100 mt-1",children:[Zt.name," (",Zt.employeeId,")"]})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(pa,{className:"w-5 h-5 text-indigo-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-indigo-900 mb-1",children:s.jsx("strong",{children:"Department Incharge Designations"})}),s.jsx("p",{className:"text-xs text-indigo-700",children:"Assign employees as Store Incharge or Production Incharge. They will manage other employees in their department."})]})]})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Current Designation:"})," ",Zt.designation==="store_incharge"?"Store Incharge":Zt.designation==="production_incharge"?"Production Incharge":"Regular Employee"]}),Zt.department&&s.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Department: ",Zt.department==="store_operations"?"Store Operations":"Production"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Select Designation"}),s.jsxs("select",{value:er,onChange:L=>Vr(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[s.jsx("option",{value:"none",children:"Regular Employee (No Designation)"}),s.jsx("option",{value:"store_incharge",children:"Store Incharge - Store Operations Department"}),s.jsx("option",{value:"production_incharge",children:"Production Incharge - Production Department"})]})]}),er!=="none"&&s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-gray-700",children:[er==="store_incharge"&&s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Store Incharge Responsibilities:"}),s.jsx("br",{})," Customer-facing operations and administration",s.jsx("br",{})," Manages Cashier, Kitchen Helper, Store Staff/Assistant",s.jsx("br",{})," Reports to Operations Manager"]}),er==="production_incharge"&&s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Production Incharge Responsibilities:"}),s.jsx("br",{})," Food preparation, quality control, production planning",s.jsx("br",{})," Manages Momo Makers and production team",s.jsx("br",{})," Reports to Operations Manager"]})]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:de,disabled:g,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg hover:shadow-lg transition-all disabled:opacity-50",children:g?"Assigning...":"Assign Designation"}),s.jsx("button",{onClick:()=>{la(!1),Bn(null),Vr("none")},className:"px-6 bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),_a&&nn&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-orange-600 to-red-600 text-white p-6 rounded-t-xl",children:[s.jsx("h2",{className:"text-2xl",children:"Reset Password"}),s.jsxs("p",{className:"text-sm text-orange-100 mt-1",children:[nn.name," (",nn.employeeId,")"]})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:" Important:"})," After resetting, save the new credentials and share them securely with the employee."]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Current Email"}),s.jsx("input",{type:"text",value:nn.email,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"New Password *"}),s.jsx("input",{type:"text",value:Un,onChange:L=>le(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter new password",autoFocus:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters. Use a strong, memorable password."})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:Kt,disabled:g||!Un,className:"flex-1 bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 rounded-lg hover:shadow-lg transition-all disabled:opacity-50",children:g?"Resetting...":"Reset Password"}),s.jsx("button",{onClick:()=>{jn(!1),Za(null),le("")},className:"px-6 bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),ct&&Rt&&s.jsx(xM,{employee:Rt,onClose:()=>{jt(!1),vr(null)},onSave:()=>{Ve()}})]})]})})}function nP({onNavigate:t}){const[e,r]=$.useState([]),[n,a]=$.useState(!1),[i,l]=$.useState(!1);$.useEffect(()=>{u();const v=setInterval(u,3e4);return()=>clearInterval(v)},[]);const u=async()=>{try{const v=await oT();r(v)}catch{r([])}},d=async v=>{try{await lT(v),r(e.map(j=>j.id===v?{...j,read:!0}:j))}catch(j){console.error("Error marking notification as read:",j)}},h=async()=>{l(!0);try{await cT(),r(e.map(v=>({...v,read:!0})))}catch(v){console.error("Error marking all as read:",v)}finally{l(!1)}},m=v=>{if(v.read||d(v.id),t)switch(v.type){case"sales_pending":case"sales_approved":case"sales_rejected":case"discrepancy_request":case"discrepancy_approved":case"discrepancy_rejected":t("sales",v.relatedDate||void 0);break;case"timesheet_pending":case"timesheet_approved":case"timesheet_rejected":t("attendance");break;case"leave_pending":case"leave_approved":case"leave_rejected":t("leave");break;case"production_pending":case"production_approved":t("production",v.relatedDate||void 0);break;case"production_request_new":case"production_request_accepted":case"production_request_in-preparation":case"production_request_prepared":case"production_request_shipped":case"production_request_delivered":t("production-requests",v.relatedDate||void 0,v.relatedId||void 0);break;case"stock_request_new":case"stock_request_fulfilled":case"stock_request_partial":case"stock_request_cancelled":t("stock-requests",v.relatedDate||void 0,v.relatedId||void 0);break;case"stock_request_delayed":t("production-requests",v.relatedDate||void 0,v.relatedId||void 0);break}a(!1)},p=v=>v.includes("approved")?s.jsx(ir,{className:"w-5 h-5 text-green-600"}):v.includes("rejected")?s.jsx(vn,{className:"w-5 h-5 text-red-600"}):v.includes("pending")||v.includes("request")?s.jsx(Dr,{className:"w-5 h-5 text-orange-600"}):v.includes("logged")?s.jsx(ir,{className:"w-5 h-5 text-blue-600"}):s.jsx(Jd,{className:"w-5 h-5 text-blue-600"}),g=e.filter(v=>!v.read).length;return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>a(!n),className:"relative p-2 text-white hover:bg-white/20 rounded-full transition-all backdrop-blur-sm border border-white/30","aria-label":"Notifications",children:[s.jsx(EN,{className:"w-6 h-6"}),g>0&&s.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full animate-pulse shadow-lg",children:g>99?"99+":g})]}),n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),s.jsxs("div",{className:"fixed md:absolute left-4 right-4 md:left-auto md:right-0 mt-2 md:w-96 bg-white rounded-lg shadow-2xl border border-gray-200 z-50 max-h-[80vh] md:max-h-[600px] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-gray-900",children:"Notifications"}),g>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g," unread"]})]}),g>0&&s.jsx("button",{onClick:h,disabled:i,className:"text-sm text-blue-600 hover:text-blue-700 disabled:opacity-50",children:"Mark all read"})]}),s.jsx("div",{className:"overflow-y-auto flex-1",children:e.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(EN,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),s.jsx("p",{children:"No notifications"})]}):s.jsx("div",{className:"divide-y divide-gray-100",children:e.map(v=>s.jsx("button",{onClick:()=>m(v),className:`w-full text-left p-4 hover:bg-gray-50 transition-colors ${v.read?"":"bg-blue-50"}`,children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:p(v.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm ${v.read?"text-gray-700":"font-medium text-gray-900"}`,children:v.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:v.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:MZ(v.createdAt)})]}),!v.read&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})})]})},v.id))})})]})]})]})}function MZ(t){const e=new Date(t),r=new Date,n=r.getTime()-e.getTime(),a=Math.floor(n/6e4),i=Math.floor(n/36e5),l=Math.floor(n/864e5);return a<1?"Just now":a<60?`${a}m ago`:i<24?`${i}h ago`:l<7?`${l}d ago`:e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:e.getFullYear()!==r.getFullYear()?"numeric":void 0})}const DZ=$.memo(function({stores:e,selectedStoreId:r,onStoreChange:n,showAllStores:a=!0}){const i=e.find(u=>u.id===r),l=!r;return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-purple-500 to-pink-500 rounded-xl shadow-lg p-[2px]",children:s.jsxs("div",{className:"bg-white rounded-[10px] p-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center",children:s.jsx(G0,{className:"w-6 h-6 text-purple-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Current Store View"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:r||"all",onChange:u=>n(u.target.value==="all"?null:u.target.value),className:"w-full appearance-none bg-transparent border-none text-base font-semibold text-gray-900 focus:ring-0 focus:outline-none cursor-pointer pr-8",style:{paddingRight:"2rem"},children:[a&&s.jsx("option",{value:"all",children:" All Stores (Combined View)"}),e.map(u=>s.jsxs("option",{value:u.id,children:[" ",u.name," ",u.location&&`- ${u.location}`]},u.id))]}),s.jsx(Ib,{className:"absolute right-0 top-1/2 -translate-y-1/2 w-5 h-5 text-purple-600 pointer-events-none"})]}),i?.location&&s.jsxs("div",{className:"flex items-center gap-1 mt-1 text-sm text-gray-600",children:[s.jsx(l4,{className:"w-3 h-3"}),s.jsx("span",{children:i.location})]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 px-4 py-2 rounded-lg border border-purple-200",children:[s.jsx("div",{className:"text-xs text-gray-600 text-center",children:"Total Stores"}),s.jsx("div",{className:"text-2xl font-bold text-purple-600 text-center",children:e.length})]})})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${l?"bg-blue-500":"bg-green-500"} animate-pulse`}),s.jsx("span",{className:"text-gray-600",children:l?"Viewing all store data":`Viewing ${i?.name||"store"} only`})]}),s.jsxs("span",{className:"text-purple-600 font-medium",children:[l?e.length:1," store",l&&e.length!==1||!l&&!1?"s":""," active"]})]})})]})}),e.length<=5&&s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a&&s.jsx("button",{onClick:()=>n(null),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${l?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:" All Stores"}),e.map(u=>s.jsxs("button",{onClick:()=>n(u.id),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${r===u.id?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[" ",u.name]},u.id))]})]})});function RZ(){const[t,e]=$.useState(!1),[r,n]=$.useState(!1),[a,i]=$.useState(""),[l,u]=$.useState(null),d=async()=>{try{e(!0),i(""),n(!1);const h=await fetch(`https://${Ln}.supabase.co/functions/v1/make-server-c2dd9b9d/setup-cluster-head`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rr}`},body:JSON.stringify({email:"subham.tewari@bunnymomos.com",password:"Subham@186",name:"Subham Tewari"})}),m=await h.json();if(!h.ok)throw new Error(m.error||m.details||"Failed to setup account");n(!0),u(m),console.log("Setup successful:",m)}catch(h){console.error("Setup error:",h),i(h instanceof Error?h.message:"Failed to setup account")}finally{e(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ma,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Setup Cluster Head Account"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"This will create a cluster head account for Subham Tewari"})]}),a&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[s.jsx(gr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-900",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:a})]})]}),r&&l&&s.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(ir,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-900",children:"Success!"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:l.message})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Email:"}),s.jsx("span",{className:"font-medium text-gray-900",children:l.email})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Employee ID:"}),s.jsx("span",{className:"font-medium text-purple-600",children:l.employeeId})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Password:"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Subham@186"})]})]}),s.jsx("p",{className:"text-xs text-green-700 mt-3",children:"You can now log in with these credentials"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Email:"}),s.jsx("span",{className:"font-medium text-gray-900",children:"subham.tewari@bunnymomos.com"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Password:"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Subham@186"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Name:"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Subham Tewari"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Role:"}),s.jsx("span",{className:"font-medium text-purple-600",children:"Cluster Head"})]})]}),s.jsx("button",{onClick:d,disabled:t||r,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Setting up..."]}):r?s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"w-5 h-5"}),"Account Created"]}):s.jsxs(s.Fragment,{children:[s.jsx(ma,{className:"w-5 h-5"}),"Create Cluster Head Account"]})}),r&&s.jsx("a",{href:"/login",className:"block w-full text-center bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-all",children:"Go to Login"})]}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("p",{className:"text-xs text-blue-900 font-medium mb-2",children:"What this will do:"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[s.jsx("li",{children:" Delete any existing account with this email"}),s.jsx("li",{children:" Create a new cluster head account"}),s.jsx("li",{children:" Generate a unique employee ID (e.g., BM001)"}),s.jsx("li",{children:" Set up proper permissions and access"})]})]})]})})}function LZ({context:t}){const[e,r]=$.useState(!1),[n,a]=$.useState(!0),i=t.inventory.filter(u=>!u.storeId);if(!t.user?.storeId||i.length===0||!n)return null;const l=async()=>{const u=[...new Set(i.map(d=>d.date))].sort();if(confirm(`Found ${i.length} inventory items without a store assignment.

Dates: ${u.join(", ")}

Assign them ALL to your current store (${t.user?.storeId})?`)){r(!0);try{const d=t.user?.accessToken;if(!d)throw new Error("No access token");let h=0,m=0;for(const p of i)try{const g=await fetch(`https://${Ln}.supabase.co/functions/v1/make-server-c2dd9b9d/inventory/${p.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({...p,storeId:t.user?.storeId})});g.ok?h++:(m++,console.error(`Failed to update item ${p.id}:`,await g.text()))}catch(g){m++,console.error(`Error updating item ${p.id}:`,g)}h>0?(alert(` Successfully assigned ${h} inventory items to your store!

Reloading page...`),window.location.reload()):alert(" Failed to update items. Please try again or contact support.")}catch(d){console.error("Error fixing legacy inventory:",d),alert("Error: "+(d instanceof Error?d.message:"Unknown error"))}finally{r(!1)}}};return s.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 animate-bounce",children:s.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-6 py-4 rounded-lg shadow-2xl border-4 border-yellow-300",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jd,{className:"w-6 h-6 animate-pulse"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-lg",children:"Legacy Data Found!"}),s.jsxs("p",{className:"text-sm text-yellow-100",children:[i.length," inventory items need store assignment"]})]}),s.jsx("button",{onClick:l,disabled:e,className:"ml-4 bg-white text-orange-600 px-4 py-2 rounded-lg font-bold hover:bg-yellow-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Os,{className:"w-4 h-4 animate-spin"}),"Fixing..."]}):"Fix Now"}),s.jsx("button",{onClick:()=>a(!1),className:"ml-2 text-yellow-100 hover:text-white",children:""})]})})})}function aP(){const t=$.useRef(""),e=$.useRef(null);return $.useEffect(()=>{console.log(" Stock Request Reminder Scheduler initialized");const r=async()=>{const n=new Date,a=n.getHours(),i=n.toISOString().split("T")[0];if(a===15&&t.current!==i){console.log(" 3PM - Time to send stock request reminders!");try{const l=await fetch(`https://${Ln}.supabase.co/functions/v1/make-server-c2dd9b9d/send-stock-request-reminders`,{method:"POST",headers:{Authorization:`Bearer ${Rr}`,"Content-Type":"application/json"}});if(l.ok){const u=await l.json();console.log(" Stock request reminders sent successfully:",u),t.current=i}else console.error(" Failed to send stock request reminders:",l.statusText)}catch(l){console.error(" Error sending stock request reminders:",l)}}};return e.current=setInterval(r,900*1e3),r(),()=>{e.current&&clearInterval(e.current)}},[]),null}const sP=()=>s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 animate-pulse",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"h-8 bg-gradient-to-r from-purple-200 to-pink-200 rounded-lg w-64 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-96"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[1,2,3].map(t=>s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-4"}),s.jsx("div",{className:"h-10 bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg w-32 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-100 rounded w-48"})]},t))}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-48"}),s.jsx("div",{className:"h-4 bg-gray-100 rounded w-full"}),s.jsx("div",{className:"h-4 bg-gray-100 rounded w-full"}),s.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[s.jsx("div",{className:"h-32 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg"}),s.jsx("div",{className:"h-32 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg"})]})]})}),s.jsxs("div",{className:"fixed bottom-4 right-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"font-medium",children:"Loading..."})]})]}),iP=()=>s.jsxs("div",{className:"px-3 py-4 animate-pulse",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"h-6 bg-gradient-to-r from-purple-200 to-pink-200 rounded w-48 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-64"})]}),s.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(t=>s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-3 bg-gray-200 rounded w-20 mb-2"}),s.jsx("div",{className:"h-6 bg-gradient-to-r from-purple-100 to-pink-100 rounded w-24"})]}),s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-50 to-pink-50 rounded-full"})]})},t))}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-100 to-pink-100 rounded-full",children:[s.jsx("div",{className:"w-3 h-3 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-sm text-purple-700 font-medium",children:"Loading..."})]})})]});function Ww(){return"serviceWorker"in navigator&&"PushManager"in window}const FZ=`
// Service Worker for Push Notifications
self.addEventListener('install', (event) => {
  console.log('Service Worker installed');
  self.skipWaiting();
});

self.addEventListener('activate', (event) => {
  console.log('Service Worker activated');
  event.waitUntil(clients.claim());
});

self.addEventListener('push', (event) => {
  console.log('Push notification received:', event);
  
  let notificationData = {
    title: 'Bhandar-IMS',
    body: 'You have a new notification',
    icon: '/icon-192x192.png',
    badge: '/badge-72x72.png',
    tag: 'bhandar-notification',
    requireInteraction: false,
  };

  if (event.data) {
    try {
      const data = event.data.json();
      notificationData = {
        ...notificationData,
        title: data.title || notificationData.title,
        body: data.message || data.body || notificationData.body,
        icon: data.icon || notificationData.icon,
        tag: data.tag || notificationData.tag,
        data: data,
      };
    } catch (e) {
      console.error('Error parsing push data:', e);
      notificationData.body = event.data.text();
    }
  }

  event.waitUntil(
    self.registration.showNotification(notificationData.title, {
      body: notificationData.body,
      icon: notificationData.icon,
      badge: notificationData.badge,
      tag: notificationData.tag,
      requireInteraction: notificationData.requireInteraction,
      data: notificationData.data,
    })
  );
});

self.addEventListener('notificationclick', (event) => {
  console.log('Notification clicked:', event);
  event.notification.close();
  event.waitUntil(
    clients.matchAll({ type: 'window', includeUncontrolled: true }).then((clientList) => {
      for (const client of clientList) {
        if (client.url.includes(self.registration.scope) && 'focus' in client) {
          return client.focus();
        }
      }
      if (clients.openWindow) {
        return clients.openWindow('/');
      }
    })
  );
});
`;async function qZ(){if(!Ww())return null;try{try{const t=await navigator.serviceWorker.register("/sw.js",{scope:"/"});return console.log(" Service Worker registered successfully from /sw.js"),t}catch{console.log(" /sw.js not found, using inline service worker");const e=new Blob([FZ],{type:"application/javascript"}),r=URL.createObjectURL(e),n=await navigator.serviceWorker.register(r,{scope:"/"});return console.log(" Service Worker registered successfully (inline)"),n}}catch{return null}}function BZ(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(r),a=new Uint8Array(n.length);for(let i=0;i<n.length;++i)a[i]=n.charCodeAt(i);return a}async function UZ(t,e){try{const r=await t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:BZ(e)});return console.log("Push subscription successful:",r),r}catch(r){return console.error("Failed to subscribe to push notifications:",r),null}}async function oP(t,e){try{if(!(await fetch(`https://${Ln}.supabase.co/functions/v1/make-server-c2dd9b9d/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rr}`},body:JSON.stringify({subscription:t.toJSON(),userId:e})})).ok)throw new Error("Failed to send subscription to server");return console.log("Subscription sent to server successfully"),!0}catch(r){return console.error("Error sending subscription to server:",r),!1}}async function zZ(t){try{return await t.pushManager.getSubscription()}catch(e){return console.error("Error getting existing subscription:",e),null}}async function HZ(t,e){if(!Ww())return console.log(" Push notifications not supported in this browser"),!1;try{const r=await qZ();if(!r)return console.log(" Service worker registration failed - push notifications unavailable"),!1;await navigator.serviceWorker.ready;const n=await zZ(r);if(n)return console.log(" Push notifications already enabled"),await oP(n,t),!0;const a=Notification.permission;if(a==="denied")return console.log(" Push notifications blocked. To enable: Click  icon in address bar  Allow notifications"),!1;if(a==="default")return console.log(" Push notifications available. Click the notification bell to enable."),!1;if(a==="granted"){const i=await UZ(r,e);return i?(await oP(i,t),console.log(" Push notifications enabled successfully"),!0):(console.log(" Failed to create push subscription"),!1)}return!1}catch(r){return console.log(" Push notifications unavailable:",r instanceof Error?r.message:"Unknown error"),!1}}const Ni="bhandar_cache_",WZ=300*1e3,_M=3600*1e3,ou=1;function KZ(t){try{const e=`${Ni}${t}`,r=localStorage.getItem(e);if(!r)return null;const n=JSON.parse(r);return n.version!==ou||Date.now()-n.timestamp>_M?(localStorage.removeItem(e),null):n.data}catch(e){return console.error("Cache read error:",e),null}}function VZ(t){try{const e=`${Ni}${t}`,r=localStorage.getItem(e);if(!r)return!1;const n=JSON.parse(r);return Date.now()-n.timestamp<WZ&&n.version===ou}catch{return!1}}function GZ(t,e){try{const r=`${Ni}${t}`,n={data:e,timestamp:Date.now(),version:ou};localStorage.setItem(r,JSON.stringify(n))}catch(r){if(r instanceof Error&&r.name==="QuotaExceededError"){SM();try{const n=`${Ni}${t}`,a={data:e,timestamp:Date.now(),version:ou};localStorage.setItem(n,JSON.stringify(a))}catch(n){console.error("Cache write error after cleanup:",n)}}else console.error("Cache write error:",r)}}function SM(){try{const t=Date.now(),e=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);if(n&&n.startsWith(Ni))try{const a=localStorage.getItem(n);if(a){const i=JSON.parse(a);(t-i.timestamp>_M||i.version!==ou)&&e.push(n)}}catch{e.push(n)}}e.forEach(r=>localStorage.removeItem(r)),console.log(` Cleared ${e.length} old cache entries`)}catch(t){console.error("Cache cleanup error:",t)}}function wt(t){try{const e=`${Ni}${t}`;localStorage.removeItem(e)}catch(e){console.error("Cache invalidation error:",e)}}function YZ(){try{const t=[];for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e);r&&r.startsWith(Ni)&&t.push(r)}t.forEach(e=>localStorage.removeItem(e)),console.log(` Invalidated all caches (${t.length} entries)`)}catch(t){console.error("Cache invalidation error:",t)}}function JZ(t){const e=new Map;return t.forEach(r=>{e.set(r,KZ(r))}),e}function XZ(t){t.forEach((e,r)=>{GZ(r,e)})}const lP=$.lazy(()=>wn(()=>import("./SalesManagement-D_AwZOBu.js"),__vite__mapDeps([0,1])).then(t=>({default:t.SalesManagement}))),QZ=$.lazy(()=>wn(()=>Promise.resolve().then(()=>IZ),void 0).then(t=>({default:t.PayrollManagement}))),cP=$.lazy(()=>wn(()=>import("./Analytics-Bl2leUrE.js").then(t=>t.a),__vite__mapDeps([2,1,3,4,5,6,7])).then(t=>({default:t.Analytics}))),uP=$.lazy(()=>wn(()=>import("./ExportData-DvEgKHYn.js"),__vite__mapDeps([8,6])).then(t=>({default:t.ExportData}))),dP=$.lazy(()=>wn(()=>import("./EmployeeDashboard-D7acDapS.js"),__vite__mapDeps([9,10])).then(t=>({default:t.EmployeeDashboard}))),ZZ=$.lazy(()=>wn(()=>import("./AuditDashboard-BHBZ9Ev5.js"),__vite__mapDeps([11,2,1,3,4,5,6,7,12])).then(t=>({default:t.AuditDashboard}))),hP=$.lazy(()=>wn(()=>import("./ProductionManagement-BfKOwz--.js"),__vite__mapDeps([12,7])).then(t=>({default:t.ProductionManagement})));$.lazy(()=>wn(()=>import("./ProductionHouseManagement-DkQUIzx9.js"),[]).then(t=>({default:t.ProductionHouseManagement})));const eee=$.lazy(()=>wn(()=>import("./AssetsManagement-DHBS8c4L.js"),__vite__mapDeps([13,14,3,10])).then(t=>({default:t.AssetsManagement}))),fP=$.lazy(()=>wn(()=>import("./StockRequestManagement-WLDujjoR.js"),__vite__mapDeps([15,4])).then(t=>({default:t.StockRequestManagement}))),pP=$.lazy(()=>wn(()=>import("./AdvancedInventoryManagement-B5b4YtGv.js"),__vite__mapDeps([16,17,5,1,4])).then(t=>({default:t.AdvancedInventoryManagement}))),mP=$.lazy(()=>wn(()=>import("./InventoryItemsManagement-DrjARvHV.js"),__vite__mapDeps([18,17])).then(t=>({default:t.InventoryItemsManagement}))),tee=$.lazy(()=>wn(()=>import("./BackupRestore-BrjKS5dc.js"),[]).then(t=>({default:t.BackupRestore})));function ree(){const[t,e]=$.useState("analytics"),[r,n]=$.useState(null),[a,i]=$.useState(null),[l,u]=$.useState(!0),[d,h]=$.useState(null),[m,p]=$.useState([]),[g,v]=$.useState([]),[j,w]=$.useState([]),[b,N]=$.useState([]),[k,S]=$.useState([]),[P,E]=$.useState([]),[O,A]=$.useState([]),[T,R]=$.useState(!1),[D,F]=$.useState(null),[I,q]=$.useState(!1),[K,W]=$.useState([]),[J,re]=$.useState(null),[G,oe]=$.useState([]),[Z,M]=$.useState([]),[U,te]=$.useState([]),[me,ge]=$.useState([]),[Me,Ke]=$.useState([]),[De,ue]=$.useState([]),[xe,Oe]=$.useState([]),Y=LP(),Ie=new URLSearchParams(window.location.search).get("setup")==="cluster-head",ot=async()=>{try{const ie=await sf();W(ie)}catch(ie){if(ie instanceof Error&&(ie.message==="Not authenticated"||ie.message==="Unauthorized"))return;console.error("Error loading stores:",ie)}},Pe=async()=>{try{const ie=await ga();ge(ie)}catch(ie){if(ie instanceof Error&&(ie.message==="Not authenticated"||ie.message==="Unauthorized"))return;console.error("Error loading employees:",ie)}},Ae=async ie=>{try{const ne=await GT(ie);ne&&(Ke(ne.managedStoreIds||[]),ue(ne.managedProductionHouseIds||[]),console.log(" Cluster assignments loaded:",{stores:ne.managedStoreIds?.length||0,productionHouses:ne.managedProductionHouseIds?.length||0}))}catch{console.log("No cluster assignments found (this is okay for new cluster heads)")}},Ne=async(ie,ne=!1)=>{const de=["inventory","overheads","fixedCosts","salesData","categorySales","productionData","productionHouses","stockRequests","productionRequests","inventoryItems","onlineCashRecalibrations"];if(!ne){const Se=JZ(de);if(Se.get("inventory")){if(console.log(" Loading from cache - instant display!"),p(Se.get("inventory")||[]),v(Se.get("overheads")||[]),w(Se.get("fixedCosts")||[]),N(Se.get("salesData")||[]),S(Se.get("categorySales")?.data||[]),A(Se.get("productionData")||[]),oe(Se.get("productionHouses")||[]),M(Se.get("stockRequests")||[]),te(Se.get("productionRequests")||[]),Oe(Se.get("inventoryItems")||[]),E(Se.get("onlineCashRecalibrations")||[]),de.every(pe=>VZ(pe))){console.log(" Cache is fresh - skipping API calls");return}console.log(" Cache loaded, refreshing in background...")}}R(!0),F(null);try{console.log(" Starting loadData - fetching from API...");const[Se,L,pe,st,ft,vt,br,Nn,Ot,ca,Ti]=await Promise.all([Rb(ie),Lb(ie),KP(ie),XP(ie),RT(ie),Fb(),ox(ie),UT(ie),DT(ie),ac(),VT(ie)]);console.log(" Stock Requests API Response:",Nn),console.log(" Stock Requests count:",Nn?.length||0),console.log(" Sample stock request:",Nn?.[0]),console.log(" Loaded Inventory Items:",Se.length),console.log(" Loaded Overhead Items:",L.length),console.log(" Loaded Fixed Cost Items:",pe.length);const Ds=Array.from(new Map(Se.map(Gt=>[Gt.id,Gt])).values()),ka=Array.from(new Map(L.map(Gt=>[Gt.id,Gt])).values()),Ci=Array.from(new Map(pe.map(Gt=>[Gt.id,Gt])).values()),Rs=Array.from(new Map(st.map(Gt=>[Gt.id,Gt])).values()),es=Array.from(new Map(vt.map(Gt=>[Gt.id,Gt])).values()),_n=Se.length-Ds.length,Vf=L.length-ka.length,sn=pe.length-Ci.length,Gf=st.length-Rs.length,Yf=vt.length-es.length,Jf=_n+Vf+sn+Gf+Yf;console.log(" After deduplication:"),console.log("Inventory: Before:",Se.length," After:",Ds.length),console.log("Overheads: Before:",L.length," After:",ka.length),console.log("Fixed Costs: Before:",pe.length," After:",Ci.length),console.log("Sales: Before:",st.length," After:",Rs.length),Jf>0&&(sessionStorage.getItem("db_cleaned")||setTimeout(async()=>{try{const Hn=await Y.auth.getUser(ie),Ii=Hn.data?.user?.user_metadata?.role;if(Hn.data?.user&&Ii==="cluster_head"){console.log(" Silently cleaning duplicates in background..."),sessionStorage.setItem("db_cleaned","true");const Xf=await JP(ie);console.log(` Cleaned ${Xf.removed} duplicates successfully`)}}catch(Hn){console.log("Auto-cleanup skipped:",Hn instanceof Error?Hn.message:"Unknown error")}},1500)),p(Ds),v(ka),w(Ci),N(Rs),S(ft.data||[]),A(es),oe(br),console.log(" Loaded Stock Requests from API:",Nn.length,Nn),M(Nn),te(Ot),Oe(ca),E(Ti);const wr=new Map;wr.set("inventory",Ds),wr.set("overheads",ka),wr.set("fixedCosts",Ci),wr.set("salesData",Rs),wr.set("categorySales",ft),wr.set("productionData",es),wr.set("productionHouses",br),wr.set("stockRequests",Nn),wr.set("productionRequests",Ot),wr.set("inventoryItems",ca),wr.set("onlineCashRecalibrations",Ti),XZ(wr),console.log(" Data cached for instant future loads")}catch(Se){if(Se instanceof Error&&(Se.message==="Not authenticated"||Se.message==="Unauthorized"))return;console.error("Error loading data:",Se),F("Failed to load inventory data. Please refresh the page.")}finally{R(!1)}},Xe=async()=>{try{const ie=await ac();if(ie.length===0){console.log(" No inventory items found, initializing defaults...");try{await AT();const ne=await ac();Oe(ne),console.log(` Initialized ${ne.length} default inventory items`);return}catch(ne){console.error("Error initializing default items:",ne),Oe([]);return}}Oe(ie),await ye(ie)}catch(ie){console.error("Error loading inventory items:",ie),Oe([])}},ye=async ie=>{const ne=[{name:"chicken",displayName:"Chicken Momos",variations:["chicken momo","chicken momos"]},{name:"chickenCheese",displayName:"Chicken Cheese Momos",variations:["chicken cheese momo","chicken cheese momos","chicken cheese"]},{name:"veg",displayName:"Veg Momos",variations:["veg momo","veg momos","vegetable momos"]},{name:"cheeseCorn",displayName:"Cheese Corn Momos",variations:["cheese corn momo","cheese corn momos","corn cheese"]},{name:"paneer",displayName:"Paneer Momos",variations:["paneer momo","paneer momos"]},{name:"vegKurkure",displayName:"Veg Kurkure Momos",variations:["veg kurkure momo","veg kurkure momos","veg kurkure"]},{name:"chickenKurkure",displayName:"Chicken Kurkure Momos",variations:["chicken kurkure momo","chicken kurkure momos","chicken kurkure"]}];try{let de=!1;for(const Se of ne){let L=ie.find(pe=>pe.name.toLowerCase()===Se.name.toLowerCase());L||(L=ie.find(pe=>{const st=pe.displayName.toLowerCase(),ft=Se.displayName.toLowerCase();return st===ft||st.replace(/\s*momos?\s*/i,"").trim()===ft.replace(/\s*momos?\s*/i,"").trim()?!0:Se.variations.some(vt=>st.includes(vt.toLowerCase()))})),L?L.name!==Se.name&&(console.log(` Updating inventory item name: "${L.displayName}" from "${L.name}" to "${Se.name}"`),await ET(L.id,{name:Se.name,displayName:Se.displayName}),de=!0):(console.log(` Creating core inventory item: ${Se.displayName}`),await OT({name:Se.name,displayName:Se.displayName,category:"finished_product",unit:"pieces",linkedEntityType:"global",createdBy:"system"}),de=!0)}if(de){const Se=await ac();Oe(Se)}}catch(de){console.error("Error ensuring core momos exist:",de)}};$.useEffect(()=>{sessionStorage.removeItem("logout_redirect_in_progress"),SM();const ie=async()=>{try{const{data:{session:de}}=await Y.auth.getSession();if(!de){u(!1);return}const{data:{session:Se},error:L}=await Y.auth.refreshSession();L||!Se?(console.warn("Session refresh failed:",L?.message||"No session returned"),de?.user?await ne(de):(await Y.auth.signOut(),u(!1))):await ne(Se)}catch(de){console.log("Session check error:",de)}finally{u(!1)}},ne=async de=>{let Se=null,L=de.user.user_metadata?.designation||null;if(de.user.user_metadata?.employeeId)try{const ft=(await eh()).find(vt=>vt.employeeId===de.user.user_metadata?.employeeId);ft&&(Se=ft.storeId||null,L=ft.designation||L)}catch(st){console.error("Error fetching employee storeId on session check:",st)}const pe={email:de.user.email||"",name:de.user.user_metadata?.name||de.user.email?.split("@")[0]||"User",role:de.user.user_metadata?.role||"manager",employeeId:de.user.user_metadata?.employeeId||null,accessToken:de.access_token,storeId:Se,designation:L};n(pe),await Ne(de.access_token),(pe.role==="cluster_head"||pe.role==="manager"||pe.role==="audit")&&(await ot(),await Pe(),pe.role==="cluster_head"&&await Ae(de.access_token))};ie()},[]),$.useEffect(()=>{r&&(async()=>{try{if(!Ww()){console.log("Push notifications not supported on this device");return}const ne=await fetch(`https://${Ln}.supabase.co/functions/v1/make-server-c2dd9b9d/push/vapid-public-key`,{headers:{Authorization:`Bearer ${Rr}`}});if(!ne.ok){console.log("Could not fetch VAPID key - push notifications disabled");return}const de=await ne.json();if(!de.configured||!de.publicKey){console.log(" Push notifications not configured. To enable, set VAPID_PUBLIC_KEY and VAPID_PRIVATE_KEY environment variables.");return}const Se=r.employeeId||r.email;await HZ(Se,de.publicKey)&&console.log(" Push notifications enabled successfully for user:",Se)}catch(ne){console.log(" Push notifications setup skipped:",ne instanceof Error?ne.message:"Unknown error")}})()},[r]);const $e=async(ie,ne)=>{i(null);try{const{data:de,error:Se}=await Y.auth.signInWithPassword({email:ie,password:ne});if(Se){i(Se.message);return}if(de.user&&de.session){let L=null,pe=de.user.user_metadata?.designation||null;if(de.user.user_metadata?.employeeId)try{const vt=(await eh()).find(br=>br.employeeId===de.user.user_metadata?.employeeId);vt&&(L=vt.storeId||null,pe=vt.designation||pe)}catch(ft){console.error("Error fetching employee storeId:",ft)}const st={email:de.user.email||"",name:de.user.user_metadata?.name||de.user.email?.split("@")[0]||"User",role:de.user.user_metadata?.role||"manager",employeeId:de.user.user_metadata?.employeeId||null,accessToken:de.session.access_token,storeId:L,designation:pe};n(st),await Ne(de.session.access_token),(st.role==="cluster_head"||st.role==="manager"||st.role==="audit")&&(await ot(),await Pe())}}catch(de){console.log("Login error:",de),i("Failed to sign in. Please try again.")}},ct=async(ie,ne,de,Se)=>{i(null);try{const L=await fetch(`https://${Ln}.supabase.co/functions/v1/make-server-c2dd9b9d/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rr}`},body:JSON.stringify({email:ie,password:ne,name:de,role:Se,employeeId:Se==="cluster_head"?"BM001":Se==="audit"?"AUDIT001":null})}),pe=await L.json();if(!L.ok){i(pe.error||"Failed to create account");return}if(!pe.user){i("Failed to create account");return}if(Se==="cluster_head"||Se==="audit")try{const st=Se==="cluster_head"?"BM001":"AUDIT001";await fetch(`https://${Ln}.supabase.co/functions/v1/make-server-c2dd9b9d/unified-employees`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rr}`},body:JSON.stringify({employeeId:st,name:de,email:ie,role:Se,employmentType:"fulltime",joiningDate:new Date().toISOString().split("T")[0],createdBy:"system",status:"active",authUserId:pe.user.id})})}catch(st){console.log("Error creating unified employee record:",st)}await $e(ie,ne)}catch(L){console.log("Signup error:",L),i("Failed to create account. Please try again.")}},jt=async()=>{await Y.auth.signOut(),n(null),p([]),v([]),w([]),N([]),e("sales"),YZ()},Rt=async()=>{r&&(console.log(" Manual refresh triggered"),await Ne(r.accessToken,!0))},yt={inventory:m,overheads:g,fixedCosts:j,salesData:b,categorySalesData:k,onlineCashRecalibrations:P,productionData:O,productionHouses:G,stockRequests:Z,productionRequests:U,stores:K,managedStoreIds:Me,managedProductionHouseIds:De,inventoryItems:xe,loadInventoryItems:Xe,addInventoryItem:async ie=>{if(r)try{const ne={...ie,storeId:r.storeId||ie.storeId};console.log(" Sending inventory item to backend:",ne);const de=await FP(r.accessToken,ne);console.log(" Received inventory item from backend:",de),p([...m,de]),wt("inventory")}catch(ne){throw console.error("Error adding inventory item:",ne),ne}},addOverheadItem:async ie=>{if(r)try{const ne={...ie,storeId:r.storeId||ie.storeId},de=await UP(r.accessToken,ne);v([...g,de]),wt("overheads")}catch(ne){throw console.error("Error adding overhead item:",ne),ne}},addFixedCostItem:async ie=>{if(r)try{const ne={...ie,storeId:r.storeId||ie.storeId},de=await VP(r.accessToken,ne);w([...j,de]),wt("fixedCosts")}catch(ne){throw console.error("Error adding fixed cost item:",ne),ne}},updateInventoryItem:async(ie,ne)=>{if(r)try{const de={...ne,storeId:r.storeId||ne.storeId},Se=await qP(r.accessToken,ie,de);p(m.map(L=>L.id===ie?Se:L)),wt("inventory")}catch(de){throw console.error("Error updating inventory item:",de),de}},updateOverheadItem:async(ie,ne)=>{if(r)try{const de={...ne,storeId:r.storeId||ne.storeId},Se=await zP(r.accessToken,ie,de);v(g.map(L=>L.id===ie?Se:L)),wt("overheads")}catch(de){throw console.error("Error updating overhead item:",de),de}},updateFixedCostItem:async(ie,ne)=>{if(r)try{const de={...ne,storeId:r.storeId||ne.storeId},Se=await GP(r.accessToken,ie,de);w(j.map(L=>L.id===ie?Se:L)),wt("fixedCosts")}catch(de){throw console.error("Error updating fixed cost item:",de),de}},deleteInventoryItem:async ie=>{if(r)try{await BP(r.accessToken,ie),p(m.filter(ne=>ne.id!==ie)),wt("inventory"),console.log(" Inventory item deleted successfully")}catch(ne){if(ne?.message?.includes("not found")||ne?.message?.includes("already deleted"))console.log(" Item was already deleted, updating UI"),p(m.filter(de=>de.id!==ie)),wt("inventory");else throw console.error("Error deleting inventory item:",ne),ne}},deleteOverheadItem:async ie=>{if(r)try{await HP(r.accessToken,ie),v(g.filter(ne=>ne.id!==ie)),wt("overheads"),console.log(" Overhead item deleted successfully")}catch(ne){if(ne?.message?.includes("not found")||ne?.message?.includes("already deleted"))console.log(" Item was already deleted, updating UI"),v(g.filter(de=>de.id!==ie)),wt("overheads");else throw console.error("Error deleting overhead item:",ne),ne}},deleteFixedCostItem:async ie=>{if(r)try{await YP(r.accessToken,ie),w(j.filter(ne=>ne.id!==ie)),wt("fixedCosts"),console.log(" Fixed cost item deleted successfully")}catch(ne){if(ne?.message?.includes("not found")||ne?.message?.includes("already deleted"))console.log(" Item was already deleted, updating UI"),w(j.filter(de=>de.id!==ie)),wt("fixedCosts");else throw console.error("Error deleting fixed cost item:",ne),ne}},addSalesData:async ie=>{if(r)try{console.log("Frontend - Current user:",r),console.log("Frontend - User role:",r.role),console.log("Frontend - Access token (first 50 chars):",r.accessToken.substring(0,50));const ne={...ie,storeId:r.storeId||ie.storeId},de=await QP(r.accessToken,ne);N([...b,de]),wt("salesData"),wt("categorySales")}catch(ne){throw console.error("Error adding sales data:",ne),ne}},updateSalesData:async(ie,ne)=>{if(r)try{const de={...ne,storeId:r.storeId||ne.storeId},Se=await ZP(r.accessToken,ie,de);N(b.map(L=>L.id===ie?Se:L)),wt("salesData"),wt("categorySales")}catch(de){throw console.error("Error updating sales data:",de),de}},approveSalesData:async ie=>{if(r)try{const ne=await eT(r.accessToken,ie);N(b.map(de=>de.id===ie?ne:de)),wt("salesData")}catch(ne){throw console.error("Error approving sales data:",ne),ne}},requestSalesApproval:async(ie,ne,de)=>{if(r)try{const Se=await tT(r.accessToken,ie,ne,de);N(b.map(L=>L.id===ie?Se:L)),wt("salesData")}catch(Se){throw console.error("Error requesting sales approval:",Se),Se}},approveDiscrepancy:async ie=>{if(r)try{const ne=await rT(r.accessToken,ie);N(b.map(de=>de.id===ie?ne:de)),wt("salesData")}catch(ne){throw console.error("Error approving discrepancy:",ne),ne}},rejectDiscrepancy:async(ie,ne)=>{if(r)try{const de=await nT(r.accessToken,ie,ne);N(b.map(Se=>Se.id===ie?de:Se)),wt("salesData")}catch(de){throw console.error("Error rejecting discrepancy:",de),de}},addProductionData:async ie=>{if(r)try{const ne={...ie,storeId:r.storeId||ie.storeId},de=await aT(ne);A([...O,de]),wt("productionData")}catch(ne){throw console.error("Error adding production data:",ne),ne}},updateProductionData:async(ie,ne)=>{if(r)try{const de={...ne,storeId:r.storeId||ne.storeId},Se=await sT(ie,de);A(O.map(L=>L.id===ie?Se:L)),wt("productionData")}catch(de){throw console.error("Error updating production data:",de),de}},approveProductionData:async ie=>{if(r)try{const ne=await iT(ie);A(O.map(de=>de.id===ie?ne:de)),wt("productionData")}catch(ne){throw console.error("Error approving production data:",ne),ne}},addProductionHouse:async ie=>{if(r)try{const ne=await LT(r.accessToken,ie);oe([...G,ne]),wt("productionHouses")}catch(ne){throw console.error("Error creating production house:",ne),ne}},updateProductionHouse:async(ie,ne)=>{if(r)try{const de=await FT(r.accessToken,ie,ne);oe(G.map(Se=>Se.id===ie?de:Se)),wt("productionHouses")}catch(de){throw console.error("Error updating production house:",de),de}},updateProductionHouseInventory:async(ie,ne)=>{if(r)try{const de=await qT(r.accessToken,ie,ne);oe(G.map(Se=>Se.id===ie?de:Se))}catch(de){throw console.error("Error updating production house inventory:",de),de}},deleteProductionHouse:async ie=>{if(r)try{await BT(r.accessToken,ie),oe(G.filter(ne=>ne.id!==ie)),wt("productionHouses")}catch(ne){throw console.error("Error deleting production house:",ne),ne}},setProductionHouses:oe,createStockRequest:async ie=>{if(r)try{console.log(" Creating stock request:",ie);const ne=await zT(r.accessToken,ie);console.log(" Stock request created successfully:",ne),M([...Z,ne]),console.log(" Updated stock requests count:",Z.length+1),wt("stockRequests")}catch(ne){throw console.error(" Error creating stock request:",ne),ne}},fulfillStockRequest:async(ie,ne,de,Se,L)=>{if(r)try{const pe=await HT(r.accessToken,ie,ne,de,Se,L);M(Z.map(ft=>ft.id===ie?pe:ft));const st=await ox(r.accessToken);oe(st),wt("stockRequests"),wt("productionHouses")}catch(pe){throw console.error("Error fulfilling stock request:",pe),pe}},cancelStockRequest:async ie=>{if(r)try{const ne=await WT(r.accessToken,ie);M(Z.map(de=>de.id===ie?ne:de)),wt("stockRequests")}catch(ne){throw console.error("Error cancelling stock request:",ne),ne}},isManager:r?.role==="manager",user:r};if(l)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(fr,{className:"w-12 h-12 text-[#B0A8D8] mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(Ie)return s.jsx(RZ,{});if(!r)return s.jsx(jZ,{onLogin:$e,onSignup:ct,error:a});const Lr=r.role==="cluster_head",Fr=r.role==="employee",Sa=r.role==="audit",qr=r.role==="employee"&&r.designation==="store_incharge",Or=r.designation==="production_incharge",ut=qr||Or,zn=r.role==="manager"&&r.designation!=="store_incharge"&&r.designation!=="production_incharge",Gr=r.role==="manager",qt=Or||zn||Lr;return console.log(" User Permissions:",{role:r.role,designation:r.designation,isClusterHead:Lr,isEmployee:Fr,isManager:Gr,isStoreIncharge:qr,isProductionIncharge:Or,isOperationsManager:zn,isAnyIncharge:ut,canViewProduction:qt}),console.log(" Current activeView:",t),Sa?s.jsx(ZZ,{user:r,inventory:m,overheads:g,fixedCosts:j,salesData:b,categorySalesData:k,productionData:O,productionHouses:G,stockRequests:Z,productionRequests:U,employees:me,stores:K,inventoryItems:xe,onLogout:jt,onDataUpdate:Ne}):Fr?s.jsxs(s.Fragment,{children:[s.jsx(aP,{}),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("nav",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 shadow-xl sticky top-0 z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center py-3",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-4 py-2 border border-white/30",children:[s.jsx("h1",{className:"text-xl sm:text-2xl text-white font-bold tracking-wide",children:"Bhandar-IMS"}),s.jsxs("p",{className:"text-xs text-white/90",children:[r.name,"  ",qr?"Store Incharge":Or?"Production Head":"Employee"]})]})}),s.jsx("button",{onClick:()=>q(!I),className:"lg:hidden flex items-center gap-2 px-3 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 transition-all border border-white/30",children:I?s.jsx(vn,{className:"w-5 h-5"}):s.jsx(CN,{className:"w-5 h-5"})}),s.jsxs("div",{className:"hidden lg:flex gap-2",children:[s.jsxs("button",{onClick:()=>e("analytics"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all backdrop-blur-sm border-2 ${t==="analytics"?"bg-white text-purple-600 border-white shadow-lg":"bg-white/20 text-white border-white/30 hover:bg-white/30"}`,children:[s.jsx(ws,{className:"w-4 h-4"}),s.jsx("span",{children:"Analytics"})]}),ut&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>e("inventory"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all backdrop-blur-sm border-2 ${t==="inventory"?"bg-white text-purple-600 border-white shadow-lg":"bg-white/20 text-white border-white/30 hover:bg-white/30"}`,children:[s.jsx(fr,{className:"w-4 h-4"}),s.jsx("span",{children:"Expense"})]}),s.jsxs("button",{onClick:()=>e("sales"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all backdrop-blur-sm border-2 ${t==="sales"?"bg-white text-purple-600 border-white shadow-lg":"bg-white/20 text-white border-white/30 hover:bg-white/30"}`,children:[s.jsx(Ir,{className:"w-4 h-4"}),s.jsx("span",{children:"Sales"})]})]}),qt&&s.jsxs("button",{onClick:()=>e("production"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all backdrop-blur-sm border-2 ${t==="production"?"bg-white text-purple-600 border-white shadow-lg":"bg-white/20 text-white border-white/30 hover:bg-white/30"}`,children:[s.jsx(ro,{className:"w-4 h-4"}),s.jsx("span",{children:"Production"})]}),ut&&s.jsxs("button",{onClick:()=>e("stock-requests"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all backdrop-blur-sm border-2 ${t==="stock-requests"?"bg-white text-purple-600 border-white shadow-lg":"bg-white/20 text-white border-white/30 hover:bg-white/30"}`,children:[s.jsx(fr,{className:"w-4 h-4"}),s.jsx("span",{children:"Stock Requests"})]}),Gr&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>e("advanced-inventory"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all backdrop-blur-sm border-2 ${t==="advanced-inventory"?"bg-white text-purple-600 border-white shadow-lg":"bg-white/20 text-white border-white/30 hover:bg-white/30"}`,children:[s.jsx(ON,{className:"w-4 h-4"}),s.jsx("span",{children:"Inventory Analytics"})]}),s.jsxs("button",{onClick:()=>e("inventory-items"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all backdrop-blur-sm border-2 ${t==="inventory-items"?"bg-white text-purple-600 border-white shadow-lg":"bg-white/20 text-white border-white/30 hover:bg-white/30"}`,children:[s.jsx(fr,{className:"w-4 h-4"}),s.jsx("span",{children:"Manage Items"})]})]}),s.jsxs("button",{onClick:()=>e("payroll"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all backdrop-blur-sm border-2 ${t==="payroll"?"bg-white text-purple-600 border-white shadow-lg":"bg-white/20 text-white border-white/30 hover:bg-white/30"}`,children:[s.jsx(Mr,{className:"w-4 h-4"}),s.jsx("span",{children:ut?"Payroll":"My Payouts"})]}),s.jsxs("button",{onClick:()=>e("attendance"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all backdrop-blur-sm border-2 ${t==="attendance"?"bg-white text-purple-600 border-white shadow-lg":"bg-white/20 text-white border-white/30 hover:bg-white/30"}`,children:[s.jsx(Dr,{className:"w-4 h-4"}),s.jsx("span",{children:"Attendance"})]}),ut&&s.jsxs("button",{onClick:()=>e("export"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all backdrop-blur-sm border-2 ${t==="export"?"bg-white text-purple-600 border-white shadow-lg":"bg-white/20 text-white border-white/30 hover:bg-white/30"}`,children:[s.jsx(ti,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]}),ut&&s.jsx(nP,{onNavigate:(ie,ne,de)=>{ie==="sales"&&(e("sales"),h(null)),ie==="production"&&(e("production"),h(null)),ie==="attendance"&&(e("employees"),h(null)),ie==="production-requests"&&(console.log(" Production request notification clicked, requestId:",de),h(null),setTimeout(()=>{h(de||null),e("analytics")},0))}}),s.jsxs("button",{onClick:Rt,disabled:T,className:"flex items-center gap-2 px-4 py-2 bg-green-500/90 text-white rounded-xl hover:bg-green-600 transition-all backdrop-blur-sm border-2 border-white/30 disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh data",children:[s.jsx(Os,{className:`w-4 h-4 ${T?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]}),s.jsxs("button",{onClick:jt,className:"flex items-center gap-2 px-4 py-2 bg-red-500/90 text-white rounded-xl hover:bg-red-600 transition-all backdrop-blur-sm border-2 border-white/30",children:[s.jsx(Nd,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})]})]}),I&&s.jsxs("div",{className:"lg:hidden border-t border-white/20 py-4 space-y-2",children:[s.jsxs("button",{onClick:()=>{e("analytics"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="analytics"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[s.jsx(ws,{className:"w-5 h-5"}),s.jsx("span",{children:"Analytics"})]}),ut&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{e("inventory"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="inventory"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[s.jsx(fr,{className:"w-5 h-5"}),s.jsx("span",{children:"Expense"})]}),s.jsxs("button",{onClick:()=>{e("sales"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="sales"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[s.jsx(Ir,{className:"w-5 h-5"}),s.jsx("span",{children:"Sales"})]})]}),qt&&s.jsxs("button",{onClick:()=>{e("production"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="production"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[s.jsx(ro,{className:"w-5 h-5"}),s.jsx("span",{children:"Production"})]}),ut&&s.jsxs("button",{onClick:()=>{e("stock-requests"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="stock-requests"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[s.jsx(fr,{className:"w-5 h-5"}),s.jsx("span",{children:"Stock Requests"})]}),Gr&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{e("advanced-inventory"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="advanced-inventory"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[s.jsx(ON,{className:"w-5 h-5"}),s.jsx("span",{children:"Inventory Analytics"})]}),s.jsxs("button",{onClick:()=>{e("inventory-items"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="inventory-items"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[s.jsx(fr,{className:"w-5 h-5"}),s.jsx("span",{children:"Manage Items"})]})]}),s.jsxs("button",{onClick:()=>{e("payroll"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="payroll"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[s.jsx(Mr,{className:"w-5 h-5"}),s.jsx("span",{children:ut?"Payroll":"My Payouts"})]}),s.jsxs("button",{onClick:()=>{e("attendance"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="attendance"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[s.jsx(Dr,{className:"w-5 h-5"}),s.jsx("span",{children:"Attendance"})]}),ut&&s.jsxs("button",{onClick:()=>{e("export"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="export"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[s.jsx(ti,{className:"w-5 h-5"}),s.jsx("span",{children:"Export"})]}),s.jsxs("button",{onClick:()=>{Rt(),q(!1)},disabled:T,className:"w-full flex items-center gap-3 px-4 py-3 bg-green-500/90 text-white rounded-lg hover:bg-green-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Os,{className:`w-5 h-5 ${T?"animate-spin":""}`}),s.jsx("span",{children:"Refresh Data"})]}),s.jsxs("button",{onClick:jt,className:"w-full flex items-center gap-3 px-4 py-3 bg-red-500/90 text-white rounded-lg hover:bg-red-600 transition-all",children:[s.jsx(Nd,{className:"w-5 h-5"}),s.jsx("span",{children:"Logout"})]})]})]})}),s.jsx("main",{className:"pb-6",children:s.jsx($.Suspense,{fallback:s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"md:hidden",children:s.jsx(iP,{})}),s.jsx("div",{className:"hidden md:block",children:s.jsx(sP,{})})]}),children:t==="analytics"?s.jsx(cP,{context:yt,highlightRequestId:d,onNavigateToManageItems:()=>{console.log(" App.tsx: Changing activeView to inventory-items"),e("inventory-items")}}):t==="inventory"&&ut?s.jsx(s_,{context:yt}):t==="sales"&&ut?s.jsx(lP,{context:yt,selectedStoreId:J}):t==="production"&&qt?s.jsx(hP,{context:yt,selectedStoreId:J}):t==="payroll"?ut?s.jsx(QZ,{userRole:"manager",selectedDate:new Date().toISOString().split("T")[0],userEmployeeId:r.employeeId,userName:r.name,selectedStoreId:r.storeId,isIncharge:!0,inchargeDesignation:r.designation}):s.jsx(dP,{employeeId:r.employeeId||""}):t==="attendance"?s.jsx(bM,{user:{employeeId:r.employeeId,name:r.name,email:r.email,role:r.role},isIncharge:ut,inchargeDesignation:r.designation}):t==="export"&&ut?s.jsx(uP,{userRole:"manager",selectedStoreId:r.storeId||null,currentUserId:r.email}):t==="stock-requests"&&ut?s.jsx(fP,{context:yt,stores:K}):t==="advanced-inventory"&&Gr?s.jsx(pP,{context:yt,stores:K,onNavigateToManageItems:()=>e("inventory-items")}):t==="inventory-items"&&(Gr||ut)?(console.log(" Rendering InventoryItemsManagement:",{activeView:t,isManager:Gr,isAnyIncharge:ut}),s.jsx(mP,{context:yt})):(console.log(" Falling through to EmployeeDashboard:",{activeView:t,isManager:Gr,isAnyIncharge:ut}),s.jsx(dP,{employeeId:r.employeeId||""}))})})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(aP,{}),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("nav",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 shadow-xl sticky top-0 z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 sm:py-3",children:[s.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg sm:rounded-xl px-2 sm:px-4 py-1.5 sm:py-2 border border-white/30",children:[s.jsx("h1",{className:"text-base sm:text-xl lg:text-2xl text-white font-bold tracking-wide",children:"Bhandar-IMS"}),s.jsxs("p",{className:"text-[10px] sm:text-xs text-white/90 truncate max-w-[160px] sm:max-w-none",children:[r.name,"  ",r.designation==="store_incharge"?"Store Incharge":r.designation==="production_incharge"?"Production Incharge":r.role==="manager"?"Operations Manager":"Cluster Head"]})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(nP,{onNavigate:(ie,ne,de)=>{ie==="sales"?(e("sales"),h(null)):ie==="attendance"||ie==="leave"?(e("employees"),h(null)):ie==="production"?(e("production"),h(null)):ie==="production-requests"&&(console.log(" Production request notification clicked (mobile), requestId:",de),h(null),setTimeout(()=>{h(de||null),e("analytics")},0))}}),s.jsx("button",{onClick:()=>q(!I),className:"lg:hidden flex items-center gap-2 px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-xl hover:bg-white/30 transition-all border border-white/30",children:I?s.jsx(vn,{className:"w-5 h-5"}):s.jsx(CN,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"hidden lg:flex gap-2 flex-wrap",children:[Lr?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>e("analytics"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="analytics"?"bg-white text-purple-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(ws,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Analytics"})]}),s.jsxs("button",{onClick:()=>e("inventory"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="inventory"?"bg-white text-green-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(fr,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Expense"})]}),s.jsxs("button",{onClick:()=>e("sales"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="sales"?"bg-white text-pink-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(Ir,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Sales"})]}),qt&&s.jsxs("button",{onClick:()=>e("production"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="production"?"bg-white text-amber-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(ro,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Production"})]}),s.jsxs("button",{onClick:()=>e("employees"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="employees"?"bg-white text-indigo-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(ma,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Employees"})]}),s.jsxs("button",{onClick:()=>e("assets"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="assets"?"bg-white text-rose-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(fr,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Investments & Assets"})]}),s.jsxs("button",{onClick:()=>e("export"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="export"?"bg-white text-yellow-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(ti,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Export"})]}),s.jsxs("button",{onClick:()=>e("backup"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="backup"?"bg-white text-blue-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(jd,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Backup"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>e("analytics"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="analytics"?"bg-white text-purple-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(ws,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Analytics"})]}),s.jsxs("button",{onClick:()=>e("sales"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="sales"?"bg-white text-pink-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(Ir,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Sales"})]}),s.jsxs("button",{onClick:()=>e("inventory"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="inventory"?"bg-white text-green-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(fr,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Expense"})]}),qt&&s.jsxs("button",{onClick:()=>e("production"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="production"?"bg-white text-amber-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(ro,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Production"})]}),s.jsxs("button",{onClick:()=>e("employees"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="employees"?"bg-white text-indigo-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(ma,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Employees"})]}),s.jsxs("button",{onClick:()=>e("export"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="export"?"bg-white text-yellow-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(ti,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Export"})]}),s.jsxs("button",{onClick:()=>e("backup"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 ${t==="backup"?"bg-white text-blue-600 shadow-lg font-semibold":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:[s.jsx(jd,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Backup"})]})]}),s.jsxs("button",{onClick:Rt,disabled:T,className:"flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-sm text-white rounded-xl hover:bg-green-500 transition-all duration-300 transform hover:scale-105 border border-white/20 disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh data",children:[s.jsx(Os,{className:`w-4 h-4 ${T?"animate-spin":""}`}),s.jsx("span",{className:"hidden xl:inline",children:"Refresh"})]}),s.jsxs("button",{onClick:jt,className:"flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-sm text-white rounded-xl hover:bg-red-500 transition-all duration-300 transform hover:scale-105 border border-white/20",children:[s.jsx(Nd,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Logout"})]})]})]}),I&&s.jsxs("div",{className:"lg:hidden border-t border-white/20 py-3 space-y-1.5 max-h-[70vh] overflow-y-auto",children:[Lr?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{e("analytics"),q(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-sm ${t==="analytics"?"bg-white text-purple-600 font-semibold shadow-sm":"bg-white/10 text-white hover:bg-white/20"}`,children:[s.jsx(ws,{className:"w-4 h-4"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs("button",{onClick:()=>{e("inventory"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="inventory"?"bg-[#C1E1C1] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#F0FFF0]"}`,children:[s.jsx(fr,{className:"w-5 h-5"}),s.jsx("span",{children:"Expense"})]}),s.jsxs("button",{onClick:()=>{e("sales"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="sales"?"bg-[#FFD4E5] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF5F8]"}`,children:[s.jsx(Ir,{className:"w-5 h-5"}),s.jsx("span",{children:"Sales"})]}),qt&&s.jsxs("button",{onClick:()=>{e("production"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="production"?"bg-[#FFE4B5] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF8DC]"}`,children:[s.jsx(ro,{className:"w-5 h-5"}),s.jsx("span",{children:"Production"})]}),s.jsxs("button",{onClick:()=>{e("employees"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="employees"?"bg-[#E6E6FA] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#F8F8FF]"}`,children:[s.jsx(ma,{className:"w-5 h-5"}),s.jsx("span",{children:"Employees"})]}),s.jsxs("button",{onClick:()=>{e("assets"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="assets"?"bg-[#FFE4CC] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF5EE]"}`,children:[s.jsx(fr,{className:"w-5 h-5"}),s.jsx("span",{children:"Investments & Assets"})]}),s.jsxs("button",{onClick:()=>{e("export"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="export"?"bg-[#FFE5B4] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF8DC]"}`,children:[s.jsx(ti,{className:"w-5 h-5"}),s.jsx("span",{children:"Export"})]}),s.jsxs("button",{onClick:()=>{e("backup"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="backup"?"bg-[#B4D7FF] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#E6F2FF]"}`,children:[s.jsx(jd,{className:"w-5 h-5"}),s.jsx("span",{children:"Backup"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{e("analytics"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="analytics"?"bg-[#D4A5FF] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#F5F0FF]"}`,children:[s.jsx(ws,{className:"w-5 h-5"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs("button",{onClick:()=>{e("sales"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="sales"?"bg-[#FFD4E5] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF5F8]"}`,children:[s.jsx(Ir,{className:"w-5 h-5"}),s.jsx("span",{children:"Sales"})]}),s.jsxs("button",{onClick:()=>{e("inventory"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="inventory"?"bg-[#C1E1C1] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#F0FFF0]"}`,children:[s.jsx(fr,{className:"w-5 h-5"}),s.jsx("span",{children:"Expense"})]}),qt&&s.jsxs("button",{onClick:()=>{e("production"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="production"?"bg-[#FFE4B5] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF8DC]"}`,children:[s.jsx(ro,{className:"w-5 h-5"}),s.jsx("span",{children:"Production"})]}),s.jsxs("button",{onClick:()=>{e("employees"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="employees"?"bg-[#E6E6FA] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#F8F8FF]"}`,children:[s.jsx(ma,{className:"w-5 h-5"}),s.jsx("span",{children:"Employees"})]}),s.jsxs("button",{onClick:()=>{e("export"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="export"?"bg-[#FFE5B4] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#FFF8DC]"}`,children:[s.jsx(ti,{className:"w-5 h-5"}),s.jsx("span",{children:"Export"})]}),s.jsxs("button",{onClick:()=>{e("backup"),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${t==="backup"?"bg-[#B4D7FF] text-gray-800":"bg-gray-50 text-gray-700 hover:bg-[#E6F2FF]"}`,children:[s.jsx(jd,{className:"w-5 h-5"}),s.jsx("span",{children:"Backup"})]})]}),s.jsxs("button",{onClick:()=>{Rt(),q(!1)},disabled:T,className:"w-full flex items-center gap-3 px-4 py-3 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Os,{className:`w-5 h-5 ${T?"animate-spin":""}`}),s.jsx("span",{children:"Refresh Data"})]}),s.jsxs("button",{onClick:jt,className:"w-full flex items-center gap-3 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(Nd,{className:"w-5 h-5"}),s.jsx("span",{children:"Logout"})]})]})]})}),Lr&&K.length>0&&s.jsx("div",{className:"bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50 border-b border-purple-100 px-4 py-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(DZ,{stores:K,selectedStoreId:J,onStoreChange:re,showAllStores:!0})})}),D&&s.jsx("div",{className:"bg-red-50 border-b border-red-200 px-4 py-3",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-2 text-red-800",children:[s.jsx(gr,{className:"w-5 h-5"}),s.jsx("p",{className:"text-sm",children:D}),s.jsx("button",{onClick:()=>r&&Ne(r.accessToken),className:"ml-auto text-sm text-red-600 hover:text-red-700 underline",children:"Retry"})]})}),T&&s.jsx("div",{className:"bg-blue-50 border-b border-blue-200 px-4 py-3",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-2 text-blue-800",children:[s.jsx(fr,{className:"w-5 h-5 animate-pulse"}),s.jsx("p",{className:"text-sm",children:"Loading inventory data..."})]})}),s.jsx("main",{className:"pb-6",children:s.jsx($.Suspense,{fallback:s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"md:hidden",children:s.jsx(iP,{})}),s.jsx("div",{className:"hidden md:block",children:s.jsx(sP,{})})]}),children:t==="sales"?s.jsx(lP,{context:yt,selectedStoreId:J}):t==="inventory"?r.role==="manager"?s.jsx(ML,{context:yt,selectedStoreId:J,employees:me}):s.jsx(s_,{context:yt,selectedStoreId:J}):t==="analytics"?s.jsx(cP,{context:yt,selectedStoreId:J,highlightRequestId:d,onNavigateToManageItems:()=>{console.log(" App.tsx: Changing activeView to inventory-items"),e("inventory-items")}}):t==="export"?s.jsx(uP,{userRole:r.role,selectedStoreId:J,currentUserId:r.email}):t==="backup"?s.jsx(tee,{context:yt}):t==="employees"?s.jsx($Z,{user:{role:r.role,email:r.email,employeeId:r.employeeId,name:r.name,storeId:r.storeId,accessToken:r.accessToken},selectedStoreId:J}):t==="assets"?s.jsx(eee,{context:yt,stores:K,employees:me,onRefreshStores:ot}):t==="production"&&qt?s.jsx(hP,{context:yt,selectedStoreId:J}):t==="stock-requests"?s.jsx(fP,{context:yt,stores:K}):t==="advanced-inventory"?s.jsx(pP,{context:yt,stores:K,onNavigateToManageItems:()=>{console.log(" App.tsx (Manager): Changing activeView to inventory-items"),e("inventory-items")}}):t==="inventory-items"?(console.log(" Rendering InventoryItemsManagement (Manager section):",{activeView:t,isManager:Gr}),s.jsx(mP,{context:yt})):s.jsx(wZ,{context:yt})})})]}),r&&t==="inventory"&&s.jsx(LZ,{context:yt})]})}pR.createRoot(document.getElementById("root")).render(s.jsx(ree,{}));export{s_ as $,jT as A,LP as B,Kr as C,Ir as D,ti as E,lc as F,w5 as G,Rb as H,Lb as I,XP as J,Fb as K,lu as L,ST as M,Dr as N,$b as O,Gd as P,AN as Q,kT as R,Ao as S,ws as T,Ba as U,HR as V,R4 as W,vn as X,Nd as Y,fr as Z,ro as _,T5 as a,dL as a$,NM as a0,Kd as a1,OL as a2,cL as a3,Vl as a4,lL as a5,DT as a6,RT as a7,Y5 as a8,vo as a9,gi as aA,xZ as aB,Pi as aC,bZ as aD,Qa as aE,jf as aF,IN as aG,ER as aH,sf as aI,D5 as aJ,ga as aK,Po as aL,uu as aM,Cb as aN,yP as aO,vP as aP,x5 as aQ,ox as aR,ks as aS,l4 as aT,pa as aU,j5 as aV,S5 as aW,N5 as aX,_5 as aY,k5 as aZ,_o as a_,d4 as aa,Ib as ab,G0 as ac,DL as ad,q5 as ae,R5 as af,L5 as ag,F5 as ah,Sd as ai,Es as aj,B5 as ak,U5 as al,J5 as am,uL as an,Os as ao,X5 as ap,Q5 as aq,G5 as ar,j4 as as,Yv as at,vZ as au,xb as av,Zo as aw,tl as ax,Mn as ay,fi as az,ir as b,gL as b0,yL as b1,ma as b2,mL as b3,pL as b4,hL as b5,W5 as b6,K5 as b7,z5 as b8,H5 as b9,jd as bA,z as ba,Je as bb,it as bc,It as bd,St as be,nt as bf,$f as bg,mt as bh,rG as bi,wa as bj,mn as bk,vu as bl,Ha as bm,ki as bn,or as bo,EW as bp,at as bq,Hw as br,Lf as bs,Df as bt,rW as bu,ON as bv,EN as bw,Ln as bx,Rr as by,nee as bz,We as c,C5 as d,bs as e,fL as f,A5 as g,gr as h,aa as i,s as j,sL as k,oL as l,wT as m,iL as n,eL as o,eh as p,QT as q,$ as r,P5 as s,Jd as t,XT as u,Vd as v,Mr as w,_d as x,aL as y,_T as z};
